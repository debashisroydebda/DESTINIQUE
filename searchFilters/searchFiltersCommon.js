var LZString = {
        _keyStr: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
        _f: String.fromCharCode,
        compressToBase64: function(n) {
            if (n == null) return "";
            var e = "",
                u, i, r, s, h, o, f, t = 0;
            for (n = LZString.compress(n); t < n.length * 2;) t % 2 == 0 ? (u = n.charCodeAt(t / 2) >> 8, i = n.charCodeAt(t / 2) & 255, r = t / 2 + 1 < n.length ? n.charCodeAt(t / 2 + 1) >> 8 : NaN) : (u = n.charCodeAt((t - 1) / 2) & 255, (t + 1) / 2 < n.length ? (i = n.charCodeAt((t + 1) / 2) >> 8, r = n.charCodeAt((t + 1) / 2) & 255) : i = r = NaN), t += 3, s = u >> 2, h = (u & 3) << 4 | i >> 4, o = (i & 15) << 2 | r >> 6, f = r & 63, isNaN(i) ? o = f = 64 : isNaN(r) && (f = 64), e = e + LZString._keyStr.charAt(s) + LZString._keyStr.charAt(h) + LZString._keyStr.charAt(o) + LZString._keyStr.charAt(f);
            return e
        },
        decompressFromBase64: function(n) {
            if (n == null) return "";
            var i = "",
                l = 0,
                t, e, o, s, a, h, r, f, u = 0,
                c = LZString._f;
            for (n = n.replace(/[^A-Za-z0-9\+\/\=]/g, ""); u < n.length;) a = LZString._keyStr.indexOf(n.charAt(u++)), h = LZString._keyStr.indexOf(n.charAt(u++)), r = LZString._keyStr.indexOf(n.charAt(u++)), f = LZString._keyStr.indexOf(n.charAt(u++)), e = a << 2 | h >> 4, o = (h & 15) << 4 | r >> 2, s = (r & 3) << 6 | f, l % 2 == 0 ? (t = e << 8, r != 64 && (i += c(t | o)), f != 64 && (t = s << 8)) : (i = i + c(t | e), r != 64 && (t = o << 8), f != 64 && (i += c(t | s))), l += 3;
            return LZString.decompress(i)
        },
        compressToUTF16: function(n) {
            if (n == null) return "";
            var r = "",
                f, t, i, e = 0,
                u = LZString._f;
            for (n = LZString.compress(n), f = 0; f < n.length; f++) {
                t = n.charCodeAt(f);
                switch (e++) {
                    case 0:
                        r += u((t >> 1) + 32);
                        i = (t & 1) << 14;
                        break;
                    case 1:
                        r += u(i + (t >> 2) + 32);
                        i = (t & 3) << 13;
                        break;
                    case 2:
                        r += u(i + (t >> 3) + 32);
                        i = (t & 7) << 12;
                        break;
                    case 3:
                        r += u(i + (t >> 4) + 32);
                        i = (t & 15) << 11;
                        break;
                    case 4:
                        r += u(i + (t >> 5) + 32);
                        i = (t & 31) << 10;
                        break;
                    case 5:
                        r += u(i + (t >> 6) + 32);
                        i = (t & 63) << 9;
                        break;
                    case 6:
                        r += u(i + (t >> 7) + 32);
                        i = (t & 127) << 8;
                        break;
                    case 7:
                        r += u(i + (t >> 8) + 32);
                        i = (t & 255) << 7;
                        break;
                    case 8:
                        r += u(i + (t >> 9) + 32);
                        i = (t & 511) << 6;
                        break;
                    case 9:
                        r += u(i + (t >> 10) + 32);
                        i = (t & 1023) << 5;
                        break;
                    case 10:
                        r += u(i + (t >> 11) + 32);
                        i = (t & 2047) << 4;
                        break;
                    case 11:
                        r += u(i + (t >> 12) + 32);
                        i = (t & 4095) << 3;
                        break;
                    case 12:
                        r += u(i + (t >> 13) + 32);
                        i = (t & 8191) << 2;
                        break;
                    case 13:
                        r += u(i + (t >> 14) + 32);
                        i = (t & 16383) << 1;
                        break;
                    case 14:
                        r += u(i + (t >> 15) + 32, (t & 32767) + 32);
                        e = 0
                }
            }
            return r + u(i + 32)
        },
        decompressFromUTF16: function(n) {
            if (n == null) return "";
            for (var r = "", i, t, e = 0, f = 0, u = LZString._f; f < n.length;) {
                t = n.charCodeAt(f) - 32;
                switch (e++) {
                    case 0:
                        i = t << 1;
                        break;
                    case 1:
                        r += u(i | t >> 14);
                        i = (t & 16383) << 2;
                        break;
                    case 2:
                        r += u(i | t >> 13);
                        i = (t & 8191) << 3;
                        break;
                    case 3:
                        r += u(i | t >> 12);
                        i = (t & 4095) << 4;
                        break;
                    case 4:
                        r += u(i | t >> 11);
                        i = (t & 2047) << 5;
                        break;
                    case 5:
                        r += u(i | t >> 10);
                        i = (t & 1023) << 6;
                        break;
                    case 6:
                        r += u(i | t >> 9);
                        i = (t & 511) << 7;
                        break;
                    case 7:
                        r += u(i | t >> 8);
                        i = (t & 255) << 8;
                        break;
                    case 8:
                        r += u(i | t >> 7);
                        i = (t & 127) << 9;
                        break;
                    case 9:
                        r += u(i | t >> 6);
                        i = (t & 63) << 10;
                        break;
                    case 10:
                        r += u(i | t >> 5);
                        i = (t & 31) << 11;
                        break;
                    case 11:
                        r += u(i | t >> 4);
                        i = (t & 15) << 12;
                        break;
                    case 12:
                        r += u(i | t >> 3);
                        i = (t & 7) << 13;
                        break;
                    case 13:
                        r += u(i | t >> 2);
                        i = (t & 3) << 14;
                        break;
                    case 14:
                        r += u(i | t >> 1);
                        i = (t & 1) << 15;
                        break;
                    case 15:
                        r += u(i | t);
                        e = 0
                }
                f++
            }
            return LZString.decompress(r)
        },
        compress: function(n) {
            if (n == null) return "";
            for (var u, r, c = {}, a = {}, l = "", v = "", f = "", s = 2, p = 3, e = 2, o = "", t = 0, i = 0, h = LZString._f, y = 0; y < n.length; y += 1)
                if (l = n.charAt(y), Object.prototype.hasOwnProperty.call(c, l) || (c[l] = p++, a[l] = !0), v = f + l, Object.prototype.hasOwnProperty.call(c, v)) f = v;
                else {
                    if (Object.prototype.hasOwnProperty.call(a, f)) {
                        if (f.charCodeAt(0) < 256) {
                            for (u = 0; u < e; u++) t = t << 1, i == 15 ? (i = 0, o += h(t), t = 0) : i++;
                            for (r = f.charCodeAt(0), u = 0; u < 8; u++) t = t << 1 | r & 1, i == 15 ? (i = 0, o += h(t), t = 0) : i++, r = r >> 1
                        } else {
                            for (r = 1, u = 0; u < e; u++) t = t << 1 | r, i == 15 ? (i = 0, o += h(t), t = 0) : i++, r = 0;
                            for (r = f.charCodeAt(0), u = 0; u < 16; u++) t = t << 1 | r & 1, i == 15 ? (i = 0, o += h(t), t = 0) : i++, r = r >> 1
                        }
                        s--;
                        s == 0 && (s = Math.pow(2, e), e++);
                        delete a[f]
                    } else
                        for (r = c[f], u = 0; u < e; u++) t = t << 1 | r & 1, i == 15 ? (i = 0, o += h(t), t = 0) : i++, r = r >> 1;
                    s--;
                    s == 0 && (s = Math.pow(2, e), e++);
                    c[v] = p++;
                    f = String(l)
                }
            if (f !== "") {
                if (Object.prototype.hasOwnProperty.call(a, f)) {
                    if (f.charCodeAt(0) < 256) {
                        for (u = 0; u < e; u++) t = t << 1, i == 15 ? (i = 0, o += h(t), t = 0) : i++;
                        for (r = f.charCodeAt(0), u = 0; u < 8; u++) t = t << 1 | r & 1, i == 15 ? (i = 0, o += h(t), t = 0) : i++, r = r >> 1
                    } else {
                        for (r = 1, u = 0; u < e; u++) t = t << 1 | r, i == 15 ? (i = 0, o += h(t), t = 0) : i++, r = 0;
                        for (r = f.charCodeAt(0), u = 0; u < 16; u++) t = t << 1 | r & 1, i == 15 ? (i = 0, o += h(t), t = 0) : i++, r = r >> 1
                    }
                    s--;
                    s == 0 && (s = Math.pow(2, e), e++);
                    delete a[f]
                } else
                    for (r = c[f], u = 0; u < e; u++) t = t << 1 | r & 1, i == 15 ? (i = 0, o += h(t), t = 0) : i++, r = r >> 1;
                s--;
                s == 0 && (s = Math.pow(2, e), e++)
            }
            for (r = 2, u = 0; u < e; u++) t = t << 1 | r & 1, i == 15 ? (i = 0, o += h(t), t = 0) : i++, r = r >> 1;
            for (;;)
                if (t = t << 1, i == 15) {
                    o += h(t);
                    break
                } else i++;
            return o
        },
        decompress: function(n) {
            if (n == null) return "";
            if (n == "") return null;
            for (var o = [], w, s = 4, h = 4, c = 3, l = "", p = "", a, r, u, f, i, e, v = LZString._f, t = {
                    string: n,
                    val: n.charCodeAt(0),
                    position: 32768,
                    index: 1
                }, y = 0; y < 3; y += 1) o[y] = y;
            for (r = 0, f = Math.pow(2, 2), i = 1; i != f;) u = t.val & t.position, t.position >>= 1, t.position == 0 && (t.position = 32768, t.val = t.string.charCodeAt(t.index++)), r |= (u > 0 ? 1 : 0) * i, i <<= 1;
            switch (w = r) {
                case 0:
                    for (r = 0, f = Math.pow(2, 8), i = 1; i != f;) u = t.val & t.position, t.position >>= 1, t.position == 0 && (t.position = 32768, t.val = t.string.charCodeAt(t.index++)), r |= (u > 0 ? 1 : 0) * i, i <<= 1;
                    e = v(r);
                    break;
                case 1:
                    for (r = 0, f = Math.pow(2, 16), i = 1; i != f;) u = t.val & t.position, t.position >>= 1, t.position == 0 && (t.position = 32768, t.val = t.string.charCodeAt(t.index++)), r |= (u > 0 ? 1 : 0) * i, i <<= 1;
                    e = v(r);
                    break;
                case 2:
                    return ""
            }
            for (o[3] = e, a = p = e;;) {
                if (t.index > t.string.length) return "";
                for (r = 0, f = Math.pow(2, c), i = 1; i != f;) u = t.val & t.position, t.position >>= 1, t.position == 0 && (t.position = 32768, t.val = t.string.charCodeAt(t.index++)), r |= (u > 0 ? 1 : 0) * i, i <<= 1;
                switch (e = r) {
                    case 0:
                        for (r = 0, f = Math.pow(2, 8), i = 1; i != f;) u = t.val & t.position, t.position >>= 1, t.position == 0 && (t.position = 32768, t.val = t.string.charCodeAt(t.index++)), r |= (u > 0 ? 1 : 0) * i, i <<= 1;
                        o[h++] = v(r);
                        e = h - 1;
                        s--;
                        break;
                    case 1:
                        for (r = 0, f = Math.pow(2, 16), i = 1; i != f;) u = t.val & t.position, t.position >>= 1, t.position == 0 && (t.position = 32768, t.val = t.string.charCodeAt(t.index++)), r |= (u > 0 ? 1 : 0) * i, i <<= 1;
                        o[h++] = v(r);
                        e = h - 1;
                        s--;
                        break;
                    case 2:
                        return p
                }
                if (s == 0 && (s = Math.pow(2, c), c++), o[e]) l = o[e];
                else if (e === h) l = a + a.charAt(0);
                else return null;
                p += l;
                o[h++] = a + l.charAt(0);
                s--;
                a = l;
                s == 0 && (s = Math.pow(2, c), c++)
            }
        }
    },
    log4javascript, fakeStorage, ___espfdos_value, ___espfdos, LogPrefixer, initLog, eventService, routingService, authenticationRepository, authenticationService, identityRepository, identityService, prefillingService, favoritesRepository, favoriteService, groupListRepository, groupListService, pageIdentificationRepository, tripsRepository, tripService, essentialsRepository, essentialsService, destinationGuidesRepository, destinationGuidesService, searchService, mix, closeDropDowns, app, pageName;
if (typeof module != "undefined" && module != null && (module.exports = LZString), window.Modernizr = function(n, t, i) {
        function a(n) {
            c.cssText = n
        }

        function vt(n, t) {
            return a(y.join(n + ";") + (t || ""))
        }

        function h(n, t) {
            return typeof n === t
        }

        function v(n, t) {
            return !!~("" + n).indexOf(t)
        }

        function lt(n, t) {
            var u, r;
            for (u in n)
                if (r = n[u], !v(r, "-") && c[r] !== i) return t == "pfx" ? r : !0;
            return !1
        }

        function yt(n, t, r) {
            var f, u;
            for (f in n)
                if (u = t[n[f]], u !== i) return r === !1 ? n[f] : h(u, "function") ? u.bind(r || t) : u;
            return !1
        }

        function f(n, t, i) {
            var r = n.charAt(0).toUpperCase() + n.slice(1),
                u = (n + " " + ot.join(r + " ") + r).split(" ");
            return h(t, "string") || h(t, "undefined") ? lt(u, t) : (u = (n + " " + st.join(r + " ") + r).split(" "), yt(u, t, i))
        }

        function pt() {
            u.input = function(i) {
                for (var r = 0, u = i.length; r < u; r++) w[i[r]] = !!(i[r] in o);
                return w.list && (w.list = !!(t.createElement("datalist") && n.HTMLDataListElement)), w
            }("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));
            u.inputtypes = function(n) {
                for (var u = 0, r, f, e, h = n.length; u < h; u++) o.setAttribute("type", f = n[u]), r = o.type !== "text", r && (o.value = g, o.style.cssText = "position:absolute;visibility:hidden;", /^range$/.test(f) && o.style.WebkitAppearance !== i ? (s.appendChild(o), e = t.defaultView, r = e.getComputedStyle && e.getComputedStyle(o, null).WebkitAppearance !== "textfield" && o.offsetHeight !== 0, s.removeChild(o)) : /^(search|tel)$/.test(f) || (r = /^(url|email)$/.test(f) ? o.checkValidity && o.checkValidity() === !1 : o.value != g)), ht[n[u]] = !!r;
                return ht
            }("search tel url email datetime date month week time datetime-local number range color".split(" "))
        }
        var u = {},
            d = !0,
            s = t.documentElement,
            e = "modernizr",
            ut = t.createElement(e),
            c = ut.style,
            o = t.createElement("input"),
            g = ":)",
            ft = {}.toString,
            y = " -webkit- -moz- -o- -ms- ".split(" "),
            et = "Webkit Moz O ms",
            ot = et.split(" "),
            st = et.toLowerCase().split(" "),
            p = {
                svg: "http://www.w3.org/2000/svg"
            },
            r = {},
            ht = {},
            w = {},
            nt = [],
            tt = nt.slice,
            b, l = function(n, i, r, u) {
                var l, a, c, v, f = t.createElement("div"),
                    h = t.body,
                    o = h || t.createElement("body");
                if (parseInt(r, 10))
                    while (r--) c = t.createElement("div"), c.id = u ? u[r] : e + (r + 1), f.appendChild(c);
                return l = ["&#173;", '<style id="s', e, '">', n, "<\/style>"].join(""), f.id = e, (h ? f : o).innerHTML += l, o.appendChild(f), h || (o.style.background = "", o.style.overflow = "hidden", v = s.style.overflow, s.style.overflow = "hidden", s.appendChild(o)), a = i(f, n), h ? f.parentNode.removeChild(f) : (o.parentNode.removeChild(o), s.style.overflow = v), !!a
            },
            at = function(t) {
                var i = n.matchMedia || n.msMatchMedia,
                    r;
                return i ? i(t) && i(t).matches || !1 : (l("@media " + t + " { #" + e + " { position: absolute; } }", function(t) {
                    r = (n.getComputedStyle ? getComputedStyle(t, null) : t.currentStyle).position == "absolute"
                }), r)
            },
            ct = function() {
                function r(r, u) {
                    u = u || t.createElement(n[r] || "div");
                    r = "on" + r;
                    var f = r in u;
                    return f || (u.setAttribute || (u = t.createElement("div")), u.setAttribute && u.removeAttribute && (u.setAttribute(r, ""), f = h(u[r], "function"), h(u[r], "undefined") || (u[r] = i), u.removeAttribute(r))), u = null, f
                }
                var n = {
                    select: "input",
                    change: "input",
                    submit: "form",
                    reset: "form",
                    error: "img",
                    load: "img",
                    abort: "img"
                };
                return r
            }(),
            it = {}.hasOwnProperty,
            rt, k;
        rt = h(it, "undefined") || h(it.call, "undefined") ? function(n, t) {
            return t in n && h(n.constructor.prototype[t], "undefined")
        } : function(n, t) {
            return it.call(n, t)
        };
        Function.prototype.bind || (Function.prototype.bind = function(n) {
            var t = this,
                i, r;
            if (typeof t != "function") throw new TypeError;
            return i = tt.call(arguments, 1), r = function() {
                var f, e, u;
                return this instanceof r ? (f = function() {}, f.prototype = t.prototype, e = new f, u = t.apply(e, i.concat(tt.call(arguments))), Object(u) === u) ? u : e : t.apply(n, i.concat(tt.call(arguments)))
            }, r
        });
        r.flexbox = function() {
            return f("flexWrap")
        };
        r.flexboxlegacy = function() {
            return f("boxDirection")
        };
        r.canvas = function() {
            var n = t.createElement("canvas");
            return !!(n.getContext && n.getContext("2d"))
        };
        r.canvastext = function() {
            return !!(u.canvas && h(t.createElement("canvas").getContext("2d").fillText, "function"))
        };
        r.webgl = function() {
            return !!n.WebGLRenderingContext
        };
        r.touch = function() {
            var i;
            return "ontouchstart" in n || n.DocumentTouch && t instanceof DocumentTouch ? i = !0 : l(["@media (", y.join("touch-enabled),("), e, ")", "{#modernizr{top:9px;position:absolute}}"].join(""), function(n) {
                i = n.offsetTop === 9
            }), i
        };
        r.geolocation = function() {
            return "geolocation" in navigator
        };
        r.postmessage = function() {
            return !!n.postMessage
        };
        r.websqldatabase = function() {
            return !!n.openDatabase
        };
        r.indexedDB = function() {
            return !!f("indexedDB", n)
        };
        r.hashchange = function() {
            return ct("hashchange", n) && (t.documentMode === i || t.documentMode > 7)
        };
        r.history = function() {
            return !!(n.history && history.pushState)
        };
        r.draganddrop = function() {
            var n = t.createElement("div");
            return "draggable" in n || "ondragstart" in n && "ondrop" in n
        };
        r.websockets = function() {
            return "WebSocket" in n || "MozWebSocket" in n
        };
        r.rgba = function() {
            return a("background-color:rgba(150,255,150,.5)"), v(c.backgroundColor, "rgba")
        };
        r.hsla = function() {
            return a("background-color:hsla(120,40%,100%,.5)"), v(c.backgroundColor, "rgba") || v(c.backgroundColor, "hsla")
        };
        r.multiplebgs = function() {
            return a("background:url(https://),url(https://),red url(https://)"), /(url\s*\(.*?){3}/.test(c.background)
        };
        r.backgroundsize = function() {
            return f("backgroundSize")
        };
        r.borderimage = function() {
            return f("borderImage")
        };
        r.borderradius = function() {
            return f("borderRadius")
        };
        r.boxshadow = function() {
            return f("boxShadow")
        };
        r.textshadow = function() {
            return t.createElement("div").style.textShadow === ""
        };
        r.opacity = function() {
            return vt("opacity:.55"), /^0.55$/.test(c.opacity)
        };
        r.cssanimations = function() {
            return f("animationName")
        };
        r.csscolumns = function() {
            return f("columnCount")
        };
        r.cssgradients = function() {
            var n = "background-image:";
            return a((n + "-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));" + n) + y.join("linear-gradient(left top,#9f9, white);" + n)).slice(0, -n.length)), v(c.backgroundImage, "gradient")
        };
        r.cssreflections = function() {
            return f("boxReflect")
        };
        r.csstransforms = function() {
            return !!f("transform")
        };
        r.csstransforms3d = function() {
            var n = !!f("perspective");
            return n && "webkitPerspective" in s.style && l("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}", function(t) {
                n = t.offsetLeft === 9 && t.offsetHeight === 3
            }), n
        };
        r.csstransitions = function() {
            return f("transition")
        };
        r.fontface = function() {
            var n;
            return l('@font-face {font-family:"font";src:url("https://")}', function(i, r) {
                var f = t.getElementById("smodernizr"),
                    u = f.sheet || f.styleSheet,
                    e = u ? u.cssRules && u.cssRules[0] ? u.cssRules[0].cssText : u.cssText || "" : "";
                n = /src/i.test(e) && e.indexOf(r.split(" ")[0]) === 0
            }), n
        };
        r.generatedcontent = function() {
            var n;
            return l(["#", e, "{font:0/0 a}#", e, ':after{content:"', g, '";visibility:hidden;font:3px/1 a}'].join(""), function(t) {
                n = t.offsetHeight >= 3
            }), n
        };
        r.video = function() {
            var i = t.createElement("video"),
                n = !1;
            try {
                (n = !!i.canPlayType) && (n = new Boolean(n), n.ogg = i.canPlayType('video/ogg; codecs="theora"').replace(/^no$/, ""), n.h264 = i.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/, ""), n.webm = i.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/, ""))
            } catch (r) {}
            return n
        };
        r.audio = function() {
            var i = t.createElement("audio"),
                n = !1;
            try {
                (n = !!i.canPlayType) && (n = new Boolean(n), n.ogg = i.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""), n.mp3 = i.canPlayType("audio/mpeg;").replace(/^no$/, ""), n.wav = i.canPlayType('audio/wav; codecs="1"').replace(/^no$/, ""), n.m4a = (i.canPlayType("audio/x-m4a;") || i.canPlayType("audio/aac;")).replace(/^no$/, ""))
            } catch (r) {}
            return n
        };
        r.localstorage = function() {
            try {
                return localStorage.setItem(e, e), localStorage.removeItem(e), !0
            } catch (n) {
                return !1
            }
        };
        r.sessionstorage = function() {
            try {
                return sessionStorage.setItem(e, e), sessionStorage.removeItem(e), !0
            } catch (n) {
                return !1
            }
        };
        r.webworkers = function() {
            return !!n.Worker
        };
        r.applicationcache = function() {
            return !!n.applicationCache
        };
        r.svg = function() {
            return !!t.createElementNS && !!t.createElementNS(p.svg, "svg").createSVGRect
        };
        r.inlinesvg = function() {
            var n = t.createElement("div");
            return n.innerHTML = "<svg/>", (n.firstChild && n.firstChild.namespaceURI) == p.svg
        };
        r.smil = function() {
            return !!t.createElementNS && /SVGAnimate/.test(ft.call(t.createElementNS(p.svg, "animate")))
        };
        r.svgclippaths = function() {
            return !!t.createElementNS && /SVGClipPath/.test(ft.call(t.createElementNS(p.svg, "clipPath")))
        };
        for (k in r) rt(r, k) && (b = k.toLowerCase(), u[b] = r[k](), nt.push((u[b] ? "" : "no-") + b));
        return u.input || pt(), u.addTest = function(n, t) {
                if (typeof n == "object")
                    for (var r in n) rt(n, r) && u.addTest(r, n[r]);
                else {
                    if (n = n.toLowerCase(), u[n] !== i) return u;
                    t = typeof t == "function" ? t() : t;
                    typeof d != "undefined" && d && (s.className += " " + (t ? "" : "no-") + n);
                    u[n] = t
                }
                return u
            }, a(""), ut = o = null,
            function(n, t) {
                function p(n, t) {
                    var i = n.createElement("p"),
                        r = n.getElementsByTagName("head")[0] || n.documentElement;
                    return i.innerHTML = "x<style>" + t + "<\/style>", r.insertBefore(i.lastChild, r.firstChild)
                }

                function c() {
                    var n = r.elements;
                    return typeof n == "string" ? n.split(" ") : n
                }

                function o(n) {
                    var t = h[n[s]];
                    return t || (t = {}, e++, n[s] = e, h[e] = t), t
                }

                function l(n, r, u) {
                    if (r || (r = t), i) return r.createElement(n);
                    u || (u = o(r));
                    var f;
                    return f = u.cache[n] ? u.cache[n].cloneNode() : y.test(n) ? (u.cache[n] = u.createElem(n)).cloneNode() : u.createElem(n), f.canHaveChildren && !v.test(n) && !f.tagUrn ? u.frag.appendChild(f) : f
                }

                function w(n, r) {
                    if (n || (n = t), i) return n.createDocumentFragment();
                    r = r || o(n);
                    for (var f = r.frag.cloneNode(), u = 0, e = c(), s = e.length; u < s; u++) f.createElement(e[u]);
                    return f
                }

                function b(n, t) {
                    t.cache || (t.cache = {}, t.createElem = n.createElement, t.createFrag = n.createDocumentFragment, t.frag = t.createFrag());
                    n.createElement = function(i) {
                        return r.shivMethods ? l(i, n, t) : t.createElem(i)
                    };
                    n.createDocumentFragment = Function("h,f", "return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&(" + c().join().replace(/[\w\-]+/g, function(n) {
                        return t.createElem(n), t.frag.createElement(n), 'c("' + n + '")'
                    }) + ");return n}")(r, t.frag)
                }

                function a(n) {
                    n || (n = t);
                    var u = o(n);
                    return !r.shivCSS || f || u.hasCSS || (u.hasCSS = !!p(n, "article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")), i || b(n, u), n
                }
                var u = n.html5 || {},
                    v = /^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,
                    y = /^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,
                    f, s = "_html5shiv",
                    e = 0,
                    h = {},
                    i, r;
                (function() {
                    try {
                        var n = t.createElement("a");
                        n.innerHTML = "<xyz><\/xyz>";
                        f = "hidden" in n;
                        i = n.childNodes.length == 1 || function() {
                            t.createElement("a");
                            var n = t.createDocumentFragment();
                            return typeof n.cloneNode == "undefined" || typeof n.createDocumentFragment == "undefined" || typeof n.createElement == "undefined"
                        }()
                    } catch (r) {
                        f = !0;
                        i = !0
                    }
                })();
                r = {
                    elements: u.elements || "abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",
                    version: "3.7.0",
                    shivCSS: u.shivCSS !== !1,
                    supportsUnknownElements: i,
                    shivMethods: u.shivMethods !== !1,
                    type: "default",
                    shivDocument: a,
                    createElement: l,
                    createDocumentFragment: w
                };
                n.html5 = r;
                a(t)
            }(this, t), u._version = "2.8.3", u._prefixes = y, u._domPrefixes = st, u._cssomPrefixes = ot, u.mq = at, u.hasEvent = ct, u.testProp = function(n) {
                return lt([n])
            }, u.testAllProps = f, u.testStyles = l, u.prefixed = function(n, t, i) {
                return t ? f(n, t, i) : f(n, "pfx")
            }, s.className = s.className.replace(/(^|\s)no-js(\s|$)/, "$1$2") + (d ? " js " + nt.join(" ") : ""), u
    }(this, this.document), window.Typekit || (window.Typekit = {}), window.Typekit.config = {
        a: "2741344",
        c: [".tk-proxima-nova", '"proxima-nova",sans-serif', ".tk-brandon-grotesque", '"brandon-grotesque",sans-serif'],
        dl: "AAAAggAAAAr+Aez0+Y+/jojHK0EIM8/0AAAAAQ==",
        f: "//use.typekit.net/c/59a10e/1w;brandon-grotesque,7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191,Y2m:W:i4,Y2g:W:n1,Y2j:W:n3,Y2l:W:n4,Y2q:W:n7;proxima-nova,7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191,2clzCG:W:i4,2clzC6:W:i7,2clzCF:W:n4,2clzC5:W:n7/{format}{/extras*}",
        fc: [{
            family: "proxima-nova",
            src: "//use.typekit.net/af/03034e/00000000000000003b9ad1b1/27/{format}?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n7",
            weight: "700",
            style: "normal"
        }, {
            family: "proxima-nova",
            src: "//use.typekit.net/af/5a684a/00000000000000003b9ad1b2/27/{format}?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=i7",
            weight: "700",
            style: "italic"
        }, {
            family: "proxima-nova",
            src: "//use.typekit.net/af/edab9a/00000000000000003b9ad1b9/27/{format}?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n4",
            weight: "400",
            style: "normal"
        }, {
            family: "proxima-nova",
            src: "//use.typekit.net/af/1b9fb4/00000000000000003b9ad1ba/27/{format}?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=i4",
            weight: "400",
            style: "italic"
        }, {
            family: "brandon-grotesque",
            src: "//use.typekit.net/af/87035b/0000000000000000000132df/27/{format}?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n4",
            weight: "400",
            style: "normal"
        }, {
            family: "brandon-grotesque",
            src: "//use.typekit.net/af/3a9a0a/0000000000000000000132e0/27/{format}?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=i4",
            weight: "400",
            style: "italic"
        }, {
            family: "brandon-grotesque",
            src: "//use.typekit.net/af/37f12c/0000000000000000000132e3/27/{format}?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n7",
            weight: "700",
            style: "normal"
        }, {
            family: "brandon-grotesque",
            src: "//use.typekit.net/af/f70b8d/0000000000000000000132db/27/{format}?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n1",
            weight: "100",
            style: "normal"
        }, {
            family: "brandon-grotesque",
            src: "//use.typekit.net/af/b24438/0000000000000000000132dd/27/{format}?primer=7cdcb44be4a7db8877ffa5c0007b8dd865b3bbc383831fe2ea177f62257a9191&fvd=n3",
            weight: "300",
            style: "normal"
        }],
        fi: [139, 140, 175, 176, 10294, 10295, 10296, 10298, 10300],
        fn: ["brandon-grotesque", ["i4", "n1", "n3", "n4", "n7"], "proxima-nova", ["i4", "i7", "n4", "n7"]],
        hn: "use.typekit.net",
        ht: "tk",
        js: "1.14.14",
        kt: "gfl5hea",
        l: "typekit",
        p: "p.typekit.net",
        ps: 1
    }, function(n, t) {
        function af(n) {
            return n.call.apply(n.bind, arguments)
        }

        function vf(n, t) {
            if (!n) throw Error();
            if (2 < arguments.length) {
                var i = Array.prototype.slice.call(arguments, 2);
                return function() {
                    var r = Array.prototype.slice.call(arguments);
                    return Array.prototype.unshift.apply(r, i), n.apply(t, r)
                }
            }
            return function() {
                return n.apply(t, arguments)
            }
        }

        function b() {
            return b = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? af : vf, b.apply(null, arguments)
        }

        function pr() {
            this.P = this.R = this.I = this.N = this.O = !0
        }

        function yf() {
            var n = [{
                name: "font-family",
                value: r.c[y + 1]
            }];
            this.g = [r.c[y]];
            this.b = n
        }

        function pf(n) {
            for (var i, u = n.g.join(","), r = [], t = 0; t < n.b.length; t++) i = n.b[t], r.push(i.name + ":" + i.value + ";");
            return u + "{" + r.join("") + "}"
        }

        function ci(n) {
            this.b = n
        }

        function wr(n, t) {
            this.g = n;
            this.b = t
        }

        function br(n, t) {
            this.b = n;
            this.g = t
        }

        function kr(n) {
            this.b = n
        }

        function wf(n, t) {
            return t
        }

        function li() {
            this.b = this.g = -1
        }

        function bf(n, t, i) {
            return k[t](n, t, i)
        }

        function lt(n) {
            this.b = n
        }

        function kf(n, t) {
            for (var r = [], i = 0; i < t.length; i++) r.push(t[i].toString());
            return {
                format: n,
                extras: r
            }
        }

        function dr(n) {
            var t = new Image(1, 1),
                i = !1;
            t.src = n;
            t.onload = function() {
                i = !0;
                t.onload = null
            };
            setTimeout(function() {
                i || (t.src = "about:blank", t.onload = null)
            }, 3e3)
        }

        function c(n, t, i, r, u, f, e) {
            this.b = n;
            this.B = t;
            this.F = i;
            this.D = r;
            this.v = u;
            this.o = f;
            this.M = e
        }

        function i(n, t, i, r) {
            this.b = null != n ? n : null;
            this.g = null != t ? t : null;
            this.h = null != i ? i : null;
            this.s = null != r ? r : null
        }

        function g(n, t) {
            return n.b > t.b || n.b === t.b && n.g > t.g || n.b === t.b && n.g === t.g && n.h > t.h ? 1 : n.b < t.b || n.b === t.b && n.g < t.g || n.b === t.b && n.g === t.g && n.h < t.h ? -1 : 0
        }

        function ft(n, t) {
            return -1 === g(n, t)
        }

        function f(n, t) {
            return 0 === g(n, t) || 1 === g(n, t)
        }

        function vi(n, t) {
            return 0 === g(n, t) || -1 === g(n, t)
        }

        function bt(n, t) {
            return 0 === g(n, t)
        }

        function e(n) {
            n = gr.exec(n);
            var t = null,
                r = null,
                u = null,
                f = null;
            return n && (null !== n[1] && n[1] && (t = parseInt(n[1], 10)), null !== n[2] && n[2] && (r = parseInt(n[2], 10)), null !== n[3] && n[3] && (u = parseInt(n[3], 10)), null !== n[4] && n[4] && (f = /^[0-9]+$/.test(n[4]) ? parseInt(n[4], 10) : n[4])), new i(t, r, u, f)
        }

        function nu(n) {
            return "Safari" === n.getName() && "AppleWebKit" === n.F || "Unknown" === n.getName() && "AppleWebKit" === n.F && ("iPhone" === n.v || "iPad" === n.v || "iPod" === n.v)
        }

        function tu(n) {
            return "Chrome" === n.getName() && f(n.B, new i(6)) && vi(n.B, new i(35))
        }

        function yi(n) {
            return "Chrome" === n.getName() && f(n.B, new i(36))
        }

        function pi(n) {
            return "BuiltinBrowser" === n.getName()
        }

        function et(n) {
            return "Windows" === n.v
        }

        function wi(n) {
            return et(n) && f(n.o, new i(6, 1))
        }

        function p(n) {
            return et(n) && bt(n.o, new i(5, 1)) || et(n) && bt(n.o, new i(5, 2)) || et(n) && bt(n.o, new i(6, 0)) || wi(n)
        }

        function l(n) {
            return "Macintosh" === n.v && (f(n.o, new i(10, 4)) || null === n.o.b)
        }

        function bi(n, t) {
            return t.O && ("iPhone" === n.v || "iPod" === n.v) && f(n.o, new i(4, 2)) && ft(n.o, new i(5))
        }

        function ki(n, t) {
            return t.O && ("iPhone" === n.v || "iPod" === n.v) && f(n.o, new i(5))
        }

        function di(n, t) {
            return t.N && "iPad" === n.v && f(n.o, new i(4, 2)) && ft(n.o, new i(5))
        }

        function gi(n, t) {
            return t.N && "iPad" === n.v && f(n.o, new i(5))
        }

        function a(n, t) {
            return t.I && "Android" === n.v
        }

        function iu(n, t) {
            return a(n, t) && f(n.o, new i(2, 2)) && ft(n.o, new i(3, 1))
        }

        function ru(n, t) {
            return a(n, t) && f(n.o, new i(3, 1)) && ft(n.o, new i(4, 1))
        }

        function w(n) {
            return "Linux" === n.v || "Ubuntu" === n.v
        }

        function d(n) {
            var t = u(n.b, /(iPod|iPad|iPhone|Android|Windows Phone|BB\d{2}|BlackBerry)/, 1);
            return "" !== t ? (/BB\d{2}/.test(t) && (t = "BlackBerry"), t) : (n = u(n.b, /(Linux|Mac_PowerPC|Macintosh|Windows|CrOS|PlayStation|CrKey)/, 1), "" !== n ? ("Mac_PowerPC" == n ? n = "Macintosh" : "PlayStation" == n && (n = "Linux"), n) : "Unknown")
        }

        function vt(n) {
            var t = u(n.b, /(OS X|Windows NT|Android) ([^;)]+)/, 2),
                i;
            if (t || (t = u(n.b, /Windows Phone( OS)? ([^;)]+)/, 2)) || (t = u(n.b, /(iPhone )?OS ([\d_]+)/, 2))) return t;
            if (t = u(n.b, /(?:Linux|CrOS|CrKey) ([^;)]+)/, 1))
                for (t = t.split(/\s/), i = 0; i < t.length; i += 1)
                    if (/^[\d\._]+$/.test(t[i])) return t[i];
            return (n = u(n.b, /(BB\d{2}|BlackBerry).*?Version\/([^\s]*)/, 2)) ? n : "Unknown"
        }

        function df() {
            var n = s,
                r = "Unknown",
                f = e(u(n.b, /Presto\/([\d\w\.]+)/, 1)),
                o = e(vt(n)),
                h = yt(n.g),
                t;
            return (null !== f.b ? r = "Presto" : (-1 != n.b.indexOf("Gecko") && (r = "Gecko"), f = e(u(n.b, /rv:([^\)]+)/, 1))), -1 != n.b.indexOf("Opera Mini/")) ? (t = e(u(n.b, /Opera Mini\/([\d\.]+)/, 1)), new c("OperaMini", t, r, f, d(n), o, h)) : -1 != n.b.indexOf("Version/") && (t = e(u(n.b, /Version\/([\d\.]+)/, 1)), null !== t.b) ? new c("Opera", t, r, f, d(n), o, h) : (t = e(u(n.b, /Opera[\/ ]([\d\.]+)/, 1)), null !== t.b ? new c("Opera", t, r, f, d(n), o, h) : new c("Opera", new i, r, f, d(n), o, h))
        }

        function fu() {
            var n = s,
                f = d(n),
                o = e(vt(n)),
                h = e(u(n.b, /AppleWeb(?:K|k)it\/([\d\.\+]+)/, 1)),
                t = "Unknown",
                r = new i,
                r = "Unknown";
            return /OPR\/[\d.]+/.test(n.b) ? t = "Opera" : -1 != n.b.indexOf("Chrome") || -1 != n.b.indexOf("CrMo") || -1 != n.b.indexOf("CriOS") ? t = "Chrome" : /Silk\/\d/.test(n.b) ? t = "Silk" : "BlackBerry" == f || "Android" == f ? t = "BuiltinBrowser" : -1 != n.b.indexOf("PhantomJS") ? t = "PhantomJS" : -1 != n.b.indexOf("Safari") ? t = "Safari" : -1 != n.b.indexOf("AdobeAIR") ? t = "AdobeAIR" : -1 != n.b.indexOf("PlayStation") && (t = "BuiltinBrowser"), "BuiltinBrowser" == t ? r = "Unknown" : "Silk" == t ? r = u(n.b, /Silk\/([\d\._]+)/, 1) : "Chrome" == t ? r = u(n.b, /(Chrome|CrMo|CriOS)\/([\d\.]+)/, 2) : -1 != n.b.indexOf("Version/") ? r = u(n.b, /Version\/([\d\.\w]+)/, 1) : "AdobeAIR" == t ? r = u(n.b, /AdobeAIR\/([\d\.]+)/, 1) : "Opera" == t ? r = u(n.b, /OPR\/([\d.]+)/, 1) : "PhantomJS" == t && (r = u(n.b, /PhantomJS\/([\d.]+)/, 1)), r = e(r), new c(t, r, "AppleWebKit", h, f, o, yt(n.g))
        }

        function u(n, t, i) {
            return (n = n.match(t)) && n[i] ? n[i] : ""
        }

        function yt(n) {
            if (n.documentMode) return n.documentMode
        }

        function eu(n) {
            this.b = n || "-"
        }

        function kt(n, t, i, r) {
            if (t = n.b.createElement(t), i)
                for (var u in i) i.hasOwnProperty(u) && ("style" == u ? t.style.cssText = i[u] : t.setAttribute(u, i[u]));
            return r && t.appendChild(n.b.createTextNode(r)), t
        }

        function nr(n, i, r) {
            n = n.b.getElementsByTagName(i)[0];
            n || (n = t.documentElement);
            n.insertBefore(r, n.lastChild)
        }

        function gf(n, t) {
            n.b.body ? t() : n.b.addEventListener ? n.b.addEventListener("DOMContentLoaded", t) : n.b.attachEvent("onreadystatechange", function() {
                "interactive" != n.b.readyState && "complete" != n.b.readyState || t()
            })
        }

        function dt(n) {
            n.parentNode && n.parentNode.removeChild(n)
        }

        function ot(n, t, i) {
            var f, r, e, u;
            for (t = t || [], i = i || [], f = n.className.split(/\s+/), r = 0; r < t.length; r += 1) {
                for (e = !1, u = 0; u < f.length; u += 1)
                    if (t[r] === f[u]) {
                        e = !0;
                        break
                    }
                e || f.push(t[r])
            }
            for (t = [], r = 0; r < f.length; r += 1) {
                for (e = !1, u = 0; u < i.length; u += 1)
                    if (f[r] === i[u]) {
                        e = !0;
                        break
                    }
                e || t.push(f[r])
            }
            n.className = t.join(" ").replace(/\s+/g, " ").replace(/^\s+|\s+$/, "")
        }

        function su(n, t) {
            for (var r = n.className.split(/\s+/), i = 0, u = r.length; i < u; i++)
                if (r[i] == t) return !0;
            return !1
        }

        function ne(n) {
            if ("string" == typeof n.m) return n.m;
            var t = n.g.location.protocol;
            return "about:" == t && (t = n.h.location.protocol), "https:" == t ? "https:" : "http:"
        }

        function hu(n) {
            return n.g.location.hostname || n.h.location.hostname
        }

        function te(n, t, i, r) {
            function f() {
                s && o && l && (s(a), s = null)
            }

            function h(n) {
                for (var i = 0; i < u.length; i++)
                    if (u[i].href && -1 !== u[i].href.indexOf(t)) {
                        n();
                        return
                    }
                setTimeout(function() {
                    h(n)
                }, 0)
            }

            function c(n) {
                for (var r, i = 0; i < u.length; i++)
                    if (u[i].href && -1 !== u[i].href.indexOf(t) && u[i].media && (r = u[i].media, "all" === r || r.mediaText && "all" === r.mediaText)) {
                        n();
                        return
                    }
                setTimeout(function() {
                    c(n)
                }, 0)
            }
            var e = kt(n, "link", {
                    rel: "stylesheet",
                    href: t,
                    media: r ? "only x" : "all"
                }),
                u = n.b.styleSheets,
                o = !1,
                l = !r,
                a = null,
                s = i || null;
            ou ? (e.onload = function() {
                o = !0;
                f()
            }, e.onerror = function() {
                o = !0;
                a = Error("Stylesheet failed to load");
                f()
            }) : setTimeout(function() {
                o = !0;
                f()
            }, 0);
            nr(n, "head", e);
            r && h(function() {
                e.media = "all";
                c(function() {
                    l = !0;
                    f()
                })
            })
        }

        function ie(n, t, i) {
            var f = n.b.getElementsByTagName("head")[0],
                r, u;
            f && (r = kt(n, "script", {
                src: t
            }), u = !1, r.onload = r.onreadystatechange = function() {
                u || this.readyState && "loaded" != this.readyState && "complete" != this.readyState || (u = !0, i && i(null), r.onload = r.onreadystatechange = null, "HEAD" == r.parentNode.tagName && f.removeChild(r))
            }, f.appendChild(r), setTimeout(function() {
                u || (u = !0, i && i(Error("Script load timeout")))
            }, 5e3))
        }

        function cu(n, t) {
            this.b = n;
            this.h = n.g.document.documentElement;
            this.u = t;
            this.g = new eu("-");
            this.w = !1 !== t.events;
            this.m = !1 !== t.classes
        }

        function gt(n) {
            if (n.m) {
                var i = su(n.h, n.g.s("wf", "active")),
                    t = [],
                    r = [n.g.s("wf", "loading")];
                i || t.push(n.g.s("wf", "inactive"));
                ot(n.h, t, r)
            }
            st(n, "inactive")
        }

        function st(n, t, i) {
            n.w && n.u[t] && (i ? n.u[t](i.getName(), h(i)) : n.u[t]())
        }

        function nt(n, t) {
            this.h = n;
            this.g = 4;
            this.b = "n";
            var i = (t || "n4").match(/^([nio])([1-9])$/i);
            i && (this.b = i[1], this.g = parseInt(i[2], 10))
        }

        function re(n) {
            return au(n) + " " + (n.g + "00") + " 300px " + lu(n.h)
        }

        function lu(n) {
            var r = [],
                i, t;
            for (n = n.split(/,\s*/), i = 0; i < n.length; i++) t = n[i].replace(/['"]/g, ""), -1 != t.indexOf(" ") || /^\d/.test(t) ? r.push("'" + t + "'") : r.push(t);
            return r.join(",")
        }

        function h(n) {
            return n.b + n.g
        }

        function au(n) {
            var t = "normal";
            return "o" === n.b ? t = "oblique" : "i" === n.b && (t = "italic"), t
        }

        function vu(n, t) {
            this.b = n;
            this.m = t;
            this.h = {};
            this.g = {}
        }

        function ue(n, t, i) {
            for (var e = [], h = n.b.split(",")[0].replace(/"|'/g, ""), o = n.G(), r, u = [], s = {}, f = 0; f < o.length; f++) r = o[f], 0 < r.length && !s[r] && (s[r] = !0, u.push(r));
            i = i.b ? i.b(h, u, e) : u;
            n.h[t] = i;
            n.g[t] = e
        }

        function fe(n, t) {
            for (var o, u, r = n.G(t), f = n.g[t] || [], e = [], i = 0; i < r.length; i++) e.push(new nt(n.b, r[i]));
            for (i = 0; i < f.length; i++)
                if (r = f[i].b, r !== n.b)
                    for (o = f[i].G(), u = 0; u < o.length; u++) e.push(new nt(r, o[u]));
            return e
        }

        function ni(n, t) {
            this.b = n;
            this.h = t;
            this.g = kt(this.b, "span", {
                "aria-hidden": "true"
            }, this.h)
        }

        function ti(n) {
            nr(n.b, "body", n.g)
        }

        function ii(n) {
            return "display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:" + lu(n.h) + ";" + ("font-style:" + au(n) + ";font-weight:" + (n.g + "00") + ";")
        }

        function yu(n, t, i, r, u, f, e) {
            this.H = n;
            this.L = t;
            this.b = i;
            this.g = r;
            this.C = e || "BESbswy";
            this.h = {};
            this.S = u || 3e3;
            this.J = f || null;
            this.A = this.w = this.u = this.m = null;
            this.m = new ni(this.b, this.C);
            this.u = new ni(this.b, this.C);
            this.w = new ni(this.b, this.C);
            this.A = new ni(this.b, this.C);
            n = new nt(this.g.getName() + ",serif", h(this.g));
            n = ii(n);
            this.m.g.style.cssText = n;
            n = new nt(this.g.getName() + ",sans-serif", h(this.g));
            n = ii(n);
            this.u.g.style.cssText = n;
            n = new nt("serif", h(this.g));
            n = ii(n);
            this.w.g.style.cssText = n;
            n = new nt("sans-serif", h(this.g));
            n = ii(n);
            this.A.g.style.cssText = n;
            ti(this.m);
            ti(this.u);
            ti(this.w);
            ti(this.A)
        }

        function pu() {
            if (null === ri) {
                var t = /AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(n.navigator.userAgent);
                ri = !!t && (536 > parseInt(t[1], 10) || 536 === parseInt(t[1], 10) && 11 >= parseInt(t[2], 10))
            }
            return ri
        }

        function wu(n, t, i) {
            for (var r in pt)
                if (pt.hasOwnProperty(r) && t === n.h[pt[r]] && i === n.h[pt[r]]) return !0;
            return !1
        }

        function bu(n) {
            var t = n.m.g.offsetWidth,
                i = n.u.g.offsetWidth,
                r;
            (r = t === n.h.serif && i === n.h["sans-serif"]) || (r = pu() && wu(n, t, i));
            r ? ht() - n.K >= n.S ? pu() && wu(n, t, i) && (null === n.J || n.J.hasOwnProperty(n.g.getName())) ? tr(n, n.H) : tr(n, n.L) : ee(n) : tr(n, n.H)
        }

        function ee(n) {
            setTimeout(b(function() {
                bu(this)
            }, n), 50)
        }

        function tr(n, t) {
            setTimeout(b(function() {
                dt(this.m.g);
                dt(this.u.g);
                dt(this.w.g);
                dt(this.A.g);
                t(this.g)
            }, n), 0)
        }

        function ku(n, t, i, r, u, f) {
            this.m = n;
            this.w = t;
            this.g = r;
            this.b = i;
            this.h = u || 3e3;
            this.u = f || void 0
        }

        function ir(n, t, i) {
            this.b = n;
            this.g = t;
            this.h = 0;
            this.A = this.w = !1;
            this.C = i
        }

        function du(n) {
            0 == --n.h && n.w && (n.A ? (n = n.g, n.m && ot(n.h, [n.g.s("wf", "active")], [n.g.s("wf", "loading"), n.g.s("wf", "inactive")]), st(n, "active")) : gt(n.g))
        }

        function rr(n, t) {
            this.m = n;
            this.b = t;
            this.g = []
        }

        function oe(n, t, i) {
            t = n.m.s({
                id: encodeURIComponent(t)
            });
            ie(n.b, t, i)
        }

        function gu(n, t) {
            if (0 !== n.g.length) {
                for (var i = new cu(n.b, t), r = !1, u = 0; u < n.g.length; u++) n.g[u].init(), r = r || n.g[u].supportsConfiguredBrowser();
                if (r)
                    for (i.m && ot(i.h, [i.g.s("wf", "loading")]), st(i, "loading"), i = 0; i < n.g.length; i++) r = n.g[i], r.supportsConfiguredBrowser() && r.load(null, i == n.g.length - 1, t);
                else gt(i);
                n.g = []
            }
        }

        function se() {
            this.g = 0;
            this.b = null
        }

        function he(n) {
            return n.g++,
                function() {
                    n.g--;
                    nf(n)
                }
        }

        function ce(n, t) {
            n.b = t;
            nf(n)
        }

        function nf(n) {
            0 == n.g && n.b && (n.b(), n.b = null)
        }

        function le(n, t) {
            if (this.b = t || Array(Math.ceil(n / 32)), !t)
                for (var i = 0; i < this.b.length; i++) this.b[i] = 0
        }

        function v(n, t) {
            return (n & 65535) * t + (((n >>> 16) * t & 65535) << 16)
        }

        function ae(n, t, i) {
            this.b = n;
            this.h = t;
            this.g = new le(n, i)
        }

        function fi(n, t) {
            var e, f, i;
            if ("string" != typeof t && "number" != typeof t) throw Error("Value should be a string or number.");
            for (e = "number" == typeof t, f = 0; f < n.h; f++) {
                if (i = 0, e) var i = ur[f] || 0,
                    r = t & 4294967295,
                    r = v(r, 3432918353),
                    r = r << 15 | r >>> 17,
                    r = v(r, 461845907),
                    i = i ^ r,
                    i = i << 13 | i >>> 19,
                    i = v(i, 5) + 3864292196,
                    i = i ^ 4;
                else {
                    for (var i = ur[f] || 0, u = r = 0, o = t.length % 4, s = t.length - o, u = 0; u < s; u += 4) r = (t.charCodeAt(u + 0) & 4294967295) << 0 | (t.charCodeAt(u + 1) & 4294967295) << 8 | (t.charCodeAt(u + 2) & 4294967295) << 16 | (t.charCodeAt(u + 3) & 4294967295) << 24, r = v(r, 3432918353), r = r << 15 | r >>> 17, r = v(r, 461845907), i ^= r, i = i << 13 | i >>> 19, i = v(i, 5) + 3864292196;
                    r = 0;
                    switch (o) {
                        case 3:
                            r ^= (t.charCodeAt(u + 2) & 4294967295) << 16;
                        case 2:
                            r ^= (t.charCodeAt(u + 1) & 4294967295) << 8;
                        case 1:
                            r ^= (t.charCodeAt(u + 0) & 4294967295) << 0;
                            r = v(r, 3432918353);
                            r = r << 15 | r >>> 17;
                            r = v(r, 461845907);
                            i ^= r
                    }
                    i ^= t.length
                }
                if (i ^= i >>> 16, i = v(i, 2246822507), i ^= i >>> 13, i = v(i, 3266489909), i ^= i >>> 16, i = (i >>> 0) % n.b, r = n.g, Math.floor(i / 32 + 1) > r.b.length) throw Error("Index is out of bounds.");
                if (u = Math.floor(i / 32), !(r.b[u] & 1 << i - 32 * u)) return !1
            }
            return !0
        }

        function ve() {
            var t;
            if (t = hf, n.atob) t = n.atob(t);
            else {
                if (t = t.replace(/=+$/, ""), 1 == t.length % 4) throw Error("'atob' failed: The string to be decoded is not correctly encoded.");
                for (var i = 0, r, u, e = 0, f = ""; u = t.charAt(e++); ~u && (r = i % 4 ? 64 * r + u : u, i++ % 4) ? f += String.fromCharCode(255 & r >> (-2 * i & 6)) : 0) u = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(u);
                t = f
            }
            for (r = [], i = 0; i < t.length; i += 4) r.push(t.charCodeAt(i) << 24 | t.charCodeAt(i + 1) << 16 | t.charCodeAt(i + 2) << 8 | t.charCodeAt(i + 3) << 0);
            t = r.shift();
            i = r.shift();
            this.b = new ae(t, i, r)
        }

        function ye(n, t) {
            var i, r, u;
            if ("" === t) return !0;
            for (i = t.split("."); 0 !== i.length;) {
                if (r = i.join("."), u = "*." + r, fi(n.b, r) || fi(n.b, u) || fi(n.b, encodeURIComponent(r)) || fi(n.b, encodeURIComponent(u))) return !0;
                i.shift()
            }
            return !1
        }

        function ei(n) {
            this.b = n;
            this.g = "x";
            this.A = this.L = null;
            this.h = [];
            this.m = [];
            this.H = this.J = this.u = null;
            this.C = !1;
            this.w = null
        }
        var ht, ct, k, ai, gr, at, uu, ou, pt, ri, ui, ur, tf, s, fr, sr, hr, cr, lr, ar, of, yr, wt, sf, rt, o, r, hf, y, si, ut;
        if (!t.querySelector) {
            t.documentElement.className += " wf-inactive";
            return
        }
        if (ht = Date.now || function() {
                return +new Date
            }, ci.prototype.toString = function() {
                return encodeURIComponent(hu(this.b))
            }, wr.prototype.toString = function() {
                for (var r, n = [], i = 0; i < this.b.length; i++)
                    for (var u = this.b[i], t = u.G(), u = u.G(this.g), f = 0; f < t.length; f++) {
                        n: {
                            for (r = 0; r < u.length; r++)
                                if (t[f] === u[r]) {
                                    r = !0;
                                    break n
                                }
                            r = !1
                        }
                        n.push(r ? 1 : 0)
                    }
                for (n = n.join(""), n = n.replace(/^0+/, ""), i = [], t = n.length; 0 < t; t -= 4) i.unshift(parseInt(n.slice(0 > t - 4 ? 0 : t - 4, t), 2).toString(16));
                return i.join("")
            }, br.prototype.G = function() {
                return this.g
            }, li.prototype.start = function() {
                this.g = (new Date).getTime();
                this.b = -1
            }, ct = {
                V: "a",
                $: "d",
                U: "i",
                W: "j",
                T: "k",
                Z: "l",
                NONE: "x"
            }, k = {}, k.a = k.d = k.l = k.j = function() {
                return []
            }, k.i = function(n, t, i) {
                return [new ci(n), new wr(t, i)]
            }, k.k = function(n) {
                return [new ci(n)]
            }, ai = {}, ai.i = new kr(function(n, t, i) {
                for (var u, f, e, o, r = 0; r < t.length; r += 1) u = t[r], f = u, f = n.replace(/(-1|-2)$/, "").slice(0, 28) + "-" + f, i.push(new br(f, [u]));
                for (n = {}, u = 0; u < t.length; u++) i = t[u], r = i.charAt(1), (n[r] || (n[r] = [])).push(i);
                for (i = [
                        [4, 3, 2, 1, 5, 6, 7, 8, 9],
                        [7, 8, 9, 6, 5, 4, 3, 2, 1]
                    ], r = [], u = 0; u < i.length; u++)
                    for (f = i[u], e = 0; e < f.length; e++)
                        if (o = f[e], n[o]) {
                            r = r.concat(n[o]);
                            break
                        }
                for (i = r, r = {}, n = [], u = 0; u < i.length; u++) f = i[u], r[f] || (r[f] = !0, n.push(f));
                for (i = [], r = 0; r < t.length; r++)
                    for (u = t[r], f = 0; f < n.length; f++) e = n[f], e == u && i.push(e);
                return i
            }), lt.prototype.s = function(n, t) {
                var r = n || {},
                    i = this.b.replace(/\{\/?([^*}]*)(\*?)\}/g, function(n, t, i) {
                        return i && r[t] ? "/" + r[t].join("/") : r[t] || ""
                    });
                return i.match(/^\/\//) && (i = (t ? "http:" : "https:") + i), i.replace(/\/*\?*($|\?)/, "$1")
            }, c.prototype.getName = function() {
                return this.b
            }, gr = /^([0-9]+)(?:[\._-]([0-9]+))?(?:[\._-]([0-9]+))?(?:[\._+-]?(.*))?$/, i.prototype.toString = function() {
                return [this.b, this.g || "", this.h || "", this.s || ""].join("")
            }, at = {
                a: function(n, t) {
                    return "Safari" === n.getName() && "AppleWebKit" === n.F && f(n.D, new i(525, 13)) && ft(n.D, new i(534, 50)) && (p(n) || l(n)) || pi(n) && (iu(n, t) || a(n, t) && f(n.o, new i(4, 1))) || t.I && "Silk" === n.getName() && ft(n.B, new i(2)) && (iu(n, t) || l) || t.I && "Silk" === n.getName() && f(n.B, new i(2)) && a(n, t) && f(n.o, new i(4, 1)) || nu(n) && (di(n, t) || bi(n, t)) || tu(n) && (di(n, t) || bi(n, t)) || yi(n) && (di(n, t) || bi(n, t)) || "AdobeAIR" === n.getName() && f(n.B, new i(2, 5)) && (et(n) && null === n.o.b || w(n) || l(n))
                },
                d: function(n, t) {
                    return tu(n) && (p(n) || w(n) || l(n) || a(n, t) || "CrOS" === n.v || "CrKey" === n.v || gi(n, t) || ki(n, t)) || yi(n) && (gi(n, t) || ki(n, t)) || "Gecko" === n.F && 1 === g(n.D, new i(1, 9, 1)) && vi(n.D, new i(38)) && (p(n) || w(n) || l(n) || a(n, t)) || "Safari" === n.getName() && "AppleWebKit" === n.F && f(n.D, new i(534, 50)) && (p(n) || l(n)) || nu(n) && (gi(n, t) || ki(n, t)) || "Opera" === n.getName() && f(n.B, new i(11, 10)) && vi(n.B, new i(22)) && (p(n) || w(n) || l(n) || a(n, t)) || "MSIE" === n.getName() && 9 <= n.M && (wi(n) || et(n) && bt(n.o, new i(6, 0))) || "Edge" === n.getName() && wi(n) || "MSIE" === n.getName() && t.R && "Windows Phone" === n.v && f(n.o, new i(8)) || pi(n) && (t.P && "BlackBerry" === n.v && f(n.o, new i(10)) || w(n))
                },
                j: function(n, t) {
                    return pi(n) && ru(n, t) || t.I && "Silk" === n.getName() && f(n.B, new i(2)) && (ru(n, t) || w(n))
                },
                i: function(n) {
                    return "MSIE" === n.getName() && f(n.B, new i(6, 0)) && (void 0 === n.M || 9 > n.M) && p(n)
                },
                l: function(n, t) {
                    return yi(n) && (p(n) || w(n) || l(n) || a(n, t) || "CrOS" === n.v || "CrKey" === n.v) || "Gecko" === n.F && f(n.D, new i(39)) && (p(n) || w(n) || l(n) || a(n, t)) || "Opera" === n.getName() && f(n.B, new i(23)) && (p(n) || w(n) || l(n) || a(n, t))
                },
                x: function() {
                    return !1
                }
            }, uu = new c("Unknown", new i, "Unknown", new i, "Unknown", new i, void 0), eu.prototype.s = function() {
                for (var t = [], n = 0; n < arguments.length; n++) t.push(arguments[n].replace(/[\W_]+/g, "").toLowerCase());
                return t.join(this.b)
            }, ou = !!n.FontFace, nt.prototype.getName = function() {
                return this.h
            }, vu.prototype.G = function(n) {
                return n ? (this.h[n] || this.m).slice(0) : this.m.slice(0)
            }, pt = {
                Y: "serif",
                X: "sans-serif"
            }, ri = null, yu.prototype.start = function() {
                this.h.serif = this.w.g.offsetWidth;
                this.h["sans-serif"] = this.A.g.offsetWidth;
                this.K = ht();
                bu(this)
            }, ku.prototype.start = function() {
                var t = this.b.g.document,
                    n = this,
                    i = ht(),
                    r = new Promise(function(r, u) {
                        function f() {
                            ht() - i >= n.h ? u() : t.fonts.load(re(n.g), n.u).then(function(n) {
                                1 <= n.length ? r() : setTimeout(f, 25)
                            }, function() {
                                u()
                            })
                        }
                        f()
                    }),
                    u = new Promise(function(t, i) {
                        setTimeout(i, n.h)
                    });
                Promise.race([u, r]).then(function() {
                    n.m(n.g)
                }, function() {
                    n.w(n.g)
                })
            }, ui = null, ir.prototype.m = function(n) {
                var t = this.g;
                t.m && ot(t.h, [t.g.s("wf", n.getName(), h(n).toString(), "active")], [t.g.s("wf", n.getName(), h(n).toString(), "loading"), t.g.s("wf", n.getName(), h(n).toString(), "inactive")]);
                st(t, "fontactive", n);
                this.A = !0;
                du(this)
            }, ir.prototype.u = function(n) {
                var t = this.g;
                if (t.m) {
                    var r = su(t.h, t.g.s("wf", n.getName(), h(n).toString(), "active")),
                        i = [],
                        u = [t.g.s("wf", n.getName(), h(n).toString(), "loading")];
                    r || i.push(t.g.s("wf", n.getName(), h(n).toString(), "inactive"));
                    ot(t.h, i, u)
                }
                st(t, "fontinactive", n);
                du(this)
            }, rr.prototype.h = function(n) {
                this.g.push(n)
            }, rr.prototype.load = function(n, t) {
                var i = n,
                    r = t || {};
                if ("string" == typeof i ? i = [i] : i && i.length || (r = i || {}, i = []), i.length)
                    for (var f = this, e = i.length, u = 0; u < i.length; u++) oe(this, i[u], function() {
                        0 == --e && gu(f, r)
                    });
                else gu(this, r)
            }, ur = [2449897292, 4218179547, 2675077685, 1031960064, 1478620578, 1386343184, 3194259988, 2656050674, 3012733295, 2193273665], ei.prototype.supportsConfiguredBrowser = function() {
                return "x" !== this.g
            }, ei.prototype.init = function() {
                var n, i;
                if (0 < this.m.length) {
                    for (n = [], i = 0; i < this.m.length; i++) n.push(pf(this.m[i]));
                    var i = this.b,
                        n = n.join(""),
                        r = kt(this.b, "style");
                    r.setAttribute("type", "text/css");
                    r.styleSheet ? r.styleSheet.cssText = n : r.appendChild(t.createTextNode(n));
                    nr(i, "head", r)
                }
            }, ei.prototype.load = function(t, i, r) {
                function y() {}
                var l = this,
                    u = r || {},
                    a = u.contextPath || ".",
                    p = u.hostname || this.J,
                    e;
                t = u.timeout;
                r = !!u.async;
                var d = !1 !== u.events,
                    v = null,
                    o = new li,
                    s = new li,
                    w = new se;
                if (u.active && (y = u.active), u.active = function() {
                        var r, i, e, f;
                        if (s.b = (new Date).getTime(), l.K) {
                            var t = l.K,
                                h = -1 !== o.g && -1 !== o.b ? o.b - o.g : -1,
                                c = -1 !== s.g && -1 !== s.b ? s.b - s.g : -1,
                                p = new lt("//{hostname}/p.gif?s={service}&k={token}&app={app}&ht={hosting}&h={host}&f={variations}&a={account}&sl={stylesheetLoadTime}&fl={fontLoadTime}&js={version}&_={_}"),
                                w = new lt("//ping.typekit.net/p.gif?s={service}&k={token}&app={app}&ht={hosting}&h={host}&f={variations}&a={account}&sl={stylesheetLoadTime}&fl={fontLoadTime}&js={version}&_={_}"),
                                a = encodeURIComponent((n.__adobewebfontsappname__ || t.app || "").toString().substr(0, 20)),
                                v = encodeURIComponent(hu(l.b)),
                                u = [],
                                r = [];
                            for (n.Typekit.fonts || (n.Typekit.fonts = []), r = n.Typekit.fonts, i = 0; i < t.b.length; i++) {
                                for (e = !1, f = 0; f < r.length; f++)
                                    if (t.b[i] === r[f]) {
                                        e = !0;
                                        break
                                    }
                                e || (u.push(t.b[i]), r.push(t.b[i]))
                            }
                            u.length && (dr(p.s({
                                hostname: t.w,
                                service: t.m,
                                token: t.u,
                                app: a,
                                hosting: t.h,
                                host: v,
                                variations: u.join("."),
                                account: t.g,
                                stylesheetLoadTime: h,
                                fontLoadTime: c,
                                version: t.version,
                                _: (+new Date).toString()
                            })), dr(w.s({
                                service: t.m,
                                token: t.u,
                                app: a,
                                hosting: t.h,
                                host: v,
                                variations: u.join("."),
                                account: t.g,
                                stylesheetLoadTime: h,
                                fontLoadTime: c,
                                version: t.version,
                                _: (+new Date).toString()
                            })))
                        }
                        y()
                    }, v = new cu(this.b, u), null !== this.w && (u = location.hostname, !ye(this.w, u))) {
                    console.error('Typekit: the domain "' + u + '" isn\'t in the list of published domains for kit "' + this.H + '".');
                    gt(v);
                    return
                }
                if (this.g) {
                    for (u = ai[this.g] || new kr(wf), e = 0; e < this.h.length; e++) ue(this.h[e], this.g, u);
                    if (this.u && (u = bf(this.b, this.g, this.h), u = kf(this.g, u), u.contextPath = a, p && (u.hostname = p), a = this.u.s(u, this.C ? "https:" !== ne(this.b) : !1), o.start(), te(this.b, a, he(w), r)), d) {
                        for (var c = [], k = {}, f = new ir(this.b, v, t), e = 0; e < this.h.length; e++) c = c.concat(fe(this.h[e], this.g));
                        for (e = 0; e < c.length; e++) k[c[e].getName()] = "BESbswy?";
                        ce(w, function() {
                            o.b = (new Date).getTime();
                            s.start();
                            gf(l.b, function() {
                                var e = c,
                                    a = {},
                                    v = k || {},
                                    t, o;
                                if (0 === e.length && i) gt(f.g);
                                else {
                                    for (f.h += e.length, i && (f.w = i), o = [], t = 0; t < e.length; t++) {
                                        var s = e[t],
                                            l = v[s.getName()],
                                            r = f.g,
                                            u = s;
                                        r.m && ot(r.h, [r.g.s("wf", u.getName(), h(u).toString(), "loading")]);
                                        st(r, "fontloading", u);
                                        r = null;
                                        null === ui && (ui = n.FontFace ? (u = /Gecko.*Firefox\/(\d+)/.exec(n.navigator.userAgent)) ? 42 < parseInt(u[1], 10) : !0 : !1);
                                        r = ui ? new ku(b(f.m, f), b(f.u, f), f.b, s, f.C, l) : new yu(b(f.m, f), b(f.u, f), f.b, s, f.C, a, l);
                                        o.push(r)
                                    }
                                    for (t = 0; t < o.length; t++) o[t].start()
                                }
                            })
                        })
                    }
                }
            }, s = new function() {
                var n = t;
                this.b = navigator.userAgent;
                this.g = n
            }, -1 != s.b.indexOf("MSIE") || -1 != s.b.indexOf("Trident/")) {
            var tt = s,
                pe = d(tt),
                we = e(vt(tt)),
                rf = null,
                er = null,
                or = null,
                uf = u(tt.b, /Trident\/([\d\w\.]+)/, 1),
                be = yt(tt.g),
                rf = -1 != tt.b.indexOf("MSIE") ? e(u(tt.b, /MSIE ([\d\w\.]+)/, 1)) : e(u(tt.b, /rv:([\d\w\.]+)/, 1));
            "" !== uf ? (er = "Trident", or = e(uf)) : (er = "Unknown", or = new i);
            fr = new c("MSIE", rf, er, or, pe, we, be)
        } else {
            if (-1 != s.b.indexOf("Edge/")) {
                var oi = s,
                    ke = d(oi),
                    de = e(vt(oi)),
                    ff = e(u(oi.b, /Edge\/([\d\w\.]+)/, 1));
                sr = new c("Edge", ff, "Edge", ff, ke, de, yt(oi.g))
            } else {
                if (-1 != s.b.indexOf("Opera")) hr = df();
                else {
                    if (/OPR\/[\d.]+/.test(s.b)) cr = fu();
                    else {
                        if (/AppleWeb(K|k)it/.test(s.b)) lr = fu();
                        else {
                            if (-1 != s.b.indexOf("Gecko")) {
                                var it = s,
                                    vr = "Unknown",
                                    ef = new i,
                                    ge = e(vt(it)); - 1 != it.b.indexOf("Firefox") ? (vr = "Firefox", ef = e(u(it.b, /Firefox\/([\d\w\.]+)/, 1))) : -1 != it.b.indexOf("Mozilla") && (vr = "Mozilla");
                                of = e(u(it.b, /rv:([^\)]+)/, 1));
                                ar = new c(vr, ef, "Gecko", of, d(it), ge, yt(it.g))
                            } else ar = uu;
                            lr = ar
                        }
                        cr = lr
                    }
                    hr = cr
                }
                sr = hr
            }
            fr = sr
        }
        if (tf = fr, yr = new function() {
                var t = n;
                this.g = this.h = t;
                this.b = this.g.document
            }, n.Typekit || (n.Typekit = {}), n.Typekit.load || (wt = new rr(new lt("//" + (n.Typekit.config || {}).hn + "/{id}.js"), yr), n.Typekit.load = function() {
                wt.load.apply(wt, arguments)
            }, n.Typekit.addKit = function() {
                wt.h.apply(wt, arguments)
            }), r = n.Typekit.config || {}, o = new ei(yr), o.K = new function() {
                var n = r.ps,
                    t = r.ht,
                    i = r.fi,
                    u = r.a,
                    f = r.kt,
                    e = r.js,
                    o = r.l;
                this.w = r.p;
                this.m = n;
                this.h = t;
                this.b = i || [];
                this.g = u || null;
                this.u = f || null;
                this.version = e || null;
                this.app = o || null
            }, rt = new pr, rt.O = !r.si, rt.N = !r.st, rt.I = !r.sa, rt.R = !r.sw, rt.P = !r.sb, o.A = rt, r.dl) {
            hf = r.dl;
            try {
                o.w = new ve
            } catch (to) {}
        }
        if (r.kt && (o.H = r.kt), r.ds && (o.C = r.ds), r.f && (sf = new lt(r.f), o.u = sf), r.hn && (o.J = r.hn), r.fn)
            for (y = 0; y < r.fn.length; y += 2) o.h.push(new vu(r.fn[y], r.fn[y + 1]));
        if (r.c)
            for (y = 0; y < r.c.length; y += 2) o.m.push(new yf);
        o.L = tf;
        n: {
            var cf = o.L,
                lf = new pr,
                no = o.A || lf,
                hi;
            for (hi in ct)
                if (ut = ct[hi], at[ut] && at[ut](cf, no)) {
                    si = ut;
                    break n
                }
            for (hi in ct)
                if (ut = ct[hi], at[ut] && at[ut](cf, lf)) {
                    si = "x";
                    break n
                }
            si = "k"
        }
        if (o.g = si, n.Typekit.addKit(o), n.WebFont) try {
            n.Typekit.load()
        } catch (to) {}
    }(this, document), ! function(n, t) {
        "object" == typeof module && "object" == typeof module.exports ? module.exports = n.document ? t(n, !0) : function(n) {
            if (!n.document) throw new Error("jQuery requires a window with a document");
            return t(n)
        } : t(n)
    }("undefined" != typeof window ? window : this, function(n, t) {
        function ri(n) {
            var t = n.length,
                r = i.type(n);
            return "function" === r || i.isWindow(n) ? !1 : 1 === n.nodeType && t ? !0 : "array" === r || 0 === t || "number" == typeof t && t > 0 && t - 1 in n
        }

        function ui(n, t, r) {
            if (i.isFunction(t)) return i.grep(n, function(n, i) {
                return !!t.call(n, i, n) !== r
            });
            if (t.nodeType) return i.grep(n, function(n) {
                return n === t !== r
            });
            if ("string" == typeof t) {
                if (re.test(t)) return i.filter(t, n, r);
                t = i.filter(t, n)
            }
            return i.grep(n, function(n) {
                return i.inArray(n, t) >= 0 !== r
            })
        }

        function hr(n, t) {
            do n = n[t]; while (n && 1 !== n.nodeType);
            return n
        }

        function ee(n) {
            var t = fi[n] = {};
            return i.each(n.match(h) || [], function(n, i) {
                t[i] = !0
            }), t
        }

        function cr() {
            u.addEventListener ? (u.removeEventListener("DOMContentLoaded", a, !1), n.removeEventListener("load", a, !1)) : (u.detachEvent("onreadystatechange", a), n.detachEvent("onload", a))
        }

        function a() {
            (u.addEventListener || "load" === event.type || "complete" === u.readyState) && (cr(), i.ready())
        }

        function yr(n, t, r) {
            if (void 0 === r && 1 === n.nodeType) {
                var u = "data-" + t.replace(vr, "-$1").toLowerCase();
                if (r = n.getAttribute(u), "string" == typeof r) {
                    try {
                        r = "true" === r ? !0 : "false" === r ? !1 : "null" === r ? null : +r + "" === r ? +r : ar.test(r) ? i.parseJSON(r) : r
                    } catch (f) {}
                    i.data(n, t, r)
                } else r = void 0
            }
            return r
        }

        function ei(n) {
            var t;
            for (t in n)
                if (("data" !== t || !i.isEmptyObject(n[t])) && "toJSON" !== t) return !1;
            return !0
        }

        function pr(n, t, r, u) {
            if (i.acceptData(n)) {
                var s, e, h = i.expando,
                    l = n.nodeType,
                    o = l ? i.cache : n,
                    f = l ? n[h] : n[h] && h;
                if (f && o[f] && (u || o[f].data) || void 0 !== r || "string" != typeof t) return f || (f = l ? n[h] = c.pop() || i.guid++ : h), o[f] || (o[f] = l ? {} : {
                    toJSON: i.noop
                }), ("object" == typeof t || "function" == typeof t) && (u ? o[f] = i.extend(o[f], t) : o[f].data = i.extend(o[f].data, t)), e = o[f], u || (e.data || (e.data = {}), e = e.data), void 0 !== r && (e[i.camelCase(t)] = r), "string" == typeof t ? (s = e[t], null == s && (s = e[i.camelCase(t)])) : s = e, s
            }
        }

        function wr(n, t, u) {
            if (i.acceptData(n)) {
                var o, s, h = n.nodeType,
                    f = h ? i.cache : n,
                    e = h ? n[i.expando] : i.expando;
                if (f[e]) {
                    if (t && (o = u ? f[e] : f[e].data)) {
                        for (i.isArray(t) ? t = t.concat(i.map(t, i.camelCase)) : (t in o) ? t = [t] : (t = i.camelCase(t), t = (t in o) ? [t] : t.split(" ")), s = t.length; s--;) delete o[t[s]];
                        if (u ? !ei(o) : !i.isEmptyObject(o)) return
                    }(u || (delete f[e].data, ei(f[e]))) && (h ? i.cleanData([n], !0) : r.deleteExpando || f != f.window ? delete f[e] : f[e] = null)
                }
            }
        }

        function vt() {
            return !0
        }

        function it() {
            return !1
        }

        function dr() {
            try {
                return u.activeElement
            } catch (n) {}
        }

        function gr(n) {
            var i = nu.split("|"),
                t = n.createDocumentFragment();
            if (t.createElement)
                while (i.length) t.createElement(i.pop());
            return t
        }

        function f(n, t) {
            var e, u, s = 0,
                r = typeof n.getElementsByTagName !== o ? n.getElementsByTagName(t || "*") : typeof n.querySelectorAll !== o ? n.querySelectorAll(t || "*") : void 0;
            if (!r)
                for (r = [], e = n.childNodes || n; null != (u = e[s]); s++) !t || i.nodeName(u, t) ? r.push(u) : i.merge(r, f(u, t));
            return void 0 === t || t && i.nodeName(n, t) ? i.merge([n], r) : r
        }

        function we(n) {
            oi.test(n.type) && (n.defaultChecked = n.checked)
        }

        function eu(n, t) {
            return i.nodeName(n, "table") && i.nodeName(11 !== t.nodeType ? t : t.firstChild, "tr") ? n.getElementsByTagName("tbody")[0] || n.appendChild(n.ownerDocument.createElement("tbody")) : n
        }

        function ou(n) {
            return n.type = (null !== i.find.attr(n, "type")) + "/" + n.type, n
        }

        function su(n) {
            var t = ve.exec(n.type);
            return t ? n.type = t[1] : n.removeAttribute("type"), n
        }

        function li(n, t) {
            for (var u, r = 0; null != (u = n[r]); r++) i._data(u, "globalEval", !t || i._data(t[r], "globalEval"))
        }

        function hu(n, t) {
            if (1 === t.nodeType && i.hasData(n)) {
                var u, f, o, s = i._data(n),
                    r = i._data(t, s),
                    e = s.events;
                if (e) {
                    delete r.handle;
                    r.events = {};
                    for (u in e)
                        for (f = 0, o = e[u].length; o > f; f++) i.event.add(t, u, e[u][f])
                }
                r.data && (r.data = i.extend({}, r.data))
            }
        }

        function be(n, t) {
            var u, e, f;
            if (1 === t.nodeType) {
                if (u = t.nodeName.toLowerCase(), !r.noCloneEvent && t[i.expando]) {
                    f = i._data(t);
                    for (e in f.events) i.removeEvent(t, e, f.handle);
                    t.removeAttribute(i.expando)
                }
                "script" === u && t.text !== n.text ? (ou(t).text = n.text, su(t)) : "object" === u ? (t.parentNode && (t.outerHTML = n.outerHTML), r.html5Clone && n.innerHTML && !i.trim(t.innerHTML) && (t.innerHTML = n.innerHTML)) : "input" === u && oi.test(n.type) ? (t.defaultChecked = t.checked = n.checked, t.value !== n.value && (t.value = n.value)) : "option" === u ? t.defaultSelected = t.selected = n.defaultSelected : ("input" === u || "textarea" === u) && (t.defaultValue = n.defaultValue)
            }
        }

        function cu(t, r) {
            var f, u = i(r.createElement(t)).appendTo(r.body),
                e = n.getDefaultComputedStyle && (f = n.getDefaultComputedStyle(u[0])) ? f.display : i.css(u[0], "display");
            return u.detach(), e
        }

        function yt(n) {
            var r = u,
                t = ai[n];
            return t || (t = cu(n, r), "none" !== t && t || (ot = (ot || i("<iframe frameborder='0' width='0' height='0'/>")).appendTo(r.documentElement), r = (ot[0].contentWindow || ot[0].contentDocument).document, r.write(), r.close(), t = cu(n, r), ot.detach()), ai[n] = t), t
        }

        function au(n, t) {
            return {
                get: function() {
                    var i = n();
                    if (null != i) return i ? void delete this.get : (this.get = t).apply(this, arguments)
                }
            }
        }

        function pu(n, t) {
            if (t in n) return t;
            for (var r = t.charAt(0).toUpperCase() + t.slice(1), u = t, i = yu.length; i--;)
                if (t = yu[i] + r, t in n) return t;
            return u
        }

        function wu(n, t) {
            for (var f, r, o, e = [], u = 0, s = n.length; s > u; u++) r = n[u], r.style && (e[u] = i._data(r, "olddisplay"), f = r.style.display, t ? (e[u] || "none" !== f || (r.style.display = ""), "" === r.style.display && et(r) && (e[u] = i._data(r, "olddisplay", yt(r.nodeName)))) : (o = et(r), (f && "none" !== f || !o) && i._data(r, "olddisplay", o ? f : i.css(r, "display"))));
            for (u = 0; s > u; u++) r = n[u], r.style && (t && "none" !== r.style.display && "" !== r.style.display || (r.style.display = t ? e[u] || "" : "none"));
            return n
        }

        function bu(n, t, i) {
            var r = no.exec(t);
            return r ? Math.max(0, r[1] - (i || 0)) + (r[2] || "px") : t
        }

        function ku(n, t, r, u, f) {
            for (var e = r === (u ? "border" : "content") ? 4 : "width" === t ? 1 : 0, o = 0; 4 > e; e += 2) "margin" === r && (o += i.css(n, r + w[e], !0, f)), u ? ("content" === r && (o -= i.css(n, "padding" + w[e], !0, f)), "margin" !== r && (o -= i.css(n, "border" + w[e] + "Width", !0, f))) : (o += i.css(n, "padding" + w[e], !0, f), "padding" !== r && (o += i.css(n, "border" + w[e] + "Width", !0, f)));
            return o
        }

        function du(n, t, u) {
            var o = !0,
                f = "width" === t ? n.offsetWidth : n.offsetHeight,
                e = k(n),
                s = r.boxSizing && "border-box" === i.css(n, "boxSizing", !1, e);
            if (0 >= f || null == f) {
                if (f = d(n, t, e), (0 > f || null == f) && (f = n.style[t]), pt.test(f)) return f;
                o = s && (r.boxSizingReliable() || f === n.style[t]);
                f = parseFloat(f) || 0
            }
            return f + ku(n, t, u || (s ? "border" : "content"), o, e) + "px"
        }

        function e(n, t, i, r, u) {
            return new e.prototype.init(n, t, i, r, u)
        }

        function nf() {
            return setTimeout(function() {
                rt = void 0
            }), rt = i.now()
        }

        function kt(n, t) {
            var r, i = {
                    height: n
                },
                u = 0;
            for (t = t ? 1 : 0; 4 > u; u += 2 - t) r = w[u], i["margin" + r] = i["padding" + r] = n;
            return t && (i.opacity = i.width = n), i
        }

        function tf(n, t, i) {
            for (var u, f = (st[t] || []).concat(st["*"]), r = 0, e = f.length; e > r; r++)
                if (u = f[r].call(i, t, n)) return u
        }

        function fo(n, t, u) {
            var f, a, p, v, s, w, h, b, l = this,
                y = {},
                o = n.style,
                c = n.nodeType && et(n),
                e = i._data(n, "fxshow");
            u.queue || (s = i._queueHooks(n, "fx"), null == s.unqueued && (s.unqueued = 0, w = s.empty.fire, s.empty.fire = function() {
                s.unqueued || w()
            }), s.unqueued++, l.always(function() {
                l.always(function() {
                    s.unqueued--;
                    i.queue(n, "fx").length || s.empty.fire()
                })
            }));
            1 === n.nodeType && ("height" in t || "width" in t) && (u.overflow = [o.overflow, o.overflowX, o.overflowY], h = i.css(n, "display"), b = "none" === h ? i._data(n, "olddisplay") || yt(n.nodeName) : h, "inline" === b && "none" === i.css(n, "float") && (r.inlineBlockNeedsLayout && "inline" !== yt(n.nodeName) ? o.zoom = 1 : o.display = "inline-block"));
            u.overflow && (o.overflow = "hidden", r.shrinkWrapBlocks() || l.always(function() {
                o.overflow = u.overflow[0];
                o.overflowX = u.overflow[1];
                o.overflowY = u.overflow[2]
            }));
            for (f in t)
                if (a = t[f], ro.exec(a)) {
                    if (delete t[f], p = p || "toggle" === a, a === (c ? "hide" : "show")) {
                        if ("show" !== a || !e || void 0 === e[f]) continue;
                        c = !0
                    }
                    y[f] = e && e[f] || i.style(n, f)
                } else h = void 0;
            if (i.isEmptyObject(y)) "inline" === ("none" === h ? yt(n.nodeName) : h) && (o.display = h);
            else {
                e ? "hidden" in e && (c = e.hidden) : e = i._data(n, "fxshow", {});
                p && (e.hidden = !c);
                c ? i(n).show() : l.done(function() {
                    i(n).hide()
                });
                l.done(function() {
                    var t;
                    i._removeData(n, "fxshow");
                    for (t in y) i.style(n, t, y[t])
                });
                for (f in y) v = tf(c ? e[f] : 0, f, l), f in e || (e[f] = v.start, c && (v.end = v.start, v.start = "width" === f || "height" === f ? 1 : 0))
            }
        }

        function eo(n, t) {
            var r, f, e, u, o;
            for (r in n)
                if (f = i.camelCase(r), e = t[f], u = n[r], i.isArray(u) && (e = u[1], u = n[r] = u[0]), r !== f && (n[f] = u, delete n[r]), o = i.cssHooks[f], o && "expand" in o) {
                    u = o.expand(u);
                    delete n[f];
                    for (r in u) r in n || (n[r] = u[r], t[r] = e)
                } else t[f] = e
        }

        function rf(n, t, r) {
            var h, e, o = 0,
                l = bt.length,
                f = i.Deferred().always(function() {
                    delete c.elem
                }),
                c = function() {
                    if (e) return !1;
                    for (var s = rt || nf(), t = Math.max(0, u.startTime + u.duration - s), h = t / u.duration || 0, i = 1 - h, r = 0, o = u.tweens.length; o > r; r++) u.tweens[r].run(i);
                    return f.notifyWith(n, [u, i, t]), 1 > i && o ? t : (f.resolveWith(n, [u]), !1)
                },
                u = f.promise({
                    elem: n,
                    props: i.extend({}, t),
                    opts: i.extend(!0, {
                        specialEasing: {}
                    }, r),
                    originalProperties: t,
                    originalOptions: r,
                    startTime: rt || nf(),
                    duration: r.duration,
                    tweens: [],
                    createTween: function(t, r) {
                        var f = i.Tween(n, u.opts, t, r, u.opts.specialEasing[t] || u.opts.easing);
                        return u.tweens.push(f), f
                    },
                    stop: function(t) {
                        var i = 0,
                            r = t ? u.tweens.length : 0;
                        if (e) return this;
                        for (e = !0; r > i; i++) u.tweens[i].run(1);
                        return t ? f.resolveWith(n, [u, t]) : f.rejectWith(n, [u, t]), this
                    }
                }),
                s = u.props;
            for (eo(s, u.opts.specialEasing); l > o; o++)
                if (h = bt[o].call(u, n, s, u.opts)) return h;
            return i.map(s, tf, u), i.isFunction(u.opts.start) && u.opts.start.call(n, u), i.fx.timer(i.extend(c, {
                elem: n,
                anim: u,
                queue: u.opts.queue
            })), u.progress(u.opts.progress).done(u.opts.done, u.opts.complete).fail(u.opts.fail).always(u.opts.always)
        }

        function af(n) {
            return function(t, r) {
                "string" != typeof t && (r = t, t = "*");
                var u, f = 0,
                    e = t.toLowerCase().match(h) || [];
                if (i.isFunction(r))
                    while (u = e[f++]) "+" === u.charAt(0) ? (u = u.slice(1) || "*", (n[u] = n[u] || []).unshift(r)) : (n[u] = n[u] || []).push(r)
            }
        }

        function vf(n, t, r, u) {
            function e(s) {
                var h;
                return f[s] = !0, i.each(n[s] || [], function(n, i) {
                    var s = i(t, r, u);
                    return "string" != typeof s || o || f[s] ? o ? !(h = s) : void 0 : (t.dataTypes.unshift(s), e(s), !1)
                }), h
            }
            var f = {},
                o = n === bi;
            return e(t.dataTypes[0]) || !f["*"] && e("*")
        }

        function ki(n, t) {
            var u, r, f = i.ajaxSettings.flatOptions || {};
            for (r in t) void 0 !== t[r] && ((f[r] ? n : u || (u = {}))[r] = t[r]);
            return u && i.extend(!0, n, u), n
        }

        function ao(n, t, i) {
            for (var o, e, u, f, s = n.contents, r = n.dataTypes;
                "*" === r[0];) r.shift(), void 0 === e && (e = n.mimeType || t.getResponseHeader("Content-Type"));
            if (e)
                for (f in s)
                    if (s[f] && s[f].test(e)) {
                        r.unshift(f);
                        break
                    }
            if (r[0] in i) u = r[0];
            else {
                for (f in i) {
                    if (!r[0] || n.converters[f + " " + r[0]]) {
                        u = f;
                        break
                    }
                    o || (o = f)
                }
                u = u || o
            }
            if (u) return (u !== r[0] && r.unshift(u), i[u])
        }

        function vo(n, t, i, r) {
            var h, u, f, s, e, o = {},
                c = n.dataTypes.slice();
            if (c[1])
                for (f in n.converters) o[f.toLowerCase()] = n.converters[f];
            for (u = c.shift(); u;)
                if (n.responseFields[u] && (i[n.responseFields[u]] = t), !e && r && n.dataFilter && (t = n.dataFilter(t, n.dataType)), e = u, u = c.shift())
                    if ("*" === u) u = e;
                    else if ("*" !== e && e !== u) {
                if (f = o[e + " " + u] || o["* " + u], !f)
                    for (h in o)
                        if (s = h.split(" "), s[1] === u && (f = o[e + " " + s[0]] || o["* " + s[0]])) {
                            f === !0 ? f = o[h] : o[h] !== !0 && (u = s[0], c.unshift(s[1]));
                            break
                        }
                if (f !== !0)
                    if (f && n.throws) t = f(t);
                    else try {
                        t = f(t)
                    } catch (l) {
                        return {
                            state: "parsererror",
                            error: f ? l : "No conversion from " + e + " to " + u
                        }
                    }
            }
            return {
                state: "success",
                data: t
            }
        }

        function di(n, t, r, u) {
            var f;
            if (i.isArray(t)) i.each(t, function(t, i) {
                r || po.test(n) ? u(n, i) : di(n + "[" + ("object" == typeof i ? t : "") + "]", i, r, u)
            });
            else if (r || "object" !== i.type(t)) u(n, t);
            else
                for (f in t) di(n + "[" + f + "]", t[f], r, u)
        }

        function pf() {
            try {
                return new n.XMLHttpRequest
            } catch (t) {}
        }

        function go() {
            try {
                return new n.ActiveXObject("Microsoft.XMLHTTP")
            } catch (t) {}
        }

        function wf(n) {
            return i.isWindow(n) ? n : 9 === n.nodeType ? n.defaultView || n.parentWindow : !1
        }
        var c = [],
            l = c.slice,
            ir = c.concat,
            ii = c.push,
            rr = c.indexOf,
            ct = {},
            df = ct.toString,
            tt = ct.hasOwnProperty,
            r = {},
            ur = "1.11.1",
            i = function(n, t) {
                return new i.fn.init(n, t)
            },
            gf = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
            ne = /^-ms-/,
            te = /-([\da-z])/gi,
            ie = function(n, t) {
                return t.toUpperCase()
            },
            p, or, sr, h, fi, lt, o, lr, ar, vr, ot, ai, uf, ef, of, gt, gi, ti, nr, tr, bf, kf;
        i.fn = i.prototype = {
            jquery: ur,
            constructor: i,
            selector: "",
            length: 0,
            toArray: function() {
                return l.call(this)
            },
            get: function(n) {
                return null != n ? 0 > n ? this[n + this.length] : this[n] : l.call(this)
            },
            pushStack: function(n) {
                var t = i.merge(this.constructor(), n);
                return t.prevObject = this, t.context = this.context, t
            },
            each: function(n, t) {
                return i.each(this, n, t)
            },
            map: function(n) {
                return this.pushStack(i.map(this, function(t, i) {
                    return n.call(t, i, t)
                }))
            },
            slice: function() {
                return this.pushStack(l.apply(this, arguments))
            },
            first: function() {
                return this.eq(0)
            },
            last: function() {
                return this.eq(-1)
            },
            eq: function(n) {
                var i = this.length,
                    t = +n + (0 > n ? i : 0);
                return this.pushStack(t >= 0 && i > t ? [this[t]] : [])
            },
            end: function() {
                return this.prevObject || this.constructor(null)
            },
            push: ii,
            sort: c.sort,
            splice: c.splice
        };
        i.extend = i.fn.extend = function() {
            var r, e, t, f, o, s, n = arguments[0] || {},
                u = 1,
                c = arguments.length,
                h = !1;
            for ("boolean" == typeof n && (h = n, n = arguments[u] || {}, u++), "object" == typeof n || i.isFunction(n) || (n = {}), u === c && (n = this, u--); c > u; u++)
                if (null != (o = arguments[u]))
                    for (f in o) r = n[f], t = o[f], n !== t && (h && t && (i.isPlainObject(t) || (e = i.isArray(t))) ? (e ? (e = !1, s = r && i.isArray(r) ? r : []) : s = r && i.isPlainObject(r) ? r : {}, n[f] = i.extend(h, s, t)) : void 0 !== t && (n[f] = t));
            return n
        };
        i.extend({
            expando: "jQuery" + (ur + Math.random()).replace(/\D/g, ""),
            isReady: !0,
            error: function(n) {
                throw new Error(n);
            },
            noop: function() {},
            isFunction: function(n) {
                return "function" === i.type(n)
            },
            isArray: Array.isArray || function(n) {
                return "array" === i.type(n)
            },
            isWindow: function(n) {
                return null != n && n == n.window
            },
            isNumeric: function(n) {
                return !i.isArray(n) && n - parseFloat(n) >= 0
            },
            isEmptyObject: function(n) {
                var t;
                for (t in n) return !1;
                return !0
            },
            isPlainObject: function(n) {
                var t;
                if (!n || "object" !== i.type(n) || n.nodeType || i.isWindow(n)) return !1;
                try {
                    if (n.constructor && !tt.call(n, "constructor") && !tt.call(n.constructor.prototype, "isPrototypeOf")) return !1
                } catch (u) {
                    return !1
                }
                if (r.ownLast)
                    for (t in n) return tt.call(n, t);
                for (t in n);
                return void 0 === t || tt.call(n, t)
            },
            type: function(n) {
                return null == n ? n + "" : "object" == typeof n || "function" == typeof n ? ct[df.call(n)] || "object" : typeof n
            },
            globalEval: function(t) {
                t && i.trim(t) && (n.execScript || function(t) {
                    n.eval.call(n, t)
                })(t)
            },
            camelCase: function(n) {
                return n.replace(ne, "ms-").replace(te, ie)
            },
            nodeName: function(n, t) {
                return n.nodeName && n.nodeName.toLowerCase() === t.toLowerCase()
            },
            each: function(n, t, i) {
                var u, r = 0,
                    f = n.length,
                    e = ri(n);
                if (i) {
                    if (e) {
                        for (; f > r; r++)
                            if (u = t.apply(n[r], i), u === !1) break
                    } else
                        for (r in n)
                            if (u = t.apply(n[r], i), u === !1) break
                } else if (e) {
                    for (; f > r; r++)
                        if (u = t.call(n[r], r, n[r]), u === !1) break
                } else
                    for (r in n)
                        if (u = t.call(n[r], r, n[r]), u === !1) break; return n
            },
            trim: function(n) {
                return null == n ? "" : (n + "").replace(gf, "")
            },
            makeArray: function(n, t) {
                var r = t || [];
                return null != n && (ri(Object(n)) ? i.merge(r, "string" == typeof n ? [n] : n) : ii.call(r, n)), r
            },
            inArray: function(n, t, i) {
                var r;
                if (t) {
                    if (rr) return rr.call(t, n, i);
                    for (r = t.length, i = i ? 0 > i ? Math.max(0, r + i) : i : 0; r > i; i++)
                        if (i in t && t[i] === n) return i
                }
                return -1
            },
            merge: function(n, t) {
                for (var r = +t.length, i = 0, u = n.length; r > i;) n[u++] = t[i++];
                if (r !== r)
                    while (void 0 !== t[i]) n[u++] = t[i++];
                return n.length = u, n
            },
            grep: function(n, t, i) {
                for (var u, f = [], r = 0, e = n.length, o = !i; e > r; r++) u = !t(n[r], r), u !== o && f.push(n[r]);
                return f
            },
            map: function(n, t, i) {
                var u, r = 0,
                    e = n.length,
                    o = ri(n),
                    f = [];
                if (o)
                    for (; e > r; r++) u = t(n[r], r, i), null != u && f.push(u);
                else
                    for (r in n) u = t(n[r], r, i), null != u && f.push(u);
                return ir.apply([], f)
            },
            guid: 1,
            proxy: function(n, t) {
                var u, r, f;
                return "string" == typeof t && (f = n[t], t = n, n = f), i.isFunction(n) ? (u = l.call(arguments, 2), r = function() {
                    return n.apply(t || this, u.concat(l.call(arguments)))
                }, r.guid = n.guid = n.guid || i.guid++, r) : void 0
            },
            now: function() {
                return +new Date
            },
            support: r
        });
        i.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function(n, t) {
            ct["[object " + t + "]"] = t.toLowerCase()
        });
        p = function(n) {
            function r(n, t, i, r) {
                var w, h, c, v, k, y, d, l, nt, g;
                if ((t ? t.ownerDocument || t : s) !== e && p(t), t = t || e, i = i || [], !n || "string" != typeof n) return i;
                if (1 !== (v = t.nodeType) && 9 !== v) return [];
                if (a && !r) {
                    if (w = sr.exec(n))
                        if (c = w[1]) {
                            if (9 === v) {
                                if (h = t.getElementById(c), !h || !h.parentNode) return i;
                                if (h.id === c) return i.push(h), i
                            } else if (t.ownerDocument && (h = t.ownerDocument.getElementById(c)) && ot(t, h) && h.id === c) return i.push(h), i
                        } else {
                            if (w[2]) return b.apply(i, t.getElementsByTagName(n)), i;
                            if ((c = w[3]) && u.getElementsByClassName && t.getElementsByClassName) return b.apply(i, t.getElementsByClassName(c)), i
                        }
                    if (u.qsa && (!o || !o.test(n))) {
                        if (l = d = f, nt = t, g = 9 === v && n, 1 === v && "object" !== t.nodeName.toLowerCase()) {
                            for (y = et(n), (d = t.getAttribute("id")) ? l = d.replace(hr, "\\$&") : t.setAttribute("id", l), l = "[id='" + l + "'] ", k = y.length; k--;) y[k] = l + yt(y[k]);
                            nt = gt.test(n) && ii(t.parentNode) || t;
                            g = y.join(",")
                        }
                        if (g) try {
                            return b.apply(i, nt.querySelectorAll(g)), i
                        } catch (tt) {} finally {
                            d || t.removeAttribute("id")
                        }
                    }
                }
                return si(n.replace(at, "$1"), t, i, r)
            }

            function ni() {
                function n(r, u) {
                    return i.push(r + " ") > t.cacheLength && delete n[i.shift()], n[r + " "] = u
                }
                var i = [];
                return n
            }

            function h(n) {
                return n[f] = !0, n
            }

            function c(n) {
                var t = e.createElement("div");
                try {
                    return !!n(t)
                } catch (i) {
                    return !1
                } finally {
                    t.parentNode && t.parentNode.removeChild(t);
                    t = null
                }
            }

            function ti(n, i) {
                for (var u = n.split("|"), r = n.length; r--;) t.attrHandle[u[r]] = i
            }

            function wi(n, t) {
                var i = t && n,
                    r = i && 1 === n.nodeType && 1 === t.nodeType && (~t.sourceIndex || ai) - (~n.sourceIndex || ai);
                if (r) return r;
                if (i)
                    while (i = i.nextSibling)
                        if (i === t) return -1;
                return n ? 1 : -1
            }

            function cr(n) {
                return function(t) {
                    var i = t.nodeName.toLowerCase();
                    return "input" === i && t.type === n
                }
            }

            function lr(n) {
                return function(t) {
                    var i = t.nodeName.toLowerCase();
                    return ("input" === i || "button" === i) && t.type === n
                }
            }

            function tt(n) {
                return h(function(t) {
                    return t = +t, h(function(i, r) {
                        for (var u, f = n([], i.length, t), e = f.length; e--;) i[u = f[e]] && (i[u] = !(r[u] = i[u]))
                    })
                })
            }

            function ii(n) {
                return n && typeof n.getElementsByTagName !== ut && n
            }

            function bi() {}

            function yt(n) {
                for (var t = 0, r = n.length, i = ""; r > t; t++) i += n[t].value;
                return i
            }

            function ri(n, t, i) {
                var r = t.dir,
                    u = i && "parentNode" === r,
                    e = ki++;
                return t.first ? function(t, i, f) {
                    while (t = t[r])
                        if (1 === t.nodeType || u) return n(t, i, f)
                } : function(t, i, o) {
                    var s, h, c = [v, e];
                    if (o) {
                        while (t = t[r])
                            if ((1 === t.nodeType || u) && n(t, i, o)) return !0
                    } else
                        while (t = t[r])
                            if (1 === t.nodeType || u) {
                                if (h = t[f] || (t[f] = {}), (s = h[r]) && s[0] === v && s[1] === e) return c[2] = s[2];
                                if (h[r] = c, c[2] = n(t, i, o)) return !0
                            }
                }
            }

            function ui(n) {
                return n.length > 1 ? function(t, i, r) {
                    for (var u = n.length; u--;)
                        if (!n[u](t, i, r)) return !1;
                    return !0
                } : n[0]
            }

            function ar(n, t, i) {
                for (var u = 0, f = t.length; f > u; u++) r(n, t[u], i);
                return i
            }

            function pt(n, t, i, r, u) {
                for (var e, o = [], f = 0, s = n.length, h = null != t; s > f; f++)(e = n[f]) && (!i || i(e, r, u)) && (o.push(e), h && t.push(f));
                return o
            }

            function fi(n, t, i, r, u, e) {
                return r && !r[f] && (r = fi(r)), u && !u[f] && (u = fi(u, e)), h(function(f, e, o, s) {
                    var l, c, a, p = [],
                        y = [],
                        w = e.length,
                        k = f || ar(t || "*", o.nodeType ? [o] : o, []),
                        v = !n || !f && t ? k : pt(k, p, n, o, s),
                        h = i ? u || (f ? n : w || r) ? [] : e : v;
                    if (i && i(v, h, o, s), r)
                        for (l = pt(h, y), r(l, [], o, s), c = l.length; c--;)(a = l[c]) && (h[y[c]] = !(v[y[c]] = a));
                    if (f) {
                        if (u || n) {
                            if (u) {
                                for (l = [], c = h.length; c--;)(a = h[c]) && l.push(v[c] = a);
                                u(null, h = [], l, s)
                            }
                            for (c = h.length; c--;)(a = h[c]) && (l = u ? nt.call(f, a) : p[c]) > -1 && (f[l] = !(e[l] = a))
                        }
                    } else h = pt(h === e ? h.splice(w, h.length) : h), u ? u(null, e, h, s) : b.apply(e, h)
                })
            }

            function ei(n) {
                for (var s, u, r, o = n.length, h = t.relative[n[0].type], c = h || t.relative[" "], i = h ? 1 : 0, l = ri(function(n) {
                        return n === s
                    }, c, !0), a = ri(function(n) {
                        return nt.call(s, n) > -1
                    }, c, !0), e = [function(n, t, i) {
                        return !h && (i || t !== ct) || ((s = t).nodeType ? l(n, t, i) : a(n, t, i))
                    }]; o > i; i++)
                    if (u = t.relative[n[i].type]) e = [ri(ui(e), u)];
                    else {
                        if (u = t.filter[n[i].type].apply(null, n[i].matches), u[f]) {
                            for (r = ++i; o > r; r++)
                                if (t.relative[n[r].type]) break;
                            return fi(i > 1 && ui(e), i > 1 && yt(n.slice(0, i - 1).concat({
                                value: " " === n[i - 2].type ? "*" : ""
                            })).replace(at, "$1"), u, r > i && ei(n.slice(i, r)), o > r && ei(n = n.slice(r)), o > r && yt(n))
                        }
                        e.push(u)
                    }
                return ui(e)
            }

            function vr(n, i) {
                var u = i.length > 0,
                    f = n.length > 0,
                    o = function(o, s, h, c, l) {
                        var y, d, w, k = 0,
                            a = "0",
                            g = o && [],
                            p = [],
                            nt = ct,
                            tt = o || f && t.find.TAG("*", l),
                            it = v += null == nt ? 1 : Math.random() || .1,
                            rt = tt.length;
                        for (l && (ct = s !== e && s); a !== rt && null != (y = tt[a]); a++) {
                            if (f && y) {
                                for (d = 0; w = n[d++];)
                                    if (w(y, s, h)) {
                                        c.push(y);
                                        break
                                    }
                                l && (v = it)
                            }
                            u && ((y = !w && y) && k--, o && g.push(y))
                        }
                        if (k += a, u && a !== k) {
                            for (d = 0; w = i[d++];) w(g, p, s, h);
                            if (o) {
                                if (k > 0)
                                    while (a--) g[a] || p[a] || (p[a] = gi.call(c));
                                p = pt(p)
                            }
                            b.apply(c, p);
                            l && !o && p.length > 0 && k + i.length > 1 && r.uniqueSort(c)
                        }
                        return l && (v = it, ct = nt), g
                    };
                return u ? h(o) : o
            }
            var it, u, t, ht, oi, et, wt, si, ct, y, rt, p, e, l, a, o, g, lt, ot, f = "sizzle" + -new Date,
                s = n.document,
                v = 0,
                ki = 0,
                hi = ni(),
                ci = ni(),
                li = ni(),
                bt = function(n, t) {
                    return n === t && (rt = !0), 0
                },
                ut = "undefined",
                ai = -2147483648,
                di = {}.hasOwnProperty,
                w = [],
                gi = w.pop,
                nr = w.push,
                b = w.push,
                vi = w.slice,
                nt = w.indexOf || function(n) {
                    for (var t = 0, i = this.length; i > t; t++)
                        if (this[t] === n) return t;
                    return -1
                },
                kt = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
                i = "[\\x20\\t\\r\\n\\f]",
                ft = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
                yi = ft.replace("w", "w#"),
                pi = "\\[" + i + "*(" + ft + ")(?:" + i + "*([*^$|!~]?=)" + i + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + yi + "))|)" + i + "*\\]",
                dt = ":(" + ft + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + pi + ")*)|.*)\\)|)",
                at = new RegExp("^" + i + "+|((?:^|[^\\\\])(?:\\\\.)*)" + i + "+$", "g"),
                tr = new RegExp("^" + i + "*," + i + "*"),
                ir = new RegExp("^" + i + "*([>+~]|" + i + ")" + i + "*"),
                rr = new RegExp("=" + i + "*([^\\]'\"]*?)" + i + "*\\]", "g"),
                ur = new RegExp(dt),
                fr = new RegExp("^" + yi + "$"),
                vt = {
                    ID: new RegExp("^#(" + ft + ")"),
                    CLASS: new RegExp("^\\.(" + ft + ")"),
                    TAG: new RegExp("^(" + ft.replace("w", "w*") + ")"),
                    ATTR: new RegExp("^" + pi),
                    PSEUDO: new RegExp("^" + dt),
                    CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + i + "*(even|odd|(([+-]|)(\\d*)n|)" + i + "*(?:([+-]|)" + i + "*(\\d+)|))" + i + "*\\)|)", "i"),
                    bool: new RegExp("^(?:" + kt + ")$", "i"),
                    needsContext: new RegExp("^" + i + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + i + "*((?:-\\d)?\\d*)" + i + "*\\)|)(?=[^-]|$)", "i")
                },
                er = /^(?:input|select|textarea|button)$/i,
                or = /^h\d$/i,
                st = /^[^{]+\{\s*\[native \w/,
                sr = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
                gt = /[+~]/,
                hr = /'|\\/g,
                k = new RegExp("\\\\([\\da-f]{1,6}" + i + "?|(" + i + ")|.)", "ig"),
                d = function(n, t, i) {
                    var r = "0x" + t - 65536;
                    return r !== r || i ? t : 0 > r ? String.fromCharCode(r + 65536) : String.fromCharCode(r >> 10 | 55296, 1023 & r | 56320)
                };
            try {
                b.apply(w = vi.call(s.childNodes), s.childNodes);
                w[s.childNodes.length].nodeType
            } catch (yr) {
                b = {
                    apply: w.length ? function(n, t) {
                        nr.apply(n, vi.call(t))
                    } : function(n, t) {
                        for (var i = n.length, r = 0; n[i++] = t[r++];);
                        n.length = i - 1
                    }
                }
            }
            u = r.support = {};
            oi = r.isXML = function(n) {
                var t = n && (n.ownerDocument || n).documentElement;
                return t ? "HTML" !== t.nodeName : !1
            };
            p = r.setDocument = function(n) {
                var v, r = n ? n.ownerDocument || n : s,
                    h = r.defaultView;
                return r !== e && 9 === r.nodeType && r.documentElement ? (e = r, l = r.documentElement, a = !oi(r), h && h !== h.top && (h.addEventListener ? h.addEventListener("unload", function() {
                    p()
                }, !1) : h.attachEvent && h.attachEvent("onunload", function() {
                    p()
                })), u.attributes = c(function(n) {
                    return n.className = "i", !n.getAttribute("className")
                }), u.getElementsByTagName = c(function(n) {
                    return n.appendChild(r.createComment("")), !n.getElementsByTagName("*").length
                }), u.getElementsByClassName = st.test(r.getElementsByClassName) && c(function(n) {
                    return n.innerHTML = "<div class='a'><\/div><div class='a i'><\/div>", n.firstChild.className = "i", 2 === n.getElementsByClassName("i").length
                }), u.getById = c(function(n) {
                    return l.appendChild(n).id = f, !r.getElementsByName || !r.getElementsByName(f).length
                }), u.getById ? (t.find.ID = function(n, t) {
                    if (typeof t.getElementById !== ut && a) {
                        var i = t.getElementById(n);
                        return i && i.parentNode ? [i] : []
                    }
                }, t.filter.ID = function(n) {
                    var t = n.replace(k, d);
                    return function(n) {
                        return n.getAttribute("id") === t
                    }
                }) : (delete t.find.ID, t.filter.ID = function(n) {
                    var t = n.replace(k, d);
                    return function(n) {
                        var i = typeof n.getAttributeNode !== ut && n.getAttributeNode("id");
                        return i && i.value === t
                    }
                }), t.find.TAG = u.getElementsByTagName ? function(n, t) {
                    if (typeof t.getElementsByTagName !== ut) return t.getElementsByTagName(n)
                } : function(n, t) {
                    var i, r = [],
                        f = 0,
                        u = t.getElementsByTagName(n);
                    if ("*" === n) {
                        while (i = u[f++]) 1 === i.nodeType && r.push(i);
                        return r
                    }
                    return u
                }, t.find.CLASS = u.getElementsByClassName && function(n, t) {
                    if (typeof t.getElementsByClassName !== ut && a) return t.getElementsByClassName(n)
                }, g = [], o = [], (u.qsa = st.test(r.querySelectorAll)) && (c(function(n) {
                    n.innerHTML = "<select msallowclip=''><option selected=''><\/option><\/select>";
                    n.querySelectorAll("[msallowclip^='']").length && o.push("[*^$]=" + i + "*(?:''|\"\")");
                    n.querySelectorAll("[selected]").length || o.push("\\[" + i + "*(?:value|" + kt + ")");
                    n.querySelectorAll(":checked").length || o.push(":checked")
                }), c(function(n) {
                    var t = r.createElement("input");
                    t.setAttribute("type", "hidden");
                    n.appendChild(t).setAttribute("name", "D");
                    n.querySelectorAll("[name=d]").length && o.push("name" + i + "*[*^$|!~]?=");
                    n.querySelectorAll(":enabled").length || o.push(":enabled", ":disabled");
                    n.querySelectorAll("*,:x");
                    o.push(",.*:")
                })), (u.matchesSelector = st.test(lt = l.matches || l.webkitMatchesSelector || l.mozMatchesSelector || l.oMatchesSelector || l.msMatchesSelector)) && c(function(n) {
                    u.disconnectedMatch = lt.call(n, "div");
                    lt.call(n, "[s!='']:x");
                    g.push("!=", dt)
                }), o = o.length && new RegExp(o.join("|")), g = g.length && new RegExp(g.join("|")), v = st.test(l.compareDocumentPosition), ot = v || st.test(l.contains) ? function(n, t) {
                    var r = 9 === n.nodeType ? n.documentElement : n,
                        i = t && t.parentNode;
                    return n === i || !(!i || 1 !== i.nodeType || !(r.contains ? r.contains(i) : n.compareDocumentPosition && 16 & n.compareDocumentPosition(i)))
                } : function(n, t) {
                    if (t)
                        while (t = t.parentNode)
                            if (t === n) return !0;
                    return !1
                }, bt = v ? function(n, t) {
                    if (n === t) return rt = !0, 0;
                    var i = !n.compareDocumentPosition - !t.compareDocumentPosition;
                    return i ? i : (i = (n.ownerDocument || n) === (t.ownerDocument || t) ? n.compareDocumentPosition(t) : 1, 1 & i || !u.sortDetached && t.compareDocumentPosition(n) === i ? n === r || n.ownerDocument === s && ot(s, n) ? -1 : t === r || t.ownerDocument === s && ot(s, t) ? 1 : y ? nt.call(y, n) - nt.call(y, t) : 0 : 4 & i ? -1 : 1)
                } : function(n, t) {
                    if (n === t) return rt = !0, 0;
                    var i, u = 0,
                        o = n.parentNode,
                        h = t.parentNode,
                        f = [n],
                        e = [t];
                    if (!o || !h) return n === r ? -1 : t === r ? 1 : o ? -1 : h ? 1 : y ? nt.call(y, n) - nt.call(y, t) : 0;
                    if (o === h) return wi(n, t);
                    for (i = n; i = i.parentNode;) f.unshift(i);
                    for (i = t; i = i.parentNode;) e.unshift(i);
                    while (f[u] === e[u]) u++;
                    return u ? wi(f[u], e[u]) : f[u] === s ? -1 : e[u] === s ? 1 : 0
                }, r) : e
            };
            r.matches = function(n, t) {
                return r(n, null, null, t)
            };
            r.matchesSelector = function(n, t) {
                if ((n.ownerDocument || n) !== e && p(n), t = t.replace(rr, "='$1']"), !(!u.matchesSelector || !a || g && g.test(t) || o && o.test(t))) try {
                    var i = lt.call(n, t);
                    if (i || u.disconnectedMatch || n.document && 11 !== n.document.nodeType) return i
                } catch (f) {}
                return r(t, e, null, [n]).length > 0
            };
            r.contains = function(n, t) {
                return (n.ownerDocument || n) !== e && p(n), ot(n, t)
            };
            r.attr = function(n, i) {
                (n.ownerDocument || n) !== e && p(n);
                var f = t.attrHandle[i.toLowerCase()],
                    r = f && di.call(t.attrHandle, i.toLowerCase()) ? f(n, i, !a) : void 0;
                return void 0 !== r ? r : u.attributes || !a ? n.getAttribute(i) : (r = n.getAttributeNode(i)) && r.specified ? r.value : null
            };
            r.error = function(n) {
                throw new Error("Syntax error, unrecognized expression: " + n);
            };
            r.uniqueSort = function(n) {
                var r, f = [],
                    t = 0,
                    i = 0;
                if (rt = !u.detectDuplicates, y = !u.sortStable && n.slice(0), n.sort(bt), rt) {
                    while (r = n[i++]) r === n[i] && (t = f.push(i));
                    while (t--) n.splice(f[t], 1)
                }
                return y = null, n
            };
            ht = r.getText = function(n) {
                var r, i = "",
                    u = 0,
                    t = n.nodeType;
                if (t) {
                    if (1 === t || 9 === t || 11 === t) {
                        if ("string" == typeof n.textContent) return n.textContent;
                        for (n = n.firstChild; n; n = n.nextSibling) i += ht(n)
                    } else if (3 === t || 4 === t) return n.nodeValue
                } else
                    while (r = n[u++]) i += ht(r);
                return i
            };
            t = r.selectors = {
                cacheLength: 50,
                createPseudo: h,
                match: vt,
                attrHandle: {},
                find: {},
                relative: {
                    ">": {
                        dir: "parentNode",
                        first: !0
                    },
                    " ": {
                        dir: "parentNode"
                    },
                    "+": {
                        dir: "previousSibling",
                        first: !0
                    },
                    "~": {
                        dir: "previousSibling"
                    }
                },
                preFilter: {
                    ATTR: function(n) {
                        return n[1] = n[1].replace(k, d), n[3] = (n[3] || n[4] || n[5] || "").replace(k, d), "~=" === n[2] && (n[3] = " " + n[3] + " "), n.slice(0, 4)
                    },
                    CHILD: function(n) {
                        return n[1] = n[1].toLowerCase(), "nth" === n[1].slice(0, 3) ? (n[3] || r.error(n[0]), n[4] = +(n[4] ? n[5] + (n[6] || 1) : 2 * ("even" === n[3] || "odd" === n[3])), n[5] = +(n[7] + n[8] || "odd" === n[3])) : n[3] && r.error(n[0]), n
                    },
                    PSEUDO: function(n) {
                        var i, t = !n[6] && n[2];
                        return vt.CHILD.test(n[0]) ? null : (n[3] ? n[2] = n[4] || n[5] || "" : t && ur.test(t) && (i = et(t, !0)) && (i = t.indexOf(")", t.length - i) - t.length) && (n[0] = n[0].slice(0, i), n[2] = t.slice(0, i)), n.slice(0, 3))
                    }
                },
                filter: {
                    TAG: function(n) {
                        var t = n.replace(k, d).toLowerCase();
                        return "*" === n ? function() {
                            return !0
                        } : function(n) {
                            return n.nodeName && n.nodeName.toLowerCase() === t
                        }
                    },
                    CLASS: function(n) {
                        var t = hi[n + " "];
                        return t || (t = new RegExp("(^|" + i + ")" + n + "(" + i + "|$)")) && hi(n, function(n) {
                            return t.test("string" == typeof n.className && n.className || typeof n.getAttribute !== ut && n.getAttribute("class") || "")
                        })
                    },
                    ATTR: function(n, t, i) {
                        return function(u) {
                            var f = r.attr(u, n);
                            return null == f ? "!=" === t : t ? (f += "", "=" === t ? f === i : "!=" === t ? f !== i : "^=" === t ? i && 0 === f.indexOf(i) : "*=" === t ? i && f.indexOf(i) > -1 : "$=" === t ? i && f.slice(-i.length) === i : "~=" === t ? (" " + f + " ").indexOf(i) > -1 : "|=" === t ? f === i || f.slice(0, i.length + 1) === i + "-" : !1) : !0
                        }
                    },
                    CHILD: function(n, t, i, r, u) {
                        var s = "nth" !== n.slice(0, 3),
                            o = "last" !== n.slice(-4),
                            e = "of-type" === t;
                        return 1 === r && 0 === u ? function(n) {
                            return !!n.parentNode
                        } : function(t, i, h) {
                            var a, k, c, l, y, w, b = s !== o ? "nextSibling" : "previousSibling",
                                p = t.parentNode,
                                g = e && t.nodeName.toLowerCase(),
                                d = !h && !e;
                            if (p) {
                                if (s) {
                                    while (b) {
                                        for (c = t; c = c[b];)
                                            if (e ? c.nodeName.toLowerCase() === g : 1 === c.nodeType) return !1;
                                        w = b = "only" === n && !w && "nextSibling"
                                    }
                                    return !0
                                }
                                if (w = [o ? p.firstChild : p.lastChild], o && d) {
                                    for (k = p[f] || (p[f] = {}), a = k[n] || [], y = a[0] === v && a[1], l = a[0] === v && a[2], c = y && p.childNodes[y]; c = ++y && c && c[b] || (l = y = 0) || w.pop();)
                                        if (1 === c.nodeType && ++l && c === t) {
                                            k[n] = [v, y, l];
                                            break
                                        }
                                } else if (d && (a = (t[f] || (t[f] = {}))[n]) && a[0] === v) l = a[1];
                                else
                                    while (c = ++y && c && c[b] || (l = y = 0) || w.pop())
                                        if ((e ? c.nodeName.toLowerCase() === g : 1 === c.nodeType) && ++l && (d && ((c[f] || (c[f] = {}))[n] = [v, l]), c === t)) break; return l -= u, l === r || l % r == 0 && l / r >= 0
                            }
                        }
                    },
                    PSEUDO: function(n, i) {
                        var e, u = t.pseudos[n] || t.setFilters[n.toLowerCase()] || r.error("unsupported pseudo: " + n);
                        return u[f] ? u(i) : u.length > 1 ? (e = [n, n, "", i], t.setFilters.hasOwnProperty(n.toLowerCase()) ? h(function(n, t) {
                            for (var r, f = u(n, i), e = f.length; e--;) r = nt.call(n, f[e]), n[r] = !(t[r] = f[e])
                        }) : function(n) {
                            return u(n, 0, e)
                        }) : u
                    }
                },
                pseudos: {
                    not: h(function(n) {
                        var i = [],
                            r = [],
                            t = wt(n.replace(at, "$1"));
                        return t[f] ? h(function(n, i, r, u) {
                            for (var e, o = t(n, null, u, []), f = n.length; f--;)(e = o[f]) && (n[f] = !(i[f] = e))
                        }) : function(n, u, f) {
                            return i[0] = n, t(i, null, f, r), !r.pop()
                        }
                    }),
                    has: h(function(n) {
                        return function(t) {
                            return r(n, t).length > 0
                        }
                    }),
                    contains: h(function(n) {
                        return function(t) {
                            return (t.textContent || t.innerText || ht(t)).indexOf(n) > -1
                        }
                    }),
                    lang: h(function(n) {
                        return fr.test(n || "") || r.error("unsupported lang: " + n), n = n.replace(k, d).toLowerCase(),
                            function(t) {
                                var i;
                                do
                                    if (i = a ? t.lang : t.getAttribute("xml:lang") || t.getAttribute("lang")) return i = i.toLowerCase(), i === n || 0 === i.indexOf(n + "-");
                                while ((t = t.parentNode) && 1 === t.nodeType);
                                return !1
                            }
                    }),
                    target: function(t) {
                        var i = n.location && n.location.hash;
                        return i && i.slice(1) === t.id
                    },
                    root: function(n) {
                        return n === l
                    },
                    focus: function(n) {
                        return n === e.activeElement && (!e.hasFocus || e.hasFocus()) && !!(n.type || n.href || ~n.tabIndex)
                    },
                    enabled: function(n) {
                        return n.disabled === !1
                    },
                    disabled: function(n) {
                        return n.disabled === !0
                    },
                    checked: function(n) {
                        var t = n.nodeName.toLowerCase();
                        return "input" === t && !!n.checked || "option" === t && !!n.selected
                    },
                    selected: function(n) {
                        return n.parentNode && n.parentNode.selectedIndex, n.selected === !0
                    },
                    empty: function(n) {
                        for (n = n.firstChild; n; n = n.nextSibling)
                            if (n.nodeType < 6) return !1;
                        return !0
                    },
                    parent: function(n) {
                        return !t.pseudos.empty(n)
                    },
                    header: function(n) {
                        return or.test(n.nodeName)
                    },
                    input: function(n) {
                        return er.test(n.nodeName)
                    },
                    button: function(n) {
                        var t = n.nodeName.toLowerCase();
                        return "input" === t && "button" === n.type || "button" === t
                    },
                    text: function(n) {
                        var t;
                        return "input" === n.nodeName.toLowerCase() && "text" === n.type && (null == (t = n.getAttribute("type")) || "text" === t.toLowerCase())
                    },
                    first: tt(function() {
                        return [0]
                    }),
                    last: tt(function(n, t) {
                        return [t - 1]
                    }),
                    eq: tt(function(n, t, i) {
                        return [0 > i ? i + t : i]
                    }),
                    even: tt(function(n, t) {
                        for (var i = 0; t > i; i += 2) n.push(i);
                        return n
                    }),
                    odd: tt(function(n, t) {
                        for (var i = 1; t > i; i += 2) n.push(i);
                        return n
                    }),
                    lt: tt(function(n, t, i) {
                        for (var r = 0 > i ? i + t : i; --r >= 0;) n.push(r);
                        return n
                    }),
                    gt: tt(function(n, t, i) {
                        for (var r = 0 > i ? i + t : i; ++r < t;) n.push(r);
                        return n
                    })
                }
            };
            t.pseudos.nth = t.pseudos.eq;
            for (it in {
                    radio: !0,
                    checkbox: !0,
                    file: !0,
                    password: !0,
                    image: !0
                }) t.pseudos[it] = cr(it);
            for (it in {
                    submit: !0,
                    reset: !0
                }) t.pseudos[it] = lr(it);
            return bi.prototype = t.filters = t.pseudos, t.setFilters = new bi, et = r.tokenize = function(n, i) {
                var e, f, s, o, u, h, c, l = ci[n + " "];
                if (l) return i ? 0 : l.slice(0);
                for (u = n, h = [], c = t.preFilter; u;) {
                    (!e || (f = tr.exec(u))) && (f && (u = u.slice(f[0].length) || u), h.push(s = []));
                    e = !1;
                    (f = ir.exec(u)) && (e = f.shift(), s.push({
                        value: e,
                        type: f[0].replace(at, " ")
                    }), u = u.slice(e.length));
                    for (o in t.filter)(f = vt[o].exec(u)) && (!c[o] || (f = c[o](f))) && (e = f.shift(), s.push({
                        value: e,
                        type: o,
                        matches: f
                    }), u = u.slice(e.length));
                    if (!e) break
                }
                return i ? u.length : u ? r.error(n) : ci(n, h).slice(0)
            }, wt = r.compile = function(n, t) {
                var r, u = [],
                    e = [],
                    i = li[n + " "];
                if (!i) {
                    for (t || (t = et(n)), r = t.length; r--;) i = ei(t[r]), i[f] ? u.push(i) : e.push(i);
                    i = li(n, vr(e, u));
                    i.selector = n
                }
                return i
            }, si = r.select = function(n, i, r, f) {
                var s, e, o, l, v, c = "function" == typeof n && n,
                    h = !f && et(n = c.selector || n);
                if (r = r || [], 1 === h.length) {
                    if (e = h[0] = h[0].slice(0), e.length > 2 && "ID" === (o = e[0]).type && u.getById && 9 === i.nodeType && a && t.relative[e[1].type]) {
                        if (i = (t.find.ID(o.matches[0].replace(k, d), i) || [])[0], !i) return r;
                        c && (i = i.parentNode);
                        n = n.slice(e.shift().value.length)
                    }
                    for (s = vt.needsContext.test(n) ? 0 : e.length; s--;) {
                        if (o = e[s], t.relative[l = o.type]) break;
                        if ((v = t.find[l]) && (f = v(o.matches[0].replace(k, d), gt.test(e[0].type) && ii(i.parentNode) || i))) {
                            if (e.splice(s, 1), n = f.length && yt(e), !n) return b.apply(r, f), r;
                            break
                        }
                    }
                }
                return (c || wt(n, h))(f, i, !a, r, gt.test(n) && ii(i.parentNode) || i), r
            }, u.sortStable = f.split("").sort(bt).join("") === f, u.detectDuplicates = !!rt, p(), u.sortDetached = c(function(n) {
                return 1 & n.compareDocumentPosition(e.createElement("div"))
            }), c(function(n) {
                return n.innerHTML = "<a href='#'><\/a>", "#" === n.firstChild.getAttribute("href")
            }) || ti("type|href|height|width", function(n, t, i) {
                if (!i) return n.getAttribute(t, "type" === t.toLowerCase() ? 1 : 2)
            }), u.attributes && c(function(n) {
                return n.innerHTML = "<input/>", n.firstChild.setAttribute("value", ""), "" === n.firstChild.getAttribute("value")
            }) || ti("value", function(n, t, i) {
                if (!i && "input" === n.nodeName.toLowerCase()) return n.defaultValue
            }), c(function(n) {
                return null == n.getAttribute("disabled")
            }) || ti(kt, function(n, t, i) {
                var r;
                if (!i) return n[t] === !0 ? t.toLowerCase() : (r = n.getAttributeNode(t)) && r.specified ? r.value : null
            }), r
        }(n);
        i.find = p;
        i.expr = p.selectors;
        i.expr[":"] = i.expr.pseudos;
        i.unique = p.uniqueSort;
        i.text = p.getText;
        i.isXMLDoc = p.isXML;
        i.contains = p.contains;
        var fr = i.expr.match.needsContext,
            er = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,
            re = /^.[^:#\[\.,]*$/;
        i.filter = function(n, t, r) {
            var u = t[0];
            return r && (n = ":not(" + n + ")"), 1 === t.length && 1 === u.nodeType ? i.find.matchesSelector(u, n) ? [u] : [] : i.find.matches(n, i.grep(t, function(n) {
                return 1 === n.nodeType
            }))
        };
        i.fn.extend({
            find: function(n) {
                var t, r = [],
                    u = this,
                    f = u.length;
                if ("string" != typeof n) return this.pushStack(i(n).filter(function() {
                    for (t = 0; f > t; t++)
                        if (i.contains(u[t], this)) return !0
                }));
                for (t = 0; f > t; t++) i.find(n, u[t], r);
                return r = this.pushStack(f > 1 ? i.unique(r) : r), r.selector = this.selector ? this.selector + " " + n : n, r
            },
            filter: function(n) {
                return this.pushStack(ui(this, n || [], !1))
            },
            not: function(n) {
                return this.pushStack(ui(this, n || [], !0))
            },
            is: function(n) {
                return !!ui(this, "string" == typeof n && fr.test(n) ? i(n) : n || [], !1).length
            }
        });
        var ft, u = n.document,
            ue = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,
            fe = i.fn.init = function(n, t) {
                var r, f;
                if (!n) return this;
                if ("string" == typeof n) {
                    if (r = "<" === n.charAt(0) && ">" === n.charAt(n.length - 1) && n.length >= 3 ? [null, n, null] : ue.exec(n), !r || !r[1] && t) return !t || t.jquery ? (t || ft).find(n) : this.constructor(t).find(n);
                    if (r[1]) {
                        if (t = t instanceof i ? t[0] : t, i.merge(this, i.parseHTML(r[1], t && t.nodeType ? t.ownerDocument || t : u, !0)), er.test(r[1]) && i.isPlainObject(t))
                            for (r in t) i.isFunction(this[r]) ? this[r](t[r]) : this.attr(r, t[r]);
                        return this
                    }
                    if (f = u.getElementById(r[2]), f && f.parentNode) {
                        if (f.id !== r[2]) return ft.find(n);
                        this.length = 1;
                        this[0] = f
                    }
                    return this.context = u, this.selector = n, this
                }
                return n.nodeType ? (this.context = this[0] = n, this.length = 1, this) : i.isFunction(n) ? "undefined" != typeof ft.ready ? ft.ready(n) : n(i) : (void 0 !== n.selector && (this.selector = n.selector, this.context = n.context), i.makeArray(n, this))
            };
        fe.prototype = i.fn;
        ft = i(u);
        or = /^(?:parents|prev(?:Until|All))/;
        sr = {
            children: !0,
            contents: !0,
            next: !0,
            prev: !0
        };
        i.extend({
            dir: function(n, t, r) {
                for (var f = [], u = n[t]; u && 9 !== u.nodeType && (void 0 === r || 1 !== u.nodeType || !i(u).is(r));) 1 === u.nodeType && f.push(u), u = u[t];
                return f
            },
            sibling: function(n, t) {
                for (var i = []; n; n = n.nextSibling) 1 === n.nodeType && n !== t && i.push(n);
                return i
            }
        });
        i.fn.extend({
            has: function(n) {
                var t, r = i(n, this),
                    u = r.length;
                return this.filter(function() {
                    for (t = 0; u > t; t++)
                        if (i.contains(this, r[t])) return !0
                })
            },
            closest: function(n, t) {
                for (var r, f = 0, o = this.length, u = [], e = fr.test(n) || "string" != typeof n ? i(n, t || this.context) : 0; o > f; f++)
                    for (r = this[f]; r && r !== t; r = r.parentNode)
                        if (r.nodeType < 11 && (e ? e.index(r) > -1 : 1 === r.nodeType && i.find.matchesSelector(r, n))) {
                            u.push(r);
                            break
                        }
                return this.pushStack(u.length > 1 ? i.unique(u) : u)
            },
            index: function(n) {
                return n ? "string" == typeof n ? i.inArray(this[0], i(n)) : i.inArray(n.jquery ? n[0] : n, this) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
            },
            add: function(n, t) {
                return this.pushStack(i.unique(i.merge(this.get(), i(n, t))))
            },
            addBack: function(n) {
                return this.add(null == n ? this.prevObject : this.prevObject.filter(n))
            }
        });
        i.each({
            parent: function(n) {
                var t = n.parentNode;
                return t && 11 !== t.nodeType ? t : null
            },
            parents: function(n) {
                return i.dir(n, "parentNode")
            },
            parentsUntil: function(n, t, r) {
                return i.dir(n, "parentNode", r)
            },
            next: function(n) {
                return hr(n, "nextSibling")
            },
            prev: function(n) {
                return hr(n, "previousSibling")
            },
            nextAll: function(n) {
                return i.dir(n, "nextSibling")
            },
            prevAll: function(n) {
                return i.dir(n, "previousSibling")
            },
            nextUntil: function(n, t, r) {
                return i.dir(n, "nextSibling", r)
            },
            prevUntil: function(n, t, r) {
                return i.dir(n, "previousSibling", r)
            },
            siblings: function(n) {
                return i.sibling((n.parentNode || {}).firstChild, n)
            },
            children: function(n) {
                return i.sibling(n.firstChild)
            },
            contents: function(n) {
                return i.nodeName(n, "iframe") ? n.contentDocument || n.contentWindow.document : i.merge([], n.childNodes)
            }
        }, function(n, t) {
            i.fn[n] = function(r, u) {
                var f = i.map(this, t, r);
                return "Until" !== n.slice(-5) && (u = r), u && "string" == typeof u && (f = i.filter(u, f)), this.length > 1 && (sr[n] || (f = i.unique(f)), or.test(n) && (f = f.reverse())), this.pushStack(f)
            }
        });
        h = /\S+/g;
        fi = {};
        i.Callbacks = function(n) {
            n = "string" == typeof n ? fi[n] || ee(n) : i.extend({}, n);
            var o, u, h, f, e, c, t = [],
                r = !n.once && [],
                l = function(i) {
                    for (u = n.memory && i, h = !0, e = c || 0, c = 0, f = t.length, o = !0; t && f > e; e++)
                        if (t[e].apply(i[0], i[1]) === !1 && n.stopOnFalse) {
                            u = !1;
                            break
                        }
                    o = !1;
                    t && (r ? r.length && l(r.shift()) : u ? t = [] : s.disable())
                },
                s = {
                    add: function() {
                        if (t) {
                            var r = t.length;
                            ! function e(r) {
                                i.each(r, function(r, u) {
                                    var f = i.type(u);
                                    "function" === f ? n.unique && s.has(u) || t.push(u) : u && u.length && "string" !== f && e(u)
                                })
                            }(arguments);
                            o ? f = t.length : u && (c = r, l(u))
                        }
                        return this
                    },
                    remove: function() {
                        return t && i.each(arguments, function(n, r) {
                            for (var u;
                                (u = i.inArray(r, t, u)) > -1;) t.splice(u, 1), o && (f >= u && f--, e >= u && e--)
                        }), this
                    },
                    has: function(n) {
                        return n ? i.inArray(n, t) > -1 : !(!t || !t.length)
                    },
                    empty: function() {
                        return t = [], f = 0, this
                    },
                    disable: function() {
                        return t = r = u = void 0, this
                    },
                    disabled: function() {
                        return !t
                    },
                    lock: function() {
                        return r = void 0, u || s.disable(), this
                    },
                    locked: function() {
                        return !r
                    },
                    fireWith: function(n, i) {
                        return !t || h && !r || (i = i || [], i = [n, i.slice ? i.slice() : i], o ? r.push(i) : l(i)), this
                    },
                    fire: function() {
                        return s.fireWith(this, arguments), this
                    },
                    fired: function() {
                        return !!h
                    }
                };
            return s
        };
        i.extend({
            Deferred: function(n) {
                var u = [
                        ["resolve", "done", i.Callbacks("once memory"), "resolved"],
                        ["reject", "fail", i.Callbacks("once memory"), "rejected"],
                        ["notify", "progress", i.Callbacks("memory")]
                    ],
                    f = "pending",
                    r = {
                        state: function() {
                            return f
                        },
                        always: function() {
                            return t.done(arguments).fail(arguments), this
                        },
                        then: function() {
                            var n = arguments;
                            return i.Deferred(function(f) {
                                i.each(u, function(u, e) {
                                    var o = i.isFunction(n[u]) && n[u];
                                    t[e[1]](function() {
                                        var n = o && o.apply(this, arguments);
                                        n && i.isFunction(n.promise) ? n.promise().done(f.resolve).fail(f.reject).progress(f.notify) : f[e[0] + "With"](this === r ? f.promise() : this, o ? [n] : arguments)
                                    })
                                });
                                n = null
                            }).promise()
                        },
                        promise: function(n) {
                            return null != n ? i.extend(n, r) : r
                        }
                    },
                    t = {};
                return r.pipe = r.then, i.each(u, function(n, i) {
                    var e = i[2],
                        o = i[3];
                    r[i[1]] = e.add;
                    o && e.add(function() {
                        f = o
                    }, u[1 ^ n][2].disable, u[2][2].lock);
                    t[i[0]] = function() {
                        return t[i[0] + "With"](this === t ? r : this, arguments), this
                    };
                    t[i[0] + "With"] = e.fireWith
                }), r.promise(t), n && n.call(t, t), t
            },
            when: function(n) {
                var t = 0,
                    u = l.call(arguments),
                    r = u.length,
                    e = 1 !== r || n && i.isFunction(n.promise) ? r : 0,
                    f = 1 === e ? n : i.Deferred(),
                    h = function(n, t, i) {
                        return function(r) {
                            t[n] = this;
                            i[n] = arguments.length > 1 ? l.call(arguments) : r;
                            i === o ? f.notifyWith(t, i) : --e || f.resolveWith(t, i)
                        }
                    },
                    o, c, s;
                if (r > 1)
                    for (o = new Array(r), c = new Array(r), s = new Array(r); r > t; t++) u[t] && i.isFunction(u[t].promise) ? u[t].promise().done(h(t, s, u)).fail(f.reject).progress(h(t, c, o)) : --e;
                return e || f.resolveWith(s, u), f.promise()
            }
        });
        i.fn.ready = function(n) {
            return i.ready.promise().done(n), this
        };
        i.extend({
            isReady: !1,
            readyWait: 1,
            holdReady: function(n) {
                n ? i.readyWait++ : i.ready(!0)
            },
            ready: function(n) {
                if (n === !0 ? !--i.readyWait : !i.isReady) {
                    if (!u.body) return setTimeout(i.ready);
                    i.isReady = !0;
                    n !== !0 && --i.readyWait > 0 || (lt.resolveWith(u, [i]), i.fn.triggerHandler && (i(u).triggerHandler("ready"), i(u).off("ready")))
                }
            }
        });
        i.ready.promise = function(t) {
            if (!lt)
                if (lt = i.Deferred(), "complete" === u.readyState) setTimeout(i.ready);
                else if (u.addEventListener) u.addEventListener("DOMContentLoaded", a, !1), n.addEventListener("load", a, !1);
            else {
                u.attachEvent("onreadystatechange", a);
                n.attachEvent("onload", a);
                var r = !1;
                try {
                    r = null == n.frameElement && u.documentElement
                } catch (e) {}
                r && r.doScroll && ! function f() {
                    if (!i.isReady) {
                        try {
                            r.doScroll("left")
                        } catch (n) {
                            return setTimeout(f, 50)
                        }
                        cr();
                        i.ready()
                    }
                }()
            }
            return lt.promise(t)
        };
        o = "undefined";
        for (lr in i(r)) break;
        r.ownLast = "0" !== lr;
        r.inlineBlockNeedsLayout = !1;
        i(function() {
                var f, t, n, i;
                n = u.getElementsByTagName("body")[0];
                n && n.style && (t = u.createElement("div"), i = u.createElement("div"), i.style.cssText = "position:absolute;border:0;width:0;height:0;top:0;left:-9999px", n.appendChild(i).appendChild(t), typeof t.style.zoom !== o && (t.style.cssText = "display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1", r.inlineBlockNeedsLayout = f = 3 === t.offsetWidth, f && (n.style.zoom = 1)), n.removeChild(i))
            }),
            function() {
                var n = u.createElement("div");
                if (null == r.deleteExpando) {
                    r.deleteExpando = !0;
                    try {
                        delete n.test
                    } catch (t) {
                        r.deleteExpando = !1
                    }
                }
                n = null
            }();
        i.acceptData = function(n) {
            var t = i.noData[(n.nodeName + " ").toLowerCase()],
                r = +n.nodeType || 1;
            return 1 !== r && 9 !== r ? !1 : !t || t !== !0 && n.getAttribute("classid") === t
        };
        ar = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/;
        vr = /([A-Z])/g;
        i.extend({
            cache: {},
            noData: {
                "applet ": !0,
                "embed ": !0,
                "object ": "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
            },
            hasData: function(n) {
                return n = n.nodeType ? i.cache[n[i.expando]] : n[i.expando], !!n && !ei(n)
            },
            data: function(n, t, i) {
                return pr(n, t, i)
            },
            removeData: function(n, t) {
                return wr(n, t)
            },
            _data: function(n, t, i) {
                return pr(n, t, i, !0)
            },
            _removeData: function(n, t) {
                return wr(n, t, !0)
            }
        });
        i.fn.extend({
            data: function(n, t) {
                var f, u, e, r = this[0],
                    o = r && r.attributes;
                if (void 0 === n) {
                    if (this.length && (e = i.data(r), 1 === r.nodeType && !i._data(r, "parsedAttrs"))) {
                        for (f = o.length; f--;) o[f] && (u = o[f].name, 0 === u.indexOf("data-") && (u = i.camelCase(u.slice(5)), yr(r, u, e[u])));
                        i._data(r, "parsedAttrs", !0)
                    }
                    return e
                }
                return "object" == typeof n ? this.each(function() {
                    i.data(this, n)
                }) : arguments.length > 1 ? this.each(function() {
                    i.data(this, n, t)
                }) : r ? yr(r, n, i.data(r, n)) : void 0
            },
            removeData: function(n) {
                return this.each(function() {
                    i.removeData(this, n)
                })
            }
        });
        i.extend({
            queue: function(n, t, r) {
                var u;
                if (n) return (t = (t || "fx") + "queue", u = i._data(n, t), r && (!u || i.isArray(r) ? u = i._data(n, t, i.makeArray(r)) : u.push(r)), u || [])
            },
            dequeue: function(n, t) {
                t = t || "fx";
                var r = i.queue(n, t),
                    e = r.length,
                    u = r.shift(),
                    f = i._queueHooks(n, t),
                    o = function() {
                        i.dequeue(n, t)
                    };
                "inprogress" === u && (u = r.shift(), e--);
                u && ("fx" === t && r.unshift("inprogress"), delete f.stop, u.call(n, o, f));
                !e && f && f.empty.fire()
            },
            _queueHooks: function(n, t) {
                var r = t + "queueHooks";
                return i._data(n, r) || i._data(n, r, {
                    empty: i.Callbacks("once memory").add(function() {
                        i._removeData(n, t + "queue");
                        i._removeData(n, r)
                    })
                })
            }
        });
        i.fn.extend({
            queue: function(n, t) {
                var r = 2;
                return "string" != typeof n && (t = n, n = "fx", r--), arguments.length < r ? i.queue(this[0], n) : void 0 === t ? this : this.each(function() {
                    var r = i.queue(this, n, t);
                    i._queueHooks(this, n);
                    "fx" === n && "inprogress" !== r[0] && i.dequeue(this, n)
                })
            },
            dequeue: function(n) {
                return this.each(function() {
                    i.dequeue(this, n)
                })
            },
            clearQueue: function(n) {
                return this.queue(n || "fx", [])
            },
            promise: function(n, t) {
                var r, f = 1,
                    e = i.Deferred(),
                    u = this,
                    o = this.length,
                    s = function() {
                        --f || e.resolveWith(u, [u])
                    };
                for ("string" != typeof n && (t = n, n = void 0), n = n || "fx"; o--;) r = i._data(u[o], n + "queueHooks"), r && r.empty && (f++, r.empty.add(s));
                return s(), e.promise(t)
            }
        });
        var at = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
            w = ["Top", "Right", "Bottom", "Left"],
            et = function(n, t) {
                return n = t || n, "none" === i.css(n, "display") || !i.contains(n.ownerDocument, n)
            },
            b = i.access = function(n, t, r, u, f, e, o) {
                var s = 0,
                    c = n.length,
                    h = null == r;
                if ("object" === i.type(r)) {
                    f = !0;
                    for (s in r) i.access(n, t, s, r[s], !0, e, o)
                } else if (void 0 !== u && (f = !0, i.isFunction(u) || (o = !0), h && (o ? (t.call(n, u), t = null) : (h = t, t = function(n, t, r) {
                        return h.call(i(n), r)
                    })), t))
                    for (; c > s; s++) t(n[s], r, o ? u : u.call(n[s], s, t(n[s], r)));
                return f ? n : h ? t.call(n) : c ? t(n[0], r) : e
            },
            oi = /^(?:checkbox|radio)$/i;
        ! function() {
            var t = u.createElement("input"),
                n = u.createElement("div"),
                i = u.createDocumentFragment();
            if (n.innerHTML = "  <link/><table><\/table><a href='/a'>a<\/a><input type='checkbox'/>", r.leadingWhitespace = 3 === n.firstChild.nodeType, r.tbody = !n.getElementsByTagName("tbody").length, r.htmlSerialize = !!n.getElementsByTagName("link").length, r.html5Clone = "<:nav><\/:nav>" !== u.createElement("nav").cloneNode(!0).outerHTML, t.type = "checkbox", t.checked = !0, i.appendChild(t), r.appendChecked = t.checked, n.innerHTML = "<textarea>x<\/textarea>", r.noCloneChecked = !!n.cloneNode(!0).lastChild.defaultValue, i.appendChild(n), n.innerHTML = "<input type='radio' checked='checked' name='t'/>", r.checkClone = n.cloneNode(!0).cloneNode(!0).lastChild.checked, r.noCloneEvent = !0, n.attachEvent && (n.attachEvent("onclick", function() {
                    r.noCloneEvent = !1
                }), n.cloneNode(!0).click()), null == r.deleteExpando) {
                r.deleteExpando = !0;
                try {
                    delete n.test
                } catch (f) {
                    r.deleteExpando = !1
                }
            }
        }(),
        function() {
            var t, i, f = u.createElement("div");
            for (t in {
                    submit: !0,
                    change: !0,
                    focusin: !0
                }) i = "on" + t, (r[t + "Bubbles"] = i in n) || (f.setAttribute(i, "t"), r[t + "Bubbles"] = f.attributes[i].expando === !1);
            f = null
        }();
        var si = /^(?:input|select|textarea)$/i,
            oe = /^key/,
            se = /^(?:mouse|pointer|contextmenu)|click/,
            br = /^(?:focusinfocus|focusoutblur)$/,
            kr = /^([^.]*)(?:\.(.+)|)$/;
        i.event = {
            global: {},
            add: function(n, t, r, u, f) {
                var w, y, b, p, s, c, l, a, e, k, d, v = i._data(n);
                if (v) {
                    for (r.handler && (p = r, r = p.handler, f = p.selector), r.guid || (r.guid = i.guid++), (y = v.events) || (y = v.events = {}), (c = v.handle) || (c = v.handle = function(n) {
                            if (typeof i !== o && (!n || i.event.triggered !== n.type)) return i.event.dispatch.apply(c.elem, arguments)
                        }, c.elem = n), t = (t || "").match(h) || [""], b = t.length; b--;) w = kr.exec(t[b]) || [], e = d = w[1], k = (w[2] || "").split(".").sort(), e && (s = i.event.special[e] || {}, e = (f ? s.delegateType : s.bindType) || e, s = i.event.special[e] || {}, l = i.extend({
                        type: e,
                        origType: d,
                        data: u,
                        handler: r,
                        guid: r.guid,
                        selector: f,
                        needsContext: f && i.expr.match.needsContext.test(f),
                        namespace: k.join(".")
                    }, p), (a = y[e]) || (a = y[e] = [], a.delegateCount = 0, s.setup && s.setup.call(n, u, k, c) !== !1 || (n.addEventListener ? n.addEventListener(e, c, !1) : n.attachEvent && n.attachEvent("on" + e, c))), s.add && (s.add.call(n, l), l.handler.guid || (l.handler.guid = r.guid)), f ? a.splice(a.delegateCount++, 0, l) : a.push(l), i.event.global[e] = !0);
                    n = null
                }
            },
            remove: function(n, t, r, u, f) {
                var y, o, s, b, p, a, c, l, e, w, k, v = i.hasData(n) && i._data(n);
                if (v && (a = v.events)) {
                    for (t = (t || "").match(h) || [""], p = t.length; p--;)
                        if (s = kr.exec(t[p]) || [], e = k = s[1], w = (s[2] || "").split(".").sort(), e) {
                            for (c = i.event.special[e] || {}, e = (u ? c.delegateType : c.bindType) || e, l = a[e] || [], s = s[2] && new RegExp("(^|\\.)" + w.join("\\.(?:.*\\.|)") + "(\\.|$)"), b = y = l.length; y--;) o = l[y], !f && k !== o.origType || r && r.guid !== o.guid || s && !s.test(o.namespace) || u && u !== o.selector && ("**" !== u || !o.selector) || (l.splice(y, 1), o.selector && l.delegateCount--, c.remove && c.remove.call(n, o));
                            b && !l.length && (c.teardown && c.teardown.call(n, w, v.handle) !== !1 || i.removeEvent(n, e, v.handle), delete a[e])
                        } else
                            for (e in a) i.event.remove(n, e + t[p], r, u, !0);
                    i.isEmptyObject(a) && (delete v.handle, i._removeData(n, "events"))
                }
            },
            trigger: function(t, r, f, e) {
                var l, a, o, p, c, h, w, y = [f || u],
                    s = tt.call(t, "type") ? t.type : t,
                    v = tt.call(t, "namespace") ? t.namespace.split(".") : [];
                if (o = h = f = f || u, 3 !== f.nodeType && 8 !== f.nodeType && !br.test(s + i.event.triggered) && (s.indexOf(".") >= 0 && (v = s.split("."), s = v.shift(), v.sort()), a = s.indexOf(":") < 0 && "on" + s, t = t[i.expando] ? t : new i.Event(s, "object" == typeof t && t), t.isTrigger = e ? 2 : 3, t.namespace = v.join("."), t.namespace_re = t.namespace ? new RegExp("(^|\\.)" + v.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, t.result = void 0, t.target || (t.target = f), r = null == r ? [t] : i.makeArray(r, [t]), c = i.event.special[s] || {}, e || !c.trigger || c.trigger.apply(f, r) !== !1)) {
                    if (!e && !c.noBubble && !i.isWindow(f)) {
                        for (p = c.delegateType || s, br.test(p + s) || (o = o.parentNode); o; o = o.parentNode) y.push(o), h = o;
                        h === (f.ownerDocument || u) && y.push(h.defaultView || h.parentWindow || n)
                    }
                    for (w = 0;
                        (o = y[w++]) && !t.isPropagationStopped();) t.type = w > 1 ? p : c.bindType || s, l = (i._data(o, "events") || {})[t.type] && i._data(o, "handle"), l && l.apply(o, r), l = a && o[a], l && l.apply && i.acceptData(o) && (t.result = l.apply(o, r), t.result === !1 && t.preventDefault());
                    if (t.type = s, !e && !t.isDefaultPrevented() && (!c._default || c._default.apply(y.pop(), r) === !1) && i.acceptData(f) && a && f[s] && !i.isWindow(f)) {
                        h = f[a];
                        h && (f[a] = null);
                        i.event.triggered = s;
                        try {
                            f[s]()
                        } catch (b) {}
                        i.event.triggered = void 0;
                        h && (f[a] = h)
                    }
                    return t.result
                }
            },
            dispatch: function(n) {
                n = i.event.fix(n);
                var e, f, t, r, o, s = [],
                    h = l.call(arguments),
                    c = (i._data(this, "events") || {})[n.type] || [],
                    u = i.event.special[n.type] || {};
                if (h[0] = n, n.delegateTarget = this, !u.preDispatch || u.preDispatch.call(this, n) !== !1) {
                    for (s = i.event.handlers.call(this, n, c), e = 0;
                        (r = s[e++]) && !n.isPropagationStopped();)
                        for (n.currentTarget = r.elem, o = 0;
                            (t = r.handlers[o++]) && !n.isImmediatePropagationStopped();)(!n.namespace_re || n.namespace_re.test(t.namespace)) && (n.handleObj = t, n.data = t.data, f = ((i.event.special[t.origType] || {}).handle || t.handler).apply(r.elem, h), void 0 !== f && (n.result = f) === !1 && (n.preventDefault(), n.stopPropagation()));
                    return u.postDispatch && u.postDispatch.call(this, n), n.result
                }
            },
            handlers: function(n, t) {
                var f, e, u, o, h = [],
                    s = t.delegateCount,
                    r = n.target;
                if (s && r.nodeType && (!n.button || "click" !== n.type))
                    for (; r != this; r = r.parentNode || this)
                        if (1 === r.nodeType && (r.disabled !== !0 || "click" !== n.type)) {
                            for (u = [], o = 0; s > o; o++) e = t[o], f = e.selector + " ", void 0 === u[f] && (u[f] = e.needsContext ? i(f, this).index(r) >= 0 : i.find(f, this, null, [r]).length), u[f] && u.push(e);
                            u.length && h.push({
                                elem: r,
                                handlers: u
                            })
                        }
                return s < t.length && h.push({
                    elem: this,
                    handlers: t.slice(s)
                }), h
            },
            fix: function(n) {
                if (n[i.expando]) return n;
                var e, o, s, r = n.type,
                    f = n,
                    t = this.fixHooks[r];
                for (t || (this.fixHooks[r] = t = se.test(r) ? this.mouseHooks : oe.test(r) ? this.keyHooks : {}), s = t.props ? this.props.concat(t.props) : this.props, n = new i.Event(f), e = s.length; e--;) o = s[e], n[o] = f[o];
                return n.target || (n.target = f.srcElement || u), 3 === n.target.nodeType && (n.target = n.target.parentNode), n.metaKey = !!n.metaKey, t.filter ? t.filter(n, f) : n
            },
            props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
            fixHooks: {},
            keyHooks: {
                props: "char charCode key keyCode".split(" "),
                filter: function(n, t) {
                    return null == n.which && (n.which = null != t.charCode ? t.charCode : t.keyCode), n
                }
            },
            mouseHooks: {
                props: "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
                filter: function(n, t) {
                    var i, e, r, f = t.button,
                        o = t.fromElement;
                    return null == n.pageX && null != t.clientX && (e = n.target.ownerDocument || u, r = e.documentElement, i = e.body, n.pageX = t.clientX + (r && r.scrollLeft || i && i.scrollLeft || 0) - (r && r.clientLeft || i && i.clientLeft || 0), n.pageY = t.clientY + (r && r.scrollTop || i && i.scrollTop || 0) - (r && r.clientTop || i && i.clientTop || 0)), !n.relatedTarget && o && (n.relatedTarget = o === n.target ? t.toElement : o), n.which || void 0 === f || (n.which = 1 & f ? 1 : 2 & f ? 3 : 4 & f ? 2 : 0), n
                }
            },
            special: {
                load: {
                    noBubble: !0
                },
                focus: {
                    trigger: function() {
                        if (this !== dr() && this.focus) try {
                            return this.focus(), !1
                        } catch (n) {}
                    },
                    delegateType: "focusin"
                },
                blur: {
                    trigger: function() {
                        if (this === dr() && this.blur) return (this.blur(), !1)
                    },
                    delegateType: "focusout"
                },
                click: {
                    trigger: function() {
                        if (i.nodeName(this, "input") && "checkbox" === this.type && this.click) return (this.click(), !1)
                    },
                    _default: function(n) {
                        return i.nodeName(n.target, "a")
                    }
                },
                beforeunload: {
                    postDispatch: function(n) {
                        void 0 !== n.result && n.originalEvent && (n.originalEvent.returnValue = n.result)
                    }
                }
            },
            simulate: function(n, t, r, u) {
                var f = i.extend(new i.Event, r, {
                    type: n,
                    isSimulated: !0,
                    originalEvent: {}
                });
                u ? i.event.trigger(f, null, t) : i.event.dispatch.call(t, f);
                f.isDefaultPrevented() && r.preventDefault()
            }
        };
        i.removeEvent = u.removeEventListener ? function(n, t, i) {
            n.removeEventListener && n.removeEventListener(t, i, !1)
        } : function(n, t, i) {
            var r = "on" + t;
            n.detachEvent && (typeof n[r] === o && (n[r] = null), n.detachEvent(r, i))
        };
        i.Event = function(n, t) {
            return this instanceof i.Event ? (n && n.type ? (this.originalEvent = n, this.type = n.type, this.isDefaultPrevented = n.defaultPrevented || void 0 === n.defaultPrevented && n.returnValue === !1 ? vt : it) : this.type = n, t && i.extend(this, t), this.timeStamp = n && n.timeStamp || i.now(), void(this[i.expando] = !0)) : new i.Event(n, t)
        };
        i.Event.prototype = {
            isDefaultPrevented: it,
            isPropagationStopped: it,
            isImmediatePropagationStopped: it,
            preventDefault: function() {
                var n = this.originalEvent;
                this.isDefaultPrevented = vt;
                n && (n.preventDefault ? n.preventDefault() : n.returnValue = !1)
            },
            stopPropagation: function() {
                var n = this.originalEvent;
                this.isPropagationStopped = vt;
                n && (n.stopPropagation && n.stopPropagation(), n.cancelBubble = !0)
            },
            stopImmediatePropagation: function() {
                var n = this.originalEvent;
                this.isImmediatePropagationStopped = vt;
                n && n.stopImmediatePropagation && n.stopImmediatePropagation();
                this.stopPropagation()
            }
        };
        i.each({
            mouseenter: "mouseover",
            mouseleave: "mouseout",
            pointerenter: "pointerover",
            pointerleave: "pointerout"
        }, function(n, t) {
            i.event.special[n] = {
                delegateType: t,
                bindType: t,
                handle: function(n) {
                    var u, f = this,
                        r = n.relatedTarget,
                        e = n.handleObj;
                    return (!r || r !== f && !i.contains(f, r)) && (n.type = e.origType, u = e.handler.apply(this, arguments), n.type = t), u
                }
            }
        });
        r.submitBubbles || (i.event.special.submit = {
            setup: function() {
                return i.nodeName(this, "form") ? !1 : void i.event.add(this, "click._submit keypress._submit", function(n) {
                    var r = n.target,
                        t = i.nodeName(r, "input") || i.nodeName(r, "button") ? r.form : void 0;
                    t && !i._data(t, "submitBubbles") && (i.event.add(t, "submit._submit", function(n) {
                        n._submit_bubble = !0
                    }), i._data(t, "submitBubbles", !0))
                })
            },
            postDispatch: function(n) {
                n._submit_bubble && (delete n._submit_bubble, this.parentNode && !n.isTrigger && i.event.simulate("submit", this.parentNode, n, !0))
            },
            teardown: function() {
                return i.nodeName(this, "form") ? !1 : void i.event.remove(this, "._submit")
            }
        });
        r.changeBubbles || (i.event.special.change = {
            setup: function() {
                return si.test(this.nodeName) ? (("checkbox" === this.type || "radio" === this.type) && (i.event.add(this, "propertychange._change", function(n) {
                    "checked" === n.originalEvent.propertyName && (this._just_changed = !0)
                }), i.event.add(this, "click._change", function(n) {
                    this._just_changed && !n.isTrigger && (this._just_changed = !1);
                    i.event.simulate("change", this, n, !0)
                })), !1) : void i.event.add(this, "beforeactivate._change", function(n) {
                    var t = n.target;
                    si.test(t.nodeName) && !i._data(t, "changeBubbles") && (i.event.add(t, "change._change", function(n) {
                        !this.parentNode || n.isSimulated || n.isTrigger || i.event.simulate("change", this.parentNode, n, !0)
                    }), i._data(t, "changeBubbles", !0))
                })
            },
            handle: function(n) {
                var t = n.target;
                if (this !== t || n.isSimulated || n.isTrigger || "radio" !== t.type && "checkbox" !== t.type) return n.handleObj.handler.apply(this, arguments)
            },
            teardown: function() {
                return i.event.remove(this, "._change"), !si.test(this.nodeName)
            }
        });
        r.focusinBubbles || i.each({
            focus: "focusin",
            blur: "focusout"
        }, function(n, t) {
            var r = function(n) {
                i.event.simulate(t, n.target, i.event.fix(n), !0)
            };
            i.event.special[t] = {
                setup: function() {
                    var u = this.ownerDocument || this,
                        f = i._data(u, t);
                    f || u.addEventListener(n, r, !0);
                    i._data(u, t, (f || 0) + 1)
                },
                teardown: function() {
                    var u = this.ownerDocument || this,
                        f = i._data(u, t) - 1;
                    f ? i._data(u, t, f) : (u.removeEventListener(n, r, !0), i._removeData(u, t))
                }
            }
        });
        i.fn.extend({
            on: function(n, t, r, u, f) {
                var o, e;
                if ("object" == typeof n) {
                    "string" != typeof t && (r = r || t, t = void 0);
                    for (o in n) this.on(o, t, r, n[o], f);
                    return this
                }
                if (null == r && null == u ? (u = t, r = t = void 0) : null == u && ("string" == typeof t ? (u = r, r = void 0) : (u = r, r = t, t = void 0)), u === !1) u = it;
                else if (!u) return this;
                return 1 === f && (e = u, u = function(n) {
                    return i().off(n), e.apply(this, arguments)
                }, u.guid = e.guid || (e.guid = i.guid++)), this.each(function() {
                    i.event.add(this, n, u, r, t)
                })
            },
            one: function(n, t, i, r) {
                return this.on(n, t, i, r, 1)
            },
            off: function(n, t, r) {
                var u, f;
                if (n && n.preventDefault && n.handleObj) return u = n.handleObj, i(n.delegateTarget).off(u.namespace ? u.origType + "." + u.namespace : u.origType, u.selector, u.handler), this;
                if ("object" == typeof n) {
                    for (f in n) this.off(f, t, n[f]);
                    return this
                }
                return (t === !1 || "function" == typeof t) && (r = t, t = void 0), r === !1 && (r = it), this.each(function() {
                    i.event.remove(this, n, r, t)
                })
            },
            trigger: function(n, t) {
                return this.each(function() {
                    i.event.trigger(n, t, this)
                })
            },
            triggerHandler: function(n, t) {
                var r = this[0];
                if (r) return i.event.trigger(n, t, r, !0)
            }
        });
        var nu = "abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",
            he = / jQuery\d+="(?:null|\d+)"/g,
            tu = new RegExp("<(?:" + nu + ")[\\s/>]", "i"),
            hi = /^\s+/,
            iu = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
            ru = /<([\w:]+)/,
            uu = /<tbody/i,
            ce = /<|&#?\w+;/,
            le = /<(?:script|style|link)/i,
            ae = /checked\s*(?:[^=]|=\s*.checked.)/i,
            fu = /^$|\/(?:java|ecma)script/i,
            ve = /^true\/(.*)/,
            ye = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,
            s = {
                option: [1, "<select multiple='multiple'>", "<\/select>"],
                legend: [1, "<fieldset>", "<\/fieldset>"],
                area: [1, "<map>", "<\/map>"],
                param: [1, "<object>", "<\/object>"],
                thead: [1, "<table>", "<\/table>"],
                tr: [2, "<table><tbody>", "<\/tbody><\/table>"],
                col: [2, "<table><tbody><\/tbody><colgroup>", "<\/colgroup><\/table>"],
                td: [3, "<table><tbody><tr>", "<\/tr><\/tbody><\/table>"],
                _default: r.htmlSerialize ? [0, "", ""] : [1, "X<div>", "<\/div>"]
            },
            pe = gr(u),
            ci = pe.appendChild(u.createElement("div"));
        s.optgroup = s.option;
        s.tbody = s.tfoot = s.colgroup = s.caption = s.thead;
        s.th = s.td;
        i.extend({
            clone: function(n, t, u) {
                var e, c, s, o, h, l = i.contains(n.ownerDocument, n);
                if (r.html5Clone || i.isXMLDoc(n) || !tu.test("<" + n.nodeName + ">") ? s = n.cloneNode(!0) : (ci.innerHTML = n.outerHTML, ci.removeChild(s = ci.firstChild)), !(r.noCloneEvent && r.noCloneChecked || 1 !== n.nodeType && 11 !== n.nodeType || i.isXMLDoc(n)))
                    for (e = f(s), h = f(n), o = 0; null != (c = h[o]); ++o) e[o] && be(c, e[o]);
                if (t)
                    if (u)
                        for (h = h || f(n), e = e || f(s), o = 0; null != (c = h[o]); o++) hu(c, e[o]);
                    else hu(n, s);
                return e = f(s, "script"), e.length > 0 && li(e, !l && f(n, "script")), e = h = c = null, s
            },
            buildFragment: function(n, t, u, e) {
                for (var c, o, b, h, p, w, a, k = n.length, v = gr(t), l = [], y = 0; k > y; y++)
                    if (o = n[y], o || 0 === o)
                        if ("object" === i.type(o)) i.merge(l, o.nodeType ? [o] : o);
                        else if (ce.test(o)) {
                    for (h = h || v.appendChild(t.createElement("div")), p = (ru.exec(o) || ["", ""])[1].toLowerCase(), a = s[p] || s._default, h.innerHTML = a[1] + o.replace(iu, "<$1><\/$2>") + a[2], c = a[0]; c--;) h = h.lastChild;
                    if (!r.leadingWhitespace && hi.test(o) && l.push(t.createTextNode(hi.exec(o)[0])), !r.tbody)
                        for (o = "table" !== p || uu.test(o) ? "<table>" !== a[1] || uu.test(o) ? 0 : h : h.firstChild, c = o && o.childNodes.length; c--;) i.nodeName(w = o.childNodes[c], "tbody") && !w.childNodes.length && o.removeChild(w);
                    for (i.merge(l, h.childNodes), h.textContent = ""; h.firstChild;) h.removeChild(h.firstChild);
                    h = v.lastChild
                } else l.push(t.createTextNode(o));
                for (h && v.removeChild(h), r.appendChecked || i.grep(f(l, "input"), we), y = 0; o = l[y++];)
                    if ((!e || -1 === i.inArray(o, e)) && (b = i.contains(o.ownerDocument, o), h = f(v.appendChild(o), "script"), b && li(h), u))
                        for (c = 0; o = h[c++];) fu.test(o.type || "") && u.push(o);
                return h = null, v
            },
            cleanData: function(n, t) {
                for (var u, e, f, s, a = 0, h = i.expando, l = i.cache, v = r.deleteExpando, y = i.event.special; null != (u = n[a]); a++)
                    if ((t || i.acceptData(u)) && (f = u[h], s = f && l[f])) {
                        if (s.events)
                            for (e in s.events) y[e] ? i.event.remove(u, e) : i.removeEvent(u, e, s.handle);
                        l[f] && (delete l[f], v ? delete u[h] : typeof u.removeAttribute !== o ? u.removeAttribute(h) : u[h] = null, c.push(f))
                    }
            }
        });
        i.fn.extend({
            text: function(n) {
                return b(this, function(n) {
                    return void 0 === n ? i.text(this) : this.empty().append((this[0] && this[0].ownerDocument || u).createTextNode(n))
                }, null, n, arguments.length)
            },
            append: function() {
                return this.domManip(arguments, function(n) {
                    if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                        var t = eu(this, n);
                        t.appendChild(n)
                    }
                })
            },
            prepend: function() {
                return this.domManip(arguments, function(n) {
                    if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                        var t = eu(this, n);
                        t.insertBefore(n, t.firstChild)
                    }
                })
            },
            before: function() {
                return this.domManip(arguments, function(n) {
                    this.parentNode && this.parentNode.insertBefore(n, this)
                })
            },
            after: function() {
                return this.domManip(arguments, function(n) {
                    this.parentNode && this.parentNode.insertBefore(n, this.nextSibling)
                })
            },
            remove: function(n, t) {
                for (var r, e = n ? i.filter(n, this) : this, u = 0; null != (r = e[u]); u++) t || 1 !== r.nodeType || i.cleanData(f(r)), r.parentNode && (t && i.contains(r.ownerDocument, r) && li(f(r, "script")), r.parentNode.removeChild(r));
                return this
            },
            empty: function() {
                for (var n, t = 0; null != (n = this[t]); t++) {
                    for (1 === n.nodeType && i.cleanData(f(n, !1)); n.firstChild;) n.removeChild(n.firstChild);
                    n.options && i.nodeName(n, "select") && (n.options.length = 0)
                }
                return this
            },
            clone: function(n, t) {
                return n = null == n ? !1 : n, t = null == t ? n : t, this.map(function() {
                    return i.clone(this, n, t)
                })
            },
            html: function(n) {
                return b(this, function(n) {
                    var t = this[0] || {},
                        u = 0,
                        e = this.length;
                    if (void 0 === n) return 1 === t.nodeType ? t.innerHTML.replace(he, "") : void 0;
                    if (!("string" != typeof n || le.test(n) || !r.htmlSerialize && tu.test(n) || !r.leadingWhitespace && hi.test(n) || s[(ru.exec(n) || ["", ""])[1].toLowerCase()])) {
                        n = n.replace(iu, "<$1><\/$2>");
                        try {
                            for (; e > u; u++) t = this[u] || {}, 1 === t.nodeType && (i.cleanData(f(t, !1)), t.innerHTML = n);
                            t = 0
                        } catch (o) {}
                    }
                    t && this.empty().append(n)
                }, null, n, arguments.length)
            },
            replaceWith: function() {
                var n = arguments[0];
                return this.domManip(arguments, function(t) {
                    n = this.parentNode;
                    i.cleanData(f(this));
                    n && n.replaceChild(t, this)
                }), n && (n.length || n.nodeType) ? this : this.remove()
            },
            detach: function(n) {
                return this.remove(n, !0)
            },
            domManip: function(n, t) {
                n = ir.apply([], n);
                var h, u, c, o, v, s, e = 0,
                    l = this.length,
                    p = this,
                    w = l - 1,
                    a = n[0],
                    y = i.isFunction(a);
                if (y || l > 1 && "string" == typeof a && !r.checkClone && ae.test(a)) return this.each(function(i) {
                    var r = p.eq(i);
                    y && (n[0] = a.call(this, i, r.html()));
                    r.domManip(n, t)
                });
                if (l && (s = i.buildFragment(n, this[0].ownerDocument, !1, this), h = s.firstChild, 1 === s.childNodes.length && (s = h), h)) {
                    for (o = i.map(f(s, "script"), ou), c = o.length; l > e; e++) u = s, e !== w && (u = i.clone(u, !0, !0), c && i.merge(o, f(u, "script"))), t.call(this[e], u, e);
                    if (c)
                        for (v = o[o.length - 1].ownerDocument, i.map(o, su), e = 0; c > e; e++) u = o[e], fu.test(u.type || "") && !i._data(u, "globalEval") && i.contains(v, u) && (u.src ? i._evalUrl && i._evalUrl(u.src) : i.globalEval((u.text || u.textContent || u.innerHTML || "").replace(ye, "")));
                    s = h = null
                }
                return this
            }
        });
        i.each({
            appendTo: "append",
            prependTo: "prepend",
            insertBefore: "before",
            insertAfter: "after",
            replaceAll: "replaceWith"
        }, function(n, t) {
            i.fn[n] = function(n) {
                for (var u, r = 0, f = [], e = i(n), o = e.length - 1; o >= r; r++) u = r === o ? this : this.clone(!0), i(e[r])[t](u), ii.apply(f, u.get());
                return this.pushStack(f)
            }
        });
        ai = {};
        ! function() {
            var n;
            r.shrinkWrapBlocks = function() {
                if (null != n) return n;
                n = !1;
                var t, i, r;
                return i = u.getElementsByTagName("body")[0], i && i.style ? (t = u.createElement("div"), r = u.createElement("div"), r.style.cssText = "position:absolute;border:0;width:0;height:0;top:0;left:-9999px", i.appendChild(r).appendChild(t), typeof t.style.zoom !== o && (t.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1", t.appendChild(u.createElement("div")).style.width = "5px", n = 3 !== t.offsetWidth), i.removeChild(r), n) : void 0
            }
        }();
        var lu = /^margin/,
            pt = new RegExp("^(" + at + ")(?!px)[a-z%]+$", "i"),
            k, d, ke = /^(top|right|bottom|left)$/;
        n.getComputedStyle ? (k = function(n) {
            return n.ownerDocument.defaultView.getComputedStyle(n, null)
        }, d = function(n, t, r) {
            var e, o, s, u, f = n.style;
            return r = r || k(n), u = r ? r.getPropertyValue(t) || r[t] : void 0, r && ("" !== u || i.contains(n.ownerDocument, n) || (u = i.style(n, t)), pt.test(u) && lu.test(t) && (e = f.width, o = f.minWidth, s = f.maxWidth, f.minWidth = f.maxWidth = f.width = u, u = r.width, f.width = e, f.minWidth = o, f.maxWidth = s)), void 0 === u ? u : u + ""
        }) : u.documentElement.currentStyle && (k = function(n) {
            return n.currentStyle
        }, d = function(n, t, i) {
            var o, f, e, r, u = n.style;
            return i = i || k(n), r = i ? i[t] : void 0, null == r && u && u[t] && (r = u[t]), pt.test(r) && !ke.test(t) && (o = u.left, f = n.runtimeStyle, e = f && f.left, e && (f.left = n.currentStyle.left), u.left = "fontSize" === t ? "1em" : r, r = u.pixelLeft + "px", u.left = o, e && (f.left = e)), void 0 === r ? r : r + "" || "auto"
        });
        ! function() {
            var f, t, l, o, s, e, h;
            if (f = u.createElement("div"), f.innerHTML = "  <link/><table><\/table><a href='/a'>a<\/a><input type='checkbox'/>", l = f.getElementsByTagName("a")[0], t = l && l.style) {
                t.cssText = "float:left;opacity:.5";
                r.opacity = "0.5" === t.opacity;
                r.cssFloat = !!t.cssFloat;
                f.style.backgroundClip = "content-box";
                f.cloneNode(!0).style.backgroundClip = "";
                r.clearCloneStyle = "content-box" === f.style.backgroundClip;
                r.boxSizing = "" === t.boxSizing || "" === t.MozBoxSizing || "" === t.WebkitBoxSizing;
                i.extend(r, {
                    reliableHiddenOffsets: function() {
                        return null == e && c(), e
                    },
                    boxSizingReliable: function() {
                        return null == s && c(), s
                    },
                    pixelPosition: function() {
                        return null == o && c(), o
                    },
                    reliableMarginRight: function() {
                        return null == h && c(), h
                    }
                });

                function c() {
                    var i, r, f, t;
                    r = u.getElementsByTagName("body")[0];
                    r && r.style && (i = u.createElement("div"), f = u.createElement("div"), f.style.cssText = "position:absolute;border:0;width:0;height:0;top:0;left:-9999px", r.appendChild(f).appendChild(i), i.style.cssText = "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute", o = s = !1, h = !0, n.getComputedStyle && (o = "1%" !== (n.getComputedStyle(i, null) || {}).top, s = "4px" === (n.getComputedStyle(i, null) || {
                        width: "4px"
                    }).width, t = i.appendChild(u.createElement("div")), t.style.cssText = i.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0", t.style.marginRight = t.style.width = "0", i.style.width = "1px", h = !parseFloat((n.getComputedStyle(t, null) || {}).marginRight)), i.innerHTML = "<table><tr><td><\/td><td>t<\/td><\/tr><\/table>", t = i.getElementsByTagName("td"), t[0].style.cssText = "margin:0;border:0;padding:0;display:none", e = 0 === t[0].offsetHeight, e && (t[0].style.display = "", t[1].style.display = "none", e = 0 === t[0].offsetHeight), r.removeChild(f))
                }
            }
        }();
        i.swap = function(n, t, i, r) {
            var f, u, e = {};
            for (u in t) e[u] = n.style[u], n.style[u] = t[u];
            f = i.apply(n, r || []);
            for (u in t) n.style[u] = e[u];
            return f
        };
        var vi = /alpha\([^)]*\)/i,
            de = /opacity\s*=\s*([^)]*)/,
            ge = /^(none|table(?!-c[ea]).+)/,
            no = new RegExp("^(" + at + ")(.*)$", "i"),
            to = new RegExp("^([+-])=(" + at + ")", "i"),
            io = {
                position: "absolute",
                visibility: "hidden",
                display: "block"
            },
            vu = {
                letterSpacing: "0",
                fontWeight: "400"
            },
            yu = ["Webkit", "O", "Moz", "ms"];
        i.extend({
            cssHooks: {
                opacity: {
                    get: function(n, t) {
                        if (t) {
                            var i = d(n, "opacity");
                            return "" === i ? "1" : i
                        }
                    }
                }
            },
            cssNumber: {
                columnCount: !0,
                fillOpacity: !0,
                flexGrow: !0,
                flexShrink: !0,
                fontWeight: !0,
                lineHeight: !0,
                opacity: !0,
                order: !0,
                orphans: !0,
                widows: !0,
                zIndex: !0,
                zoom: !0
            },
            cssProps: {
                float: r.cssFloat ? "cssFloat" : "styleFloat"
            },
            style: function(n, t, u, f) {
                if (n && 3 !== n.nodeType && 8 !== n.nodeType && n.style) {
                    var o, h, e, s = i.camelCase(t),
                        c = n.style;
                    if (t = i.cssProps[s] || (i.cssProps[s] = pu(c, s)), e = i.cssHooks[t] || i.cssHooks[s], void 0 === u) return e && "get" in e && void 0 !== (o = e.get(n, !1, f)) ? o : c[t];
                    if (h = typeof u, "string" === h && (o = to.exec(u)) && (u = (o[1] + 1) * o[2] + parseFloat(i.css(n, t)), h = "number"), null != u && u === u && ("number" !== h || i.cssNumber[s] || (u += "px"), r.clearCloneStyle || "" !== u || 0 !== t.indexOf("background") || (c[t] = "inherit"), !(e && "set" in e && void 0 === (u = e.set(n, u, f))))) try {
                        c[t] = u
                    } catch (l) {}
                }
            },
            css: function(n, t, r, u) {
                var s, f, e, o = i.camelCase(t);
                return t = i.cssProps[o] || (i.cssProps[o] = pu(n.style, o)), e = i.cssHooks[t] || i.cssHooks[o], e && "get" in e && (f = e.get(n, !0, r)), void 0 === f && (f = d(n, t, u)), "normal" === f && t in vu && (f = vu[t]), "" === r || r ? (s = parseFloat(f), r === !0 || i.isNumeric(s) ? s || 0 : f) : f
            }
        });
        i.each(["height", "width"], function(n, t) {
            i.cssHooks[t] = {
                get: function(n, r, u) {
                    if (r) return ge.test(i.css(n, "display")) && 0 === n.offsetWidth ? i.swap(n, io, function() {
                        return du(n, t, u)
                    }) : du(n, t, u)
                },
                set: function(n, u, f) {
                    var e = f && k(n);
                    return bu(n, u, f ? ku(n, t, f, r.boxSizing && "border-box" === i.css(n, "boxSizing", !1, e), e) : 0)
                }
            }
        });
        r.opacity || (i.cssHooks.opacity = {
            get: function(n, t) {
                return de.test((t && n.currentStyle ? n.currentStyle.filter : n.style.filter) || "") ? .01 * parseFloat(RegExp.$1) + "" : t ? "1" : ""
            },
            set: function(n, t) {
                var r = n.style,
                    u = n.currentStyle,
                    e = i.isNumeric(t) ? "alpha(opacity=" + 100 * t + ")" : "",
                    f = u && u.filter || r.filter || "";
                r.zoom = 1;
                (t >= 1 || "" === t) && "" === i.trim(f.replace(vi, "")) && r.removeAttribute && (r.removeAttribute("filter"), "" === t || u && !u.filter) || (r.filter = vi.test(f) ? f.replace(vi, e) : f + " " + e)
            }
        });
        i.cssHooks.marginRight = au(r.reliableMarginRight, function(n, t) {
            if (t) return i.swap(n, {
                display: "inline-block"
            }, d, [n, "marginRight"])
        });
        i.each({
            margin: "",
            padding: "",
            border: "Width"
        }, function(n, t) {
            i.cssHooks[n + t] = {
                expand: function(i) {
                    for (var r = 0, f = {}, u = "string" == typeof i ? i.split(" ") : [i]; 4 > r; r++) f[n + w[r] + t] = u[r] || u[r - 2] || u[0];
                    return f
                }
            };
            lu.test(n) || (i.cssHooks[n + t].set = bu)
        });
        i.fn.extend({
            css: function(n, t) {
                return b(this, function(n, t, r) {
                    var f, e, o = {},
                        u = 0;
                    if (i.isArray(t)) {
                        for (f = k(n), e = t.length; e > u; u++) o[t[u]] = i.css(n, t[u], !1, f);
                        return o
                    }
                    return void 0 !== r ? i.style(n, t, r) : i.css(n, t)
                }, n, t, arguments.length > 1)
            },
            show: function() {
                return wu(this, !0)
            },
            hide: function() {
                return wu(this)
            },
            toggle: function(n) {
                return "boolean" == typeof n ? n ? this.show() : this.hide() : this.each(function() {
                    et(this) ? i(this).show() : i(this).hide()
                })
            }
        });
        i.Tween = e;
        e.prototype = {
            constructor: e,
            init: function(n, t, r, u, f, e) {
                this.elem = n;
                this.prop = r;
                this.easing = f || "swing";
                this.options = t;
                this.start = this.now = this.cur();
                this.end = u;
                this.unit = e || (i.cssNumber[r] ? "" : "px")
            },
            cur: function() {
                var n = e.propHooks[this.prop];
                return n && n.get ? n.get(this) : e.propHooks._default.get(this)
            },
            run: function(n) {
                var r, t = e.propHooks[this.prop];
                return this.pos = r = this.options.duration ? i.easing[this.easing](n, this.options.duration * n, 0, 1, this.options.duration) : n, this.now = (this.end - this.start) * r + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), t && t.set ? t.set(this) : e.propHooks._default.set(this), this
            }
        };
        e.prototype.init.prototype = e.prototype;
        e.propHooks = {
            _default: {
                get: function(n) {
                    var t;
                    return null == n.elem[n.prop] || n.elem.style && null != n.elem.style[n.prop] ? (t = i.css(n.elem, n.prop, ""), t && "auto" !== t ? t : 0) : n.elem[n.prop]
                },
                set: function(n) {
                    i.fx.step[n.prop] ? i.fx.step[n.prop](n) : n.elem.style && (null != n.elem.style[i.cssProps[n.prop]] || i.cssHooks[n.prop]) ? i.style(n.elem, n.prop, n.now + n.unit) : n.elem[n.prop] = n.now
                }
            }
        };
        e.propHooks.scrollTop = e.propHooks.scrollLeft = {
            set: function(n) {
                n.elem.nodeType && n.elem.parentNode && (n.elem[n.prop] = n.now)
            }
        };
        i.easing = {
            linear: function(n) {
                return n
            },
            swing: function(n) {
                return .5 - Math.cos(n * Math.PI) / 2
            }
        };
        i.fx = e.prototype.init;
        i.fx.step = {};
        var rt, wt, ro = /^(?:toggle|show|hide)$/,
            gu = new RegExp("^(?:([+-])=|)(" + at + ")([a-z%]*)$", "i"),
            uo = /queueHooks$/,
            bt = [fo],
            st = {
                "*": [function(n, t) {
                    var f = this.createTween(n, t),
                        s = f.cur(),
                        r = gu.exec(t),
                        e = r && r[3] || (i.cssNumber[n] ? "" : "px"),
                        u = (i.cssNumber[n] || "px" !== e && +s) && gu.exec(i.css(f.elem, n)),
                        o = 1,
                        h = 20;
                    if (u && u[3] !== e) {
                        e = e || u[3];
                        r = r || [];
                        u = +s || 1;
                        do o = o || ".5", u /= o, i.style(f.elem, n, u + e); while (o !== (o = f.cur() / s) && 1 !== o && --h)
                    }
                    return r && (u = f.start = +u || +s || 0, f.unit = e, f.end = r[1] ? u + (r[1] + 1) * r[2] : +r[2]), f
                }]
            };
        i.Animation = i.extend(rf, {
            tweener: function(n, t) {
                i.isFunction(n) ? (t = n, n = ["*"]) : n = n.split(" ");
                for (var r, u = 0, f = n.length; f > u; u++) r = n[u], st[r] = st[r] || [], st[r].unshift(t)
            },
            prefilter: function(n, t) {
                t ? bt.unshift(n) : bt.push(n)
            }
        });
        i.speed = function(n, t, r) {
            var u = n && "object" == typeof n ? i.extend({}, n) : {
                complete: r || !r && t || i.isFunction(n) && n,
                duration: n,
                easing: r && t || t && !i.isFunction(t) && t
            };
            return u.duration = i.fx.off ? 0 : "number" == typeof u.duration ? u.duration : u.duration in i.fx.speeds ? i.fx.speeds[u.duration] : i.fx.speeds._default, (null == u.queue || u.queue === !0) && (u.queue = "fx"), u.old = u.complete, u.complete = function() {
                i.isFunction(u.old) && u.old.call(this);
                u.queue && i.dequeue(this, u.queue)
            }, u
        };
        i.fn.extend({
            fadeTo: function(n, t, i, r) {
                return this.filter(et).css("opacity", 0).show().end().animate({
                    opacity: t
                }, n, i, r)
            },
            animate: function(n, t, r, u) {
                var o = i.isEmptyObject(n),
                    e = i.speed(t, r, u),
                    f = function() {
                        var t = rf(this, i.extend({}, n), e);
                        (o || i._data(this, "finish")) && t.stop(!0)
                    };
                return f.finish = f, o || e.queue === !1 ? this.each(f) : this.queue(e.queue, f)
            },
            stop: function(n, t, r) {
                var u = function(n) {
                    var t = n.stop;
                    delete n.stop;
                    t(r)
                };
                return "string" != typeof n && (r = t, t = n, n = void 0), t && n !== !1 && this.queue(n || "fx", []), this.each(function() {
                    var o = !0,
                        t = null != n && n + "queueHooks",
                        e = i.timers,
                        f = i._data(this);
                    if (t) f[t] && f[t].stop && u(f[t]);
                    else
                        for (t in f) f[t] && f[t].stop && uo.test(t) && u(f[t]);
                    for (t = e.length; t--;) e[t].elem !== this || null != n && e[t].queue !== n || (e[t].anim.stop(r), o = !1, e.splice(t, 1));
                    (o || !r) && i.dequeue(this, n)
                })
            },
            finish: function(n) {
                return n !== !1 && (n = n || "fx"), this.each(function() {
                    var t, f = i._data(this),
                        r = f[n + "queue"],
                        e = f[n + "queueHooks"],
                        u = i.timers,
                        o = r ? r.length : 0;
                    for (f.finish = !0, i.queue(this, n, []), e && e.stop && e.stop.call(this, !0), t = u.length; t--;) u[t].elem === this && u[t].queue === n && (u[t].anim.stop(!0), u.splice(t, 1));
                    for (t = 0; o > t; t++) r[t] && r[t].finish && r[t].finish.call(this);
                    delete f.finish
                })
            }
        });
        i.each(["toggle", "show", "hide"], function(n, t) {
            var r = i.fn[t];
            i.fn[t] = function(n, i, u) {
                return null == n || "boolean" == typeof n ? r.apply(this, arguments) : this.animate(kt(t, !0), n, i, u)
            }
        });
        i.each({
            slideDown: kt("show"),
            slideUp: kt("hide"),
            slideToggle: kt("toggle"),
            fadeIn: {
                opacity: "show"
            },
            fadeOut: {
                opacity: "hide"
            },
            fadeToggle: {
                opacity: "toggle"
            }
        }, function(n, t) {
            i.fn[n] = function(n, i, r) {
                return this.animate(t, n, i, r)
            }
        });
        i.timers = [];
        i.fx.tick = function() {
            var r, n = i.timers,
                t = 0;
            for (rt = i.now(); t < n.length; t++) r = n[t], r() || n[t] !== r || n.splice(t--, 1);
            n.length || i.fx.stop();
            rt = void 0
        };
        i.fx.timer = function(n) {
            i.timers.push(n);
            n() ? i.fx.start() : i.timers.pop()
        };
        i.fx.interval = 13;
        i.fx.start = function() {
            wt || (wt = setInterval(i.fx.tick, i.fx.interval))
        };
        i.fx.stop = function() {
            clearInterval(wt);
            wt = null
        };
        i.fx.speeds = {
            slow: 600,
            fast: 200,
            _default: 400
        };
        i.fn.delay = function(n, t) {
                return n = i.fx ? i.fx.speeds[n] || n : n, t = t || "fx", this.queue(t, function(t, i) {
                    var r = setTimeout(t, n);
                    i.stop = function() {
                        clearTimeout(r)
                    }
                })
            },
            function() {
                var n, t, f, i, e;
                t = u.createElement("div");
                t.setAttribute("className", "t");
                t.innerHTML = "  <link/><table><\/table><a href='/a'>a<\/a><input type='checkbox'/>";
                i = t.getElementsByTagName("a")[0];
                f = u.createElement("select");
                e = f.appendChild(u.createElement("option"));
                n = t.getElementsByTagName("input")[0];
                i.style.cssText = "top:1px";
                r.getSetAttribute = "t" !== t.className;
                r.style = /top/.test(i.getAttribute("style"));
                r.hrefNormalized = "/a" === i.getAttribute("href");
                r.checkOn = !!n.value;
                r.optSelected = e.selected;
                r.enctype = !!u.createElement("form").enctype;
                f.disabled = !0;
                r.optDisabled = !e.disabled;
                n = u.createElement("input");
                n.setAttribute("value", "");
                r.input = "" === n.getAttribute("value");
                n.value = "t";
                n.setAttribute("type", "radio");
                r.radioValue = "t" === n.value
            }();
        uf = /\r/g;
        i.fn.extend({
            val: function(n) {
                var t, r, f, u = this[0];
                return arguments.length ? (f = i.isFunction(n), this.each(function(r) {
                    var u;
                    1 === this.nodeType && (u = f ? n.call(this, r, i(this).val()) : n, null == u ? u = "" : "number" == typeof u ? u += "" : i.isArray(u) && (u = i.map(u, function(n) {
                        return null == n ? "" : n + ""
                    })), t = i.valHooks[this.type] || i.valHooks[this.nodeName.toLowerCase()], t && "set" in t && void 0 !== t.set(this, u, "value") || (this.value = u))
                })) : u ? (t = i.valHooks[u.type] || i.valHooks[u.nodeName.toLowerCase()], t && "get" in t && void 0 !== (r = t.get(u, "value")) ? r : (r = u.value, "string" == typeof r ? r.replace(uf, "") : null == r ? "" : r)) : void 0
            }
        });
        i.extend({
            valHooks: {
                option: {
                    get: function(n) {
                        var t = i.find.attr(n, "value");
                        return null != t ? t : i.trim(i.text(n))
                    }
                },
                select: {
                    get: function(n) {
                        for (var o, t, s = n.options, u = n.selectedIndex, f = "select-one" === n.type || 0 > u, h = f ? null : [], c = f ? u + 1 : s.length, e = 0 > u ? c : f ? u : 0; c > e; e++)
                            if (t = s[e], !(!t.selected && e !== u || (r.optDisabled ? t.disabled : null !== t.getAttribute("disabled")) || t.parentNode.disabled && i.nodeName(t.parentNode, "optgroup"))) {
                                if (o = i(t).val(), f) return o;
                                h.push(o)
                            }
                        return h
                    },
                    set: function(n, t) {
                        for (var f, r, u = n.options, o = i.makeArray(t), e = u.length; e--;)
                            if (r = u[e], i.inArray(i.valHooks.option.get(r), o) >= 0) try {
                                r.selected = f = !0
                            } catch (s) {
                                r.scrollHeight
                            } else r.selected = !1;
                        return f || (n.selectedIndex = -1), u
                    }
                }
            }
        });
        i.each(["radio", "checkbox"], function() {
            i.valHooks[this] = {
                set: function(n, t) {
                    if (i.isArray(t)) return n.checked = i.inArray(i(n).val(), t) >= 0
                }
            };
            r.checkOn || (i.valHooks[this].get = function(n) {
                return null === n.getAttribute("value") ? "on" : n.value
            })
        });
        var ut, ff, v = i.expr.attrHandle,
            yi = /^(?:checked|selected)$/i,
            g = r.getSetAttribute,
            dt = r.input;
        i.fn.extend({
            attr: function(n, t) {
                return b(this, i.attr, n, t, arguments.length > 1)
            },
            removeAttr: function(n) {
                return this.each(function() {
                    i.removeAttr(this, n)
                })
            }
        });
        i.extend({
            attr: function(n, t, r) {
                var u, f, e = n.nodeType;
                if (n && 3 !== e && 8 !== e && 2 !== e) return typeof n.getAttribute === o ? i.prop(n, t, r) : (1 === e && i.isXMLDoc(n) || (t = t.toLowerCase(), u = i.attrHooks[t] || (i.expr.match.bool.test(t) ? ff : ut)), void 0 === r ? u && "get" in u && null !== (f = u.get(n, t)) ? f : (f = i.find.attr(n, t), null == f ? void 0 : f) : null !== r ? u && "set" in u && void 0 !== (f = u.set(n, r, t)) ? f : (n.setAttribute(t, r + ""), r) : void i.removeAttr(n, t))
            },
            removeAttr: function(n, t) {
                var r, u, e = 0,
                    f = t && t.match(h);
                if (f && 1 === n.nodeType)
                    while (r = f[e++]) u = i.propFix[r] || r, i.expr.match.bool.test(r) ? dt && g || !yi.test(r) ? n[u] = !1 : n[i.camelCase("default-" + r)] = n[u] = !1 : i.attr(n, r, ""), n.removeAttribute(g ? r : u)
            },
            attrHooks: {
                type: {
                    set: function(n, t) {
                        if (!r.radioValue && "radio" === t && i.nodeName(n, "input")) {
                            var u = n.value;
                            return n.setAttribute("type", t), u && (n.value = u), t
                        }
                    }
                }
            }
        });
        ff = {
            set: function(n, t, r) {
                return t === !1 ? i.removeAttr(n, r) : dt && g || !yi.test(r) ? n.setAttribute(!g && i.propFix[r] || r, r) : n[i.camelCase("default-" + r)] = n[r] = !0, r
            }
        };
        i.each(i.expr.match.bool.source.match(/\w+/g), function(n, t) {
            var r = v[t] || i.find.attr;
            v[t] = dt && g || !yi.test(t) ? function(n, t, i) {
                var u, f;
                return i || (f = v[t], v[t] = u, u = null != r(n, t, i) ? t.toLowerCase() : null, v[t] = f), u
            } : function(n, t, r) {
                if (!r) return n[i.camelCase("default-" + t)] ? t.toLowerCase() : null
            }
        });
        dt && g || (i.attrHooks.value = {
            set: function(n, t, r) {
                return i.nodeName(n, "input") ? void(n.defaultValue = t) : ut && ut.set(n, t, r)
            }
        });
        g || (ut = {
            set: function(n, t, i) {
                var r = n.getAttributeNode(i);
                return r || n.setAttributeNode(r = n.ownerDocument.createAttribute(i)), r.value = t += "", "value" === i || t === n.getAttribute(i) ? t : void 0
            }
        }, v.id = v.name = v.coords = function(n, t, i) {
            var r;
            if (!i) return (r = n.getAttributeNode(t)) && "" !== r.value ? r.value : null
        }, i.valHooks.button = {
            get: function(n, t) {
                var i = n.getAttributeNode(t);
                if (i && i.specified) return i.value
            },
            set: ut.set
        }, i.attrHooks.contenteditable = {
            set: function(n, t, i) {
                ut.set(n, "" === t ? !1 : t, i)
            }
        }, i.each(["width", "height"], function(n, t) {
            i.attrHooks[t] = {
                set: function(n, i) {
                    if ("" === i) return (n.setAttribute(t, "auto"), i)
                }
            }
        }));
        r.style || (i.attrHooks.style = {
            get: function(n) {
                return n.style.cssText || void 0
            },
            set: function(n, t) {
                return n.style.cssText = t + ""
            }
        });
        ef = /^(?:input|select|textarea|button|object)$/i;
        of = /^(?:a|area)$/i;
        i.fn.extend({
            prop: function(n, t) {
                return b(this, i.prop, n, t, arguments.length > 1)
            },
            removeProp: function(n) {
                return n = i.propFix[n] || n, this.each(function() {
                    try {
                        this[n] = void 0;
                        delete this[n]
                    } catch (t) {}
                })
            }
        });
        i.extend({
            propFix: {
                "for": "htmlFor",
                "class": "className"
            },
            prop: function(n, t, r) {
                var f, u, o, e = n.nodeType;
                if (n && 3 !== e && 8 !== e && 2 !== e) return o = 1 !== e || !i.isXMLDoc(n), o && (t = i.propFix[t] || t, u = i.propHooks[t]), void 0 !== r ? u && "set" in u && void 0 !== (f = u.set(n, r, t)) ? f : n[t] = r : u && "get" in u && null !== (f = u.get(n, t)) ? f : n[t]
            },
            propHooks: {
                tabIndex: {
                    get: function(n) {
                        var t = i.find.attr(n, "tabindex");
                        return t ? parseInt(t, 10) : ef.test(n.nodeName) || of.test(n.nodeName) && n.href ? 0 : -1
                    }
                }
            }
        });
        r.hrefNormalized || i.each(["href", "src"], function(n, t) {
            i.propHooks[t] = {
                get: function(n) {
                    return n.getAttribute(t, 4)
                }
            }
        });
        r.optSelected || (i.propHooks.selected = {
            get: function(n) {
                var t = n.parentNode;
                return t && (t.selectedIndex, t.parentNode && t.parentNode.selectedIndex), null
            }
        });
        i.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function() {
            i.propFix[this.toLowerCase()] = this
        });
        r.enctype || (i.propFix.enctype = "encoding");
        gt = /[\t\r\n\f]/g;
        i.fn.extend({
            addClass: function(n) {
                var o, t, r, u, s, f, e = 0,
                    c = this.length,
                    l = "string" == typeof n && n;
                if (i.isFunction(n)) return this.each(function(t) {
                    i(this).addClass(n.call(this, t, this.className))
                });
                if (l)
                    for (o = (n || "").match(h) || []; c > e; e++)
                        if (t = this[e], r = 1 === t.nodeType && (t.className ? (" " + t.className + " ").replace(gt, " ") : " ")) {
                            for (s = 0; u = o[s++];) r.indexOf(" " + u + " ") < 0 && (r += u + " ");
                            f = i.trim(r);
                            t.className !== f && (t.className = f)
                        }
                return this
            },
            removeClass: function(n) {
                var o, t, r, u, s, f, e = 0,
                    c = this.length,
                    l = 0 === arguments.length || "string" == typeof n && n;
                if (i.isFunction(n)) return this.each(function(t) {
                    i(this).removeClass(n.call(this, t, this.className))
                });
                if (l)
                    for (o = (n || "").match(h) || []; c > e; e++)
                        if (t = this[e], r = 1 === t.nodeType && (t.className ? (" " + t.className + " ").replace(gt, " ") : "")) {
                            for (s = 0; u = o[s++];)
                                while (r.indexOf(" " + u + " ") >= 0) r = r.replace(" " + u + " ", " ");
                            f = n ? i.trim(r) : "";
                            t.className !== f && (t.className = f)
                        }
                return this
            },
            toggleClass: function(n, t) {
                var r = typeof n;
                return "boolean" == typeof t && "string" === r ? t ? this.addClass(n) : this.removeClass(n) : this.each(i.isFunction(n) ? function(r) {
                    i(this).toggleClass(n.call(this, r, this.className, t), t)
                } : function() {
                    if ("string" === r)
                        for (var t, f = 0, u = i(this), e = n.match(h) || []; t = e[f++];) u.hasClass(t) ? u.removeClass(t) : u.addClass(t);
                    else(r === o || "boolean" === r) && (this.className && i._data(this, "__className__", this.className), this.className = this.className || n === !1 ? "" : i._data(this, "__className__") || "")
                })
            },
            hasClass: function(n) {
                for (var i = " " + n + " ", t = 0, r = this.length; r > t; t++)
                    if (1 === this[t].nodeType && (" " + this[t].className + " ").replace(gt, " ").indexOf(i) >= 0) return !0;
                return !1
            }
        });
        i.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function(n, t) {
            i.fn[t] = function(n, i) {
                return arguments.length > 0 ? this.on(t, null, n, i) : this.trigger(t)
            }
        });
        i.fn.extend({
            hover: function(n, t) {
                return this.mouseenter(n).mouseleave(t || n)
            },
            bind: function(n, t, i) {
                return this.on(n, null, t, i)
            },
            unbind: function(n, t) {
                return this.off(n, null, t)
            },
            delegate: function(n, t, i, r) {
                return this.on(t, n, i, r)
            },
            undelegate: function(n, t, i) {
                return 1 === arguments.length ? this.off(n, "**") : this.off(t, n || "**", i)
            }
        });
        var pi = i.now(),
            wi = /\?/,
            oo = /(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;
        i.parseJSON = function(t) {
            if (n.JSON && n.JSON.parse) return n.JSON.parse(t + "");
            var f, r = null,
                u = i.trim(t + "");
            return u && !i.trim(u.replace(oo, function(n, t, i, u) {
                return f && t && (r = 0), 0 === r ? n : (f = i || t, r += !u - !i, "")
            })) ? Function("return " + u)() : i.error("Invalid JSON: " + t)
        };
        i.parseXML = function(t) {
            var r, u;
            if (!t || "string" != typeof t) return null;
            try {
                n.DOMParser ? (u = new DOMParser, r = u.parseFromString(t, "text/xml")) : (r = new ActiveXObject("Microsoft.XMLDOM"), r.async = "false", r.loadXML(t))
            } catch (f) {
                r = void 0
            }
            return r && r.documentElement && !r.getElementsByTagName("parsererror").length || i.error("Invalid XML: " + t), r
        };
        var nt, y, so = /#.*$/,
            sf = /([?&])_=[^&]*/,
            ho = /^(.*?):[ \t]*([^\r\n]*)\r?$/gm,
            co = /^(?:GET|HEAD)$/,
            lo = /^\/\//,
            hf = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,
            cf = {},
            bi = {},
            lf = "*/".concat("*");
        try {
            y = location.href
        } catch (ns) {
            y = u.createElement("a");
            y.href = "";
            y = y.href
        }
        nt = hf.exec(y.toLowerCase()) || [];
        i.extend({
            active: 0,
            lastModified: {},
            etag: {},
            ajaxSettings: {
                url: y,
                type: "GET",
                isLocal: /^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(nt[1]),
                global: !0,
                processData: !0,
                async: !0,
                contentType: "application/x-www-form-urlencoded; charset=UTF-8",
                accepts: {
                    "*": lf,
                    text: "text/plain",
                    html: "text/html",
                    xml: "application/xml, text/xml",
                    json: "application/json, text/javascript"
                },
                contents: {
                    xml: /xml/,
                    html: /html/,
                    json: /json/
                },
                responseFields: {
                    xml: "responseXML",
                    text: "responseText",
                    json: "responseJSON"
                },
                converters: {
                    "* text": String,
                    "text html": !0,
                    "text json": i.parseJSON,
                    "text xml": i.parseXML
                },
                flatOptions: {
                    url: !0,
                    context: !0
                }
            },
            ajaxSetup: function(n, t) {
                return t ? ki(ki(n, i.ajaxSettings), t) : ki(i.ajaxSettings, n)
            },
            ajaxPrefilter: af(cf),
            ajaxTransport: af(bi),
            ajax: function(n, t) {
                function w(n, t, s, h) {
                    var v, it, nt, y, w, c = t;
                    2 !== e && (e = 2, k && clearTimeout(k), a = void 0, b = h || "", u.readyState = n > 0 ? 4 : 0, v = n >= 200 && 300 > n || 304 === n, s && (y = ao(r, u, s)), y = vo(r, y, u, v), v ? (r.ifModified && (w = u.getResponseHeader("Last-Modified"), w && (i.lastModified[f] = w), w = u.getResponseHeader("etag"), w && (i.etag[f] = w)), 204 === n || "HEAD" === r.type ? c = "nocontent" : 304 === n ? c = "notmodified" : (c = y.state, it = y.data, nt = y.error, v = !nt)) : (nt = c, (n || !c) && (c = "error", 0 > n && (n = 0))), u.status = n, u.statusText = (t || c) + "", v ? g.resolveWith(o, [it, c, u]) : g.rejectWith(o, [u, c, nt]), u.statusCode(p), p = void 0, l && d.trigger(v ? "ajaxSuccess" : "ajaxError", [u, r, v ? it : nt]), tt.fireWith(o, [u, c]), l && (d.trigger("ajaxComplete", [u, r]), --i.active || i.event.trigger("ajaxStop")))
                }
                "object" == typeof n && (t = n, n = void 0);
                t = t || {};
                var s, c, f, b, k, l, a, v, r = i.ajaxSetup({}, t),
                    o = r.context || r,
                    d = r.context && (o.nodeType || o.jquery) ? i(o) : i.event,
                    g = i.Deferred(),
                    tt = i.Callbacks("once memory"),
                    p = r.statusCode || {},
                    it = {},
                    rt = {},
                    e = 0,
                    ut = "canceled",
                    u = {
                        readyState: 0,
                        getResponseHeader: function(n) {
                            var t;
                            if (2 === e) {
                                if (!v)
                                    for (v = {}; t = ho.exec(b);) v[t[1].toLowerCase()] = t[2];
                                t = v[n.toLowerCase()]
                            }
                            return null == t ? null : t
                        },
                        getAllResponseHeaders: function() {
                            return 2 === e ? b : null
                        },
                        setRequestHeader: function(n, t) {
                            var i = n.toLowerCase();
                            return e || (n = rt[i] = rt[i] || n, it[n] = t), this
                        },
                        overrideMimeType: function(n) {
                            return e || (r.mimeType = n), this
                        },
                        statusCode: function(n) {
                            var t;
                            if (n)
                                if (2 > e)
                                    for (t in n) p[t] = [p[t], n[t]];
                                else u.always(n[u.status]);
                            return this
                        },
                        abort: function(n) {
                            var t = n || ut;
                            return a && a.abort(t), w(0, t), this
                        }
                    };
                if (g.promise(u).complete = tt.add, u.success = u.done, u.error = u.fail, r.url = ((n || r.url || y) + "").replace(so, "").replace(lo, nt[1] + "//"), r.type = t.method || t.type || r.method || r.type, r.dataTypes = i.trim(r.dataType || "*").toLowerCase().match(h) || [""], null == r.crossDomain && (s = hf.exec(r.url.toLowerCase()), r.crossDomain = !(!s || s[1] === nt[1] && s[2] === nt[2] && (s[3] || ("http:" === s[1] ? "80" : "443")) === (nt[3] || ("http:" === nt[1] ? "80" : "443")))), r.data && r.processData && "string" != typeof r.data && (r.data = i.param(r.data, r.traditional)), vf(cf, r, t, u), 2 === e) return u;
                l = r.global;
                l && 0 == i.active++ && i.event.trigger("ajaxStart");
                r.type = r.type.toUpperCase();
                r.hasContent = !co.test(r.type);
                f = r.url;
                r.hasContent || (r.data && (f = r.url += (wi.test(f) ? "&" : "?") + r.data, delete r.data), r.cache === !1 && (r.url = sf.test(f) ? f.replace(sf, "$1_=" + pi++) : f + (wi.test(f) ? "&" : "?") + "_=" + pi++));
                r.ifModified && (i.lastModified[f] && u.setRequestHeader("If-Modified-Since", i.lastModified[f]), i.etag[f] && u.setRequestHeader("If-None-Match", i.etag[f]));
                (r.data && r.hasContent && r.contentType !== !1 || t.contentType) && u.setRequestHeader("Content-Type", r.contentType);
                u.setRequestHeader("Accept", r.dataTypes[0] && r.accepts[r.dataTypes[0]] ? r.accepts[r.dataTypes[0]] + ("*" !== r.dataTypes[0] ? ", " + lf + "; q=0.01" : "") : r.accepts["*"]);
                for (c in r.headers) u.setRequestHeader(c, r.headers[c]);
                if (r.beforeSend && (r.beforeSend.call(o, u, r) === !1 || 2 === e)) return u.abort();
                ut = "abort";
                for (c in {
                        success: 1,
                        error: 1,
                        complete: 1
                    }) u[c](r[c]);
                if (a = vf(bi, r, t, u)) {
                    u.readyState = 1;
                    l && d.trigger("ajaxSend", [u, r]);
                    r.async && r.timeout > 0 && (k = setTimeout(function() {
                        u.abort("timeout")
                    }, r.timeout));
                    try {
                        e = 1;
                        a.send(it, w)
                    } catch (ft) {
                        if (!(2 > e)) throw ft;
                        w(-1, ft)
                    }
                } else w(-1, "No Transport");
                return u
            },
            getJSON: function(n, t, r) {
                return i.get(n, t, r, "json")
            },
            getScript: function(n, t) {
                return i.get(n, void 0, t, "script")
            }
        });
        i.each(["get", "post"], function(n, t) {
            i[t] = function(n, r, u, f) {
                return i.isFunction(r) && (f = f || u, u = r, r = void 0), i.ajax({
                    url: n,
                    type: t,
                    dataType: f,
                    data: r,
                    success: u
                })
            }
        });
        i.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function(n, t) {
            i.fn[t] = function(n) {
                return this.on(t, n)
            }
        });
        i._evalUrl = function(n) {
            return i.ajax({
                url: n,
                type: "GET",
                dataType: "script",
                async: !1,
                global: !1,
                throws: !0
            })
        };
        i.fn.extend({
            wrapAll: function(n) {
                if (i.isFunction(n)) return this.each(function(t) {
                    i(this).wrapAll(n.call(this, t))
                });
                if (this[0]) {
                    var t = i(n, this[0].ownerDocument).eq(0).clone(!0);
                    this[0].parentNode && t.insertBefore(this[0]);
                    t.map(function() {
                        for (var n = this; n.firstChild && 1 === n.firstChild.nodeType;) n = n.firstChild;
                        return n
                    }).append(this)
                }
                return this
            },
            wrapInner: function(n) {
                return this.each(i.isFunction(n) ? function(t) {
                    i(this).wrapInner(n.call(this, t))
                } : function() {
                    var t = i(this),
                        r = t.contents();
                    r.length ? r.wrapAll(n) : t.append(n)
                })
            },
            wrap: function(n) {
                var t = i.isFunction(n);
                return this.each(function(r) {
                    i(this).wrapAll(t ? n.call(this, r) : n)
                })
            },
            unwrap: function() {
                return this.parent().each(function() {
                    i.nodeName(this, "body") || i(this).replaceWith(this.childNodes)
                }).end()
            }
        });
        i.expr.filters.hidden = function(n) {
            return n.offsetWidth <= 0 && n.offsetHeight <= 0 || !r.reliableHiddenOffsets() && "none" === (n.style && n.style.display || i.css(n, "display"))
        };
        i.expr.filters.visible = function(n) {
            return !i.expr.filters.hidden(n)
        };
        var yo = /%20/g,
            po = /\[\]$/,
            yf = /\r?\n/g,
            wo = /^(?:submit|button|image|reset|file)$/i,
            bo = /^(?:input|select|textarea|keygen)/i;
        i.param = function(n, t) {
            var r, u = [],
                f = function(n, t) {
                    t = i.isFunction(t) ? t() : null == t ? "" : t;
                    u[u.length] = encodeURIComponent(n) + "=" + encodeURIComponent(t)
                };
            if (void 0 === t && (t = i.ajaxSettings && i.ajaxSettings.traditional), i.isArray(n) || n.jquery && !i.isPlainObject(n)) i.each(n, function() {
                f(this.name, this.value)
            });
            else
                for (r in n) di(r, n[r], t, f);
            return u.join("&").replace(yo, "+")
        };
        i.fn.extend({
            serialize: function() {
                return i.param(this.serializeArray())
            },
            serializeArray: function() {
                return this.map(function() {
                    var n = i.prop(this, "elements");
                    return n ? i.makeArray(n) : this
                }).filter(function() {
                    var n = this.type;
                    return this.name && !i(this).is(":disabled") && bo.test(this.nodeName) && !wo.test(n) && (this.checked || !oi.test(n))
                }).map(function(n, t) {
                    var r = i(this).val();
                    return null == r ? null : i.isArray(r) ? i.map(r, function(n) {
                        return {
                            name: t.name,
                            value: n.replace(yf, "\r\n")
                        }
                    }) : {
                        name: t.name,
                        value: r.replace(yf, "\r\n")
                    }
                }).get()
            }
        });
        i.ajaxSettings.xhr = void 0 !== n.ActiveXObject ? function() {
            return !this.isLocal && /^(get|post|head|put|delete|options)$/i.test(this.type) && pf() || go()
        } : pf;
        var ko = 0,
            ni = {},
            ht = i.ajaxSettings.xhr();
        return n.ActiveXObject && i(n).on("unload", function() {
            for (var n in ni) ni[n](void 0, !0)
        }), r.cors = !!ht && "withCredentials" in ht, ht = r.ajax = !!ht, ht && i.ajaxTransport(function(n) {
            if (!n.crossDomain || r.cors) {
                var t;
                return {
                    send: function(r, u) {
                        var e, f = n.xhr(),
                            o = ++ko;
                        if (f.open(n.type, n.url, n.async, n.username, n.password), n.xhrFields)
                            for (e in n.xhrFields) f[e] = n.xhrFields[e];
                        n.mimeType && f.overrideMimeType && f.overrideMimeType(n.mimeType);
                        n.crossDomain || r["X-Requested-With"] || (r["X-Requested-With"] = "XMLHttpRequest");
                        for (e in r) void 0 !== r[e] && f.setRequestHeader(e, r[e] + "");
                        f.send(n.hasContent && n.data || null);
                        t = function(r, e) {
                            var s, c, h;
                            if (t && (e || 4 === f.readyState))
                                if (delete ni[o], t = void 0, f.onreadystatechange = i.noop, e) 4 !== f.readyState && f.abort();
                                else {
                                    h = {};
                                    s = f.status;
                                    "string" == typeof f.responseText && (h.text = f.responseText);
                                    try {
                                        c = f.statusText
                                    } catch (l) {
                                        c = ""
                                    }
                                    s || !n.isLocal || n.crossDomain ? 1223 === s && (s = 204) : s = h.text ? 200 : 404
                                }
                            h && u(s, c, h, f.getAllResponseHeaders())
                        };
                        n.async ? 4 === f.readyState ? setTimeout(t) : f.onreadystatechange = ni[o] = t : t()
                    },
                    abort: function() {
                        t && t(void 0, !0)
                    }
                }
            }
        }), i.ajaxSetup({
            accepts: {
                script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
            },
            contents: {
                script: /(?:java|ecma)script/
            },
            converters: {
                "text script": function(n) {
                    return i.globalEval(n), n
                }
            }
        }), i.ajaxPrefilter("script", function(n) {
            void 0 === n.cache && (n.cache = !1);
            n.crossDomain && (n.type = "GET", n.global = !1)
        }), i.ajaxTransport("script", function(n) {
            if (n.crossDomain) {
                var t, r = u.head || i("head")[0] || u.documentElement;
                return {
                    send: function(i, f) {
                        t = u.createElement("script");
                        t.async = !0;
                        n.scriptCharset && (t.charset = n.scriptCharset);
                        t.src = n.url;
                        t.onload = t.onreadystatechange = function(n, i) {
                            (i || !t.readyState || /loaded|complete/.test(t.readyState)) && (t.onload = t.onreadystatechange = null, t.parentNode && t.parentNode.removeChild(t), t = null, i || f(200, "success"))
                        };
                        r.insertBefore(t, r.firstChild)
                    },
                    abort: function() {
                        t && t.onload(void 0, !0)
                    }
                }
            }
        }), gi = [], ti = /(=)\?(?=&|$)|\?\?/, i.ajaxSetup({
            jsonp: "callback",
            jsonpCallback: function() {
                var n = gi.pop() || i.expando + "_" + pi++;
                return this[n] = !0, n
            }
        }), i.ajaxPrefilter("json jsonp", function(t, r, u) {
            var f, o, e, s = t.jsonp !== !1 && (ti.test(t.url) ? "url" : "string" == typeof t.data && !(t.contentType || "").indexOf("application/x-www-form-urlencoded") && ti.test(t.data) && "data");
            if (s || "jsonp" === t.dataTypes[0]) return (f = t.jsonpCallback = i.isFunction(t.jsonpCallback) ? t.jsonpCallback() : t.jsonpCallback, s ? t[s] = t[s].replace(ti, "$1" + f) : t.jsonp !== !1 && (t.url += (wi.test(t.url) ? "&" : "?") + t.jsonp + "=" + f), t.converters["script json"] = function() {
                return e || i.error(f + " was not called"), e[0]
            }, t.dataTypes[0] = "json", o = n[f], n[f] = function() {
                e = arguments
            }, u.always(function() {
                n[f] = o;
                t[f] && (t.jsonpCallback = r.jsonpCallback, gi.push(f));
                e && i.isFunction(o) && o(e[0]);
                e = o = void 0
            }), "script")
        }), i.parseHTML = function(n, t, r) {
            if (!n || "string" != typeof n) return null;
            "boolean" == typeof t && (r = t, t = !1);
            t = t || u;
            var f = er.exec(n),
                e = !r && [];
            return f ? [t.createElement(f[1])] : (f = i.buildFragment([n], t, e), e && e.length && i(e).remove(), i.merge([], f.childNodes))
        }, nr = i.fn.load, i.fn.load = function(n, t, r) {
            if ("string" != typeof n && nr) return nr.apply(this, arguments);
            var u, o, s, f = this,
                e = n.indexOf(" ");
            return e >= 0 && (u = i.trim(n.slice(e, n.length)), n = n.slice(0, e)), i.isFunction(t) ? (r = t, t = void 0) : t && "object" == typeof t && (s = "POST"), f.length > 0 && i.ajax({
                url: n,
                type: s,
                dataType: "html",
                data: t
            }).done(function(n) {
                o = arguments;
                f.html(u ? i("<div>").append(i.parseHTML(n)).find(u) : n)
            }).complete(r && function(n, t) {
                f.each(r, o || [n.responseText, t, n])
            }), this
        }, i.expr.filters.animated = function(n) {
            return i.grep(i.timers, function(t) {
                return n === t.elem
            }).length
        }, tr = n.document.documentElement, i.offset = {
            setOffset: function(n, t, r) {
                var e, o, s, h, u, c, v, l = i.css(n, "position"),
                    a = i(n),
                    f = {};
                "static" === l && (n.style.position = "relative");
                u = a.offset();
                s = i.css(n, "top");
                c = i.css(n, "left");
                v = ("absolute" === l || "fixed" === l) && i.inArray("auto", [s, c]) > -1;
                v ? (e = a.position(), h = e.top, o = e.left) : (h = parseFloat(s) || 0, o = parseFloat(c) || 0);
                i.isFunction(t) && (t = t.call(n, r, u));
                null != t.top && (f.top = t.top - u.top + h);
                null != t.left && (f.left = t.left - u.left + o);
                "using" in t ? t.using.call(n, f) : a.css(f)
            }
        }, i.fn.extend({
            offset: function(n) {
                if (arguments.length) return void 0 === n ? this : this.each(function(t) {
                    i.offset.setOffset(this, n, t)
                });
                var t, f, u = {
                        top: 0,
                        left: 0
                    },
                    r = this[0],
                    e = r && r.ownerDocument;
                if (e) return t = e.documentElement, i.contains(t, r) ? (typeof r.getBoundingClientRect !== o && (u = r.getBoundingClientRect()), f = wf(e), {
                    top: u.top + (f.pageYOffset || t.scrollTop) - (t.clientTop || 0),
                    left: u.left + (f.pageXOffset || t.scrollLeft) - (t.clientLeft || 0)
                }) : u
            },
            position: function() {
                if (this[0]) {
                    var n, r, t = {
                            top: 0,
                            left: 0
                        },
                        u = this[0];
                    return "fixed" === i.css(u, "position") ? r = u.getBoundingClientRect() : (n = this.offsetParent(), r = this.offset(), i.nodeName(n[0], "html") || (t = n.offset()), t.top += i.css(n[0], "borderTopWidth", !0), t.left += i.css(n[0], "borderLeftWidth", !0)), {
                        top: r.top - t.top - i.css(u, "marginTop", !0),
                        left: r.left - t.left - i.css(u, "marginLeft", !0)
                    }
                }
            },
            offsetParent: function() {
                return this.map(function() {
                    for (var n = this.offsetParent || tr; n && !i.nodeName(n, "html") && "static" === i.css(n, "position");) n = n.offsetParent;
                    return n || tr
                })
            }
        }), i.each({
            scrollLeft: "pageXOffset",
            scrollTop: "pageYOffset"
        }, function(n, t) {
            var r = /Y/.test(t);
            i.fn[n] = function(u) {
                return b(this, function(n, u, f) {
                    var e = wf(n);
                    return void 0 === f ? e ? t in e ? e[t] : e.document.documentElement[u] : n[u] : void(e ? e.scrollTo(r ? i(e).scrollLeft() : f, r ? f : i(e).scrollTop()) : n[u] = f)
                }, n, u, arguments.length, null)
            }
        }), i.each(["top", "left"], function(n, t) {
            i.cssHooks[t] = au(r.pixelPosition, function(n, r) {
                if (r) return (r = d(n, t), pt.test(r) ? i(n).position()[t] + "px" : r)
            })
        }), i.each({
            Height: "height",
            Width: "width"
        }, function(n, t) {
            i.each({
                padding: "inner" + n,
                content: t,
                "": "outer" + n
            }, function(r, u) {
                i.fn[u] = function(u, f) {
                    var e = arguments.length && (r || "boolean" != typeof u),
                        o = r || (u === !0 || f === !0 ? "margin" : "border");
                    return b(this, function(t, r, u) {
                        var f;
                        return i.isWindow(t) ? t.document.documentElement["client" + n] : 9 === t.nodeType ? (f = t.documentElement, Math.max(t.body["scroll" + n], f["scroll" + n], t.body["offset" + n], f["offset" + n], f["client" + n])) : void 0 === u ? i.css(t, r, o) : i.style(t, r, u, o)
                    }, t, e ? u : void 0, e, null)
                }
            })
        }), i.fn.size = function() {
            return this.length
        }, i.fn.andSelf = i.fn.addBack, "function" == typeof define && define.amd && define("jquery", [], function() {
            return i
        }), bf = n.jQuery, kf = n.$, i.noConflict = function(t) {
            return n.$ === i && (n.$ = kf), t && n.jQuery === i && (n.jQuery = bf), i
        }, typeof t === o && (n.jQuery = n.$ = i), i
    }), function(n) {
        "function" == typeof define && define.amd ? define(["jquery"], n) : n(jQuery)
    }(function(n) {
        function h(t, i) {
            var r, u, f, e = t.nodeName.toLowerCase();
            return "area" === e ? (r = t.parentNode, u = r.name, t.href && u && "map" === r.nodeName.toLowerCase() ? (f = n("img[usemap='#" + u + "']")[0], !!f && c(f)) : !1) : (/input|select|textarea|button|object/.test(e) ? !t.disabled : "a" === e ? t.href || i : i) && c(t)
        }

        function c(t) {
            return n.expr.filters.visible(t) && !n(t).parents().addBack().filter(function() {
                return "hidden" === n.css(this, "visibility")
            }).length
        }

        function k(n) {
            for (var t, i; n.length && n[0] !== document;) {
                if (t = n.css("position"), ("absolute" === t || "relative" === t || "fixed" === t) && (i = parseInt(n.css("zIndex"), 10), !isNaN(i) && 0 !== i)) return i;
                n = n.parent()
            }
            return 0
        }

        function l() {
            this._curInst = null;
            this._keyEvent = !1;
            this._disabledInputs = [];
            this._datepickerShowing = !1;
            this._inDialog = !1;
            this._mainDivId = "ui-datepicker-div";
            this._inlineClass = "ui-datepicker-inline";
            this._appendClass = "ui-datepicker-append";
            this._triggerClass = "ui-datepicker-trigger";
            this._dialogClass = "ui-datepicker-dialog";
            this._disableClass = "ui-datepicker-disabled";
            this._unselectableClass = "ui-datepicker-unselectable";
            this._currentClass = "ui-datepicker-current-day";
            this._dayOverClass = "ui-datepicker-days-cell-over";
            this.regional = [];
            this.regional[""] = {
                closeText: "Done",
                prevText: "Prev",
                nextText: "Next",
                currentText: "Today",
                monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
                monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
                dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
                dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
                dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
                weekHeader: "Wk",
                dateFormat: "mm/dd/yy",
                firstDay: 0,
                isRTL: !1,
                showMonthAfterYear: !1,
                yearSuffix: ""
            };
            this._defaults = {
                showOn: "focus",
                showAnim: "fadeIn",
                showOptions: {},
                defaultDate: null,
                appendText: "",
                buttonText: "...",
                buttonImage: "",
                buttonImageOnly: !1,
                hideIfNoPrevNext: !1,
                navigationAsDateFormat: !1,
                gotoCurrent: !1,
                changeMonth: !1,
                changeYear: !1,
                yearRange: "c-10:c+10",
                showOtherMonths: !1,
                selectOtherMonths: !1,
                showWeek: !1,
                calculateWeek: this.iso8601Week,
                shortYearCutoff: "+10",
                minDate: null,
                maxDate: null,
                duration: "fast",
                beforeShowDay: null,
                beforeShow: null,
                onSelect: null,
                onChangeMonthYear: null,
                onClose: null,
                numberOfMonths: 1,
                showCurrentAtPos: 0,
                stepMonths: 1,
                stepBigMonths: 12,
                altField: "",
                altFormat: "",
                constrainInput: !0,
                showButtonPanel: !1,
                autoSize: !1,
                disabled: !1
            };
            n.extend(this._defaults, this.regional[""]);
            this.regional.en = n.extend(!0, {}, this.regional[""]);
            this.regional["en-US"] = n.extend(!0, {}, this.regional.en);
            this.dpDiv = a(n("<div id='" + this._mainDivId + "' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'><\/div>"))
        }

        function a(t) {
            var i = "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";
            return t.delegate(i, "mouseout", function() {
                n(this).removeClass("ui-state-hover"); - 1 !== this.className.indexOf("ui-datepicker-prev") && n(this).removeClass("ui-datepicker-prev-hover"); - 1 !== this.className.indexOf("ui-datepicker-next") && n(this).removeClass("ui-datepicker-next-hover")
            }).delegate(i, "mouseover", v)
        }

        function v() {
            n.datepicker._isDisabledDatepicker(u.inline ? u.dpDiv.parent()[0] : u.input[0]) || (n(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"), n(this).addClass("ui-state-hover"), -1 !== this.className.indexOf("ui-datepicker-prev") && n(this).addClass("ui-datepicker-prev-hover"), -1 !== this.className.indexOf("ui-datepicker-next") && n(this).addClass("ui-datepicker-next-hover"))
        }

        function r(t, i) {
            n.extend(t, i);
            for (var r in i) null == i[r] && (t[r] = i[r]);
            return t
        }

        function t(n) {
            return function() {
                var t = this.element.val();
                n.apply(this, arguments);
                this._refresh();
                t !== this.element.val() && this._trigger("change")
            }
        }
        var y, f, i, u, e, o;
        n.ui = n.ui || {};
        n.extend(n.ui, {
            version: "1.11.1",
            keyCode: {
                BACKSPACE: 8,
                COMMA: 188,
                DELETE: 46,
                DOWN: 40,
                END: 35,
                ENTER: 13,
                ESCAPE: 27,
                HOME: 36,
                LEFT: 37,
                PAGE_DOWN: 34,
                PAGE_UP: 33,
                PERIOD: 190,
                RIGHT: 39,
                SPACE: 32,
                TAB: 9,
                UP: 38
            }
        });
        n.fn.extend({
            scrollParent: function(t) {
                var i = this.css("position"),
                    u = "absolute" === i,
                    f = t ? /(auto|scroll|hidden)/ : /(auto|scroll)/,
                    r = this.parents().filter(function() {
                        var t = n(this);
                        return u && "static" === t.css("position") ? !1 : f.test(t.css("overflow") + t.css("overflow-y") + t.css("overflow-x"))
                    }).eq(0);
                return "fixed" !== i && r.length ? r : n(this[0].ownerDocument || document)
            },
            uniqueId: function() {
                var n = 0;
                return function() {
                    return this.each(function() {
                        this.id || (this.id = "ui-id-" + ++n)
                    })
                }
            }(),
            removeUniqueId: function() {
                return this.each(function() {
                    /^ui-id-\d+$/.test(this.id) && n(this).removeAttr("id")
                })
            }
        });
        n.extend(n.expr[":"], {
            data: n.expr.createPseudo ? n.expr.createPseudo(function(t) {
                return function(i) {
                    return !!n.data(i, t)
                }
            }) : function(t, i, r) {
                return !!n.data(t, r[3])
            },
            focusable: function(t) {
                return h(t, !isNaN(n.attr(t, "tabindex")))
            },
            tabbable: function(t) {
                var i = n.attr(t, "tabindex"),
                    r = isNaN(i);
                return (r || i >= 0) && h(t, !r)
            }
        });
        n("<a>").outerWidth(1).jquery || n.each(["Width", "Height"], function(t, i) {
            function r(t, i, r, u) {
                return n.each(e, function() {
                    i -= parseFloat(n.css(t, "padding" + this)) || 0;
                    r && (i -= parseFloat(n.css(t, "border" + this + "Width")) || 0);
                    u && (i -= parseFloat(n.css(t, "margin" + this)) || 0)
                }), i
            }
            var e = "Width" === i ? ["Left", "Right"] : ["Top", "Bottom"],
                u = i.toLowerCase(),
                f = {
                    innerWidth: n.fn.innerWidth,
                    innerHeight: n.fn.innerHeight,
                    outerWidth: n.fn.outerWidth,
                    outerHeight: n.fn.outerHeight
                };
            n.fn["inner" + i] = function(t) {
                return void 0 === t ? f["inner" + i].call(this) : this.each(function() {
                    n(this).css(u, r(this, t) + "px")
                })
            };
            n.fn["outer" + i] = function(t, e) {
                return "number" != typeof t ? f["outer" + i].call(this, t) : this.each(function() {
                    n(this).css(u, r(this, t, !0, e) + "px")
                })
            }
        });
        n.fn.addBack || (n.fn.addBack = function(n) {
            return this.add(null == n ? this.prevObject : this.prevObject.filter(n))
        });
        n("<a>").data("a-b", "a").removeData("a-b").data("a-b") && (n.fn.removeData = function(t) {
            return function(i) {
                return arguments.length ? t.call(this, n.camelCase(i)) : t.call(this)
            }
        }(n.fn.removeData));
        n.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());
        n.fn.extend({
            focus: function(t) {
                return function(i, r) {
                    return "number" == typeof i ? this.each(function() {
                        var t = this;
                        setTimeout(function() {
                            n(t).focus();
                            r && r.call(t)
                        }, i)
                    }) : t.apply(this, arguments)
                }
            }(n.fn.focus),
            disableSelection: function() {
                var n = "onselectstart" in document.createElement("div") ? "selectstart" : "mousedown";
                return function() {
                    return this.bind(n + ".ui-disableSelection", function(n) {
                        n.preventDefault()
                    })
                }
            }(),
            enableSelection: function() {
                return this.unbind(".ui-disableSelection")
            },
            zIndex: function(t) {
                if (void 0 !== t) return this.css("zIndex", t);
                if (this.length)
                    for (var r, u, i = n(this[0]); i.length && i[0] !== document;) {
                        if (r = i.css("position"), ("absolute" === r || "relative" === r || "fixed" === r) && (u = parseInt(i.css("zIndex"), 10), !isNaN(u) && 0 !== u)) return u;
                        i = i.parent()
                    }
                return 0
            }
        });
        n.ui.plugin = {
            add: function(t, i, r) {
                var u, f = n.ui[t].prototype;
                for (u in r) f.plugins[u] = f.plugins[u] || [], f.plugins[u].push([i, r[u]])
            },
            call: function(n, t, i, r) {
                var u, f = n.plugins[t];
                if (f && (r || n.element[0].parentNode && 11 !== n.element[0].parentNode.nodeType))
                    for (u = 0; f.length > u; u++) n.options[f[u][0]] && f[u][1].apply(n.element, i)
            }
        };
        y = 0;
        f = Array.prototype.slice;
        n.cleanData = function(t) {
            return function(i) {
                for (var r, u, f = 0; null != (u = i[f]); f++) try {
                    r = n._data(u, "events");
                    r && r.remove && n(u).triggerHandler("remove")
                } catch (e) {}
                t(i)
            }
        }(n.cleanData);
        n.widget = function(t, i, r) {
            var s, f, u, o, h = {},
                e = t.split(".")[0];
            return t = t.split(".")[1], s = e + "-" + t, r || (r = i, i = n.Widget), n.expr[":"][s.toLowerCase()] = function(t) {
                return !!n.data(t, s)
            }, n[e] = n[e] || {}, f = n[e][t], u = n[e][t] = function(n, t) {
                return this._createWidget ? (arguments.length && this._createWidget(n, t), void 0) : new u(n, t)
            }, n.extend(u, f, {
                version: r.version,
                _proto: n.extend({}, r),
                _childConstructors: []
            }), o = new i, o.options = n.widget.extend({}, o.options), n.each(r, function(t, r) {
                return n.isFunction(r) ? (h[t] = function() {
                    var n = function() {
                            return i.prototype[t].apply(this, arguments)
                        },
                        u = function(n) {
                            return i.prototype[t].apply(this, n)
                        };
                    return function() {
                        var t, i = this._super,
                            f = this._superApply;
                        return this._super = n, this._superApply = u, t = r.apply(this, arguments), this._super = i, this._superApply = f, t
                    }
                }(), void 0) : (h[t] = r, void 0)
            }), u.prototype = n.widget.extend(o, {
                widgetEventPrefix: f ? o.widgetEventPrefix || t : t
            }, h, {
                constructor: u,
                namespace: e,
                widgetName: t,
                widgetFullName: s
            }), f ? (n.each(f._childConstructors, function(t, i) {
                var r = i.prototype;
                n.widget(r.namespace + "." + r.widgetName, u, i._proto)
            }), delete f._childConstructors) : i._childConstructors.push(u), n.widget.bridge(t, u), u
        };
        n.widget.extend = function(t) {
            for (var i, r, e = f.call(arguments, 1), u = 0, o = e.length; o > u; u++)
                for (i in e[u]) r = e[u][i], e[u].hasOwnProperty(i) && void 0 !== r && (t[i] = n.isPlainObject(r) ? n.isPlainObject(t[i]) ? n.widget.extend({}, t[i], r) : n.widget.extend({}, r) : r);
            return t
        };
        n.widget.bridge = function(t, i) {
            var r = i.prototype.widgetFullName || t;
            n.fn[t] = function(u) {
                var s = "string" == typeof u,
                    o = f.call(arguments, 1),
                    e = this;
                return u = !s && o.length ? n.widget.extend.apply(null, [u].concat(o)) : u, s ? this.each(function() {
                    var i, f = n.data(this, r);
                    return "instance" === u ? (e = f, !1) : f ? n.isFunction(f[u]) && "_" !== u.charAt(0) ? (i = f[u].apply(f, o), i !== f && void 0 !== i ? (e = i && i.jquery ? e.pushStack(i.get()) : i, !1) : void 0) : n.error("no such method '" + u + "' for " + t + " widget instance") : n.error("cannot call methods on " + t + " prior to initialization; attempted to call method '" + u + "'")
                }) : this.each(function() {
                    var t = n.data(this, r);
                    t ? (t.option(u || {}), t._init && t._init()) : n.data(this, r, new i(u, this))
                }), e
            }
        };
        n.Widget = function() {};
        n.Widget._childConstructors = [];
        n.Widget.prototype = {
            widgetName: "widget",
            widgetEventPrefix: "",
            defaultElement: "<div>",
            options: {
                disabled: !1,
                create: null
            },
            _createWidget: function(t, i) {
                i = n(i || this.defaultElement || this)[0];
                this.element = n(i);
                this.uuid = y++;
                this.eventNamespace = "." + this.widgetName + this.uuid;
                this.options = n.widget.extend({}, this.options, this._getCreateOptions(), t);
                this.bindings = n();
                this.hoverable = n();
                this.focusable = n();
                i !== this && (n.data(i, this.widgetFullName, this), this._on(!0, this.element, {
                    remove: function(n) {
                        n.target === i && this.destroy()
                    }
                }), this.document = n(i.style ? i.ownerDocument : i.document || i), this.window = n(this.document[0].defaultView || this.document[0].parentWindow));
                this._create();
                this._trigger("create", null, this._getCreateEventData());
                this._init()
            },
            _getCreateOptions: n.noop,
            _getCreateEventData: n.noop,
            _create: n.noop,
            _init: n.noop,
            destroy: function() {
                this._destroy();
                this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(n.camelCase(this.widgetFullName));
                this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName + "-disabled ui-state-disabled");
                this.bindings.unbind(this.eventNamespace);
                this.hoverable.removeClass("ui-state-hover");
                this.focusable.removeClass("ui-state-focus")
            },
            _destroy: n.noop,
            widget: function() {
                return this.element
            },
            option: function(t, i) {
                var r, u, f, e = t;
                if (0 === arguments.length) return n.widget.extend({}, this.options);
                if ("string" == typeof t)
                    if (e = {}, r = t.split("."), t = r.shift(), r.length) {
                        for (u = e[t] = n.widget.extend({}, this.options[t]), f = 0; r.length - 1 > f; f++) u[r[f]] = u[r[f]] || {}, u = u[r[f]];
                        if (t = r.pop(), 1 === arguments.length) return void 0 === u[t] ? null : u[t];
                        u[t] = i
                    } else {
                        if (1 === arguments.length) return void 0 === this.options[t] ? null : this.options[t];
                        e[t] = i
                    }
                return this._setOptions(e), this
            },
            _setOptions: function(n) {
                for (var t in n) this._setOption(t, n[t]);
                return this
            },
            _setOption: function(n, t) {
                return this.options[n] = t, "disabled" === n && (this.widget().toggleClass(this.widgetFullName + "-disabled", !!t), t && (this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus"))), this
            },
            enable: function() {
                return this._setOptions({
                    disabled: !1
                })
            },
            disable: function() {
                return this._setOptions({
                    disabled: !0
                })
            },
            _on: function(t, i, r) {
                var f, u = this;
                "boolean" != typeof t && (r = i, i = t, t = !1);
                r ? (i = f = n(i), this.bindings = this.bindings.add(i)) : (r = i, i = this.element, f = this.widget());
                n.each(r, function(r, e) {
                    function o() {
                        if (t || u.options.disabled !== !0 && !n(this).hasClass("ui-state-disabled")) return ("string" == typeof e ? u[e] : e).apply(u, arguments)
                    }
                    "string" != typeof e && (o.guid = e.guid = e.guid || o.guid || n.guid++);
                    var s = r.match(/^([\w:-]*)\s*(.*)$/),
                        h = s[1] + u.eventNamespace,
                        c = s[2];
                    c ? f.delegate(c, h, o) : i.bind(h, o)
                })
            },
            _off: function(n, t) {
                t = (t || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace;
                n.unbind(t).undelegate(t)
            },
            _delay: function(n, t) {
                function r() {
                    return ("string" == typeof n ? i[n] : n).apply(i, arguments)
                }
                var i = this;
                return setTimeout(r, t || 0)
            },
            _hoverable: function(t) {
                this.hoverable = this.hoverable.add(t);
                this._on(t, {
                    mouseenter: function(t) {
                        n(t.currentTarget).addClass("ui-state-hover")
                    },
                    mouseleave: function(t) {
                        n(t.currentTarget).removeClass("ui-state-hover")
                    }
                })
            },
            _focusable: function(t) {
                this.focusable = this.focusable.add(t);
                this._on(t, {
                    focusin: function(t) {
                        n(t.currentTarget).addClass("ui-state-focus")
                    },
                    focusout: function(t) {
                        n(t.currentTarget).removeClass("ui-state-focus")
                    }
                })
            },
            _trigger: function(t, i, r) {
                var u, f, e = this.options[t];
                if (r = r || {}, i = n.Event(i), i.type = (t === this.widgetEventPrefix ? t : this.widgetEventPrefix + t).toLowerCase(), i.target = this.element[0], f = i.originalEvent)
                    for (u in f) u in i || (i[u] = f[u]);
                return this.element.trigger(i, r), !(n.isFunction(e) && e.apply(this.element[0], [i].concat(r)) === !1 || i.isDefaultPrevented())
            }
        };
        n.each({
            show: "fadeIn",
            hide: "fadeOut"
        }, function(t, i) {
            n.Widget.prototype["_" + t] = function(r, u, f) {
                "string" == typeof u && (u = {
                    effect: u
                });
                var o, e = u ? u === !0 || "number" == typeof u ? i : u.effect || i : t;
                u = u || {};
                "number" == typeof u && (u = {
                    duration: u
                });
                o = !n.isEmptyObject(u);
                u.complete = f;
                u.delay && r.delay(u.delay);
                o && n.effects && n.effects.effect[e] ? r[t](u) : e !== t && r[e] ? r[e](u.duration, u.easing, f) : r.queue(function(i) {
                    n(this)[t]();
                    f && f.call(r[0]);
                    i()
                })
            }
        });
        n.widget;
        i = !1;
        n(document).mouseup(function() {
            i = !1
        });
        n.widget("ui.mouse", {
                version: "1.11.1",
                options: {
                    cancel: "input,textarea,button,select,option",
                    distance: 1,
                    delay: 0
                },
                _mouseInit: function() {
                    var t = this;
                    this.element.bind("mousedown." + this.widgetName, function(n) {
                        return t._mouseDown(n)
                    }).bind("click." + this.widgetName, function(i) {
                        if (!0 === n.data(i.target, t.widgetName + ".preventClickEvent")) return n.removeData(i.target, t.widgetName + ".preventClickEvent"), i.stopImmediatePropagation(), !1
                    });
                    this.started = !1
                },
                _mouseDestroy: function() {
                    this.element.unbind("." + this.widgetName);
                    this._mouseMoveDelegate && this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate)
                },
                _mouseDown: function(t) {
                    if (!i) {
                        this._mouseStarted && this._mouseUp(t);
                        this._mouseDownEvent = t;
                        var r = this,
                            u = 1 === t.which,
                            f = "string" == typeof this.options.cancel && t.target.nodeName ? n(t.target).closest(this.options.cancel).length : !1;
                        return u && !f && this._mouseCapture(t) ? (this.mouseDelayMet = !this.options.delay, this.mouseDelayMet || (this._mouseDelayTimer = setTimeout(function() {
                            r.mouseDelayMet = !0
                        }, this.options.delay)), this._mouseDistanceMet(t) && this._mouseDelayMet(t) && (this._mouseStarted = this._mouseStart(t) !== !1, !this._mouseStarted) ? (t.preventDefault(), !0) : (!0 === n.data(t.target, this.widgetName + ".preventClickEvent") && n.removeData(t.target, this.widgetName + ".preventClickEvent"), this._mouseMoveDelegate = function(n) {
                            return r._mouseMove(n)
                        }, this._mouseUpDelegate = function(n) {
                            return r._mouseUp(n)
                        }, this.document.bind("mousemove." + this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName, this._mouseUpDelegate), t.preventDefault(), i = !0, !0)) : !0
                    }
                },
                _mouseMove: function(t) {
                    return n.ui.ie && (!document.documentMode || 9 > document.documentMode) && !t.button ? this._mouseUp(t) : t.which ? this._mouseStarted ? (this._mouseDrag(t), t.preventDefault()) : (this._mouseDistanceMet(t) && this._mouseDelayMet(t) && (this._mouseStarted = this._mouseStart(this._mouseDownEvent, t) !== !1, this._mouseStarted ? this._mouseDrag(t) : this._mouseUp(t)), !this._mouseStarted) : this._mouseUp(t)
                },
                _mouseUp: function(t) {
                    return this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate), this._mouseStarted && (this._mouseStarted = !1, t.target === this._mouseDownEvent.target && n.data(t.target, this.widgetName + ".preventClickEvent", !0), this._mouseStop(t)), i = !1, !1
                },
                _mouseDistanceMet: function(n) {
                    return Math.max(Math.abs(this._mouseDownEvent.pageX - n.pageX), Math.abs(this._mouseDownEvent.pageY - n.pageY)) >= this.options.distance
                },
                _mouseDelayMet: function() {
                    return this.mouseDelayMet
                },
                _mouseStart: function() {},
                _mouseDrag: function() {},
                _mouseStop: function() {},
                _mouseCapture: function() {
                    return !0
                }
            }),
            function() {
                function f(n, t, i) {
                    return [parseFloat(n[0]) * (a.test(n[0]) ? t / 100 : 1), parseFloat(n[1]) * (a.test(n[1]) ? i / 100 : 1)]
                }

                function i(t, i) {
                    return parseInt(n.css(t, i), 10) || 0
                }

                function v(t) {
                    var i = t[0];
                    return 9 === i.nodeType ? {
                        width: t.width(),
                        height: t.height(),
                        offset: {
                            top: 0,
                            left: 0
                        }
                    } : n.isWindow(i) ? {
                        width: t.width(),
                        height: t.height(),
                        offset: {
                            top: t.scrollTop(),
                            left: t.scrollLeft()
                        }
                    } : i.preventDefault ? {
                        width: 0,
                        height: 0,
                        offset: {
                            top: i.pageY,
                            left: i.pageX
                        }
                    } : {
                        width: t.outerWidth(),
                        height: t.outerHeight(),
                        offset: t.offset()
                    }
                }
                n.ui = n.ui || {};
                var u, e, r = Math.max,
                    t = Math.abs,
                    o = Math.round,
                    s = /left|center|right/,
                    h = /top|center|bottom/,
                    c = /[\+\-]\d+(\.[\d]+)?%?/,
                    l = /^\w+/,
                    a = /%$/,
                    y = n.fn.position;
                n.position = {
                    scrollbarWidth: function() {
                        if (void 0 !== u) return u;
                        var r, i, t = n("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'><\/div><\/div>"),
                            f = t.children()[0];
                        return n("body").append(t), r = f.offsetWidth, t.css("overflow", "scroll"), i = f.offsetWidth, r === i && (i = t[0].clientWidth), t.remove(), u = r - i
                    },
                    getScrollInfo: function(t) {
                        var i = t.isWindow || t.isDocument ? "" : t.element.css("overflow-x"),
                            r = t.isWindow || t.isDocument ? "" : t.element.css("overflow-y"),
                            u = "scroll" === i || "auto" === i && t.width < t.element[0].scrollWidth,
                            f = "scroll" === r || "auto" === r && t.height < t.element[0].scrollHeight;
                        return {
                            width: f ? n.position.scrollbarWidth() : 0,
                            height: u ? n.position.scrollbarWidth() : 0
                        }
                    },
                    getWithinInfo: function(t) {
                        var i = n(t || window),
                            r = n.isWindow(i[0]),
                            u = !!i[0] && 9 === i[0].nodeType;
                        return {
                            element: i,
                            isWindow: r,
                            isDocument: u,
                            offset: i.offset() || {
                                left: 0,
                                top: 0
                            },
                            scrollLeft: i.scrollLeft(),
                            scrollTop: i.scrollTop(),
                            width: r || u ? i.width() : i.outerWidth(),
                            height: r || u ? i.height() : i.outerHeight()
                        }
                    }
                };
                n.fn.position = function(u) {
                    if (!u || !u.of) return y.apply(this, arguments);
                    u = n.extend({}, u);
                    var k, a, p, b, w, g, nt = n(u.of),
                        it = n.position.getWithinInfo(u.within),
                        rt = n.position.getScrollInfo(it),
                        d = (u.collision || "flip").split(" "),
                        tt = {};
                    return g = v(nt), nt[0].preventDefault && (u.at = "left top"), a = g.width, p = g.height, b = g.offset, w = n.extend({}, b), n.each(["my", "at"], function() {
                        var t, i, n = (u[this] || "").split(" ");
                        1 === n.length && (n = s.test(n[0]) ? n.concat(["center"]) : h.test(n[0]) ? ["center"].concat(n) : ["center", "center"]);
                        n[0] = s.test(n[0]) ? n[0] : "center";
                        n[1] = h.test(n[1]) ? n[1] : "center";
                        t = c.exec(n[0]);
                        i = c.exec(n[1]);
                        tt[this] = [t ? t[0] : 0, i ? i[0] : 0];
                        u[this] = [l.exec(n[0])[0], l.exec(n[1])[0]]
                    }), 1 === d.length && (d[1] = d[0]), "right" === u.at[0] ? w.left += a : "center" === u.at[0] && (w.left += a / 2), "bottom" === u.at[1] ? w.top += p : "center" === u.at[1] && (w.top += p / 2), k = f(tt.at, a, p), w.left += k[0], w.top += k[1], this.each(function() {
                        var y, g, h = n(this),
                            c = h.outerWidth(),
                            l = h.outerHeight(),
                            ut = i(this, "marginLeft"),
                            ft = i(this, "marginTop"),
                            et = c + ut + i(this, "marginRight") + rt.width,
                            ot = l + ft + i(this, "marginBottom") + rt.height,
                            s = n.extend({}, w),
                            v = f(tt.my, h.outerWidth(), h.outerHeight());
                        "right" === u.my[0] ? s.left -= c : "center" === u.my[0] && (s.left -= c / 2);
                        "bottom" === u.my[1] ? s.top -= l : "center" === u.my[1] && (s.top -= l / 2);
                        s.left += v[0];
                        s.top += v[1];
                        e || (s.left = o(s.left), s.top = o(s.top));
                        y = {
                            marginLeft: ut,
                            marginTop: ft
                        };
                        n.each(["left", "top"], function(t, i) {
                            n.ui.position[d[t]] && n.ui.position[d[t]][i](s, {
                                targetWidth: a,
                                targetHeight: p,
                                elemWidth: c,
                                elemHeight: l,
                                collisionPosition: y,
                                collisionWidth: et,
                                collisionHeight: ot,
                                offset: [k[0] + v[0], k[1] + v[1]],
                                my: u.my,
                                at: u.at,
                                within: it,
                                elem: h
                            })
                        });
                        u.using && (g = function(n) {
                            var i = b.left - s.left,
                                o = i + a - c,
                                f = b.top - s.top,
                                v = f + p - l,
                                e = {
                                    target: {
                                        element: nt,
                                        left: b.left,
                                        top: b.top,
                                        width: a,
                                        height: p
                                    },
                                    element: {
                                        element: h,
                                        left: s.left,
                                        top: s.top,
                                        width: c,
                                        height: l
                                    },
                                    horizontal: 0 > o ? "left" : i > 0 ? "right" : "center",
                                    vertical: 0 > v ? "top" : f > 0 ? "bottom" : "middle"
                                };
                            c > a && a > t(i + o) && (e.horizontal = "center");
                            l > p && p > t(f + v) && (e.vertical = "middle");
                            e.important = r(t(i), t(o)) > r(t(f), t(v)) ? "horizontal" : "vertical";
                            u.using.call(this, n, e)
                        });
                        h.offset(n.extend(s, {
                            using: g
                        }))
                    })
                };
                n.ui.position = {
                        fit: {
                            left: function(n, t) {
                                var h, e = t.within,
                                    u = e.isWindow ? e.scrollLeft : e.offset.left,
                                    o = e.width,
                                    s = n.left - t.collisionPosition.marginLeft,
                                    i = u - s,
                                    f = s + t.collisionWidth - o - u;
                                t.collisionWidth > o ? i > 0 && 0 >= f ? (h = n.left + i + t.collisionWidth - o - u, n.left += i - h) : n.left = f > 0 && 0 >= i ? u : i > f ? u + o - t.collisionWidth : u : i > 0 ? n.left += i : f > 0 ? n.left -= f : n.left = r(n.left - s, n.left)
                            },
                            top: function(n, t) {
                                var h, o = t.within,
                                    u = o.isWindow ? o.scrollTop : o.offset.top,
                                    e = t.within.height,
                                    s = n.top - t.collisionPosition.marginTop,
                                    i = u - s,
                                    f = s + t.collisionHeight - e - u;
                                t.collisionHeight > e ? i > 0 && 0 >= f ? (h = n.top + i + t.collisionHeight - e - u, n.top += i - h) : n.top = f > 0 && 0 >= i ? u : i > f ? u + e - t.collisionHeight : u : i > 0 ? n.top += i : f > 0 ? n.top -= f : n.top = r(n.top - s, n.top)
                            }
                        },
                        flip: {
                            left: function(n, i) {
                                var o, s, r = i.within,
                                    y = r.offset.left + r.scrollLeft,
                                    c = r.width,
                                    h = r.isWindow ? r.scrollLeft : r.offset.left,
                                    l = n.left - i.collisionPosition.marginLeft,
                                    a = l - h,
                                    v = l + i.collisionWidth - c - h,
                                    u = "left" === i.my[0] ? -i.elemWidth : "right" === i.my[0] ? i.elemWidth : 0,
                                    f = "left" === i.at[0] ? i.targetWidth : "right" === i.at[0] ? -i.targetWidth : 0,
                                    e = -2 * i.offset[0];
                                0 > a ? (o = n.left + u + f + e + i.collisionWidth - c - y, (0 > o || t(a) > o) && (n.left += u + f + e)) : v > 0 && (s = n.left - i.collisionPosition.marginLeft + u + f + e - h, (s > 0 || v > t(s)) && (n.left += u + f + e))
                            },
                            top: function(n, i) {
                                var o, s, r = i.within,
                                    y = r.offset.top + r.scrollTop,
                                    a = r.height,
                                    h = r.isWindow ? r.scrollTop : r.offset.top,
                                    v = n.top - i.collisionPosition.marginTop,
                                    c = v - h,
                                    l = v + i.collisionHeight - a - h,
                                    p = "top" === i.my[1],
                                    u = p ? -i.elemHeight : "bottom" === i.my[1] ? i.elemHeight : 0,
                                    f = "top" === i.at[1] ? i.targetHeight : "bottom" === i.at[1] ? -i.targetHeight : 0,
                                    e = -2 * i.offset[1];
                                0 > c ? (s = n.top + u + f + e + i.collisionHeight - a - y, n.top + u + f + e > c && (0 > s || t(c) > s) && (n.top += u + f + e)) : l > 0 && (o = n.top - i.collisionPosition.marginTop + u + f + e - h, n.top + u + f + e > l && (o > 0 || l > t(o)) && (n.top += u + f + e))
                            }
                        },
                        flipfit: {
                            left: function() {
                                n.ui.position.flip.left.apply(this, arguments);
                                n.ui.position.fit.left.apply(this, arguments)
                            },
                            top: function() {
                                n.ui.position.flip.top.apply(this, arguments);
                                n.ui.position.fit.top.apply(this, arguments)
                            }
                        }
                    },
                    function() {
                        var t, i, r, u, f, o = document.getElementsByTagName("body")[0],
                            s = document.createElement("div");
                        t = document.createElement(o ? "div" : "body");
                        r = {
                            visibility: "hidden",
                            width: 0,
                            height: 0,
                            border: 0,
                            margin: 0,
                            background: "none"
                        };
                        o && n.extend(r, {
                            position: "absolute",
                            left: "-1000px",
                            top: "-1000px"
                        });
                        for (f in r) t.style[f] = r[f];
                        t.appendChild(s);
                        i = o || document.documentElement;
                        i.insertBefore(t, i.firstChild);
                        s.style.cssText = "position: absolute; left: 10.7432222px;";
                        u = n(s).offset().left;
                        e = u > 10 && 11 > u;
                        t.innerHTML = "";
                        i.removeChild(t)
                    }()
            }();
        n.ui.position;
        n.widget("ui.accordion", {
            version: "1.11.1",
            options: {
                active: 0,
                animate: {},
                collapsible: !1,
                event: "click",
                header: "> li > :first-child,> :not(li):even",
                heightStyle: "auto",
                icons: {
                    activeHeader: "ui-icon-triangle-1-s",
                    header: "ui-icon-triangle-1-e"
                },
                activate: null,
                beforeActivate: null
            },
            hideProps: {
                borderTopWidth: "hide",
                borderBottomWidth: "hide",
                paddingTop: "hide",
                paddingBottom: "hide",
                height: "hide"
            },
            showProps: {
                borderTopWidth: "show",
                borderBottomWidth: "show",
                paddingTop: "show",
                paddingBottom: "show",
                height: "show"
            },
            _create: function() {
                var t = this.options;
                this.prevShow = this.prevHide = n();
                this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role", "tablist");
                t.collapsible || t.active !== !1 && null != t.active || (t.active = 0);
                this._processPanels();
                0 > t.active && (t.active += this.headers.length);
                this._refresh()
            },
            _getCreateEventData: function() {
                return {
                    header: this.active,
                    panel: this.active.length ? this.active.next() : n()
                }
            },
            _createIcons: function() {
                var t = this.options.icons;
                t && (n("<span>").addClass("ui-accordion-header-icon ui-icon " + t.header).prependTo(this.headers), this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader), this.headers.addClass("ui-accordion-icons"))
            },
            _destroyIcons: function() {
                this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()
            },
            _destroy: function() {
                var n;
                this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");
                this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId();
                this._destroyIcons();
                n = this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display", "").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId();
                "content" !== this.options.heightStyle && n.css("height", "")
            },
            _setOption: function(n, t) {
                return "active" === n ? (this._activate(t), void 0) : ("event" === n && (this.options.event && this._off(this.headers, this.options.event), this._setupEvents(t)), this._super(n, t), "collapsible" !== n || t || this.options.active !== !1 || this._activate(0), "icons" === n && (this._destroyIcons(), t && this._createIcons()), "disabled" === n && (this.element.toggleClass("ui-state-disabled", !!t).attr("aria-disabled", t), this.headers.add(this.headers.next()).toggleClass("ui-state-disabled", !!t)), void 0)
            },
            _keydown: function(t) {
                if (!t.altKey && !t.ctrlKey) {
                    var i = n.ui.keyCode,
                        u = this.headers.length,
                        f = this.headers.index(t.target),
                        r = !1;
                    switch (t.keyCode) {
                        case i.RIGHT:
                        case i.DOWN:
                            r = this.headers[(f + 1) % u];
                            break;
                        case i.LEFT:
                        case i.UP:
                            r = this.headers[(f - 1 + u) % u];
                            break;
                        case i.SPACE:
                        case i.ENTER:
                            this._eventHandler(t);
                            break;
                        case i.HOME:
                            r = this.headers[0];
                            break;
                        case i.END:
                            r = this.headers[u - 1]
                    }
                    r && (n(t.target).attr("tabIndex", -1), n(r).attr("tabIndex", 0), r.focus(), t.preventDefault())
                }
            },
            _panelKeyDown: function(t) {
                t.keyCode === n.ui.keyCode.UP && t.ctrlKey && n(t.currentTarget).prev().focus()
            },
            refresh: function() {
                var t = this.options;
                this._processPanels();
                t.active === !1 && t.collapsible === !0 || !this.headers.length ? (t.active = !1, this.active = n()) : t.active === !1 ? this._activate(0) : this.active.length && !n.contains(this.element[0], this.active[0]) ? this.headers.length === this.headers.find(".ui-state-disabled").length ? (t.active = !1, this.active = n()) : this._activate(Math.max(0, t.active - 1)) : t.active = this.headers.index(this.active);
                this._destroyIcons();
                this._refresh()
            },
            _processPanels: function() {
                this.headers = this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all");
                this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()
            },
            _refresh: function() {
                var t, i = this.options,
                    r = i.heightStyle,
                    u = this.element.parent();
                this.active = this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");
                this.active.next().addClass("ui-accordion-content-active").show();
                this.headers.attr("role", "tab").each(function() {
                    var t = n(this),
                        r = t.uniqueId().attr("id"),
                        i = t.next(),
                        u = i.uniqueId().attr("id");
                    t.attr("aria-controls", u);
                    i.attr("aria-labelledby", r)
                }).next().attr("role", "tabpanel");
                this.headers.not(this.active).attr({
                    "aria-selected": "false",
                    "aria-expanded": "false",
                    tabIndex: -1
                }).next().attr({
                    "aria-hidden": "true"
                }).hide();
                this.active.length ? this.active.attr({
                    "aria-selected": "true",
                    "aria-expanded": "true",
                    tabIndex: 0
                }).next().attr({
                    "aria-hidden": "false"
                }) : this.headers.eq(0).attr("tabIndex", 0);
                this._createIcons();
                this._setupEvents(i.event);
                "fill" === r ? (t = u.height(), this.element.siblings(":visible").each(function() {
                    var i = n(this),
                        r = i.css("position");
                    "absolute" !== r && "fixed" !== r && (t -= i.outerHeight(!0))
                }), this.headers.each(function() {
                    t -= n(this).outerHeight(!0)
                }), this.headers.next().each(function() {
                    n(this).height(Math.max(0, t - n(this).innerHeight() + n(this).height()))
                }).css("overflow", "auto")) : "auto" === r && (t = 0, this.headers.next().each(function() {
                    t = Math.max(t, n(this).css("height", "").height())
                }).height(t))
            },
            _activate: function(t) {
                var i = this._findActive(t)[0];
                i !== this.active[0] && (i = i || this.active[0], this._eventHandler({
                    target: i,
                    currentTarget: i,
                    preventDefault: n.noop
                }))
            },
            _findActive: function(t) {
                return "number" == typeof t ? this.headers.eq(t) : n()
            },
            _setupEvents: function(t) {
                var i = {
                    keydown: "_keydown"
                };
                t && n.each(t.split(" "), function(n, t) {
                    i[t] = "_eventHandler"
                });
                this._off(this.headers.add(this.headers.next()));
                this._on(this.headers, i);
                this._on(this.headers.next(), {
                    keydown: "_panelKeyDown"
                });
                this._hoverable(this.headers);
                this._focusable(this.headers)
            },
            _eventHandler: function(t) {
                var i = this.options,
                    u = this.active,
                    r = n(t.currentTarget),
                    f = r[0] === u[0],
                    e = f && i.collapsible,
                    s = e ? n() : r.next(),
                    h = u.next(),
                    o = {
                        oldHeader: u,
                        oldPanel: h,
                        newHeader: e ? n() : r,
                        newPanel: s
                    };
                t.preventDefault();
                f && !i.collapsible || this._trigger("beforeActivate", t, o) === !1 || (i.active = e ? !1 : this.headers.index(r), this.active = f ? n() : r, this._toggle(o), u.removeClass("ui-accordion-header-active ui-state-active"), i.icons && u.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header), f || (r.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"), i.icons && r.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader), r.next().addClass("ui-accordion-content-active")))
            },
            _toggle: function(t) {
                var r = t.newPanel,
                    i = this.prevShow.length ? this.prevShow : t.oldPanel;
                this.prevShow.add(this.prevHide).stop(!0, !0);
                this.prevShow = r;
                this.prevHide = i;
                this.options.animate ? this._animate(r, i, t) : (i.hide(), r.show(), this._toggleComplete(t));
                i.attr({
                    "aria-hidden": "true"
                });
                i.prev().attr("aria-selected", "false");
                r.length && i.length ? i.prev().attr({
                    tabIndex: -1,
                    "aria-expanded": "false"
                }) : r.length && this.headers.filter(function() {
                    return 0 === n(this).attr("tabIndex")
                }).attr("tabIndex", -1);
                r.attr("aria-hidden", "false").prev().attr({
                    "aria-selected": "true",
                    tabIndex: 0,
                    "aria-expanded": "true"
                })
            },
            _animate: function(n, t, i) {
                var h, r, u, c = this,
                    o = 0,
                    l = n.length && (!t.length || n.index() < t.index()),
                    e = this.options.animate || {},
                    f = l && e.down || e,
                    s = function() {
                        c._toggleComplete(i)
                    };
                return "number" == typeof f && (u = f), "string" == typeof f && (r = f), r = r || f.easing || e.easing, u = u || f.duration || e.duration, t.length ? n.length ? (h = n.show().outerHeight(), t.animate(this.hideProps, {
                    duration: u,
                    easing: r,
                    step: function(n, t) {
                        t.now = Math.round(n)
                    }
                }), n.hide().animate(this.showProps, {
                    duration: u,
                    easing: r,
                    complete: s,
                    step: function(n, i) {
                        i.now = Math.round(n);
                        "height" !== i.prop ? o += i.now : "content" !== c.options.heightStyle && (i.now = Math.round(h - t.outerHeight() - o), o = 0)
                    }
                }), void 0) : t.animate(this.hideProps, u, r, s) : n.animate(this.showProps, u, r, s)
            },
            _toggleComplete: function(n) {
                var t = n.oldPanel;
                t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");
                t.length && (t.parent()[0].className = t.parent()[0].className);
                this._trigger("activate", null, n)
            }
        });
        n.widget("ui.menu", {
            version: "1.11.1",
            defaultElement: "<ul>",
            delay: 300,
            options: {
                icons: {
                    submenu: "ui-icon-carat-1-e"
                },
                items: "> *",
                menus: "ul",
                position: {
                    my: "left-1 top",
                    at: "right top"
                },
                role: "menu",
                blur: null,
                focus: null,
                select: null
            },
            _create: function() {
                this.activeMenu = this.element;
                this.mouseHandled = !1;
                this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons", !!this.element.find(".ui-icon").length).attr({
                    role: this.options.role,
                    tabIndex: 0
                });
                this.options.disabled && this.element.addClass("ui-state-disabled").attr("aria-disabled", "true");
                this._on({
                    "mousedown .ui-menu-item": function(n) {
                        n.preventDefault()
                    },
                    "click .ui-menu-item": function(t) {
                        var i = n(t.target);
                        !this.mouseHandled && i.not(".ui-state-disabled").length && (this.select(t), t.isPropagationStopped() || (this.mouseHandled = !0), i.has(".ui-menu").length ? this.expand(t) : !this.element.is(":focus") && n(this.document[0].activeElement).closest(".ui-menu").length && (this.element.trigger("focus", [!0]), this.active && 1 === this.active.parents(".ui-menu").length && clearTimeout(this.timer)))
                    },
                    "mouseenter .ui-menu-item": function(t) {
                        var i = n(t.currentTarget);
                        i.siblings(".ui-state-active").removeClass("ui-state-active");
                        this.focus(t, i)
                    },
                    mouseleave: "collapseAll",
                    "mouseleave .ui-menu": "collapseAll",
                    focus: function(n, t) {
                        var i = this.active || this.element.find(this.options.items).eq(0);
                        t || this.focus(n, i)
                    },
                    blur: function(t) {
                        this._delay(function() {
                            n.contains(this.element[0], this.document[0].activeElement) || this.collapseAll(t)
                        })
                    },
                    keydown: "_keydown"
                });
                this.refresh();
                this._on(this.document, {
                    click: function(n) {
                        this._closeOnDocumentClick(n) && this.collapseAll(n);
                        this.mouseHandled = !1
                    }
                })
            },
            _destroy: function() {
                this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();
                this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function() {
                    var t = n(this);
                    t.data("ui-menu-submenu-carat") && t.remove()
                });
                this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")
            },
            _keydown: function(t) {
                function o(n) {
                    return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
                }
                var i, f, r, e, u, s = !0;
                switch (t.keyCode) {
                    case n.ui.keyCode.PAGE_UP:
                        this.previousPage(t);
                        break;
                    case n.ui.keyCode.PAGE_DOWN:
                        this.nextPage(t);
                        break;
                    case n.ui.keyCode.HOME:
                        this._move("first", "first", t);
                        break;
                    case n.ui.keyCode.END:
                        this._move("last", "last", t);
                        break;
                    case n.ui.keyCode.UP:
                        this.previous(t);
                        break;
                    case n.ui.keyCode.DOWN:
                        this.next(t);
                        break;
                    case n.ui.keyCode.LEFT:
                        this.collapse(t);
                        break;
                    case n.ui.keyCode.RIGHT:
                        this.active && !this.active.is(".ui-state-disabled") && this.expand(t);
                        break;
                    case n.ui.keyCode.ENTER:
                    case n.ui.keyCode.SPACE:
                        this._activate(t);
                        break;
                    case n.ui.keyCode.ESCAPE:
                        this.collapse(t);
                        break;
                    default:
                        s = !1;
                        f = this.previousFilter || "";
                        r = String.fromCharCode(t.keyCode);
                        e = !1;
                        clearTimeout(this.filterTimer);
                        r === f ? e = !0 : r = f + r;
                        u = RegExp("^" + o(r), "i");
                        i = this.activeMenu.find(this.options.items).filter(function() {
                            return u.test(n(this).text())
                        });
                        i = e && -1 !== i.index(this.active.next()) ? this.active.nextAll(".ui-menu-item") : i;
                        i.length || (r = String.fromCharCode(t.keyCode), u = RegExp("^" + o(r), "i"), i = this.activeMenu.find(this.options.items).filter(function() {
                            return u.test(n(this).text())
                        }));
                        i.length ? (this.focus(t, i), i.length > 1 ? (this.previousFilter = r, this.filterTimer = this._delay(function() {
                            delete this.previousFilter
                        }, 1e3)) : delete this.previousFilter) : delete this.previousFilter
                }
                s && t.preventDefault()
            },
            _activate: function(n) {
                this.active.is(".ui-state-disabled") || (this.active.is("[aria-haspopup='true']") ? this.expand(n) : this.select(n))
            },
            refresh: function() {
                var i, t, u = this,
                    f = this.options.icons.submenu,
                    r = this.element.find(this.options.menus);
                this.element.toggleClass("ui-menu-icons", !!this.element.find(".ui-icon").length);
                r.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({
                    role: this.options.role,
                    "aria-hidden": "true",
                    "aria-expanded": "false"
                }).each(function() {
                    var t = n(this),
                        i = t.parent(),
                        r = n("<span>").addClass("ui-menu-icon ui-icon " + f).data("ui-menu-submenu-carat", !0);
                    i.attr("aria-haspopup", "true").prepend(r);
                    t.attr("aria-labelledby", i.attr("id"))
                });
                i = r.add(this.element);
                t = i.find(this.options.items);
                t.not(".ui-menu-item").each(function() {
                    var t = n(this);
                    u._isDivider(t) && t.addClass("ui-widget-content ui-menu-divider")
                });
                t.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({
                    tabIndex: -1,
                    role: this._itemRole()
                });
                t.filter(".ui-state-disabled").attr("aria-disabled", "true");
                this.active && !n.contains(this.element[0], this.active[0]) && this.blur()
            },
            _itemRole: function() {
                return {
                    menu: "menuitem",
                    listbox: "option"
                }[this.options.role]
            },
            _setOption: function(n, t) {
                "icons" === n && this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu);
                "disabled" === n && this.element.toggleClass("ui-state-disabled", !!t).attr("aria-disabled", t);
                this._super(n, t)
            },
            focus: function(n, t) {
                var i, r;
                this.blur(n, n && "focus" === n.type);
                this._scrollIntoView(t);
                this.active = t.first();
                r = this.active.addClass("ui-state-focus").removeClass("ui-state-active");
                this.options.role && this.element.attr("aria-activedescendant", r.attr("id"));
                this.active.parent().closest(".ui-menu-item").addClass("ui-state-active");
                n && "keydown" === n.type ? this._close() : this.timer = this._delay(function() {
                    this._close()
                }, this.delay);
                i = t.children(".ui-menu");
                i.length && n && /^mouse/.test(n.type) && this._startOpening(i);
                this.activeMenu = t.parent();
                this._trigger("focus", n, {
                    item: t
                })
            },
            _scrollIntoView: function(t) {
                var e, o, i, r, u, f;
                this._hasScroll() && (e = parseFloat(n.css(this.activeMenu[0], "borderTopWidth")) || 0, o = parseFloat(n.css(this.activeMenu[0], "paddingTop")) || 0, i = t.offset().top - this.activeMenu.offset().top - e - o, r = this.activeMenu.scrollTop(), u = this.activeMenu.height(), f = t.outerHeight(), 0 > i ? this.activeMenu.scrollTop(r + i) : i + f > u && this.activeMenu.scrollTop(r + i - u + f))
            },
            blur: function(n, t) {
                t || clearTimeout(this.timer);
                this.active && (this.active.removeClass("ui-state-focus"), this.active = null, this._trigger("blur", n, {
                    item: this.active
                }))
            },
            _startOpening: function(n) {
                clearTimeout(this.timer);
                "true" === n.attr("aria-hidden") && (this.timer = this._delay(function() {
                    this._close();
                    this._open(n)
                }, this.delay))
            },
            _open: function(t) {
                var i = n.extend({
                    of: this.active
                }, this.options.position);
                clearTimeout(this.timer);
                this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden", "true");
                t.show().removeAttr("aria-hidden").attr("aria-expanded", "true").position(i)
            },
            collapseAll: function(t, i) {
                clearTimeout(this.timer);
                this.timer = this._delay(function() {
                    var r = i ? this.element : n(t && t.target).closest(this.element.find(".ui-menu"));
                    r.length || (r = this.element);
                    this._close(r);
                    this.blur(t);
                    this.activeMenu = r
                }, this.delay)
            },
            _close: function(n) {
                n || (n = this.active ? this.active.parent() : this.element);
                n.find(".ui-menu").hide().attr("aria-hidden", "true").attr("aria-expanded", "false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")
            },
            _closeOnDocumentClick: function(t) {
                return !n(t.target).closest(".ui-menu").length
            },
            _isDivider: function(n) {
                return !/[^\-\u2014\u2013\s]/.test(n.text())
            },
            collapse: function(n) {
                var t = this.active && this.active.parent().closest(".ui-menu-item", this.element);
                t && t.length && (this._close(), this.focus(n, t))
            },
            expand: function(n) {
                var t = this.active && this.active.children(".ui-menu ").find(this.options.items).first();
                t && t.length && (this._open(t.parent()), this._delay(function() {
                    this.focus(n, t)
                }))
            },
            next: function(n) {
                this._move("next", "first", n)
            },
            previous: function(n) {
                this._move("prev", "last", n)
            },
            isFirstItem: function() {
                return this.active && !this.active.prevAll(".ui-menu-item").length
            },
            isLastItem: function() {
                return this.active && !this.active.nextAll(".ui-menu-item").length
            },
            _move: function(n, t, i) {
                var r;
                this.active && (r = "first" === n || "last" === n ? this.active["first" === n ? "prevAll" : "nextAll"](".ui-menu-item").eq(-1) : this.active[n + "All"](".ui-menu-item").eq(0));
                r && r.length && this.active || (r = this.activeMenu.find(this.options.items)[t]());
                this.focus(i, r)
            },
            nextPage: function(t) {
                var i, r, u;
                return this.active ? (this.isLastItem() || (this._hasScroll() ? (r = this.active.offset().top, u = this.element.height(), this.active.nextAll(".ui-menu-item").each(function() {
                    return i = n(this), 0 > i.offset().top - r - u
                }), this.focus(t, i)) : this.focus(t, this.activeMenu.find(this.options.items)[this.active ? "last" : "first"]())), void 0) : (this.next(t), void 0)
            },
            previousPage: function(t) {
                var i, r, u;
                return this.active ? (this.isFirstItem() || (this._hasScroll() ? (r = this.active.offset().top, u = this.element.height(), this.active.prevAll(".ui-menu-item").each(function() {
                    return i = n(this), i.offset().top - r + u > 0
                }), this.focus(t, i)) : this.focus(t, this.activeMenu.find(this.options.items).first())), void 0) : (this.next(t), void 0)
            },
            _hasScroll: function() {
                return this.element.outerHeight() < this.element.prop("scrollHeight")
            },
            select: function(t) {
                this.active = this.active || n(t.target).closest(".ui-menu-item");
                var i = {
                    item: this.active
                };
                this.active.has(".ui-menu").length || this.collapseAll(t, !0);
                this._trigger("select", t, i)
            }
        });
        n.widget("ui.autocomplete", {
            version: "1.11.1",
            defaultElement: "<input>",
            options: {
                appendTo: null,
                autoFocus: !1,
                delay: 300,
                minLength: 1,
                position: {
                    my: "left top",
                    at: "left bottom",
                    collision: "none"
                },
                source: null,
                change: null,
                close: null,
                focus: null,
                open: null,
                response: null,
                search: null,
                select: null
            },
            requestIndex: 0,
            pending: 0,
            _create: function() {
                var t, i, r, u = this.element[0].nodeName.toLowerCase(),
                    f = "textarea" === u,
                    e = "input" === u;
                this.isMultiLine = f ? !0 : e ? !1 : this.element.prop("isContentEditable");
                this.valueMethod = this.element[f || e ? "val" : "text"];
                this.isNewMenu = !0;
                this.element.addClass("ui-autocomplete-input").attr("autocomplete", "off");
                this._on(this.element, {
                    keydown: function(u) {
                        if (this.element.prop("readOnly")) return t = !0, r = !0, i = !0, void 0;
                        t = !1;
                        r = !1;
                        i = !1;
                        var f = n.ui.keyCode;
                        switch (u.keyCode) {
                            case f.PAGE_UP:
                                t = !0;
                                this._move("previousPage", u);
                                break;
                            case f.PAGE_DOWN:
                                t = !0;
                                this._move("nextPage", u);
                                break;
                            case f.UP:
                                t = !0;
                                this._keyEvent("previous", u);
                                break;
                            case f.DOWN:
                                t = !0;
                                this._keyEvent("next", u);
                                break;
                            case f.ENTER:
                                this.menu.active && (t = !0, u.preventDefault(), this.menu.select(u));
                                break;
                            case f.TAB:
                                this.menu.active && this.menu.select(u);
                                break;
                            case f.ESCAPE:
                                this.menu.element.is(":visible") && (this.isMultiLine || this._value(this.term), this.close(u), u.preventDefault());
                                break;
                            default:
                                i = !0;
                                this._searchTimeout(u)
                        }
                    },
                    keypress: function(r) {
                        if (t) return t = !1, (!this.isMultiLine || this.menu.element.is(":visible")) && r.preventDefault(), void 0;
                        if (!i) {
                            var u = n.ui.keyCode;
                            switch (r.keyCode) {
                                case u.PAGE_UP:
                                    this._move("previousPage", r);
                                    break;
                                case u.PAGE_DOWN:
                                    this._move("nextPage", r);
                                    break;
                                case u.UP:
                                    this._keyEvent("previous", r);
                                    break;
                                case u.DOWN:
                                    this._keyEvent("next", r)
                            }
                        }
                    },
                    input: function(n) {
                        return r ? (r = !1, n.preventDefault(), void 0) : (this._searchTimeout(n), void 0)
                    },
                    focus: function() {
                        this.selectedItem = null;
                        this.previous = this._value()
                    },
                    blur: function(n) {
                        return this.cancelBlur ? (delete this.cancelBlur, void 0) : (clearTimeout(this.searching), this.close(n), this._change(n), void 0)
                    }
                });
                this._initSource();
                this.menu = n("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({
                    role: null
                }).hide().menu("instance");
                this._on(this.menu.element, {
                    mousedown: function(t) {
                        t.preventDefault();
                        this.cancelBlur = !0;
                        this._delay(function() {
                            delete this.cancelBlur
                        });
                        var i = this.menu.element[0];
                        n(t.target).closest(".ui-menu-item").length || this._delay(function() {
                            var t = this;
                            this.document.one("mousedown", function(r) {
                                r.target === t.element[0] || r.target === i || n.contains(i, r.target) || t.close()
                            })
                        })
                    },
                    menufocus: function(t, i) {
                        var r, u;
                        return this.isNewMenu && (this.isNewMenu = !1, t.originalEvent && /^mouse/.test(t.originalEvent.type)) ? (this.menu.blur(), this.document.one("mousemove", function() {
                            n(t.target).trigger(t.originalEvent)
                        }), void 0) : (u = i.item.data("ui-autocomplete-item"), !1 !== this._trigger("focus", t, {
                            item: u
                        }) && t.originalEvent && /^key/.test(t.originalEvent.type) && this._value(u.value), r = i.item.attr("aria-label") || u.value, r && n.trim(r).length && (this.liveRegion.children().hide(), n("<div>").text(r).appendTo(this.liveRegion)), void 0)
                    },
                    menuselect: function(n, t) {
                        var i = t.item.data("ui-autocomplete-item"),
                            r = this.previous;
                        this.element[0] !== this.document[0].activeElement && (this.element.focus(), this.previous = r, this._delay(function() {
                            this.previous = r;
                            this.selectedItem = i
                        }));
                        !1 !== this._trigger("select", n, {
                            item: i
                        }) && this._value(i.value);
                        this.term = this._value();
                        this.close(n);
                        this.selectedItem = i
                    }
                });
                this.liveRegion = n("<span>", {
                    role: "status",
                    "aria-live": "assertive",
                    "aria-relevant": "additions"
                }).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body);
                this._on(this.window, {
                    beforeunload: function() {
                        this.element.removeAttr("autocomplete")
                    }
                })
            },
            _destroy: function() {
                clearTimeout(this.searching);
                this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");
                this.menu.element.remove();
                this.liveRegion.remove()
            },
            _setOption: function(n, t) {
                this._super(n, t);
                "source" === n && this._initSource();
                "appendTo" === n && this.menu.element.appendTo(this._appendTo());
                "disabled" === n && t && this.xhr && this.xhr.abort()
            },
            _appendTo: function() {
                var t = this.options.appendTo;
                return t && (t = t.jquery || t.nodeType ? n(t) : this.document.find(t).eq(0)), t && t[0] || (t = this.element.closest(".ui-front")), t.length || (t = this.document[0].body), t
            },
            _initSource: function() {
                var i, r, t = this;
                n.isArray(this.options.source) ? (i = this.options.source, this.source = function(t, r) {
                    r(n.ui.autocomplete.filter(i, t.term))
                }) : "string" == typeof this.options.source ? (r = this.options.source, this.source = function(i, u) {
                    t.xhr && t.xhr.abort();
                    t.xhr = n.ajax({
                        url: r,
                        data: i,
                        dataType: "json",
                        success: function(n) {
                            u(n)
                        },
                        error: function() {
                            u([])
                        }
                    })
                }) : this.source = this.options.source
            },
            _searchTimeout: function(n) {
                clearTimeout(this.searching);
                this.searching = this._delay(function() {
                    var t = this.term === this._value(),
                        i = this.menu.element.is(":visible"),
                        r = n.altKey || n.ctrlKey || n.metaKey || n.shiftKey;
                    t && (!t || i || r) || (this.selectedItem = null, this.search(null, n))
                }, this.options.delay)
            },
            search: function(n, t) {
                return n = null != n ? n : this._value(), this.term = this._value(), n.length < this.options.minLength ? this.close(t) : this._trigger("search", t) !== !1 ? this._search(n) : void 0
            },
            _search: function(n) {
                this.pending++;
                this.element.addClass("ui-autocomplete-loading");
                this.cancelSearch = !1;
                this.source({
                    term: n
                }, this._response())
            },
            _response: function() {
                var t = ++this.requestIndex;
                return n.proxy(function(n) {
                    t === this.requestIndex && this.__response(n);
                    this.pending--;
                    this.pending || this.element.removeClass("ui-autocomplete-loading")
                }, this)
            },
            __response: function(n) {
                n && (n = this._normalize(n));
                this._trigger("response", null, {
                    content: n
                });
                !this.options.disabled && n && n.length && !this.cancelSearch ? (this._suggest(n), this._trigger("open")) : this._close()
            },
            close: function(n) {
                this.cancelSearch = !0;
                this._close(n)
            },
            _close: function(n) {
                this.menu.element.is(":visible") && (this.menu.element.hide(), this.menu.blur(), this.isNewMenu = !0, this._trigger("close", n))
            },
            _change: function(n) {
                this.previous !== this._value() && this._trigger("change", n, {
                    item: this.selectedItem
                })
            },
            _normalize: function(t) {
                return t.length && t[0].label && t[0].value ? t : n.map(t, function(t) {
                    return "string" == typeof t ? {
                        label: t,
                        value: t
                    } : n.extend({}, t, {
                        label: t.label || t.value,
                        value: t.value || t.label
                    })
                })
            },
            _suggest: function(t) {
                var i = this.menu.element.empty();
                this._renderMenu(i, t);
                this.isNewMenu = !0;
                this.menu.refresh();
                i.show();
                this._resizeMenu();
                i.position(n.extend({
                    of: this.element
                }, this.options.position));
                this.options.autoFocus && this.menu.next()
            },
            _resizeMenu: function() {
                var n = this.menu.element;
                n.outerWidth(Math.max(n.width("").outerWidth() + 1, this.element.outerWidth()))
            },
            _renderMenu: function(t, i) {
                var r = this;
                n.each(i, function(n, i) {
                    r._renderItemData(t, i)
                })
            },
            _renderItemData: function(n, t) {
                return this._renderItem(n, t).data("ui-autocomplete-item", t)
            },
            _renderItem: function(t, i) {
                return n("<li>").text(i.label).appendTo(t)
            },
            _move: function(n, t) {
                return this.menu.element.is(":visible") ? this.menu.isFirstItem() && /^previous/.test(n) || this.menu.isLastItem() && /^next/.test(n) ? (this.isMultiLine || this._value(this.term), this.menu.blur(), void 0) : (this.menu[n](t), void 0) : (this.search(null, t), void 0)
            },
            widget: function() {
                return this.menu.element
            },
            _value: function() {
                return this.valueMethod.apply(this.element, arguments)
            },
            _keyEvent: function(n, t) {
                (!this.isMultiLine || this.menu.element.is(":visible")) && (this._move(n, t), t.preventDefault())
            }
        });
        n.extend(n.ui.autocomplete, {
            escapeRegex: function(n) {
                return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
            },
            filter: function(t, i) {
                var r = RegExp(n.ui.autocomplete.escapeRegex(i), "i");
                return n.grep(t, function(n) {
                    return r.test(n.label || n.value || n)
                })
            }
        });
        n.widget("ui.autocomplete", n.ui.autocomplete, {
            options: {
                messages: {
                    noResults: "No search results.",
                    results: function(n) {
                        return n + (n > 1 ? " results are" : " result is") + " available, use up and down arrow keys to navigate."
                    }
                }
            },
            __response: function(t) {
                var i;
                this._superApply(arguments);
                this.options.disabled || this.cancelSearch || (i = t && t.length ? this.options.messages.results(t.length) : this.options.messages.noResults, this.liveRegion.children().hide(), n("<div>").text(i).appendTo(this.liveRegion))
            }
        });
        n.ui.autocomplete;
        var s, p = "ui-button ui-widget ui-state-default ui-corner-all",
            w = "ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",
            d = function() {
                var t = n(this);
                setTimeout(function() {
                    t.find(":ui-button").button("refresh")
                }, 1)
            },
            b = function(t) {
                var i = t.name,
                    r = t.form,
                    u = n([]);
                return i && (i = i.replace(/'/g, "\\'"), u = r ? n(r).find("[name='" + i + "'][type=radio]") : n("[name='" + i + "'][type=radio]", t.ownerDocument).filter(function() {
                    return !this.form
                })), u
            };
        n.widget("ui.button", {
            version: "1.11.1",
            defaultElement: "<button>",
            options: {
                disabled: null,
                text: !0,
                label: null,
                icons: {
                    primary: null,
                    secondary: null
                }
            },
            _create: function() {
                this.element.closest("form").unbind("reset" + this.eventNamespace).bind("reset" + this.eventNamespace, d);
                "boolean" != typeof this.options.disabled ? this.options.disabled = !!this.element.prop("disabled") : this.element.prop("disabled", this.options.disabled);
                this._determineButtonType();
                this.hasTitle = !!this.buttonElement.attr("title");
                var i = this,
                    t = this.options,
                    r = "checkbox" === this.type || "radio" === this.type,
                    u = r ? "" : "ui-state-active";
                null === t.label && (t.label = "input" === this.type ? this.buttonElement.val() : this.buttonElement.html());
                this._hoverable(this.buttonElement);
                this.buttonElement.addClass(p).attr("role", "button").bind("mouseenter" + this.eventNamespace, function() {
                    t.disabled || this === s && n(this).addClass("ui-state-active")
                }).bind("mouseleave" + this.eventNamespace, function() {
                    t.disabled || n(this).removeClass(u)
                }).bind("click" + this.eventNamespace, function(n) {
                    t.disabled && (n.preventDefault(), n.stopImmediatePropagation())
                });
                this._on({
                    focus: function() {
                        this.buttonElement.addClass("ui-state-focus")
                    },
                    blur: function() {
                        this.buttonElement.removeClass("ui-state-focus")
                    }
                });
                r && this.element.bind("change" + this.eventNamespace, function() {
                    i.refresh()
                });
                "checkbox" === this.type ? this.buttonElement.bind("click" + this.eventNamespace, function() {
                    if (t.disabled) return !1
                }) : "radio" === this.type ? this.buttonElement.bind("click" + this.eventNamespace, function() {
                    if (t.disabled) return !1;
                    n(this).addClass("ui-state-active");
                    i.buttonElement.attr("aria-pressed", "true");
                    var r = i.element[0];
                    b(r).not(r).map(function() {
                        return n(this).button("widget")[0]
                    }).removeClass("ui-state-active").attr("aria-pressed", "false")
                }) : (this.buttonElement.bind("mousedown" + this.eventNamespace, function() {
                    return t.disabled ? !1 : (n(this).addClass("ui-state-active"), s = this, i.document.one("mouseup", function() {
                        s = null
                    }), void 0)
                }).bind("mouseup" + this.eventNamespace, function() {
                    return t.disabled ? !1 : (n(this).removeClass("ui-state-active"), void 0)
                }).bind("keydown" + this.eventNamespace, function(i) {
                    return t.disabled ? !1 : ((i.keyCode === n.ui.keyCode.SPACE || i.keyCode === n.ui.keyCode.ENTER) && n(this).addClass("ui-state-active"), void 0)
                }).bind("keyup" + this.eventNamespace + " blur" + this.eventNamespace, function() {
                    n(this).removeClass("ui-state-active")
                }), this.buttonElement.is("a") && this.buttonElement.keyup(function(t) {
                    t.keyCode === n.ui.keyCode.SPACE && n(this).click()
                }));
                this._setOption("disabled", t.disabled);
                this._resetButton()
            },
            _determineButtonType: function() {
                var n, t, i;
                this.type = this.element.is("[type=checkbox]") ? "checkbox" : this.element.is("[type=radio]") ? "radio" : this.element.is("input") ? "input" : "button";
                "checkbox" === this.type || "radio" === this.type ? (n = this.element.parents().last(), t = "label[for='" + this.element.attr("id") + "']", this.buttonElement = n.find(t), this.buttonElement.length || (n = n.length ? n.siblings() : this.element.siblings(), this.buttonElement = n.filter(t), this.buttonElement.length || (this.buttonElement = n.find(t))), this.element.addClass("ui-helper-hidden-accessible"), i = this.element.is(":checked"), i && this.buttonElement.addClass("ui-state-active"), this.buttonElement.prop("aria-pressed", i)) : this.buttonElement = this.element
            },
            widget: function() {
                return this.buttonElement
            },
            _destroy: function() {
                this.element.removeClass("ui-helper-hidden-accessible");
                this.buttonElement.removeClass(p + " ui-state-active " + w).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());
                this.hasTitle || this.buttonElement.removeAttr("title")
            },
            _setOption: function(n, t) {
                return this._super(n, t), "disabled" === n ? (this.widget().toggleClass("ui-state-disabled", !!t), this.element.prop("disabled", !!t), t && ("checkbox" === this.type || "radio" === this.type ? this.buttonElement.removeClass("ui-state-focus") : this.buttonElement.removeClass("ui-state-focus ui-state-active")), void 0) : (this._resetButton(), void 0)
            },
            refresh: function() {
                var t = this.element.is("input, button") ? this.element.is(":disabled") : this.element.hasClass("ui-button-disabled");
                t !== this.options.disabled && this._setOption("disabled", t);
                "radio" === this.type ? b(this.element[0]).each(function() {
                    n(this).is(":checked") ? n(this).button("widget").addClass("ui-state-active").attr("aria-pressed", "true") : n(this).button("widget").removeClass("ui-state-active").attr("aria-pressed", "false")
                }) : "checkbox" === this.type && (this.element.is(":checked") ? this.buttonElement.addClass("ui-state-active").attr("aria-pressed", "true") : this.buttonElement.removeClass("ui-state-active").attr("aria-pressed", "false"))
            },
            _resetButton: function() {
                if ("input" === this.type) return this.options.label && this.element.val(this.options.label), void 0;
                var i = this.buttonElement.removeClass(w),
                    f = n("<span><\/span>", this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(i.empty()).text(),
                    t = this.options.icons,
                    u = t.primary && t.secondary,
                    r = [];
                t.primary || t.secondary ? (this.options.text && r.push("ui-button-text-icon" + (u ? "s" : t.primary ? "-primary" : "-secondary")), t.primary && i.prepend("<span class='ui-button-icon-primary ui-icon " + t.primary + "'><\/span>"), t.secondary && i.append("<span class='ui-button-icon-secondary ui-icon " + t.secondary + "'><\/span>"), this.options.text || (r.push(u ? "ui-button-icons-only" : "ui-button-icon-only"), this.hasTitle || i.attr("title", n.trim(f)))) : r.push("ui-button-text-only");
                i.addClass(r.join(" "))
            }
        });
        n.widget("ui.buttonset", {
            version: "1.11.1",
            options: {
                items: "button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"
            },
            _create: function() {
                this.element.addClass("ui-buttonset")
            },
            _init: function() {
                this.refresh()
            },
            _setOption: function(n, t) {
                "disabled" === n && this.buttons.button("option", n, t);
                this._super(n, t)
            },
            refresh: function() {
                var i = "rtl" === this.element.css("direction"),
                    t = this.element.find(this.options.items),
                    r = t.filter(":ui-button");
                t.not(":ui-button").button();
                r.button("refresh");
                this.buttons = t.map(function() {
                    return n(this).button("widget")[0]
                }).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(i ? "ui-corner-right" : "ui-corner-left").end().filter(":last").addClass(i ? "ui-corner-left" : "ui-corner-right").end().end()
            },
            _destroy: function() {
                this.element.removeClass("ui-buttonset");
                this.buttons.map(function() {
                    return n(this).button("widget")[0]
                }).removeClass("ui-corner-left ui-corner-right").end().button("destroy")
            }
        });
        n.ui.button;
        n.extend(n.ui, {
            datepicker: {
                version: "1.11.1"
            }
        });
        n.extend(l.prototype, {
            markerClassName: "hasDatepicker",
            maxRows: 4,
            _widgetDatepicker: function() {
                return this.dpDiv
            },
            setDefaults: function(n) {
                return r(this._defaults, n || {}), this
            },
            _attachDatepicker: function(t, i) {
                var r, f, u;
                r = t.nodeName.toLowerCase();
                f = "div" === r || "span" === r;
                t.id || (this.uuid += 1, t.id = "dp" + this.uuid);
                u = this._newInst(n(t), f);
                u.settings = n.extend({}, i || {});
                "input" === r ? this._connectDatepicker(t, u) : f && this._inlineDatepicker(t, u)
            },
            _newInst: function(t, i) {
                var r = t[0].id.replace(/([^A-Za-z0-9_\-])/g, "\\\\$1");
                return {
                    id: r,
                    input: t,
                    selectedDay: 0,
                    selectedMonth: 0,
                    selectedYear: 0,
                    drawMonth: 0,
                    drawYear: 0,
                    inline: i,
                    dpDiv: i ? a(n("<div class='" + this._inlineClass + " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'><\/div>")) : this.dpDiv
                }
            },
            _connectDatepicker: function(t, i) {
                var r = n(t);
                i.append = n([]);
                i.trigger = n([]);
                r.hasClass(this.markerClassName) || (this._attachments(r, i), r.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp), this._autoSize(i), n.data(t, "datepicker", i), i.settings.disabled && this._disableDatepicker(t))
            },
            _attachments: function(t, i) {
                var u, r, f, e = this._get(i, "appendText"),
                    o = this._get(i, "isRTL");
                i.append && i.append.remove();
                e && (i.append = n("<span class='" + this._appendClass + "'>" + e + "<\/span>"), t[o ? "before" : "after"](i.append));
                t.unbind("focus", this._showDatepicker);
                i.trigger && i.trigger.remove();
                u = this._get(i, "showOn");
                ("focus" === u || "both" === u) && t.focus(this._showDatepicker);
                ("button" === u || "both" === u) && (r = this._get(i, "buttonText"), f = this._get(i, "buttonImage"), i.trigger = n(this._get(i, "buttonImageOnly") ? n("<img/>").addClass(this._triggerClass).attr({
                    src: f,
                    alt: r,
                    title: r
                }) : n("<button type='button'><\/button>").addClass(this._triggerClass).html(f ? n("<img/>").attr({
                    src: f,
                    alt: r,
                    title: r
                }) : r)), t[o ? "before" : "after"](i.trigger), i.trigger.click(function() {
                    return n.datepicker._datepickerShowing && n.datepicker._lastInput === t[0] ? n.datepicker._hideDatepicker() : n.datepicker._datepickerShowing && n.datepicker._lastInput !== t[0] ? (n.datepicker._hideDatepicker(), n.datepicker._showDatepicker(t[0])) : n.datepicker._showDatepicker(t[0]), !1
                }))
            },
            _autoSize: function(n) {
                if (this._get(n, "autoSize") && !n.inline) {
                    var r, u, f, t, i = new Date(2009, 11, 20),
                        e = this._get(n, "dateFormat");
                    e.match(/[DM]/) && (r = function(n) {
                        for (u = 0, f = 0, t = 0; n.length > t; t++) n[t].length > u && (u = n[t].length, f = t);
                        return f
                    }, i.setMonth(r(this._get(n, e.match(/MM/) ? "monthNames" : "monthNamesShort"))), i.setDate(r(this._get(n, e.match(/DD/) ? "dayNames" : "dayNamesShort")) + 20 - i.getDay()));
                    n.input.attr("size", this._formatDate(n, i).length)
                }
            },
            _inlineDatepicker: function(t, i) {
                var r = n(t);
                r.hasClass(this.markerClassName) || (r.addClass(this.markerClassName).append(i.dpDiv), n.data(t, "datepicker", i), this._setDate(i, this._getDefaultDate(i), !0), this._updateDatepicker(i), this._updateAlternate(i), i.settings.disabled && this._disableDatepicker(t), i.dpDiv.css("display", "block"))
            },
            _dialogDatepicker: function(t, i, u, f, e) {
                var s, h, c, l, a, o = this._dialogInst;
                return o || (this.uuid += 1, s = "dp" + this.uuid, this._dialogInput = n("<input type='text' id='" + s + "' style='position: absolute; top: -100px; width: 0px;'/>"), this._dialogInput.keydown(this._doKeyDown), n("body").append(this._dialogInput), o = this._dialogInst = this._newInst(this._dialogInput, !1), o.settings = {}, n.data(this._dialogInput[0], "datepicker", o)), r(o.settings, f || {}), i = i && i.constructor === Date ? this._formatDate(o, i) : i, this._dialogInput.val(i), this._pos = e ? e.length ? e : [e.pageX, e.pageY] : null, this._pos || (h = document.documentElement.clientWidth, c = document.documentElement.clientHeight, l = document.documentElement.scrollLeft || document.body.scrollLeft, a = document.documentElement.scrollTop || document.body.scrollTop, this._pos = [h / 2 - 100 + l, c / 2 - 150 + a]), this._dialogInput.css("left", this._pos[0] + 20 + "px").css("top", this._pos[1] + "px"), o.settings.onSelect = u, this._inDialog = !0, this.dpDiv.addClass(this._dialogClass), this._showDatepicker(this._dialogInput[0]), n.blockUI && n.blockUI(this.dpDiv), n.data(this._dialogInput[0], "datepicker", o), this
            },
            _destroyDatepicker: function(t) {
                var i, r = n(t),
                    u = n.data(t, "datepicker");
                r.hasClass(this.markerClassName) && (i = t.nodeName.toLowerCase(), n.removeData(t, "datepicker"), "input" === i ? (u.append.remove(), u.trigger.remove(), r.removeClass(this.markerClassName).unbind("focus", this._showDatepicker).unbind("keydown", this._doKeyDown).unbind("keypress", this._doKeyPress).unbind("keyup", this._doKeyUp)) : ("div" === i || "span" === i) && r.removeClass(this.markerClassName).empty())
            },
            _enableDatepicker: function(t) {
                var i, r, u = n(t),
                    f = n.data(t, "datepicker");
                u.hasClass(this.markerClassName) && (i = t.nodeName.toLowerCase(), "input" === i ? (t.disabled = !1, f.trigger.filter("button").each(function() {
                    this.disabled = !1
                }).end().filter("img").css({
                    opacity: "1.0",
                    cursor: ""
                })) : ("div" === i || "span" === i) && (r = u.children("." + this._inlineClass), r.children().removeClass("ui-state-disabled"), r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !1)), this._disabledInputs = n.map(this._disabledInputs, function(n) {
                    return n === t ? null : n
                }))
            },
            _disableDatepicker: function(t) {
                var i, r, u = n(t),
                    f = n.data(t, "datepicker");
                u.hasClass(this.markerClassName) && (i = t.nodeName.toLowerCase(), "input" === i ? (t.disabled = !0, f.trigger.filter("button").each(function() {
                    this.disabled = !0
                }).end().filter("img").css({
                    opacity: "0.5",
                    cursor: "default"
                })) : ("div" === i || "span" === i) && (r = u.children("." + this._inlineClass), r.children().addClass("ui-state-disabled"), r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !0)), this._disabledInputs = n.map(this._disabledInputs, function(n) {
                    return n === t ? null : n
                }), this._disabledInputs[this._disabledInputs.length] = t)
            },
            _isDisabledDatepicker: function(n) {
                if (!n) return !1;
                for (var t = 0; this._disabledInputs.length > t; t++)
                    if (this._disabledInputs[t] === n) return !0;
                return !1
            },
            _getInst: function(t) {
                try {
                    return n.data(t, "datepicker")
                } catch (i) {
                    throw "Missing instance data for this datepicker";
                }
            },
            _optionDatepicker: function(t, i, u) {
                var e, h, o, s, f = this._getInst(t);
                return 2 === arguments.length && "string" == typeof i ? "defaults" === i ? n.extend({}, n.datepicker._defaults) : f ? "all" === i ? n.extend({}, f.settings) : this._get(f, i) : null : (e = i || {}, "string" == typeof i && (e = {}, e[i] = u), f && (this._curInst === f && this._hideDatepicker(), h = this._getDateDatepicker(t, !0), o = this._getMinMaxDate(f, "min"), s = this._getMinMaxDate(f, "max"), r(f.settings, e), null !== o && void 0 !== e.dateFormat && void 0 === e.minDate && (f.settings.minDate = this._formatDate(f, o)), null !== s && void 0 !== e.dateFormat && void 0 === e.maxDate && (f.settings.maxDate = this._formatDate(f, s)), "disabled" in e && (e.disabled ? this._disableDatepicker(t) : this._enableDatepicker(t)), this._attachments(n(t), f), this._autoSize(f), this._setDate(f, h), this._updateAlternate(f), this._updateDatepicker(f)), void 0)
            },
            _changeDatepicker: function(n, t, i) {
                this._optionDatepicker(n, t, i)
            },
            _refreshDatepicker: function(n) {
                var t = this._getInst(n);
                t && this._updateDatepicker(t)
            },
            _setDateDatepicker: function(n, t) {
                var i = this._getInst(n);
                i && (this._setDate(i, t), this._updateDatepicker(i), this._updateAlternate(i))
            },
            _getDateDatepicker: function(n, t) {
                var i = this._getInst(n);
                return i && !i.inline && this._setDateFromField(i, t), i ? this._getDate(i) : null
            },
            _doKeyDown: function(t) {
                var u, e, f, i = n.datepicker._getInst(t.target),
                    r = !0,
                    o = i.dpDiv.is(".ui-datepicker-rtl");
                if (i._keyEvent = !0, n.datepicker._datepickerShowing) switch (t.keyCode) {
                    case 9:
                        n.datepicker._hideDatepicker();
                        r = !1;
                        break;
                    case 13:
                        return f = n("td." + n.datepicker._dayOverClass + ":not(." + n.datepicker._currentClass + ")", i.dpDiv), f[0] && n.datepicker._selectDay(t.target, i.selectedMonth, i.selectedYear, f[0]), u = n.datepicker._get(i, "onSelect"), u ? (e = n.datepicker._formatDate(i), u.apply(i.input ? i.input[0] : null, [e, i])) : n.datepicker._hideDatepicker(), !1;
                    case 27:
                        n.datepicker._hideDatepicker();
                        break;
                    case 33:
                        n.datepicker._adjustDate(t.target, t.ctrlKey ? -n.datepicker._get(i, "stepBigMonths") : -n.datepicker._get(i, "stepMonths"), "M");
                        break;
                    case 34:
                        n.datepicker._adjustDate(t.target, t.ctrlKey ? +n.datepicker._get(i, "stepBigMonths") : +n.datepicker._get(i, "stepMonths"), "M");
                        break;
                    case 35:
                        (t.ctrlKey || t.metaKey) && n.datepicker._clearDate(t.target);
                        r = t.ctrlKey || t.metaKey;
                        break;
                    case 36:
                        (t.ctrlKey || t.metaKey) && n.datepicker._gotoToday(t.target);
                        r = t.ctrlKey || t.metaKey;
                        break;
                    case 37:
                        (t.ctrlKey || t.metaKey) && n.datepicker._adjustDate(t.target, o ? 1 : -1, "D");
                        r = t.ctrlKey || t.metaKey;
                        t.originalEvent.altKey && n.datepicker._adjustDate(t.target, t.ctrlKey ? -n.datepicker._get(i, "stepBigMonths") : -n.datepicker._get(i, "stepMonths"), "M");
                        break;
                    case 38:
                        (t.ctrlKey || t.metaKey) && n.datepicker._adjustDate(t.target, -7, "D");
                        r = t.ctrlKey || t.metaKey;
                        break;
                    case 39:
                        (t.ctrlKey || t.metaKey) && n.datepicker._adjustDate(t.target, o ? -1 : 1, "D");
                        r = t.ctrlKey || t.metaKey;
                        t.originalEvent.altKey && n.datepicker._adjustDate(t.target, t.ctrlKey ? +n.datepicker._get(i, "stepBigMonths") : +n.datepicker._get(i, "stepMonths"), "M");
                        break;
                    case 40:
                        (t.ctrlKey || t.metaKey) && n.datepicker._adjustDate(t.target, 7, "D");
                        r = t.ctrlKey || t.metaKey;
                        break;
                    default:
                        r = !1
                } else 36 === t.keyCode && t.ctrlKey ? n.datepicker._showDatepicker(this) : r = !1;
                r && (t.preventDefault(), t.stopPropagation())
            },
            _doKeyPress: function(t) {
                var i, r, u = n.datepicker._getInst(t.target);
                if (n.datepicker._get(u, "constrainInput")) return i = n.datepicker._possibleChars(n.datepicker._get(u, "dateFormat")), r = String.fromCharCode(null == t.charCode ? t.keyCode : t.charCode), t.ctrlKey || t.metaKey || " " > r || !i || i.indexOf(r) > -1
            },
            _doKeyUp: function(t) {
                var r, i = n.datepicker._getInst(t.target);
                if (i.input.val() !== i.lastVal) try {
                    r = n.datepicker.parseDate(n.datepicker._get(i, "dateFormat"), i.input ? i.input.val() : null, n.datepicker._getFormatConfig(i));
                    r && (n.datepicker._setDateFromField(i), n.datepicker._updateAlternate(i), n.datepicker._updateDatepicker(i))
                } catch (u) {}
                return !0
            },
            _showDatepicker: function(t) {
                if (t = t.target || t, "input" !== t.nodeName.toLowerCase() && (t = n("input", t.parentNode)[0]), !n.datepicker._isDisabledDatepicker(t) && n.datepicker._lastInput !== t) {
                    var i, o, s, u, f, e, h;
                    i = n.datepicker._getInst(t);
                    n.datepicker._curInst && n.datepicker._curInst !== i && (n.datepicker._curInst.dpDiv.stop(!0, !0), i && n.datepicker._datepickerShowing && n.datepicker._hideDatepicker(n.datepicker._curInst.input[0]));
                    o = n.datepicker._get(i, "beforeShow");
                    s = o ? o.apply(t, [t, i]) : {};
                    s !== !1 && (r(i.settings, s), i.lastVal = null, n.datepicker._lastInput = t, n.datepicker._setDateFromField(i), n.datepicker._inDialog && (t.value = ""), n.datepicker._pos || (n.datepicker._pos = n.datepicker._findPos(t), n.datepicker._pos[1] += t.offsetHeight), u = !1, n(t).parents().each(function() {
                        return u |= "fixed" === n(this).css("position"), !u
                    }), f = {
                        left: n.datepicker._pos[0],
                        top: n.datepicker._pos[1]
                    }, n.datepicker._pos = null, i.dpDiv.empty(), i.dpDiv.css({
                        position: "absolute",
                        display: "block",
                        top: "-1000px"
                    }), n.datepicker._updateDatepicker(i), f = n.datepicker._checkOffset(i, f, u), i.dpDiv.css({
                        position: n.datepicker._inDialog && n.blockUI ? "static" : u ? "fixed" : "absolute",
                        display: "none",
                        left: f.left + "px",
                        top: f.top + "px"
                    }), i.inline || (e = n.datepicker._get(i, "showAnim"), h = n.datepicker._get(i, "duration"), i.dpDiv.css("z-index", k(n(t)) + 1), n.datepicker._datepickerShowing = !0, n.effects && n.effects.effect[e] ? i.dpDiv.show(e, n.datepicker._get(i, "showOptions"), h) : i.dpDiv[e || "show"](e ? h : null), n.datepicker._shouldFocusInput(i) && i.input.focus(), n.datepicker._curInst = i))
                }
            },
            _updateDatepicker: function(t) {
                this.maxRows = 4;
                u = t;
                t.dpDiv.empty().append(this._generateHTML(t));
                this._attachHandlers(t);
                var i, r = this._getNumberOfMonths(t),
                    f = r[1],
                    e = t.dpDiv.find("." + this._dayOverClass + " a");
                e.length > 0 && v.apply(e.get(0));
                t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");
                f > 1 && t.dpDiv.addClass("ui-datepicker-multi-" + f).css("width", 17 * f + "em");
                t.dpDiv[(1 !== r[0] || 1 !== r[1] ? "add" : "remove") + "Class"]("ui-datepicker-multi");
                t.dpDiv[(this._get(t, "isRTL") ? "add" : "remove") + "Class"]("ui-datepicker-rtl");
                t === n.datepicker._curInst && n.datepicker._datepickerShowing && n.datepicker._shouldFocusInput(t) && t.input.focus();
                t.yearshtml && (i = t.yearshtml, setTimeout(function() {
                    i === t.yearshtml && t.yearshtml && t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml);
                    i = t.yearshtml = null
                }, 0))
            },
            _shouldFocusInput: function(n) {
                return n.input && n.input.is(":visible") && !n.input.is(":disabled") && !n.input.is(":focus")
            },
            _checkOffset: function(t, i, r) {
                var u = t.dpDiv.outerWidth(),
                    f = t.dpDiv.outerHeight(),
                    h = t.input ? t.input.outerWidth() : 0,
                    o = t.input ? t.input.outerHeight() : 0,
                    e = document.documentElement.clientWidth + (r ? 0 : n(document).scrollLeft()),
                    s = document.documentElement.clientHeight + (r ? 0 : n(document).scrollTop());
                return i.left -= this._get(t, "isRTL") ? u - h : 0, i.left -= r && i.left === t.input.offset().left ? n(document).scrollLeft() : 0, i.top -= r && i.top === t.input.offset().top + o ? n(document).scrollTop() : 0, i.left -= Math.min(i.left, i.left + u > e && e > u ? Math.abs(i.left + u - e) : 0), i.top -= Math.min(i.top, i.top + f > s && s > f ? Math.abs(f + o) : 0), i
            },
            _findPos: function(t) {
                for (var i, r = this._getInst(t), u = this._get(r, "isRTL"); t && ("hidden" === t.type || 1 !== t.nodeType || n.expr.filters.hidden(t));) t = t[u ? "previousSibling" : "nextSibling"];
                return i = n(t).offset(), [i.left, i.top]
            },
            _hideDatepicker: function(t) {
                var r, f, u, e, i = this._curInst;
                !i || t && i !== n.data(t, "datepicker") || this._datepickerShowing && (r = this._get(i, "showAnim"), f = this._get(i, "duration"), u = function() {
                    n.datepicker._tidyDialog(i)
                }, n.effects && (n.effects.effect[r] || n.effects[r]) ? i.dpDiv.hide(r, n.datepicker._get(i, "showOptions"), f, u) : i.dpDiv["slideDown" === r ? "slideUp" : "fadeIn" === r ? "fadeOut" : "hide"](r ? f : null, u), r || u(), this._datepickerShowing = !1, e = this._get(i, "onClose"), e && e.apply(i.input ? i.input[0] : null, [i.input ? i.input.val() : "", i]), this._lastInput = null, this._inDialog && (this._dialogInput.css({
                    position: "absolute",
                    left: "0",
                    top: "-100px"
                }), n.blockUI && (n.unblockUI(), n("body").append(this.dpDiv))), this._inDialog = !1)
            },
            _tidyDialog: function(n) {
                n.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")
            },
            _checkExternalClick: function(t) {
                if (n.datepicker._curInst) {
                    var i = n(t.target),
                        r = n.datepicker._getInst(i[0]);
                    (i[0].id === n.datepicker._mainDivId || 0 !== i.parents("#" + n.datepicker._mainDivId).length || i.hasClass(n.datepicker.markerClassName) || i.closest("." + n.datepicker._triggerClass).length || !n.datepicker._datepickerShowing || n.datepicker._inDialog && n.blockUI) && (!i.hasClass(n.datepicker.markerClassName) || n.datepicker._curInst === r) || n.datepicker._hideDatepicker()
                }
            },
            _adjustDate: function(t, i, r) {
                var f = n(t),
                    u = this._getInst(f[0]);
                this._isDisabledDatepicker(f[0]) || (this._adjustInstDate(u, i + ("M" === r ? this._get(u, "showCurrentAtPos") : 0), r), this._updateDatepicker(u))
            },
            _gotoToday: function(t) {
                var r, u = n(t),
                    i = this._getInst(u[0]);
                this._get(i, "gotoCurrent") && i.currentDay ? (i.selectedDay = i.currentDay, i.drawMonth = i.selectedMonth = i.currentMonth, i.drawYear = i.selectedYear = i.currentYear) : (r = new Date, i.selectedDay = r.getDate(), i.drawMonth = i.selectedMonth = r.getMonth(), i.drawYear = i.selectedYear = r.getFullYear());
                this._notifyChange(i);
                this._adjustDate(u)
            },
            _selectMonthYear: function(t, i, r) {
                var f = n(t),
                    u = this._getInst(f[0]);
                u["selected" + ("M" === r ? "Month" : "Year")] = u["draw" + ("M" === r ? "Month" : "Year")] = parseInt(i.options[i.selectedIndex].value, 10);
                this._notifyChange(u);
                this._adjustDate(f)
            },
            _selectDay: function(t, i, r, u) {
                var f, e = n(t);
                n(u).hasClass(this._unselectableClass) || this._isDisabledDatepicker(e[0]) || (f = this._getInst(e[0]), f.selectedDay = f.currentDay = n("a", u).html(), f.selectedMonth = f.currentMonth = i, f.selectedYear = f.currentYear = r, this._selectDate(t, this._formatDate(f, f.currentDay, f.currentMonth, f.currentYear)))
            },
            _clearDate: function(t) {
                var i = n(t);
                this._selectDate(i, "")
            },
            _selectDate: function(t, i) {
                var u, f = n(t),
                    r = this._getInst(f[0]);
                i = null != i ? i : this._formatDate(r);
                r.input && r.input.val(i);
                this._updateAlternate(r);
                u = this._get(r, "onSelect");
                u ? u.apply(r.input ? r.input[0] : null, [i, r]) : r.input && r.input.trigger("change");
                r.inline ? this._updateDatepicker(r) : (this._hideDatepicker(), this._lastInput = r.input[0], "object" != typeof r.input[0] && r.input.focus(), this._lastInput = null)
            },
            _updateAlternate: function(t) {
                var i, r, u, f = this._get(t, "altField");
                f && (i = this._get(t, "altFormat") || this._get(t, "dateFormat"), r = this._getDate(t), u = this.formatDate(i, r, this._getFormatConfig(t)), n(f).each(function() {
                    n(this).val(u)
                }))
            },
            noWeekends: function(n) {
                var t = n.getDay();
                return [t > 0 && 6 > t, ""]
            },
            iso8601Week: function(n) {
                var i, t = new Date(n.getTime());
                return t.setDate(t.getDate() + 4 - (t.getDay() || 7)), i = t.getTime(), t.setMonth(0), t.setDate(1), Math.floor(Math.round((i - t) / 864e5) / 7) + 1
            },
            parseDate: function(t, i, r) {
                if (null == t || null == i) throw "Invalid arguments";
                if (i = "object" == typeof i ? "" + i : i + "", "" === i) return null;
                for (var a, v, u, f = 0, y = (r ? r.shortYearCutoff : null) || this._defaults.shortYearCutoff, d = "string" != typeof y ? y : (new Date).getFullYear() % 100 + parseInt(y, 10), g = (r ? r.dayNamesShort : null) || this._defaults.dayNamesShort, nt = (r ? r.dayNames : null) || this._defaults.dayNames, tt = (r ? r.monthNamesShort : null) || this._defaults.monthNamesShort, it = (r ? r.monthNames : null) || this._defaults.monthNames, e = -1, o = -1, s = -1, p = -1, w = !1, l = function(n) {
                        var i = t.length > h + 1 && t.charAt(h + 1) === n;
                        return i && h++, i
                    }, c = function(n) {
                        var u = l(n),
                            r = "@" === n ? 14 : "!" === n ? 20 : "y" === n && u ? 4 : "o" === n ? 3 : 2,
                            e = "y" === n ? r : 1,
                            o = RegExp("^\\d{" + e + "," + r + "}"),
                            t = i.substring(f).match(o);
                        if (!t) throw "Missing number at position " + f;
                        return f += t[0].length, parseInt(t[0], 10)
                    }, k = function(t, r, u) {
                        var e = -1,
                            o = n.map(l(t) ? u : r, function(n, t) {
                                return [
                                    [t, n]
                                ]
                            }).sort(function(n, t) {
                                return -(n[1].length - t[1].length)
                            });
                        if (n.each(o, function(n, t) {
                                var r = t[1];
                                if (i.substr(f, r.length).toLowerCase() === r.toLowerCase()) return e = t[0], f += r.length, !1
                            }), -1 !== e) return e + 1;
                        throw "Unknown name at position " + f;
                    }, b = function() {
                        if (i.charAt(f) !== t.charAt(h)) throw "Unexpected literal at position " + f;
                        f++
                    }, h = 0; t.length > h; h++)
                    if (w) "'" !== t.charAt(h) || l("'") ? b() : w = !1;
                    else switch (t.charAt(h)) {
                        case "d":
                            s = c("d");
                            break;
                        case "D":
                            k("D", g, nt);
                            break;
                        case "o":
                            p = c("o");
                            break;
                        case "m":
                            o = c("m");
                            break;
                        case "M":
                            o = k("M", tt, it);
                            break;
                        case "y":
                            e = c("y");
                            break;
                        case "@":
                            u = new Date(c("@"));
                            e = u.getFullYear();
                            o = u.getMonth() + 1;
                            s = u.getDate();
                            break;
                        case "!":
                            u = new Date((c("!") - this._ticksTo1970) / 1e4);
                            e = u.getFullYear();
                            o = u.getMonth() + 1;
                            s = u.getDate();
                            break;
                        case "'":
                            l("'") ? b() : w = !0;
                            break;
                        default:
                            b()
                    }
                    if (i.length > f && (v = i.substr(f), !/^\s+/.test(v))) throw "Extra/unparsed characters found in date: " + v;
                if (-1 === e ? e = (new Date).getFullYear() : 100 > e && (e += (new Date).getFullYear() - (new Date).getFullYear() % 100 + (d >= e ? 0 : -100)), p > -1)
                    for (o = 1, s = p;;) {
                        if (a = this._getDaysInMonth(e, o - 1), a >= s) break;
                        o++;
                        s -= a
                    }
                if (u = this._daylightSavingAdjust(new Date(e, o - 1, s)), u.getFullYear() !== e || u.getMonth() + 1 !== o || u.getDate() !== s) throw "Invalid date";
                return u
            },
            ATOM: "yy-mm-dd",
            COOKIE: "D, dd M yy",
            ISO_8601: "yy-mm-dd",
            RFC_822: "D, d M y",
            RFC_850: "DD, dd-M-y",
            RFC_1036: "D, d M y",
            RFC_1123: "D, d M yy",
            RFC_2822: "D, d M yy",
            RSS: "D, d M y",
            TICKS: "!",
            TIMESTAMP: "@",
            W3C: "yy-mm-dd",
            _ticksTo1970: 864e9 * (718685 + Math.floor(492.5) - Math.floor(19.7) + Math.floor(4.925)),
            formatDate: function(n, t, i) {
                if (!t) return "";
                var u, h = (i ? i.dayNamesShort : null) || this._defaults.dayNamesShort,
                    c = (i ? i.dayNames : null) || this._defaults.dayNames,
                    l = (i ? i.monthNamesShort : null) || this._defaults.monthNamesShort,
                    a = (i ? i.monthNames : null) || this._defaults.monthNames,
                    f = function(t) {
                        var i = n.length > u + 1 && n.charAt(u + 1) === t;
                        return i && u++, i
                    },
                    e = function(n, t, i) {
                        var r = "" + t;
                        if (f(n))
                            for (; i > r.length;) r = "0" + r;
                        return r
                    },
                    s = function(n, t, i, r) {
                        return f(n) ? r[t] : i[t]
                    },
                    r = "",
                    o = !1;
                if (t)
                    for (u = 0; n.length > u; u++)
                        if (o) "'" !== n.charAt(u) || f("'") ? r += n.charAt(u) : o = !1;
                        else switch (n.charAt(u)) {
                            case "d":
                                r += e("d", t.getDate(), 2);
                                break;
                            case "D":
                                r += s("D", t.getDay(), h, c);
                                break;
                            case "o":
                                r += e("o", Math.round((new Date(t.getFullYear(), t.getMonth(), t.getDate()).getTime() - new Date(t.getFullYear(), 0, 0).getTime()) / 864e5), 3);
                                break;
                            case "m":
                                r += e("m", t.getMonth() + 1, 2);
                                break;
                            case "M":
                                r += s("M", t.getMonth(), l, a);
                                break;
                            case "y":
                                r += f("y") ? t.getFullYear() : (10 > t.getYear() % 100 ? "0" : "") + t.getYear() % 100;
                                break;
                            case "@":
                                r += t.getTime();
                                break;
                            case "!":
                                r += 1e4 * t.getTime() + this._ticksTo1970;
                                break;
                            case "'":
                                f("'") ? r += "'" : o = !0;
                                break;
                            default:
                                r += n.charAt(u)
                        }
                        return r
            },
            _possibleChars: function(n) {
                for (var i = "", r = !1, u = function(i) {
                        var r = n.length > t + 1 && n.charAt(t + 1) === i;
                        return r && t++, r
                    }, t = 0; n.length > t; t++)
                    if (r) "'" !== n.charAt(t) || u("'") ? i += n.charAt(t) : r = !1;
                    else switch (n.charAt(t)) {
                        case "d":
                        case "m":
                        case "y":
                        case "@":
                            i += "0123456789";
                            break;
                        case "D":
                        case "M":
                            return null;
                        case "'":
                            u("'") ? i += "'" : r = !0;
                            break;
                        default:
                            i += n.charAt(t)
                    }
                    return i
            },
            _get: function(n, t) {
                return void 0 !== n.settings[t] ? n.settings[t] : this._defaults[t]
            },
            _setDateFromField: function(n, t) {
                if (n.input.val() !== n.lastVal) {
                    var f = this._get(n, "dateFormat"),
                        r = n.lastVal = n.input ? n.input.val() : null,
                        u = this._getDefaultDate(n),
                        i = u,
                        e = this._getFormatConfig(n);
                    try {
                        i = this.parseDate(f, r, e) || u
                    } catch (o) {
                        r = t ? "" : r
                    }
                    n.selectedDay = i.getDate();
                    n.drawMonth = n.selectedMonth = i.getMonth();
                    n.drawYear = n.selectedYear = i.getFullYear();
                    n.currentDay = r ? i.getDate() : 0;
                    n.currentMonth = r ? i.getMonth() : 0;
                    n.currentYear = r ? i.getFullYear() : 0;
                    this._adjustInstDate(n)
                }
            },
            _getDefaultDate: function(n) {
                return this._restrictMinMax(n, this._determineDate(n, this._get(n, "defaultDate"), new Date))
            },
            _determineDate: function(t, i, r) {
                var f = function(n) {
                        var t = new Date;
                        return t.setDate(t.getDate() + n), t
                    },
                    e = function(i) {
                        try {
                            return n.datepicker.parseDate(n.datepicker._get(t, "dateFormat"), i, n.datepicker._getFormatConfig(t))
                        } catch (h) {}
                        for (var o = (i.toLowerCase().match(/^c/) ? n.datepicker._getDate(t) : null) || new Date, f = o.getFullYear(), e = o.getMonth(), r = o.getDate(), s = /([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g, u = s.exec(i); u;) {
                            switch (u[2] || "d") {
                                case "d":
                                case "D":
                                    r += parseInt(u[1], 10);
                                    break;
                                case "w":
                                case "W":
                                    r += 7 * parseInt(u[1], 10);
                                    break;
                                case "m":
                                case "M":
                                    e += parseInt(u[1], 10);
                                    r = Math.min(r, n.datepicker._getDaysInMonth(f, e));
                                    break;
                                case "y":
                                case "Y":
                                    f += parseInt(u[1], 10);
                                    r = Math.min(r, n.datepicker._getDaysInMonth(f, e))
                            }
                            u = s.exec(i)
                        }
                        return new Date(f, e, r)
                    },
                    u = null == i || "" === i ? r : "string" == typeof i ? e(i) : "number" == typeof i ? isNaN(i) ? r : f(i) : new Date(i.getTime());
                return u = u && "Invalid Date" == "" + u ? r : u, u && (u.setHours(0), u.setMinutes(0), u.setSeconds(0), u.setMilliseconds(0)), this._daylightSavingAdjust(u)
            },
            _daylightSavingAdjust: function(n) {
                return n ? (n.setHours(n.getHours() > 12 ? n.getHours() + 2 : 0), n) : null
            },
            _setDate: function(n, t, i) {
                var u = !t,
                    f = n.selectedMonth,
                    e = n.selectedYear,
                    r = this._restrictMinMax(n, this._determineDate(n, t, new Date));
                n.selectedDay = n.currentDay = r.getDate();
                n.drawMonth = n.selectedMonth = n.currentMonth = r.getMonth();
                n.drawYear = n.selectedYear = n.currentYear = r.getFullYear();
                f === n.selectedMonth && e === n.selectedYear || i || this._notifyChange(n);
                this._adjustInstDate(n);
                n.input && n.input.val(u ? "" : this._formatDate(n))
            },
            _getDate: function(n) {
                return !n.currentYear || n.input && "" === n.input.val() ? null : this._daylightSavingAdjust(new Date(n.currentYear, n.currentMonth, n.currentDay))
            },
            _attachHandlers: function(t) {
                var r = this._get(t, "stepMonths"),
                    i = "#" + t.id.replace(/\\\\/g, "\\");
                t.dpDiv.find("[data-handler]").map(function() {
                    var t = {
                        prev: function() {
                            n.datepicker._adjustDate(i, -r, "M")
                        },
                        next: function() {
                            n.datepicker._adjustDate(i, +r, "M")
                        },
                        hide: function() {
                            n.datepicker._hideDatepicker()
                        },
                        today: function() {
                            n.datepicker._gotoToday(i)
                        },
                        selectDay: function() {
                            return n.datepicker._selectDay(i, +this.getAttribute("data-month"), +this.getAttribute("data-year"), this), !1
                        },
                        selectMonth: function() {
                            return n.datepicker._selectMonthYear(i, this, "M"), !1
                        },
                        selectYear: function() {
                            return n.datepicker._selectMonthYear(i, this, "Y"), !1
                        }
                    };
                    n(this).bind(this.getAttribute("data-event"), t[this.getAttribute("data-handler")])
                })
            },
            _generateHTML: function(n) {
                var b, s, rt, h, ut, k, ft, et, ri, c, ot, ui, fi, ei, oi, st, g, si, ht, nt, o, y, ct, p, lt, l, u, at, vt, yt, pt, tt, wt, i, bt, kt, d, a, it, dt = new Date,
                    gt = this._daylightSavingAdjust(new Date(dt.getFullYear(), dt.getMonth(), dt.getDate())),
                    f = this._get(n, "isRTL"),
                    li = this._get(n, "showButtonPanel"),
                    hi = this._get(n, "hideIfNoPrevNext"),
                    ni = this._get(n, "navigationAsDateFormat"),
                    e = this._getNumberOfMonths(n),
                    ai = this._get(n, "showCurrentAtPos"),
                    ci = this._get(n, "stepMonths"),
                    ti = 1 !== e[0] || 1 !== e[1],
                    ii = this._daylightSavingAdjust(n.currentDay ? new Date(n.currentYear, n.currentMonth, n.currentDay) : new Date(9999, 9, 9)),
                    w = this._getMinMaxDate(n, "min"),
                    v = this._getMinMaxDate(n, "max"),
                    t = n.drawMonth - ai,
                    r = n.drawYear;
                if (0 > t && (t += 12, r--), v)
                    for (b = this._daylightSavingAdjust(new Date(v.getFullYear(), v.getMonth() - e[0] * e[1] + 1, v.getDate())), b = w && w > b ? w : b; this._daylightSavingAdjust(new Date(r, t, 1)) > b;) t--, 0 > t && (t = 11, r--);
                for (n.drawMonth = t, n.drawYear = r, s = this._get(n, "prevText"), s = ni ? this.formatDate(s, this._daylightSavingAdjust(new Date(r, t - ci, 1)), this._getFormatConfig(n)) : s, rt = this._canAdjustMonth(n, -1, r, t) ? "<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='" + s + "'><span class='ui-icon ui-icon-circle-triangle-" + (f ? "e" : "w") + "'>" + s + "<\/span><\/a>" : hi ? "" : "<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='" + s + "'><span class='ui-icon ui-icon-circle-triangle-" + (f ? "e" : "w") + "'>" + s + "<\/span><\/a>", h = this._get(n, "nextText"), h = ni ? this.formatDate(h, this._daylightSavingAdjust(new Date(r, t + ci, 1)), this._getFormatConfig(n)) : h, ut = this._canAdjustMonth(n, 1, r, t) ? "<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='" + h + "'><span class='ui-icon ui-icon-circle-triangle-" + (f ? "w" : "e") + "'>" + h + "<\/span><\/a>" : hi ? "" : "<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='" + h + "'><span class='ui-icon ui-icon-circle-triangle-" + (f ? "w" : "e") + "'>" + h + "<\/span><\/a>", k = this._get(n, "currentText"), ft = this._get(n, "gotoCurrent") && n.currentDay ? ii : gt, k = ni ? this.formatDate(k, ft, this._getFormatConfig(n)) : k, et = n.inline ? "" : "<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>" + this._get(n, "closeText") + "<\/button>", ri = li ? "<div class='ui-datepicker-buttonpane ui-widget-content'>" + (f ? et : "") + (this._isInRange(n, ft) ? "<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>" + k + "<\/button>" : "") + (f ? "" : et) + "<\/div>" : "", c = parseInt(this._get(n, "firstDay"), 10), c = isNaN(c) ? 0 : c, ot = this._get(n, "showWeek"), ui = this._get(n, "dayNames"), fi = this._get(n, "dayNamesMin"), ei = this._get(n, "monthNames"), oi = this._get(n, "monthNamesShort"), st = this._get(n, "beforeShowDay"), g = this._get(n, "showOtherMonths"), si = this._get(n, "selectOtherMonths"), ht = this._getDefaultDate(n), nt = "", y = 0; e[0] > y; y++) {
                    for (ct = "", this.maxRows = 4, p = 0; e[1] > p; p++) {
                        if (lt = this._daylightSavingAdjust(new Date(r, t, n.selectedDay)), l = " ui-corner-all", u = "", ti) {
                            if (u += "<div class='ui-datepicker-group", e[1] > 1) switch (p) {
                                case 0:
                                    u += " ui-datepicker-group-first";
                                    l = " ui-corner-" + (f ? "right" : "left");
                                    break;
                                case e[1] - 1:
                                    u += " ui-datepicker-group-last";
                                    l = " ui-corner-" + (f ? "left" : "right");
                                    break;
                                default:
                                    u += " ui-datepicker-group-middle";
                                    l = ""
                            }
                            u += "'>"
                        }
                        for (u += "<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix" + l + "'>" + (/all|left/.test(l) && 0 === y ? f ? ut : rt : "") + (/all|right/.test(l) && 0 === y ? f ? rt : ut : "") + this._generateMonthYearHeader(n, t, r, w, v, y > 0 || p > 0, ei, oi) + "<\/div><table class='ui-datepicker-calendar'><thead><tr>", at = ot ? "<th class='ui-datepicker-week-col'>" + this._get(n, "weekHeader") + "<\/th>" : "", o = 0; 7 > o; o++) vt = (o + c) % 7, at += "<th scope='col'" + ((o + c + 6) % 7 >= 5 ? " class='ui-datepicker-week-end'" : "") + "><span title='" + ui[vt] + "'>" + fi[vt] + "<\/span><\/th>";
                        for (u += at + "<\/tr><\/thead><tbody>", yt = this._getDaysInMonth(r, t), r === n.selectedYear && t === n.selectedMonth && (n.selectedDay = Math.min(n.selectedDay, yt)), pt = (this._getFirstDayOfMonth(r, t) - c + 7) % 7, tt = Math.ceil((pt + yt) / 7), wt = ti ? this.maxRows > tt ? this.maxRows : tt : tt, this.maxRows = wt, i = this._daylightSavingAdjust(new Date(r, t, 1 - pt)), bt = 0; wt > bt; bt++) {
                            for (u += "<tr>", kt = ot ? "<td class='ui-datepicker-week-col'>" + this._get(n, "calculateWeek")(i) + "<\/td>" : "", o = 0; 7 > o; o++) d = st ? st.apply(n.input ? n.input[0] : null, [i]) : [!0, ""], a = i.getMonth() !== t, it = a && !si || !d[0] || w && w > i || v && i > v, kt += "<td class='" + ((o + c + 6) % 7 >= 5 ? " ui-datepicker-week-end" : "") + (a ? " ui-datepicker-other-month" : "") + (i.getTime() === lt.getTime() && t === n.selectedMonth && n._keyEvent || ht.getTime() === i.getTime() && ht.getTime() === lt.getTime() ? " " + this._dayOverClass : "") + (it ? " " + this._unselectableClass + " ui-state-disabled" : "") + (a && !g ? "" : " " + d[1] + (i.getTime() === ii.getTime() ? " " + this._currentClass : "") + (i.getTime() === gt.getTime() ? " ui-datepicker-today" : "")) + "'" + (a && !g || !d[2] ? "" : " title='" + d[2].replace(/'/g, "&#39;") + "'") + (it ? "" : " data-handler='selectDay' data-event='click' data-month='" + i.getMonth() + "' data-year='" + i.getFullYear() + "'") + ">" + (a && !g ? "&#xa0;" : it ? "<span class='ui-state-default'>" + i.getDate() + "<\/span>" : "<a class='ui-state-default" + (i.getTime() === gt.getTime() ? " ui-state-highlight" : "") + (i.getTime() === ii.getTime() ? " ui-state-active" : "") + (a ? " ui-priority-secondary" : "") + "' href='#'>" + i.getDate() + "<\/a>") + "<\/td>", i.setDate(i.getDate() + 1), i = this._daylightSavingAdjust(i);
                            u += kt + "<\/tr>"
                        }
                        t++;
                        t > 11 && (t = 0, r++);
                        u += "<\/tbody><\/table>" + (ti ? "<\/div>" + (e[0] > 0 && p === e[1] - 1 ? "<div class='ui-datepicker-row-break'><\/div>" : "") : "");
                        ct += u
                    }
                    nt += ct
                }
                return nt += ri, n._keyEvent = !1, nt
            },
            _generateMonthYearHeader: function(n, t, i, r, u, f, e, o) {
                var k, d, h, v, y, p, s, a, w = this._get(n, "changeMonth"),
                    b = this._get(n, "changeYear"),
                    g = this._get(n, "showMonthAfterYear"),
                    c = "<div class='ui-datepicker-title'>",
                    l = "";
                if (f || !w) l += "<span class='ui-datepicker-month'>" + e[t] + "<\/span>";
                else {
                    for (k = r && r.getFullYear() === i, d = u && u.getFullYear() === i, l += "<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>", h = 0; 12 > h; h++)(!k || h >= r.getMonth()) && (!d || u.getMonth() >= h) && (l += "<option value='" + h + "'" + (h === t ? " selected='selected'" : "") + ">" + o[h] + "<\/option>");
                    l += "<\/select>"
                }
                if (g || (c += l + (!f && w && b ? "" : "&#xa0;")), !n.yearshtml)
                    if (n.yearshtml = "", f || !b) c += "<span class='ui-datepicker-year'>" + i + "<\/span>";
                    else {
                        for (v = this._get(n, "yearRange").split(":"), y = (new Date).getFullYear(), p = function(n) {
                                var t = n.match(/c[+\-].*/) ? i + parseInt(n.substring(1), 10) : n.match(/[+\-].*/) ? y + parseInt(n, 10) : parseInt(n, 10);
                                return isNaN(t) ? y : t
                            }, s = p(v[0]), a = Math.max(s, p(v[1] || "")), s = r ? Math.max(s, r.getFullYear()) : s, a = u ? Math.min(a, u.getFullYear()) : a, n.yearshtml += "<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>"; a >= s; s++) n.yearshtml += "<option value='" + s + "'" + (s === i ? " selected='selected'" : "") + ">" + s + "<\/option>";
                        n.yearshtml += "<\/select>";
                        c += n.yearshtml;
                        n.yearshtml = null
                    }
                return c += this._get(n, "yearSuffix"), g && (c += (!f && w && b ? "" : "&#xa0;") + l), c + "<\/div>"
            },
            _adjustInstDate: function(n, t, i) {
                var u = n.drawYear + ("Y" === i ? t : 0),
                    f = n.drawMonth + ("M" === i ? t : 0),
                    e = Math.min(n.selectedDay, this._getDaysInMonth(u, f)) + ("D" === i ? t : 0),
                    r = this._restrictMinMax(n, this._daylightSavingAdjust(new Date(u, f, e)));
                n.selectedDay = r.getDate();
                n.drawMonth = n.selectedMonth = r.getMonth();
                n.drawYear = n.selectedYear = r.getFullYear();
                ("M" === i || "Y" === i) && this._notifyChange(n)
            },
            _restrictMinMax: function(n, t) {
                var i = this._getMinMaxDate(n, "min"),
                    r = this._getMinMaxDate(n, "max"),
                    u = i && i > t ? i : t;
                return r && u > r ? r : u
            },
            _notifyChange: function(n) {
                var t = this._get(n, "onChangeMonthYear");
                t && t.apply(n.input ? n.input[0] : null, [n.selectedYear, n.selectedMonth + 1, n])
            },
            _getNumberOfMonths: function(n) {
                var t = this._get(n, "numberOfMonths");
                return null == t ? [1, 1] : "number" == typeof t ? [1, t] : t
            },
            _getMinMaxDate: function(n, t) {
                return this._determineDate(n, this._get(n, t + "Date"), null)
            },
            _getDaysInMonth: function(n, t) {
                return 32 - this._daylightSavingAdjust(new Date(n, t, 32)).getDate()
            },
            _getFirstDayOfMonth: function(n, t) {
                return new Date(n, t, 1).getDay()
            },
            _canAdjustMonth: function(n, t, i, r) {
                var f = this._getNumberOfMonths(n),
                    u = this._daylightSavingAdjust(new Date(i, r + (0 > t ? t : f[0] * f[1]), 1));
                return 0 > t && u.setDate(this._getDaysInMonth(u.getFullYear(), u.getMonth())), this._isInRange(n, u)
            },
            _isInRange: function(n, t) {
                var i, f, e = this._getMinMaxDate(n, "min"),
                    o = this._getMinMaxDate(n, "max"),
                    r = null,
                    u = null,
                    s = this._get(n, "yearRange");
                return s && (i = s.split(":"), f = (new Date).getFullYear(), r = parseInt(i[0], 10), u = parseInt(i[1], 10), i[0].match(/[+\-].*/) && (r += f), i[1].match(/[+\-].*/) && (u += f)), (!e || t.getTime() >= e.getTime()) && (!o || t.getTime() <= o.getTime()) && (!r || t.getFullYear() >= r) && (!u || u >= t.getFullYear())
            },
            _getFormatConfig: function(n) {
                var t = this._get(n, "shortYearCutoff");
                return t = "string" != typeof t ? t : (new Date).getFullYear() % 100 + parseInt(t, 10), {
                    shortYearCutoff: t,
                    dayNamesShort: this._get(n, "dayNamesShort"),
                    dayNames: this._get(n, "dayNames"),
                    monthNamesShort: this._get(n, "monthNamesShort"),
                    monthNames: this._get(n, "monthNames")
                }
            },
            _formatDate: function(n, t, i, r) {
                t || (n.currentDay = n.selectedDay, n.currentMonth = n.selectedMonth, n.currentYear = n.selectedYear);
                var u = t ? "object" == typeof t ? t : this._daylightSavingAdjust(new Date(r, i, t)) : this._daylightSavingAdjust(new Date(n.currentYear, n.currentMonth, n.currentDay));
                return this.formatDate(this._get(n, "dateFormat"), u, this._getFormatConfig(n))
            }
        });
        n.fn.datepicker = function(t) {
            if (!this.length) return this;
            n.datepicker.initialized || (n(document).mousedown(n.datepicker._checkExternalClick), n.datepicker.initialized = !0);
            0 === n("#" + n.datepicker._mainDivId).length && n("body").append(n.datepicker.dpDiv);
            var i = Array.prototype.slice.call(arguments, 1);
            return "string" != typeof t || "isDisabled" !== t && "getDate" !== t && "widget" !== t ? "option" === t && 2 === arguments.length && "string" == typeof arguments[1] ? n.datepicker["_" + t + "Datepicker"].apply(n.datepicker, [this[0]].concat(i)) : this.each(function() {
                "string" == typeof t ? n.datepicker["_" + t + "Datepicker"].apply(n.datepicker, [this].concat(i)) : n.datepicker._attachDatepicker(this, t)
            }) : n.datepicker["_" + t + "Datepicker"].apply(n.datepicker, [this[0]].concat(i))
        };
        n.datepicker = new l;
        n.datepicker.initialized = !1;
        n.datepicker.uuid = (new Date).getTime();
        n.datepicker.version = "1.11.1";
        n.datepicker;
        n.widget("ui.draggable", n.ui.mouse, {
            version: "1.11.1",
            widgetEventPrefix: "drag",
            options: {
                addClasses: !0,
                appendTo: "parent",
                axis: !1,
                connectToSortable: !1,
                containment: !1,
                cursor: "auto",
                cursorAt: !1,
                grid: !1,
                handle: !1,
                helper: "original",
                iframeFix: !1,
                opacity: !1,
                refreshPositions: !1,
                revert: !1,
                revertDuration: 500,
                scope: "default",
                scroll: !0,
                scrollSensitivity: 20,
                scrollSpeed: 20,
                snap: !1,
                snapMode: "both",
                snapTolerance: 20,
                stack: !1,
                zIndex: !1,
                drag: null,
                start: null,
                stop: null
            },
            _create: function() {
                "original" !== this.options.helper || /^(?:r|a|f)/.test(this.element.css("position")) || (this.element[0].style.position = "relative");
                this.options.addClasses && this.element.addClass("ui-draggable");
                this.options.disabled && this.element.addClass("ui-draggable-disabled");
                this._setHandleClassName();
                this._mouseInit()
            },
            _setOption: function(n, t) {
                this._super(n, t);
                "handle" === n && (this._removeHandleClassName(), this._setHandleClassName())
            },
            _destroy: function() {
                return (this.helper || this.element).is(".ui-draggable-dragging") ? (this.destroyOnClear = !0, void 0) : (this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"), this._removeHandleClassName(), this._mouseDestroy(), void 0)
            },
            _mouseCapture: function(t) {
                var i = this.document[0],
                    r = this.options;
                try {
                    i.activeElement && "body" !== i.activeElement.nodeName.toLowerCase() && n(i.activeElement).blur()
                } catch (u) {}
                return this.helper || r.disabled || n(t.target).closest(".ui-resizable-handle").length > 0 ? !1 : (this.handle = this._getHandle(t), this.handle ? (n(r.iframeFix === !0 ? "iframe" : r.iframeFix).each(function() {
                    n("<div class='ui-draggable-iframeFix' style='background: #fff;'><\/div>").css({
                        width: this.offsetWidth + "px",
                        height: this.offsetHeight + "px",
                        position: "absolute",
                        opacity: "0.001",
                        zIndex: 1e3
                    }).css(n(this).offset()).appendTo("body")
                }), !0) : !1)
            },
            _mouseStart: function(t) {
                var i = this.options;
                return this.helper = this._createHelper(t), this.helper.addClass("ui-draggable-dragging"), this._cacheHelperProportions(), n.ui.ddmanager && (n.ui.ddmanager.current = this), this._cacheMargins(), this.cssPosition = this.helper.css("position"), this.scrollParent = this.helper.scrollParent(!0), this.offsetParent = this.helper.offsetParent(), this.offsetParentCssPosition = this.offsetParent.css("position"), this.offset = this.positionAbs = this.element.offset(), this.offset = {
                    top: this.offset.top - this.margins.top,
                    left: this.offset.left - this.margins.left
                }, this.offset.scroll = !1, n.extend(this.offset, {
                    click: {
                        left: t.pageX - this.offset.left,
                        top: t.pageY - this.offset.top
                    },
                    parent: this._getParentOffset(),
                    relative: this._getRelativeOffset()
                }), this.originalPosition = this.position = this._generatePosition(t, !1), this.originalPageX = t.pageX, this.originalPageY = t.pageY, i.cursorAt && this._adjustOffsetFromHelper(i.cursorAt), this._setContainment(), this._trigger("start", t) === !1 ? (this._clear(), !1) : (this._cacheHelperProportions(), n.ui.ddmanager && !i.dropBehaviour && n.ui.ddmanager.prepareOffsets(this, t), this._mouseDrag(t, !0), n.ui.ddmanager && n.ui.ddmanager.dragStart(this, t), !0)
            },
            _mouseDrag: function(t, i) {
                if ("fixed" === this.offsetParentCssPosition && (this.offset.parent = this._getParentOffset()), this.position = this._generatePosition(t, !0), this.positionAbs = this._convertPositionTo("absolute"), !i) {
                    var r = this._uiHash();
                    if (this._trigger("drag", t, r) === !1) return this._mouseUp({}), !1;
                    this.position = r.position
                }
                return this.helper[0].style.left = this.position.left + "px", this.helper[0].style.top = this.position.top + "px", n.ui.ddmanager && n.ui.ddmanager.drag(this, t), !1
            },
            _mouseStop: function(t) {
                var r = this,
                    i = !1;
                return n.ui.ddmanager && !this.options.dropBehaviour && (i = n.ui.ddmanager.drop(this, t)), this.dropped && (i = this.dropped, this.dropped = !1), "invalid" === this.options.revert && !i || "valid" === this.options.revert && i || this.options.revert === !0 || n.isFunction(this.options.revert) && this.options.revert.call(this.element, i) ? n(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function() {
                    r._trigger("stop", t) !== !1 && r._clear()
                }) : this._trigger("stop", t) !== !1 && this._clear(), !1
            },
            _mouseUp: function(t) {
                return n("div.ui-draggable-iframeFix").each(function() {
                    this.parentNode.removeChild(this)
                }), n.ui.ddmanager && n.ui.ddmanager.dragStop(this, t), this.element.focus(), n.ui.mouse.prototype._mouseUp.call(this, t)
            },
            cancel: function() {
                return this.helper.is(".ui-draggable-dragging") ? this._mouseUp({}) : this._clear(), this
            },
            _getHandle: function(t) {
                return this.options.handle ? !!n(t.target).closest(this.element.find(this.options.handle)).length : !0
            },
            _setHandleClassName: function() {
                this.handleElement = this.options.handle ? this.element.find(this.options.handle) : this.element;
                this.handleElement.addClass("ui-draggable-handle")
            },
            _removeHandleClassName: function() {
                this.handleElement.removeClass("ui-draggable-handle")
            },
            _createHelper: function(t) {
                var r = this.options,
                    i = n.isFunction(r.helper) ? n(r.helper.apply(this.element[0], [t])) : "clone" === r.helper ? this.element.clone().removeAttr("id") : this.element;
                return i.parents("body").length || i.appendTo("parent" === r.appendTo ? this.element[0].parentNode : r.appendTo), i[0] === this.element[0] || /(fixed|absolute)/.test(i.css("position")) || i.css("position", "absolute"), i
            },
            _adjustOffsetFromHelper: function(t) {
                "string" == typeof t && (t = t.split(" "));
                n.isArray(t) && (t = {
                    left: +t[0],
                    top: +t[1] || 0
                });
                "left" in t && (this.offset.click.left = t.left + this.margins.left);
                "right" in t && (this.offset.click.left = this.helperProportions.width - t.right + this.margins.left);
                "top" in t && (this.offset.click.top = t.top + this.margins.top);
                "bottom" in t && (this.offset.click.top = this.helperProportions.height - t.bottom + this.margins.top)
            },
            _isRootNode: function(n) {
                return /(html|body)/i.test(n.tagName) || n === this.document[0]
            },
            _getParentOffset: function() {
                var t = this.offsetParent.offset(),
                    i = this.document[0];
                return "absolute" === this.cssPosition && this.scrollParent[0] !== i && n.contains(this.scrollParent[0], this.offsetParent[0]) && (t.left += this.scrollParent.scrollLeft(), t.top += this.scrollParent.scrollTop()), this._isRootNode(this.offsetParent[0]) && (t = {
                    top: 0,
                    left: 0
                }), {
                    top: t.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                    left: t.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
                }
            },
            _getRelativeOffset: function() {
                if ("relative" !== this.cssPosition) return {
                    top: 0,
                    left: 0
                };
                var n = this.element.position(),
                    t = this._isRootNode(this.scrollParent[0]);
                return {
                    top: n.top - (parseInt(this.helper.css("top"), 10) || 0) + (t ? 0 : this.scrollParent.scrollTop()),
                    left: n.left - (parseInt(this.helper.css("left"), 10) || 0) + (t ? 0 : this.scrollParent.scrollLeft())
                }
            },
            _cacheMargins: function() {
                this.margins = {
                    left: parseInt(this.element.css("marginLeft"), 10) || 0,
                    top: parseInt(this.element.css("marginTop"), 10) || 0,
                    right: parseInt(this.element.css("marginRight"), 10) || 0,
                    bottom: parseInt(this.element.css("marginBottom"), 10) || 0
                }
            },
            _cacheHelperProportions: function() {
                this.helperProportions = {
                    width: this.helper.outerWidth(),
                    height: this.helper.outerHeight()
                }
            },
            _setContainment: function() {
                var f, t, i, r = this.options,
                    u = this.document[0];
                return this.relativeContainer = null, r.containment ? "window" === r.containment ? (this.containment = [n(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left, n(window).scrollTop() - this.offset.relative.top - this.offset.parent.top, n(window).scrollLeft() + n(window).width() - this.helperProportions.width - this.margins.left, n(window).scrollTop() + (n(window).height() || u.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top], void 0) : "document" === r.containment ? (this.containment = [0, 0, n(u).width() - this.helperProportions.width - this.margins.left, (n(u).height() || u.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top], void 0) : r.containment.constructor === Array ? (this.containment = r.containment, void 0) : ("parent" === r.containment && (r.containment = this.helper[0].parentNode), t = n(r.containment), i = t[0], i && (f = "hidden" !== t.css("overflow"), this.containment = [(parseInt(t.css("borderLeftWidth"), 10) || 0) + (parseInt(t.css("paddingLeft"), 10) || 0), (parseInt(t.css("borderTopWidth"), 10) || 0) + (parseInt(t.css("paddingTop"), 10) || 0), (f ? Math.max(i.scrollWidth, i.offsetWidth) : i.offsetWidth) - (parseInt(t.css("borderRightWidth"), 10) || 0) - (parseInt(t.css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right, (f ? Math.max(i.scrollHeight, i.offsetHeight) : i.offsetHeight) - (parseInt(t.css("borderBottomWidth"), 10) || 0) - (parseInt(t.css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top - this.margins.bottom], this.relativeContainer = t), void 0) : (this.containment = null, void 0)
            },
            _convertPositionTo: function(n, t) {
                t || (t = this.position);
                var i = "absolute" === n ? 1 : -1,
                    r = this._isRootNode(this.scrollParent[0]);
                return {
                    top: t.top + this.offset.relative.top * i + this.offset.parent.top * i - ("fixed" === this.cssPosition ? -this.offset.scroll.top : r ? 0 : this.offset.scroll.top) * i,
                    left: t.left + this.offset.relative.left * i + this.offset.parent.left * i - ("fixed" === this.cssPosition ? -this.offset.scroll.left : r ? 0 : this.offset.scroll.left) * i
                }
            },
            _generatePosition: function(n, t) {
                var i, s, u, f, r = this.options,
                    h = this._isRootNode(this.scrollParent[0]),
                    e = n.pageX,
                    o = n.pageY;
                return h && this.offset.scroll || (this.offset.scroll = {
                    top: this.scrollParent.scrollTop(),
                    left: this.scrollParent.scrollLeft()
                }), t && (this.containment && (this.relativeContainer ? (s = this.relativeContainer.offset(), i = [this.containment[0] + s.left, this.containment[1] + s.top, this.containment[2] + s.left, this.containment[3] + s.top]) : i = this.containment, n.pageX - this.offset.click.left < i[0] && (e = i[0] + this.offset.click.left), n.pageY - this.offset.click.top < i[1] && (o = i[1] + this.offset.click.top), n.pageX - this.offset.click.left > i[2] && (e = i[2] + this.offset.click.left), n.pageY - this.offset.click.top > i[3] && (o = i[3] + this.offset.click.top)), r.grid && (u = r.grid[1] ? this.originalPageY + Math.round((o - this.originalPageY) / r.grid[1]) * r.grid[1] : this.originalPageY, o = i ? u - this.offset.click.top >= i[1] || u - this.offset.click.top > i[3] ? u : u - this.offset.click.top >= i[1] ? u - r.grid[1] : u + r.grid[1] : u, f = r.grid[0] ? this.originalPageX + Math.round((e - this.originalPageX) / r.grid[0]) * r.grid[0] : this.originalPageX, e = i ? f - this.offset.click.left >= i[0] || f - this.offset.click.left > i[2] ? f : f - this.offset.click.left >= i[0] ? f - r.grid[0] : f + r.grid[0] : f), "y" === r.axis && (e = this.originalPageX), "x" === r.axis && (o = this.originalPageY)), {
                    top: o - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.offset.scroll.top : h ? 0 : this.offset.scroll.top),
                    left: e - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.offset.scroll.left : h ? 0 : this.offset.scroll.left)
                }
            },
            _clear: function() {
                this.helper.removeClass("ui-draggable-dragging");
                this.helper[0] === this.element[0] || this.cancelHelperRemoval || this.helper.remove();
                this.helper = null;
                this.cancelHelperRemoval = !1;
                this.destroyOnClear && this.destroy()
            },
            _trigger: function(t, i, r) {
                return r = r || this._uiHash(), n.ui.plugin.call(this, t, [i, r, this], !0), "drag" === t && (this.positionAbs = this._convertPositionTo("absolute")), n.Widget.prototype._trigger.call(this, t, i, r)
            },
            plugins: {},
            _uiHash: function() {
                return {
                    helper: this.helper,
                    position: this.position,
                    originalPosition: this.originalPosition,
                    offset: this.positionAbs
                }
            }
        });
        n.ui.plugin.add("draggable", "connectToSortable", {
            start: function(t, i, r) {
                var u = r.options,
                    f = n.extend({}, i, {
                        item: r.element
                    });
                r.sortables = [];
                n(u.connectToSortable).each(function() {
                    var i = n(this).sortable("instance");
                    i && !i.options.disabled && (r.sortables.push({
                        instance: i,
                        shouldRevert: i.options.revert
                    }), i.refreshPositions(), i._trigger("activate", t, f))
                })
            },
            stop: function(t, i, r) {
                var u = n.extend({}, i, {
                    item: r.element
                });
                n.each(r.sortables, function() {
                    this.instance.isOver ? (this.instance.isOver = 0, r.cancelHelperRemoval = !0, this.instance.cancelHelperRemoval = !1, this.shouldRevert && (this.instance.options.revert = this.shouldRevert), this.instance._mouseStop(t), this.instance.options.helper = this.instance.options._helper, "original" === r.options.helper && this.instance.currentItem.css({
                        top: "auto",
                        left: "auto"
                    })) : (this.instance.cancelHelperRemoval = !1, this.instance._trigger("deactivate", t, u))
                })
            },
            drag: function(t, i, r) {
                var u = this;
                n.each(r.sortables, function() {
                    var f = !1,
                        e = this;
                    this.instance.positionAbs = r.positionAbs;
                    this.instance.helperProportions = r.helperProportions;
                    this.instance.offset.click = r.offset.click;
                    this.instance._intersectsWith(this.instance.containerCache) && (f = !0, n.each(r.sortables, function() {
                        return this.instance.positionAbs = r.positionAbs, this.instance.helperProportions = r.helperProportions, this.instance.offset.click = r.offset.click, this !== e && this.instance._intersectsWith(this.instance.containerCache) && n.contains(e.instance.element[0], this.instance.element[0]) && (f = !1), f
                    }));
                    f ? (this.instance.isOver || (this.instance.isOver = 1, this.instance.currentItem = n(u).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item", !0), this.instance.options._helper = this.instance.options.helper, this.instance.options.helper = function() {
                        return i.helper[0]
                    }, t.target = this.instance.currentItem[0], this.instance._mouseCapture(t, !0), this.instance._mouseStart(t, !0, !0), this.instance.offset.click.top = r.offset.click.top, this.instance.offset.click.left = r.offset.click.left, this.instance.offset.parent.left -= r.offset.parent.left - this.instance.offset.parent.left, this.instance.offset.parent.top -= r.offset.parent.top - this.instance.offset.parent.top, r._trigger("toSortable", t), r.dropped = this.instance.element, r.currentItem = r.element, this.instance.fromOutside = r), this.instance.currentItem && this.instance._mouseDrag(t)) : this.instance.isOver && (this.instance.isOver = 0, this.instance.cancelHelperRemoval = !0, this.instance.options.revert = !1, this.instance._trigger("out", t, this.instance._uiHash(this.instance)), this.instance._mouseStop(t, !0), this.instance.options.helper = this.instance.options._helper, this.instance.currentItem.remove(), this.instance.placeholder && this.instance.placeholder.remove(), r._trigger("fromSortable", t), r.dropped = !1)
                })
            }
        });
        n.ui.plugin.add("draggable", "cursor", {
            start: function(t, i, r) {
                var u = n("body"),
                    f = r.options;
                u.css("cursor") && (f._cursor = u.css("cursor"));
                u.css("cursor", f.cursor)
            },
            stop: function(t, i, r) {
                var u = r.options;
                u._cursor && n("body").css("cursor", u._cursor)
            }
        });
        n.ui.plugin.add("draggable", "opacity", {
            start: function(t, i, r) {
                var u = n(i.helper),
                    f = r.options;
                u.css("opacity") && (f._opacity = u.css("opacity"));
                u.css("opacity", f.opacity)
            },
            stop: function(t, i, r) {
                var u = r.options;
                u._opacity && n(i.helper).css("opacity", u._opacity)
            }
        });
        n.ui.plugin.add("draggable", "scroll", {
            start: function(n, t, i) {
                i.scrollParentNotHidden || (i.scrollParentNotHidden = i.helper.scrollParent(!1));
                i.scrollParentNotHidden[0] !== i.document[0] && "HTML" !== i.scrollParentNotHidden[0].tagName && (i.overflowOffset = i.scrollParentNotHidden.offset())
            },
            drag: function(t, i, r) {
                var u = r.options,
                    o = !1,
                    e = r.scrollParentNotHidden[0],
                    f = r.document[0];
                e !== f && "HTML" !== e.tagName ? (u.axis && "x" === u.axis || (r.overflowOffset.top + e.offsetHeight - t.pageY < u.scrollSensitivity ? e.scrollTop = o = e.scrollTop + u.scrollSpeed : t.pageY - r.overflowOffset.top < u.scrollSensitivity && (e.scrollTop = o = e.scrollTop - u.scrollSpeed)), u.axis && "y" === u.axis || (r.overflowOffset.left + e.offsetWidth - t.pageX < u.scrollSensitivity ? e.scrollLeft = o = e.scrollLeft + u.scrollSpeed : t.pageX - r.overflowOffset.left < u.scrollSensitivity && (e.scrollLeft = o = e.scrollLeft - u.scrollSpeed))) : (u.axis && "x" === u.axis || (t.pageY - n(f).scrollTop() < u.scrollSensitivity ? o = n(f).scrollTop(n(f).scrollTop() - u.scrollSpeed) : n(window).height() - (t.pageY - n(f).scrollTop()) < u.scrollSensitivity && (o = n(f).scrollTop(n(f).scrollTop() + u.scrollSpeed))), u.axis && "y" === u.axis || (t.pageX - n(f).scrollLeft() < u.scrollSensitivity ? o = n(f).scrollLeft(n(f).scrollLeft() - u.scrollSpeed) : n(window).width() - (t.pageX - n(f).scrollLeft()) < u.scrollSensitivity && (o = n(f).scrollLeft(n(f).scrollLeft() + u.scrollSpeed))));
                o !== !1 && n.ui.ddmanager && !u.dropBehaviour && n.ui.ddmanager.prepareOffsets(r, t)
            }
        });
        n.ui.plugin.add("draggable", "snap", {
            start: function(t, i, r) {
                var u = r.options;
                r.snapElements = [];
                n(u.snap.constructor !== String ? u.snap.items || ":data(ui-draggable)" : u.snap).each(function() {
                    var t = n(this),
                        i = t.offset();
                    this !== r.element[0] && r.snapElements.push({
                        item: this,
                        width: t.outerWidth(),
                        height: t.outerHeight(),
                        top: i.top,
                        left: i.left
                    })
                })
            },
            drag: function(t, i, r) {
                for (var e, o, s, h, c, a, l, v, w, b = r.options, f = b.snapTolerance, y = i.offset.left, k = y + r.helperProportions.width, p = i.offset.top, d = p + r.helperProportions.height, u = r.snapElements.length - 1; u >= 0; u--) c = r.snapElements[u].left, a = c + r.snapElements[u].width, l = r.snapElements[u].top, v = l + r.snapElements[u].height, c - f > k || y > a + f || l - f > d || p > v + f || !n.contains(r.snapElements[u].item.ownerDocument, r.snapElements[u].item) ? (r.snapElements[u].snapping && r.options.snap.release && r.options.snap.release.call(r.element, t, n.extend(r._uiHash(), {
                    snapItem: r.snapElements[u].item
                })), r.snapElements[u].snapping = !1) : ("inner" !== b.snapMode && (e = f >= Math.abs(l - d), o = f >= Math.abs(v - p), s = f >= Math.abs(c - k), h = f >= Math.abs(a - y), e && (i.position.top = r._convertPositionTo("relative", {
                    top: l - r.helperProportions.height,
                    left: 0
                }).top - r.margins.top), o && (i.position.top = r._convertPositionTo("relative", {
                    top: v,
                    left: 0
                }).top - r.margins.top), s && (i.position.left = r._convertPositionTo("relative", {
                    top: 0,
                    left: c - r.helperProportions.width
                }).left - r.margins.left), h && (i.position.left = r._convertPositionTo("relative", {
                    top: 0,
                    left: a
                }).left - r.margins.left)), w = e || o || s || h, "outer" !== b.snapMode && (e = f >= Math.abs(l - p), o = f >= Math.abs(v - d), s = f >= Math.abs(c - y), h = f >= Math.abs(a - k), e && (i.position.top = r._convertPositionTo("relative", {
                    top: l,
                    left: 0
                }).top - r.margins.top), o && (i.position.top = r._convertPositionTo("relative", {
                    top: v - r.helperProportions.height,
                    left: 0
                }).top - r.margins.top), s && (i.position.left = r._convertPositionTo("relative", {
                    top: 0,
                    left: c
                }).left - r.margins.left), h && (i.position.left = r._convertPositionTo("relative", {
                    top: 0,
                    left: a - r.helperProportions.width
                }).left - r.margins.left)), !r.snapElements[u].snapping && (e || o || s || h || w) && r.options.snap.snap && r.options.snap.snap.call(r.element, t, n.extend(r._uiHash(), {
                    snapItem: r.snapElements[u].item
                })), r.snapElements[u].snapping = e || o || s || h || w)
            }
        });
        n.ui.plugin.add("draggable", "stack", {
            start: function(t, i, r) {
                var f, e = r.options,
                    u = n.makeArray(n(e.stack)).sort(function(t, i) {
                        return (parseInt(n(t).css("zIndex"), 10) || 0) - (parseInt(n(i).css("zIndex"), 10) || 0)
                    });
                u.length && (f = parseInt(n(u[0]).css("zIndex"), 10) || 0, n(u).each(function(t) {
                    n(this).css("zIndex", f + t)
                }), this.css("zIndex", f + u.length))
            }
        });
        n.ui.plugin.add("draggable", "zIndex", {
            start: function(t, i, r) {
                var u = n(i.helper),
                    f = r.options;
                u.css("zIndex") && (f._zIndex = u.css("zIndex"));
                u.css("zIndex", f.zIndex)
            },
            stop: function(t, i, r) {
                var u = r.options;
                u._zIndex && n(i.helper).css("zIndex", u._zIndex)
            }
        });
        n.ui.draggable;
        n.widget("ui.resizable", n.ui.mouse, {
            version: "1.11.1",
            widgetEventPrefix: "resize",
            options: {
                alsoResize: !1,
                animate: !1,
                animateDuration: "slow",
                animateEasing: "swing",
                aspectRatio: !1,
                autoHide: !1,
                containment: !1,
                ghost: !1,
                grid: !1,
                handles: "e,s,se",
                helper: !1,
                maxHeight: null,
                maxWidth: null,
                minHeight: 10,
                minWidth: 10,
                zIndex: 90,
                resize: null,
                start: null,
                stop: null
            },
            _num: function(n) {
                return parseInt(n, 10) || 0
            },
            _isNumber: function(n) {
                return !isNaN(parseInt(n, 10))
            },
            _hasScroll: function(t, i) {
                if ("hidden" === n(t).css("overflow")) return !1;
                var r = i && "left" === i ? "scrollLeft" : "scrollTop",
                    u = !1;
                return t[r] > 0 ? !0 : (t[r] = 1, u = t[r] > 0, t[r] = 0, u)
            },
            _create: function() {
                var e, f, r, i, o, u = this,
                    t = this.options;
                if (this.element.addClass("ui-resizable"), n.extend(this, {
                        _aspectRatio: !!t.aspectRatio,
                        aspectRatio: t.aspectRatio,
                        originalElement: this.element,
                        _proportionallyResizeElements: [],
                        _helper: t.helper || t.ghost || t.animate ? t.helper || "ui-resizable-helper" : null
                    }), this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i) && (this.element.wrap(n("<div class='ui-wrapper' style='overflow: hidden;'><\/div>").css({
                        position: this.element.css("position"),
                        width: this.element.outerWidth(),
                        height: this.element.outerHeight(),
                        top: this.element.css("top"),
                        left: this.element.css("left")
                    })), this.element = this.element.parent().data("ui-resizable", this.element.resizable("instance")), this.elementIsWrapper = !0, this.element.css({
                        marginLeft: this.originalElement.css("marginLeft"),
                        marginTop: this.originalElement.css("marginTop"),
                        marginRight: this.originalElement.css("marginRight"),
                        marginBottom: this.originalElement.css("marginBottom")
                    }), this.originalElement.css({
                        marginLeft: 0,
                        marginTop: 0,
                        marginRight: 0,
                        marginBottom: 0
                    }), this.originalResizeStyle = this.originalElement.css("resize"), this.originalElement.css("resize", "none"), this._proportionallyResizeElements.push(this.originalElement.css({
                        position: "static",
                        zoom: 1,
                        display: "block"
                    })), this.originalElement.css({
                        margin: this.originalElement.css("margin")
                    }), this._proportionallyResize()), this.handles = t.handles || (n(".ui-resizable-handle", this.element).length ? {
                        n: ".ui-resizable-n",
                        e: ".ui-resizable-e",
                        s: ".ui-resizable-s",
                        w: ".ui-resizable-w",
                        se: ".ui-resizable-se",
                        sw: ".ui-resizable-sw",
                        ne: ".ui-resizable-ne",
                        nw: ".ui-resizable-nw"
                    } : "e,s,se"), this.handles.constructor === String)
                    for ("all" === this.handles && (this.handles = "n,e,s,w,se,sw,ne,nw"), e = this.handles.split(","), this.handles = {}, f = 0; e.length > f; f++) r = n.trim(e[f]), o = "ui-resizable-" + r, i = n("<div class='ui-resizable-handle " + o + "'><\/div>"), i.css({
                        zIndex: t.zIndex
                    }), "se" === r && i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"), this.handles[r] = ".ui-resizable-" + r, this.element.append(i);
                this._renderAxis = function(t) {
                    var i, r, u, f;
                    t = t || this.element;
                    for (i in this.handles) this.handles[i].constructor === String && (this.handles[i] = this.element.children(this.handles[i]).first().show()), this.elementIsWrapper && this.originalElement[0].nodeName.match(/textarea|input|select|button/i) && (r = n(this.handles[i], this.element), f = /sw|ne|nw|se|n|s/.test(i) ? r.outerHeight() : r.outerWidth(), u = ["padding", /ne|nw|n/.test(i) ? "Top" : /se|sw|s/.test(i) ? "Bottom" : /^e$/.test(i) ? "Right" : "Left"].join(""), t.css(u, f), this._proportionallyResize()), n(this.handles[i]).length
                };
                this._renderAxis(this.element);
                this._handles = n(".ui-resizable-handle", this.element).disableSelection();
                this._handles.mouseover(function() {
                    u.resizing || (this.className && (i = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)), u.axis = i && i[1] ? i[1] : "se")
                });
                t.autoHide && (this._handles.hide(), n(this.element).addClass("ui-resizable-autohide").mouseenter(function() {
                    t.disabled || (n(this).removeClass("ui-resizable-autohide"), u._handles.show())
                }).mouseleave(function() {
                    t.disabled || u.resizing || (n(this).addClass("ui-resizable-autohide"), u._handles.hide())
                }));
                this._mouseInit()
            },
            _destroy: function() {
                this._mouseDestroy();
                var t, i = function(t) {
                    n(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()
                };
                return this.elementIsWrapper && (i(this.element), t = this.element, this.originalElement.css({
                    position: t.css("position"),
                    width: t.outerWidth(),
                    height: t.outerHeight(),
                    top: t.css("top"),
                    left: t.css("left")
                }).insertAfter(t), t.remove()), this.originalElement.css("resize", this.originalResizeStyle), i(this.originalElement), this
            },
            _mouseCapture: function(t) {
                var r, i, u = !1;
                for (r in this.handles) i = n(this.handles[r])[0], (i === t.target || n.contains(i, t.target)) && (u = !0);
                return !this.options.disabled && u
            },
            _mouseStart: function(t) {
                var u, f, e, r = this.options,
                    i = this.element;
                return this.resizing = !0, this._renderProxy(), u = this._num(this.helper.css("left")), f = this._num(this.helper.css("top")), r.containment && (u += n(r.containment).scrollLeft() || 0, f += n(r.containment).scrollTop() || 0), this.offset = this.helper.offset(), this.position = {
                    left: u,
                    top: f
                }, this.size = this._helper ? {
                    width: this.helper.width(),
                    height: this.helper.height()
                } : {
                    width: i.width(),
                    height: i.height()
                }, this.originalSize = this._helper ? {
                    width: i.outerWidth(),
                    height: i.outerHeight()
                } : {
                    width: i.width(),
                    height: i.height()
                }, this.sizeDiff = {
                    width: i.outerWidth() - i.width(),
                    height: i.outerHeight() - i.height()
                }, this.originalPosition = {
                    left: u,
                    top: f
                }, this.originalMousePosition = {
                    left: t.pageX,
                    top: t.pageY
                }, this.aspectRatio = "number" == typeof r.aspectRatio ? r.aspectRatio : this.originalSize.width / this.originalSize.height || 1, e = n(".ui-resizable-" + this.axis).css("cursor"), n("body").css("cursor", "auto" === e ? this.axis + "-resize" : e), i.addClass("ui-resizable-resizing"), this._propagate("start", t), !0
            },
            _mouseDrag: function(t) {
                var i, r, u = this.originalMousePosition,
                    e = this.axis,
                    o = t.pageX - u.left || 0,
                    s = t.pageY - u.top || 0,
                    f = this._change[e];
                return this._updatePrevProperties(), f ? (i = f.apply(this, [t, o, s]), this._updateVirtualBoundaries(t.shiftKey), (this._aspectRatio || t.shiftKey) && (i = this._updateRatio(i, t)), i = this._respectSize(i, t), this._updateCache(i), this._propagate("resize", t), r = this._applyChanges(), !this._helper && this._proportionallyResizeElements.length && this._proportionallyResize(), n.isEmptyObject(r) || (this._updatePrevProperties(), this._trigger("resize", t, this.ui()), this._applyChanges()), !1) : !1
            },
            _mouseStop: function(t) {
                this.resizing = !1;
                var r, u, f, e, o, s, h, c = this.options,
                    i = this;
                return this._helper && (r = this._proportionallyResizeElements, u = r.length && /textarea/i.test(r[0].nodeName), f = u && this._hasScroll(r[0], "left") ? 0 : i.sizeDiff.height, e = u ? 0 : i.sizeDiff.width, o = {
                    width: i.helper.width() - e,
                    height: i.helper.height() - f
                }, s = parseInt(i.element.css("left"), 10) + (i.position.left - i.originalPosition.left) || null, h = parseInt(i.element.css("top"), 10) + (i.position.top - i.originalPosition.top) || null, c.animate || this.element.css(n.extend(o, {
                    top: h,
                    left: s
                })), i.helper.height(i.size.height), i.helper.width(i.size.width), this._helper && !c.animate && this._proportionallyResize()), n("body").css("cursor", "auto"), this.element.removeClass("ui-resizable-resizing"), this._propagate("stop", t), this._helper && this.helper.remove(), !1
            },
            _updatePrevProperties: function() {
                this.prevPosition = {
                    top: this.position.top,
                    left: this.position.left
                };
                this.prevSize = {
                    width: this.size.width,
                    height: this.size.height
                }
            },
            _applyChanges: function() {
                var n = {};
                return this.position.top !== this.prevPosition.top && (n.top = this.position.top + "px"), this.position.left !== this.prevPosition.left && (n.left = this.position.left + "px"), this.size.width !== this.prevSize.width && (n.width = this.size.width + "px"), this.size.height !== this.prevSize.height && (n.height = this.size.height + "px"), this.helper.css(n), n
            },
            _updateVirtualBoundaries: function(n) {
                var r, u, f, e, t, i = this.options;
                t = {
                    minWidth: this._isNumber(i.minWidth) ? i.minWidth : 0,
                    maxWidth: this._isNumber(i.maxWidth) ? i.maxWidth : 1 / 0,
                    minHeight: this._isNumber(i.minHeight) ? i.minHeight : 0,
                    maxHeight: this._isNumber(i.maxHeight) ? i.maxHeight : 1 / 0
                };
                (this._aspectRatio || n) && (r = t.minHeight * this.aspectRatio, f = t.minWidth / this.aspectRatio, u = t.maxHeight * this.aspectRatio, e = t.maxWidth / this.aspectRatio, r > t.minWidth && (t.minWidth = r), f > t.minHeight && (t.minHeight = f), t.maxWidth > u && (t.maxWidth = u), t.maxHeight > e && (t.maxHeight = e));
                this._vBoundaries = t
            },
            _updateCache: function(n) {
                this.offset = this.helper.offset();
                this._isNumber(n.left) && (this.position.left = n.left);
                this._isNumber(n.top) && (this.position.top = n.top);
                this._isNumber(n.height) && (this.size.height = n.height);
                this._isNumber(n.width) && (this.size.width = n.width)
            },
            _updateRatio: function(n) {
                var t = this.position,
                    i = this.size,
                    r = this.axis;
                return this._isNumber(n.height) ? n.width = n.height * this.aspectRatio : this._isNumber(n.width) && (n.height = n.width / this.aspectRatio), "sw" === r && (n.left = t.left + (i.width - n.width), n.top = null), "nw" === r && (n.top = t.top + (i.height - n.height), n.left = t.left + (i.width - n.width)), n
            },
            _respectSize: function(n) {
                var t = this._vBoundaries,
                    i = this.axis,
                    r = this._isNumber(n.width) && t.maxWidth && t.maxWidth < n.width,
                    u = this._isNumber(n.height) && t.maxHeight && t.maxHeight < n.height,
                    f = this._isNumber(n.width) && t.minWidth && t.minWidth > n.width,
                    e = this._isNumber(n.height) && t.minHeight && t.minHeight > n.height,
                    o = this.originalPosition.left + this.originalSize.width,
                    s = this.position.top + this.size.height,
                    h = /sw|nw|w/.test(i),
                    c = /nw|ne|n/.test(i);
                return f && (n.width = t.minWidth), e && (n.height = t.minHeight), r && (n.width = t.maxWidth), u && (n.height = t.maxHeight), f && h && (n.left = o - t.minWidth), r && h && (n.left = o - t.maxWidth), e && c && (n.top = s - t.minHeight), u && c && (n.top = s - t.maxHeight), n.width || n.height || n.left || !n.top ? n.width || n.height || n.top || !n.left || (n.left = null) : n.top = null, n
            },
            _getPaddingPlusBorderDimensions: function(n) {
                for (var t = 0, i = [], r = [n.css("borderTopWidth"), n.css("borderRightWidth"), n.css("borderBottomWidth"), n.css("borderLeftWidth")], u = [n.css("paddingTop"), n.css("paddingRight"), n.css("paddingBottom"), n.css("paddingLeft")]; 4 > t; t++) i[t] = parseInt(r[t], 10) || 0, i[t] += parseInt(u[t], 10) || 0;
                return {
                    height: i[0] + i[2],
                    width: i[1] + i[3]
                }
            },
            _proportionallyResize: function() {
                if (this._proportionallyResizeElements.length)
                    for (var n, t = 0, i = this.helper || this.element; this._proportionallyResizeElements.length > t; t++) n = this._proportionallyResizeElements[t], this.outerDimensions || (this.outerDimensions = this._getPaddingPlusBorderDimensions(n)), n.css({
                        height: i.height() - this.outerDimensions.height || 0,
                        width: i.width() - this.outerDimensions.width || 0
                    })
            },
            _renderProxy: function() {
                var t = this.element,
                    i = this.options;
                this.elementOffset = t.offset();
                this._helper ? (this.helper = this.helper || n("<div style='overflow:hidden;'><\/div>"), this.helper.addClass(this._helper).css({
                    width: this.element.outerWidth() - 1,
                    height: this.element.outerHeight() - 1,
                    position: "absolute",
                    left: this.elementOffset.left + "px",
                    top: this.elementOffset.top + "px",
                    zIndex: ++i.zIndex
                }), this.helper.appendTo("body").disableSelection()) : this.helper = this.element
            },
            _change: {
                e: function(n, t) {
                    return {
                        width: this.originalSize.width + t
                    }
                },
                w: function(n, t) {
                    var i = this.originalSize,
                        r = this.originalPosition;
                    return {
                        left: r.left + t,
                        width: i.width - t
                    }
                },
                n: function(n, t, i) {
                    var r = this.originalSize,
                        u = this.originalPosition;
                    return {
                        top: u.top + i,
                        height: r.height - i
                    }
                },
                s: function(n, t, i) {
                    return {
                        height: this.originalSize.height + i
                    }
                },
                se: function(t, i, r) {
                    return n.extend(this._change.s.apply(this, arguments), this._change.e.apply(this, [t, i, r]))
                },
                sw: function(t, i, r) {
                    return n.extend(this._change.s.apply(this, arguments), this._change.w.apply(this, [t, i, r]))
                },
                ne: function(t, i, r) {
                    return n.extend(this._change.n.apply(this, arguments), this._change.e.apply(this, [t, i, r]))
                },
                nw: function(t, i, r) {
                    return n.extend(this._change.n.apply(this, arguments), this._change.w.apply(this, [t, i, r]))
                }
            },
            _propagate: function(t, i) {
                n.ui.plugin.call(this, t, [i, this.ui()]);
                "resize" !== t && this._trigger(t, i, this.ui())
            },
            plugins: {},
            ui: function() {
                return {
                    originalElement: this.originalElement,
                    element: this.element,
                    helper: this.helper,
                    position: this.position,
                    size: this.size,
                    originalSize: this.originalSize,
                    originalPosition: this.originalPosition
                }
            }
        });
        n.ui.plugin.add("resizable", "animate", {
            stop: function(t) {
                var i = n(this).resizable("instance"),
                    u = i.options,
                    r = i._proportionallyResizeElements,
                    f = r.length && /textarea/i.test(r[0].nodeName),
                    s = f && i._hasScroll(r[0], "left") ? 0 : i.sizeDiff.height,
                    h = f ? 0 : i.sizeDiff.width,
                    c = {
                        width: i.size.width - h,
                        height: i.size.height - s
                    },
                    e = parseInt(i.element.css("left"), 10) + (i.position.left - i.originalPosition.left) || null,
                    o = parseInt(i.element.css("top"), 10) + (i.position.top - i.originalPosition.top) || null;
                i.element.animate(n.extend(c, o && e ? {
                    top: o,
                    left: e
                } : {}), {
                    duration: u.animateDuration,
                    easing: u.animateEasing,
                    step: function() {
                        var u = {
                            width: parseInt(i.element.css("width"), 10),
                            height: parseInt(i.element.css("height"), 10),
                            top: parseInt(i.element.css("top"), 10),
                            left: parseInt(i.element.css("left"), 10)
                        };
                        r && r.length && n(r[0]).css({
                            width: u.width,
                            height: u.height
                        });
                        i._updateCache(u);
                        i._propagate("resize", t)
                    }
                })
            }
        });
        n.ui.plugin.add("resizable", "containment", {
            start: function() {
                var r, f, e, o, s, h, c, t = n(this).resizable("instance"),
                    l = t.options,
                    a = t.element,
                    u = l.containment,
                    i = u instanceof n ? u.get(0) : /parent/.test(u) ? a.parent().get(0) : u;
                i && (t.containerElement = n(i), /document/.test(u) || u === document ? (t.containerOffset = {
                    left: 0,
                    top: 0
                }, t.containerPosition = {
                    left: 0,
                    top: 0
                }, t.parentData = {
                    element: n(document),
                    left: 0,
                    top: 0,
                    width: n(document).width(),
                    height: n(document).height() || document.body.parentNode.scrollHeight
                }) : (r = n(i), f = [], n(["Top", "Right", "Left", "Bottom"]).each(function(n, i) {
                    f[n] = t._num(r.css("padding" + i))
                }), t.containerOffset = r.offset(), t.containerPosition = r.position(), t.containerSize = {
                    height: r.innerHeight() - f[3],
                    width: r.innerWidth() - f[1]
                }, e = t.containerOffset, o = t.containerSize.height, s = t.containerSize.width, h = t._hasScroll(i, "left") ? i.scrollWidth : s, c = t._hasScroll(i) ? i.scrollHeight : o, t.parentData = {
                    element: i,
                    left: e.left,
                    top: e.top,
                    width: h,
                    height: c
                }))
            },
            resize: function(t) {
                var o, s, h, c, i = n(this).resizable("instance"),
                    v = i.options,
                    r = i.containerOffset,
                    l = i.position,
                    f = i._aspectRatio || t.shiftKey,
                    e = {
                        top: 0,
                        left: 0
                    },
                    a = i.containerElement,
                    u = !0;
                a[0] !== document && /static/.test(a.css("position")) && (e = r);
                l.left < (i._helper ? r.left : 0) && (i.size.width = i.size.width + (i._helper ? i.position.left - r.left : i.position.left - e.left), f && (i.size.height = i.size.width / i.aspectRatio, u = !1), i.position.left = v.helper ? r.left : 0);
                l.top < (i._helper ? r.top : 0) && (i.size.height = i.size.height + (i._helper ? i.position.top - r.top : i.position.top), f && (i.size.width = i.size.height * i.aspectRatio, u = !1), i.position.top = i._helper ? r.top : 0);
                h = i.containerElement.get(0) === i.element.parent().get(0);
                c = /relative|absolute/.test(i.containerElement.css("position"));
                h && c ? (i.offset.left = i.parentData.left + i.position.left, i.offset.top = i.parentData.top + i.position.top) : (i.offset.left = i.element.offset().left, i.offset.top = i.element.offset().top);
                o = Math.abs(i.sizeDiff.width + (i._helper ? i.offset.left - e.left : i.offset.left - r.left));
                s = Math.abs(i.sizeDiff.height + (i._helper ? i.offset.top - e.top : i.offset.top - r.top));
                o + i.size.width >= i.parentData.width && (i.size.width = i.parentData.width - o, f && (i.size.height = i.size.width / i.aspectRatio, u = !1));
                s + i.size.height >= i.parentData.height && (i.size.height = i.parentData.height - s, f && (i.size.width = i.size.height * i.aspectRatio, u = !1));
                u || (i.position.left = i.prevPosition.left, i.position.top = i.prevPosition.top, i.size.width = i.prevSize.width, i.size.height = i.prevSize.height)
            },
            stop: function() {
                var t = n(this).resizable("instance"),
                    r = t.options,
                    u = t.containerOffset,
                    f = t.containerPosition,
                    e = t.containerElement,
                    i = n(t.helper),
                    o = i.offset(),
                    s = i.outerWidth() - t.sizeDiff.width,
                    h = i.outerHeight() - t.sizeDiff.height;
                t._helper && !r.animate && /relative/.test(e.css("position")) && n(this).css({
                    left: o.left - f.left - u.left,
                    width: s,
                    height: h
                });
                t._helper && !r.animate && /static/.test(e.css("position")) && n(this).css({
                    left: o.left - f.left - u.left,
                    width: s,
                    height: h
                })
            }
        });
        n.ui.plugin.add("resizable", "alsoResize", {
            start: function() {
                var r = n(this).resizable("instance"),
                    t = r.options,
                    i = function(t) {
                        n(t).each(function() {
                            var t = n(this);
                            t.data("ui-resizable-alsoresize", {
                                width: parseInt(t.width(), 10),
                                height: parseInt(t.height(), 10),
                                left: parseInt(t.css("left"), 10),
                                top: parseInt(t.css("top"), 10)
                            })
                        })
                    };
                "object" != typeof t.alsoResize || t.alsoResize.parentNode ? i(t.alsoResize) : t.alsoResize.length ? (t.alsoResize = t.alsoResize[0], i(t.alsoResize)) : n.each(t.alsoResize, function(n) {
                    i(n)
                })
            },
            resize: function(t, i) {
                var r = n(this).resizable("instance"),
                    u = r.options,
                    f = r.originalSize,
                    e = r.originalPosition,
                    s = {
                        height: r.size.height - f.height || 0,
                        width: r.size.width - f.width || 0,
                        top: r.position.top - e.top || 0,
                        left: r.position.left - e.left || 0
                    },
                    o = function(t, r) {
                        n(t).each(function() {
                            var t = n(this),
                                f = n(this).data("ui-resizable-alsoresize"),
                                u = {},
                                e = r && r.length ? r : t.parents(i.originalElement[0]).length ? ["width", "height"] : ["width", "height", "top", "left"];
                            n.each(e, function(n, t) {
                                var i = (f[t] || 0) + (s[t] || 0);
                                i && i >= 0 && (u[t] = i || null)
                            });
                            t.css(u)
                        })
                    };
                "object" != typeof u.alsoResize || u.alsoResize.nodeType ? o(u.alsoResize) : n.each(u.alsoResize, function(n, t) {
                    o(n, t)
                })
            },
            stop: function() {
                n(this).removeData("resizable-alsoresize")
            }
        });
        n.ui.plugin.add("resizable", "ghost", {
            start: function() {
                var t = n(this).resizable("instance"),
                    i = t.options,
                    r = t.size;
                t.ghost = t.originalElement.clone();
                t.ghost.css({
                    opacity: .25,
                    display: "block",
                    position: "relative",
                    height: r.height,
                    width: r.width,
                    margin: 0,
                    left: 0,
                    top: 0
                }).addClass("ui-resizable-ghost").addClass("string" == typeof i.ghost ? i.ghost : "");
                t.ghost.appendTo(t.helper)
            },
            resize: function() {
                var t = n(this).resizable("instance");
                t.ghost && t.ghost.css({
                    position: "relative",
                    height: t.size.height,
                    width: t.size.width
                })
            },
            stop: function() {
                var t = n(this).resizable("instance");
                t.ghost && t.helper && t.helper.get(0).removeChild(t.ghost.get(0))
            }
        });
        n.ui.plugin.add("resizable", "grid", {
            resize: function() {
                var h, t = n(this).resizable("instance"),
                    i = t.options,
                    y = t.size,
                    e = t.originalSize,
                    o = t.originalPosition,
                    c = t.axis,
                    l = "number" == typeof i.grid ? [i.grid, i.grid] : i.grid,
                    s = l[0] || 1,
                    f = l[1] || 1,
                    a = Math.round((y.width - e.width) / s) * s,
                    v = Math.round((y.height - e.height) / f) * f,
                    r = e.width + a,
                    u = e.height + v,
                    p = i.maxWidth && r > i.maxWidth,
                    w = i.maxHeight && u > i.maxHeight,
                    b = i.minWidth && i.minWidth > r,
                    k = i.minHeight && i.minHeight > u;
                i.grid = l;
                b && (r += s);
                k && (u += f);
                p && (r -= s);
                w && (u -= f);
                /^(se|s|e)$/.test(c) ? (t.size.width = r, t.size.height = u) : /^(ne)$/.test(c) ? (t.size.width = r, t.size.height = u, t.position.top = o.top - v) : /^(sw)$/.test(c) ? (t.size.width = r, t.size.height = u, t.position.left = o.left - a) : ((0 >= u - f || 0 >= r - s) && (h = t._getPaddingPlusBorderDimensions(this)), u - f > 0 ? (t.size.height = u, t.position.top = o.top - v) : (u = f - h.height, t.size.height = u, t.position.top = o.top + e.height - u), r - s > 0 ? (t.size.width = r, t.position.left = o.left - a) : (r = f - h.height, t.size.width = r, t.position.left = o.left + e.width - r))
            }
        });
        n.ui.resizable;
        n.widget("ui.dialog", {
            version: "1.11.1",
            options: {
                appendTo: "body",
                autoOpen: !0,
                buttons: [],
                closeOnEscape: !0,
                closeText: "Close",
                dialogClass: "",
                draggable: !0,
                hide: null,
                height: "auto",
                maxHeight: null,
                maxWidth: null,
                minHeight: 150,
                minWidth: 150,
                modal: !1,
                position: {
                    my: "center",
                    at: "center",
                    of: window,
                    collision: "fit",
                    using: function(t) {
                        var i = n(this).css(t).offset().top;
                        0 > i && n(this).css("top", t.top - i)
                    }
                },
                resizable: !0,
                show: null,
                title: null,
                width: 300,
                beforeClose: null,
                close: null,
                drag: null,
                dragStart: null,
                dragStop: null,
                focus: null,
                open: null,
                resize: null,
                resizeStart: null,
                resizeStop: null
            },
            sizeRelatedOptions: {
                buttons: !0,
                height: !0,
                maxHeight: !0,
                maxWidth: !0,
                minHeight: !0,
                minWidth: !0,
                width: !0
            },
            resizableRelatedOptions: {
                maxHeight: !0,
                maxWidth: !0,
                minHeight: !0,
                minWidth: !0
            },
            _create: function() {
                this.originalCss = {
                    display: this.element[0].style.display,
                    width: this.element[0].style.width,
                    minHeight: this.element[0].style.minHeight,
                    maxHeight: this.element[0].style.maxHeight,
                    height: this.element[0].style.height
                };
                this.originalPosition = {
                    parent: this.element.parent(),
                    index: this.element.parent().children().index(this.element)
                };
                this.originalTitle = this.element.attr("title");
                this.options.title = this.options.title || this.originalTitle;
                this._createWrapper();
                this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);
                this._createTitlebar();
                this._createButtonPane();
                this.options.draggable && n.fn.draggable && this._makeDraggable();
                this.options.resizable && n.fn.resizable && this._makeResizable();
                this._isOpen = !1;
                this._trackFocus()
            },
            _init: function() {
                this.options.autoOpen && this.open()
            },
            _appendTo: function() {
                var t = this.options.appendTo;
                return t && (t.jquery || t.nodeType) ? n(t) : this.document.find(t || "body").eq(0)
            },
            _destroy: function() {
                var n, t = this.originalPosition;
                this._destroyOverlay();
                this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();
                this.uiDialog.stop(!0, !0).remove();
                this.originalTitle && this.element.attr("title", this.originalTitle);
                n = t.parent.children().eq(t.index);
                n.length && n[0] !== this.element[0] ? n.before(this.element) : t.parent.append(this.element)
            },
            widget: function() {
                return this.uiDialog
            },
            disable: n.noop,
            enable: n.noop,
            close: function(t) {
                var i, r = this;
                if (this._isOpen && this._trigger("beforeClose", t) !== !1) {
                    if (this._isOpen = !1, this._focusedElement = null, this._destroyOverlay(), this._untrackInstance(), !this.opener.filter(":focusable").focus().length) try {
                        i = this.document[0].activeElement;
                        i && "body" !== i.nodeName.toLowerCase() && n(i).blur()
                    } catch (u) {}
                    this._hide(this.uiDialog, this.options.hide, function() {
                        r._trigger("close", t)
                    })
                }
            },
            isOpen: function() {
                return this._isOpen
            },
            moveToTop: function() {
                this._moveToTop()
            },
            _moveToTop: function(t, i) {
                var r = !1,
                    f = this.uiDialog.siblings(".ui-front:visible").map(function() {
                        return +n(this).css("z-index")
                    }).get(),
                    u = Math.max.apply(null, f);
                return u >= +this.uiDialog.css("z-index") && (this.uiDialog.css("z-index", u + 1), r = !0), r && !i && this._trigger("focus", t), r
            },
            open: function() {
                var t = this;
                return this._isOpen ? (this._moveToTop() && this._focusTabbable(), void 0) : (this._isOpen = !0, this.opener = n(this.document[0].activeElement), this._size(), this._position(), this._createOverlay(), this._moveToTop(null, !0), this.overlay && this.overlay.css("z-index", this.uiDialog.css("z-index") - 1), this._show(this.uiDialog, this.options.show, function() {
                    t._focusTabbable();
                    t._trigger("focus")
                }), this._makeFocusTarget(), this._trigger("open"), void 0)
            },
            _focusTabbable: function() {
                var n = this._focusedElement;
                n || (n = this.element.find("[autofocus]"));
                n.length || (n = this.element.find(":tabbable"));
                n.length || (n = this.uiDialogButtonPane.find(":tabbable"));
                n.length || (n = this.uiDialogTitlebarClose.filter(":tabbable"));
                n.length || (n = this.uiDialog);
                n.eq(0).focus()
            },
            _keepFocus: function(t) {
                function i() {
                    var t = this.document[0].activeElement,
                        i = this.uiDialog[0] === t || n.contains(this.uiDialog[0], t);
                    i || this._focusTabbable()
                }
                t.preventDefault();
                i.call(this);
                this._delay(i)
            },
            _createWrapper: function() {
                this.uiDialog = n("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front " + this.options.dialogClass).hide().attr({
                    tabIndex: -1,
                    role: "dialog"
                }).appendTo(this._appendTo());
                this._on(this.uiDialog, {
                    keydown: function(t) {
                        if (this.options.closeOnEscape && !t.isDefaultPrevented() && t.keyCode && t.keyCode === n.ui.keyCode.ESCAPE) return t.preventDefault(), this.close(t), void 0;
                        if (t.keyCode === n.ui.keyCode.TAB && !t.isDefaultPrevented()) {
                            var i = this.uiDialog.find(":tabbable"),
                                r = i.filter(":first"),
                                u = i.filter(":last");
                            t.target !== u[0] && t.target !== this.uiDialog[0] || t.shiftKey ? t.target !== r[0] && t.target !== this.uiDialog[0] || !t.shiftKey || (this._delay(function() {
                                u.focus()
                            }), t.preventDefault()) : (this._delay(function() {
                                r.focus()
                            }), t.preventDefault())
                        }
                    },
                    mousedown: function(n) {
                        this._moveToTop(n) && this._focusTabbable()
                    }
                });
                this.element.find("[aria-describedby]").length || this.uiDialog.attr({
                    "aria-describedby": this.element.uniqueId().attr("id")
                })
            },
            _createTitlebar: function() {
                var t;
                this.uiDialogTitlebar = n("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);
                this._on(this.uiDialogTitlebar, {
                    mousedown: function(t) {
                        n(t.target).closest(".ui-dialog-titlebar-close") || this.uiDialog.focus()
                    }
                });
                this.uiDialogTitlebarClose = n("<button type='button'><\/button>").button({
                    label: this.options.closeText,
                    icons: {
                        primary: "ui-icon-closethick"
                    },
                    text: !1
                }).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);
                this._on(this.uiDialogTitlebarClose, {
                    click: function(n) {
                        n.preventDefault();
                        this.close(n)
                    }
                });
                t = n("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);
                this._title(t);
                this.uiDialog.attr({
                    "aria-labelledby": t.attr("id")
                })
            },
            _title: function(n) {
                this.options.title || n.html("&#160;");
                n.text(this.options.title)
            },
            _createButtonPane: function() {
                this.uiDialogButtonPane = n("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");
                this.uiButtonSet = n("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);
                this._createButtons()
            },
            _createButtons: function() {
                var i = this,
                    t = this.options.buttons;
                return this.uiDialogButtonPane.remove(), this.uiButtonSet.empty(), n.isEmptyObject(t) || n.isArray(t) && !t.length ? (this.uiDialog.removeClass("ui-dialog-buttons"), void 0) : (n.each(t, function(t, r) {
                    var u, f;
                    r = n.isFunction(r) ? {
                        click: r,
                        text: t
                    } : r;
                    r = n.extend({
                        type: "button"
                    }, r);
                    u = r.click;
                    r.click = function() {
                        u.apply(i.element[0], arguments)
                    };
                    f = {
                        icons: r.icons,
                        text: r.showText
                    };
                    delete r.icons;
                    delete r.showText;
                    n("<button><\/button>", r).button(f).appendTo(i.uiButtonSet)
                }), this.uiDialog.addClass("ui-dialog-buttons"), this.uiDialogButtonPane.appendTo(this.uiDialog), void 0)
            },
            _makeDraggable: function() {
                function i(n) {
                    return {
                        position: n.position,
                        offset: n.offset
                    }
                }
                var t = this,
                    r = this.options;
                this.uiDialog.draggable({
                    cancel: ".ui-dialog-content, .ui-dialog-titlebar-close",
                    handle: ".ui-dialog-titlebar",
                    containment: "document",
                    start: function(r, u) {
                        n(this).addClass("ui-dialog-dragging");
                        t._blockFrames();
                        t._trigger("dragStart", r, i(u))
                    },
                    drag: function(n, r) {
                        t._trigger("drag", n, i(r))
                    },
                    stop: function(u, f) {
                        var e = f.offset.left - t.document.scrollLeft(),
                            o = f.offset.top - t.document.scrollTop();
                        r.position = {
                            my: "left top",
                            at: "left" + (e >= 0 ? "+" : "") + e + " top" + (o >= 0 ? "+" : "") + o,
                            of: t.window
                        };
                        n(this).removeClass("ui-dialog-dragging");
                        t._unblockFrames();
                        t._trigger("dragStop", u, i(f))
                    }
                })
            },
            _makeResizable: function() {
                function r(n) {
                    return {
                        originalPosition: n.originalPosition,
                        originalSize: n.originalSize,
                        position: n.position,
                        size: n.size
                    }
                }
                var t = this,
                    i = this.options,
                    u = i.resizable,
                    f = this.uiDialog.css("position"),
                    e = "string" == typeof u ? u : "n,e,s,w,se,sw,ne,nw";
                this.uiDialog.resizable({
                    cancel: ".ui-dialog-content",
                    containment: "document",
                    alsoResize: this.element,
                    maxWidth: i.maxWidth,
                    maxHeight: i.maxHeight,
                    minWidth: i.minWidth,
                    minHeight: this._minHeight(),
                    handles: e,
                    start: function(i, u) {
                        n(this).addClass("ui-dialog-resizing");
                        t._blockFrames();
                        t._trigger("resizeStart", i, r(u))
                    },
                    resize: function(n, i) {
                        t._trigger("resize", n, r(i))
                    },
                    stop: function(u, f) {
                        var e = t.uiDialog.offset(),
                            o = e.left - t.document.scrollLeft(),
                            s = e.top - t.document.scrollTop();
                        i.height = t.uiDialog.height();
                        i.width = t.uiDialog.width();
                        i.position = {
                            my: "left top",
                            at: "left" + (o >= 0 ? "+" : "") + o + " top" + (s >= 0 ? "+" : "") + s,
                            of: t.window
                        };
                        n(this).removeClass("ui-dialog-resizing");
                        t._unblockFrames();
                        t._trigger("resizeStop", u, r(f))
                    }
                }).css("position", f)
            },
            _trackFocus: function() {
                this._on(this.widget(), {
                    focusin: function(t) {
                        this._makeFocusTarget();
                        this._focusedElement = n(t.target)
                    }
                })
            },
            _makeFocusTarget: function() {
                this._untrackInstance();
                this._trackingInstances().unshift(this)
            },
            _untrackInstance: function() {
                var t = this._trackingInstances(),
                    i = n.inArray(this, t); - 1 !== i && t.splice(i, 1)
            },
            _trackingInstances: function() {
                var n = this.document.data("ui-dialog-instances");
                return n || (n = [], this.document.data("ui-dialog-instances", n)), n
            },
            _minHeight: function() {
                var n = this.options;
                return "auto" === n.height ? n.minHeight : Math.min(n.minHeight, n.height)
            },
            _position: function() {
                var n = this.uiDialog.is(":visible");
                n || this.uiDialog.show();
                this.uiDialog.position(this.options.position);
                n || this.uiDialog.hide()
            },
            _setOptions: function(t) {
                var i = this,
                    r = !1,
                    u = {};
                n.each(t, function(n, t) {
                    i._setOption(n, t);
                    n in i.sizeRelatedOptions && (r = !0);
                    n in i.resizableRelatedOptions && (u[n] = t)
                });
                r && (this._size(), this._position());
                this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", u)
            },
            _setOption: function(n, t) {
                var u, r, i = this.uiDialog;
                "dialogClass" === n && i.removeClass(this.options.dialogClass).addClass(t);
                "disabled" !== n && (this._super(n, t), "appendTo" === n && this.uiDialog.appendTo(this._appendTo()), "buttons" === n && this._createButtons(), "closeText" === n && this.uiDialogTitlebarClose.button({
                    label: "" + t
                }), "draggable" === n && (u = i.is(":data(ui-draggable)"), u && !t && i.draggable("destroy"), !u && t && this._makeDraggable()), "position" === n && this._position(), "resizable" === n && (r = i.is(":data(ui-resizable)"), r && !t && i.resizable("destroy"), r && "string" == typeof t && i.resizable("option", "handles", t), r || t === !1 || this._makeResizable()), "title" === n && this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))
            },
            _size: function() {
                var t, i, r, n = this.options;
                this.element.show().css({
                    width: "auto",
                    minHeight: 0,
                    maxHeight: "none",
                    height: 0
                });
                n.minWidth > n.width && (n.width = n.minWidth);
                t = this.uiDialog.css({
                    height: "auto",
                    width: n.width
                }).outerHeight();
                i = Math.max(0, n.minHeight - t);
                r = "number" == typeof n.maxHeight ? Math.max(0, n.maxHeight - t) : "none";
                "auto" === n.height ? this.element.css({
                    minHeight: i,
                    maxHeight: r,
                    height: "auto"
                }) : this.element.height(Math.max(0, n.height - t));
                this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", "minHeight", this._minHeight())
            },
            _blockFrames: function() {
                this.iframeBlocks = this.document.find("iframe").map(function() {
                    var t = n(this);
                    return n("<div>").css({
                        position: "absolute",
                        width: t.outerWidth(),
                        height: t.outerHeight()
                    }).appendTo(t.parent()).offset(t.offset())[0]
                })
            },
            _unblockFrames: function() {
                this.iframeBlocks && (this.iframeBlocks.remove(), delete this.iframeBlocks)
            },
            _allowInteraction: function(t) {
                return n(t.target).closest(".ui-dialog").length ? !0 : !!n(t.target).closest(".ui-datepicker").length
            },
            _createOverlay: function() {
                if (this.options.modal) {
                    var t = !0;
                    this._delay(function() {
                        t = !1
                    });
                    this.document.data("ui-dialog-overlays") || this._on(this.document, {
                        focusin: function(n) {
                            t || this._allowInteraction(n) || (n.preventDefault(), this._trackingInstances()[0]._focusTabbable())
                        }
                    });
                    this.overlay = n("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());
                    this._on(this.overlay, {
                        mousedown: "_keepFocus"
                    });
                    this.document.data("ui-dialog-overlays", (this.document.data("ui-dialog-overlays") || 0) + 1)
                }
            },
            _destroyOverlay: function() {
                if (this.options.modal && this.overlay) {
                    var n = this.document.data("ui-dialog-overlays") - 1;
                    n ? this.document.data("ui-dialog-overlays", n) : this.document.unbind("focusin").removeData("ui-dialog-overlays");
                    this.overlay.remove();
                    this.overlay = null
                }
            }
        });
        n.widget("ui.droppable", {
            version: "1.11.1",
            widgetEventPrefix: "drop",
            options: {
                accept: "*",
                activeClass: !1,
                addClasses: !0,
                greedy: !1,
                hoverClass: !1,
                scope: "default",
                tolerance: "intersect",
                activate: null,
                deactivate: null,
                drop: null,
                out: null,
                over: null
            },
            _create: function() {
                var t, i = this.options,
                    r = i.accept;
                this.isover = !1;
                this.isout = !0;
                this.accept = n.isFunction(r) ? r : function(n) {
                    return n.is(r)
                };
                this.proportions = function() {
                    return arguments.length ? (t = arguments[0], void 0) : t ? t : t = {
                        width: this.element[0].offsetWidth,
                        height: this.element[0].offsetHeight
                    }
                };
                this._addToManager(i.scope);
                i.addClasses && this.element.addClass("ui-droppable")
            },
            _addToManager: function(t) {
                n.ui.ddmanager.droppables[t] = n.ui.ddmanager.droppables[t] || [];
                n.ui.ddmanager.droppables[t].push(this)
            },
            _splice: function(n) {
                for (var t = 0; n.length > t; t++) n[t] === this && n.splice(t, 1)
            },
            _destroy: function() {
                var t = n.ui.ddmanager.droppables[this.options.scope];
                this._splice(t);
                this.element.removeClass("ui-droppable ui-droppable-disabled")
            },
            _setOption: function(t, i) {
                if ("accept" === t) this.accept = n.isFunction(i) ? i : function(n) {
                    return n.is(i)
                };
                else if ("scope" === t) {
                    var r = n.ui.ddmanager.droppables[this.options.scope];
                    this._splice(r);
                    this._addToManager(i)
                }
                this._super(t, i)
            },
            _activate: function(t) {
                var i = n.ui.ddmanager.current;
                this.options.activeClass && this.element.addClass(this.options.activeClass);
                i && this._trigger("activate", t, this.ui(i))
            },
            _deactivate: function(t) {
                var i = n.ui.ddmanager.current;
                this.options.activeClass && this.element.removeClass(this.options.activeClass);
                i && this._trigger("deactivate", t, this.ui(i))
            },
            _over: function(t) {
                var i = n.ui.ddmanager.current;
                i && (i.currentItem || i.element)[0] !== this.element[0] && this.accept.call(this.element[0], i.currentItem || i.element) && (this.options.hoverClass && this.element.addClass(this.options.hoverClass), this._trigger("over", t, this.ui(i)))
            },
            _out: function(t) {
                var i = n.ui.ddmanager.current;
                i && (i.currentItem || i.element)[0] !== this.element[0] && this.accept.call(this.element[0], i.currentItem || i.element) && (this.options.hoverClass && this.element.removeClass(this.options.hoverClass), this._trigger("out", t, this.ui(i)))
            },
            _drop: function(t, i) {
                var r = i || n.ui.ddmanager.current,
                    u = !1;
                return r && (r.currentItem || r.element)[0] !== this.element[0] ? (this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function() {
                    var i = n(this).droppable("instance");
                    if (i.options.greedy && !i.options.disabled && i.options.scope === r.options.scope && i.accept.call(i.element[0], r.currentItem || r.element) && n.ui.intersect(r, n.extend(i, {
                            offset: i.element.offset()
                        }), i.options.tolerance, t)) return u = !0, !1
                }), u ? !1 : this.accept.call(this.element[0], r.currentItem || r.element) ? (this.options.activeClass && this.element.removeClass(this.options.activeClass), this.options.hoverClass && this.element.removeClass(this.options.hoverClass), this._trigger("drop", t, this.ui(r)), this.element) : !1) : !1
            },
            ui: function(n) {
                return {
                    draggable: n.currentItem || n.element,
                    helper: n.helper,
                    position: n.position,
                    offset: n.positionAbs
                }
            }
        });
        n.ui.intersect = function() {
            function n(n, t, i) {
                return n >= t && t + i > n
            }
            return function(t, i, r, u) {
                if (!i.offset) return !1;
                var o = (t.positionAbs || t.position.absolute).left,
                    s = (t.positionAbs || t.position.absolute).top,
                    h = o + t.helperProportions.width,
                    c = s + t.helperProportions.height,
                    f = i.offset.left,
                    e = i.offset.top,
                    l = f + i.proportions().width,
                    a = e + i.proportions().height;
                switch (r) {
                    case "fit":
                        return o >= f && l >= h && s >= e && a >= c;
                    case "intersect":
                        return o + t.helperProportions.width / 2 > f && l > h - t.helperProportions.width / 2 && s + t.helperProportions.height / 2 > e && a > c - t.helperProportions.height / 2;
                    case "pointer":
                        return n(u.pageY, e, i.proportions().height) && n(u.pageX, f, i.proportions().width);
                    case "touch":
                        return (s >= e && a >= s || c >= e && a >= c || e > s && c > a) && (o >= f && l >= o || h >= f && l >= h || f > o && h > l);
                    default:
                        return !1
                }
            }
        }();
        n.ui.ddmanager = {
            current: null,
            droppables: {
                "default": []
            },
            prepareOffsets: function(t, i) {
                var r, f, u = n.ui.ddmanager.droppables[t.options.scope] || [],
                    o = i ? i.type : null,
                    e = (t.currentItem || t.element).find(":data(ui-droppable)").addBack();
                n: for (r = 0; u.length > r; r++)
                    if (!(u[r].options.disabled || t && !u[r].accept.call(u[r].element[0], t.currentItem || t.element))) {
                        for (f = 0; e.length > f; f++)
                            if (e[f] === u[r].element[0]) {
                                u[r].proportions().height = 0;
                                continue n
                            }
                        u[r].visible = "none" !== u[r].element.css("display");
                        u[r].visible && ("mousedown" === o && u[r]._activate.call(u[r], i), u[r].offset = u[r].element.offset(), u[r].proportions({
                            width: u[r].element[0].offsetWidth,
                            height: u[r].element[0].offsetHeight
                        }))
                    }
            },
            drop: function(t, i) {
                var r = !1;
                return n.each((n.ui.ddmanager.droppables[t.options.scope] || []).slice(), function() {
                    this.options && (!this.options.disabled && this.visible && n.ui.intersect(t, this, this.options.tolerance, i) && (r = this._drop.call(this, i) || r), !this.options.disabled && this.visible && this.accept.call(this.element[0], t.currentItem || t.element) && (this.isout = !0, this.isover = !1, this._deactivate.call(this, i)))
                }), r
            },
            dragStart: function(t, i) {
                t.element.parentsUntil("body").bind("scroll.droppable", function() {
                    t.options.refreshPositions || n.ui.ddmanager.prepareOffsets(t, i)
                })
            },
            drag: function(t, i) {
                t.options.refreshPositions && n.ui.ddmanager.prepareOffsets(t, i);
                n.each(n.ui.ddmanager.droppables[t.options.scope] || [], function() {
                    if (!this.options.disabled && !this.greedyChild && this.visible) {
                        var r, e, f, o = n.ui.intersect(t, this, this.options.tolerance, i),
                            u = !o && this.isover ? "isout" : o && !this.isover ? "isover" : null;
                        u && (this.options.greedy && (e = this.options.scope, f = this.element.parents(":data(ui-droppable)").filter(function() {
                            return n(this).droppable("instance").options.scope === e
                        }), f.length && (r = n(f[0]).droppable("instance"), r.greedyChild = "isover" === u)), r && "isover" === u && (r.isover = !1, r.isout = !0, r._out.call(r, i)), this[u] = !0, this["isout" === u ? "isover" : "isout"] = !1, this["isover" === u ? "_over" : "_out"].call(this, i), r && "isout" === u && (r.isout = !1, r.isover = !0, r._over.call(r, i)))
                    }
                })
            },
            dragStop: function(t, i) {
                t.element.parentsUntil("body").unbind("scroll.droppable");
                t.options.refreshPositions || n.ui.ddmanager.prepareOffsets(t, i)
            }
        };
        n.ui.droppable;
        e = "ui-effects-";
        o = n;
        n.effects = {
                effect: {}
            },
            function(n, t) {
                function f(n, t, i) {
                    var r = h[t.type] || {};
                    return null == n ? i || !t.def ? null : t.def : (n = r.floor ? ~~n : parseFloat(n), isNaN(n) ? t.def : r.mod ? (n + r.mod) % r.mod : 0 > n ? 0 : n > r.max ? r.max : n)
                }

                function s(f) {
                    var o = i(),
                        s = o._rgba = [];
                    return f = f.toLowerCase(), r(v, function(n, i) {
                        var r, h = i.re.exec(f),
                            c = h && i.parse(h),
                            e = i.space || "rgba";
                        return c ? (r = o[e](c), o[u[e].cache] = r[u[e].cache], s = o._rgba = r._rgba, !1) : t
                    }), s.length ? ("0,0,0,0" === s.join() && n.extend(s, e.transparent), o) : e[f]
                }

                function o(n, t, i) {
                    return i = (i + 1) % 1, 1 > 6 * i ? n + 6 * (t - n) * i : 1 > 2 * i ? t : 2 > 3 * i ? n + 6 * (t - n) * (2 / 3 - i) : n
                }
                var e, a = /^([\-+])=\s*(\d+\.?\d*)/,
                    v = [{
                        re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                        parse: function(n) {
                            return [n[1], n[2], n[3], n[4]]
                        }
                    }, {
                        re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                        parse: function(n) {
                            return [2.55 * n[1], 2.55 * n[2], 2.55 * n[3], n[4]]
                        }
                    }, {
                        re: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,
                        parse: function(n) {
                            return [parseInt(n[1], 16), parseInt(n[2], 16), parseInt(n[3], 16)]
                        }
                    }, {
                        re: /#([a-f0-9])([a-f0-9])([a-f0-9])/,
                        parse: function(n) {
                            return [parseInt(n[1] + n[1], 16), parseInt(n[2] + n[2], 16), parseInt(n[3] + n[3], 16)]
                        }
                    }, {
                        re: /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                        space: "hsla",
                        parse: function(n) {
                            return [n[1], n[2] / 100, n[3] / 100, n[4]]
                        }
                    }],
                    i = n.Color = function(t, i, r, u) {
                        return new n.Color.fn.parse(t, i, r, u)
                    },
                    u = {
                        rgba: {
                            props: {
                                red: {
                                    idx: 0,
                                    type: "byte"
                                },
                                green: {
                                    idx: 1,
                                    type: "byte"
                                },
                                blue: {
                                    idx: 2,
                                    type: "byte"
                                }
                            }
                        },
                        hsla: {
                            props: {
                                hue: {
                                    idx: 0,
                                    type: "degrees"
                                },
                                saturation: {
                                    idx: 1,
                                    type: "percent"
                                },
                                lightness: {
                                    idx: 2,
                                    type: "percent"
                                }
                            }
                        }
                    },
                    h = {
                        byte: {
                            floor: !0,
                            max: 255
                        },
                        percent: {
                            max: 1
                        },
                        degrees: {
                            mod: 360,
                            floor: !0
                        }
                    },
                    c = i.support = {},
                    l = n("<p>")[0],
                    r = n.each;
                l.style.cssText = "background-color:rgba(1,1,1,.5)";
                c.rgba = l.style.backgroundColor.indexOf("rgba") > -1;
                r(u, function(n, t) {
                    t.cache = "_" + n;
                    t.props.alpha = {
                        idx: 3,
                        type: "percent",
                        def: 1
                    }
                });
                i.fn = n.extend(i.prototype, {
                    parse: function(o, h, c, l) {
                        if (o === t) return this._rgba = [null, null, null, null], this;
                        (o.jquery || o.nodeType) && (o = n(o).css(h), h = t);
                        var a = this,
                            v = n.type(o),
                            y = this._rgba = [];
                        return h !== t && (o = [o, h, c, l], v = "array"), "string" === v ? this.parse(s(o) || e._default) : "array" === v ? (r(u.rgba.props, function(n, t) {
                            y[t.idx] = f(o[t.idx], t)
                        }), this) : "object" === v ? (o instanceof i ? r(u, function(n, t) {
                            o[t.cache] && (a[t.cache] = o[t.cache].slice())
                        }) : r(u, function(t, i) {
                            var u = i.cache;
                            r(i.props, function(n, t) {
                                if (!a[u] && i.to) {
                                    if ("alpha" === n || null == o[n]) return;
                                    a[u] = i.to(a._rgba)
                                }
                                a[u][t.idx] = f(o[n], t, !0)
                            });
                            a[u] && 0 > n.inArray(null, a[u].slice(0, 3)) && (a[u][3] = 1, i.from && (a._rgba = i.from(a[u])))
                        }), this) : t
                    },
                    is: function(n) {
                        var o = i(n),
                            f = !0,
                            e = this;
                        return r(u, function(n, i) {
                            var s, u = o[i.cache];
                            return u && (s = e[i.cache] || i.to && i.to(e._rgba) || [], r(i.props, function(n, i) {
                                return null != u[i.idx] ? f = u[i.idx] === s[i.idx] : t
                            })), f
                        }), f
                    },
                    _space: function() {
                        var n = [],
                            t = this;
                        return r(u, function(i, r) {
                            t[r.cache] && n.push(i)
                        }), n.pop()
                    },
                    transition: function(n, t) {
                        var e = i(n),
                            c = e._space(),
                            o = u[c],
                            l = 0 === this.alpha() ? i("transparent") : this,
                            a = l[o.cache] || o.to(l._rgba),
                            s = a.slice();
                        return e = e[o.cache], r(o.props, function(n, i) {
                            var c = i.idx,
                                r = a[c],
                                u = e[c],
                                o = h[i.type] || {};
                            null !== u && (null === r ? s[c] = u : (o.mod && (u - r > o.mod / 2 ? r += o.mod : r - u > o.mod / 2 && (r -= o.mod)), s[c] = f((u - r) * t + r, i)))
                        }), this[c](s)
                    },
                    blend: function(t) {
                        if (1 === this._rgba[3]) return this;
                        var r = this._rgba.slice(),
                            u = r.pop(),
                            f = i(t)._rgba;
                        return i(n.map(r, function(n, t) {
                            return (1 - u) * f[t] + u * n
                        }))
                    },
                    toRgbaString: function() {
                        var i = "rgba(",
                            t = n.map(this._rgba, function(n, t) {
                                return null == n ? t > 2 ? 1 : 0 : n
                            });
                        return 1 === t[3] && (t.pop(), i = "rgb("), i + t.join() + ")"
                    },
                    toHslaString: function() {
                        var i = "hsla(",
                            t = n.map(this.hsla(), function(n, t) {
                                return null == n && (n = t > 2 ? 1 : 0), t && 3 > t && (n = Math.round(100 * n) + "%"), n
                            });
                        return 1 === t[3] && (t.pop(), i = "hsl("), i + t.join() + ")"
                    },
                    toHexString: function(t) {
                        var i = this._rgba.slice(),
                            r = i.pop();
                        return t && i.push(~~(255 * r)), "#" + n.map(i, function(n) {
                            return n = (n || 0).toString(16), 1 === n.length ? "0" + n : n
                        }).join("")
                    },
                    toString: function() {
                        return 0 === this._rgba[3] ? "transparent" : this.toRgbaString()
                    }
                });
                i.fn.parse.prototype = i.fn;
                u.hsla.to = function(n) {
                    if (null == n[0] || null == n[1] || null == n[2]) return [null, null, null, n[3]];
                    var s, h, i = n[0] / 255,
                        r = n[1] / 255,
                        f = n[2] / 255,
                        c = n[3],
                        u = Math.max(i, r, f),
                        e = Math.min(i, r, f),
                        t = u - e,
                        o = u + e,
                        l = .5 * o;
                    return s = e === u ? 0 : i === u ? 60 * (r - f) / t + 360 : r === u ? 60 * (f - i) / t + 120 : 60 * (i - r) / t + 240, h = 0 === t ? 0 : .5 >= l ? t / o : t / (2 - o), [Math.round(s) % 360, h, l, null == c ? 1 : c]
                };
                u.hsla.from = function(n) {
                    if (null == n[0] || null == n[1] || null == n[2]) return [null, null, null, n[3]];
                    var r = n[0] / 360,
                        u = n[1],
                        t = n[2],
                        e = n[3],
                        i = .5 >= t ? t * (1 + u) : t + u - t * u,
                        f = 2 * t - i;
                    return [Math.round(255 * o(f, i, r + 1 / 3)), Math.round(255 * o(f, i, r)), Math.round(255 * o(f, i, r - 1 / 3)), e]
                };
                r(u, function(u, e) {
                    var s = e.props,
                        o = e.cache,
                        h = e.to,
                        c = e.from;
                    i.fn[u] = function(u) {
                        if (h && !this[o] && (this[o] = h(this._rgba)), u === t) return this[o].slice();
                        var l, a = n.type(u),
                            v = "array" === a || "object" === a ? u : arguments,
                            e = this[o].slice();
                        return r(s, function(n, t) {
                            var i = v["object" === a ? n : t.idx];
                            null == i && (i = e[t.idx]);
                            e[t.idx] = f(i, t)
                        }), c ? (l = i(c(e)), l[o] = e, l) : i(e)
                    };
                    r(s, function(t, r) {
                        i.fn[t] || (i.fn[t] = function(i) {
                            var f, e = n.type(i),
                                h = "alpha" === t ? this._hsla ? "hsla" : "rgba" : u,
                                o = this[h](),
                                s = o[r.idx];
                            return "undefined" === e ? s : ("function" === e && (i = i.call(this, s), e = n.type(i)), null == i && r.empty ? this : ("string" === e && (f = a.exec(i), f && (i = s + parseFloat(f[2]) * ("+" === f[1] ? 1 : -1))), o[r.idx] = i, this[h](o)))
                        })
                    })
                });
                i.hook = function(t) {
                    var u = t.split(" ");
                    r(u, function(t, r) {
                        n.cssHooks[r] = {
                            set: function(t, u) {
                                var o, f, e = "";
                                if ("transparent" !== u && ("string" !== n.type(u) || (o = s(u)))) {
                                    if (u = i(o || u), !c.rgba && 1 !== u._rgba[3]) {
                                        for (f = "backgroundColor" === r ? t.parentNode : t;
                                            ("" === e || "transparent" === e) && f && f.style;) try {
                                            e = n.css(f, "backgroundColor");
                                            f = f.parentNode
                                        } catch (h) {}
                                        u = u.blend(e && "transparent" !== e ? e : "_default")
                                    }
                                    u = u.toRgbaString()
                                }
                                try {
                                    t.style[r] = u
                                } catch (h) {}
                            }
                        };
                        n.fx.step[r] = function(t) {
                            t.colorInit || (t.start = i(t.elem, r), t.end = i(t.end), t.colorInit = !0);
                            n.cssHooks[r].set(t.elem, t.start.transition(t.end, t.pos))
                        }
                    })
                };
                i.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");
                n.cssHooks.borderColor = {
                    expand: function(n) {
                        var t = {};
                        return r(["Top", "Right", "Bottom", "Left"], function(i, r) {
                            t["border" + r + "Color"] = n
                        }), t
                    }
                };
                e = n.Color.names = {
                    aqua: "#00ffff",
                    black: "#000000",
                    blue: "#0000ff",
                    fuchsia: "#ff00ff",
                    gray: "#808080",
                    green: "#008000",
                    lime: "#00ff00",
                    maroon: "#800000",
                    navy: "#000080",
                    olive: "#808000",
                    purple: "#800080",
                    red: "#ff0000",
                    silver: "#c0c0c0",
                    teal: "#008080",
                    white: "#ffffff",
                    yellow: "#ffff00",
                    transparent: [null, null, null, 0],
                    _default: "#ffffff"
                }
            }(o),
            function() {
                function t(t) {
                    var r, u, i = t.ownerDocument.defaultView ? t.ownerDocument.defaultView.getComputedStyle(t, null) : t.currentStyle,
                        f = {};
                    if (i && i.length && i[0] && i[i[0]])
                        for (u = i.length; u--;) r = i[u], "string" == typeof i[r] && (f[n.camelCase(r)] = i[r]);
                    else
                        for (r in i) "string" == typeof i[r] && (f[r] = i[r]);
                    return f
                }

                function i(t, i) {
                    var r, f, e = {};
                    for (r in i) f = i[r], t[r] !== f && (u[r] || (n.fx.step[r] || !isNaN(parseFloat(f))) && (e[r] = f));
                    return e
                }
                var r = ["add", "remove", "toggle"],
                    u = {
                        border: 1,
                        borderBottom: 1,
                        borderColor: 1,
                        borderLeft: 1,
                        borderRight: 1,
                        borderTop: 1,
                        borderWidth: 1,
                        margin: 1,
                        padding: 1
                    };
                n.each(["borderLeftStyle", "borderRightStyle", "borderBottomStyle", "borderTopStyle"], function(t, i) {
                    n.fx.step[i] = function(n) {
                        ("none" === n.end || n.setAttr) && (1 !== n.pos || n.setAttr) || (o.style(n.elem, i, n.end), n.setAttr = !0)
                    }
                });
                n.fn.addBack || (n.fn.addBack = function(n) {
                    return this.add(null == n ? this.prevObject : this.prevObject.filter(n))
                });
                n.effects.animateClass = function(u, f, e, o) {
                    var s = n.speed(f, e, o);
                    return this.queue(function() {
                        var o, e = n(this),
                            h = e.attr("class") || "",
                            f = s.children ? e.find("*").addBack() : e;
                        f = f.map(function() {
                            var i = n(this);
                            return {
                                el: i,
                                start: t(this)
                            }
                        });
                        o = function() {
                            n.each(r, function(n, t) {
                                u[t] && e[t + "Class"](u[t])
                            })
                        };
                        o();
                        f = f.map(function() {
                            return this.end = t(this.el[0]), this.diff = i(this.start, this.end), this
                        });
                        e.attr("class", h);
                        f = f.map(function() {
                            var i = this,
                                t = n.Deferred(),
                                r = n.extend({}, s, {
                                    queue: !1,
                                    complete: function() {
                                        t.resolve(i)
                                    }
                                });
                            return this.el.animate(this.diff, r), t.promise()
                        });
                        n.when.apply(n, f.get()).done(function() {
                            o();
                            n.each(arguments, function() {
                                var t = this.el;
                                n.each(this.diff, function(n) {
                                    t.css(n, "")
                                })
                            });
                            s.complete.call(e[0])
                        })
                    })
                };
                n.fn.extend({
                    addClass: function(t) {
                        return function(i, r, u, f) {
                            return r ? n.effects.animateClass.call(this, {
                                add: i
                            }, r, u, f) : t.apply(this, arguments)
                        }
                    }(n.fn.addClass),
                    removeClass: function(t) {
                        return function(i, r, u, f) {
                            return arguments.length > 1 ? n.effects.animateClass.call(this, {
                                remove: i
                            }, r, u, f) : t.apply(this, arguments)
                        }
                    }(n.fn.removeClass),
                    toggleClass: function(t) {
                        return function(i, r, u, f, e) {
                            return "boolean" == typeof r || void 0 === r ? u ? n.effects.animateClass.call(this, r ? {
                                add: i
                            } : {
                                remove: i
                            }, u, f, e) : t.apply(this, arguments) : n.effects.animateClass.call(this, {
                                toggle: i
                            }, r, u, f)
                        }
                    }(n.fn.toggleClass),
                    switchClass: function(t, i, r, u, f) {
                        return n.effects.animateClass.call(this, {
                            add: i,
                            remove: t
                        }, r, u, f)
                    }
                })
            }(),
            function() {
                function t(t, i, r, u) {
                    return n.isPlainObject(t) && (i = t, t = t.effect), t = {
                        effect: t
                    }, null == i && (i = {}), n.isFunction(i) && (u = i, r = null, i = {}), ("number" == typeof i || n.fx.speeds[i]) && (u = r, r = i, i = {}), n.isFunction(r) && (u = r, r = null), i && n.extend(t, i), r = r || i.duration, t.duration = n.fx.off ? 0 : "number" == typeof r ? r : r in n.fx.speeds ? n.fx.speeds[r] : n.fx.speeds._default, t.complete = u || i.complete, t
                }

                function i(t) {
                    return !t || "number" == typeof t || n.fx.speeds[t] ? !0 : "string" != typeof t || n.effects.effect[t] ? n.isFunction(t) ? !0 : "object" != typeof t || t.effect ? !1 : !0 : !0
                }
                n.extend(n.effects, {
                    version: "1.11.1",
                    save: function(n, t) {
                        for (var i = 0; t.length > i; i++) null !== t[i] && n.data(e + t[i], n[0].style[t[i]])
                    },
                    restore: function(n, t) {
                        for (var r, i = 0; t.length > i; i++) null !== t[i] && (r = n.data(e + t[i]), void 0 === r && (r = ""), n.css(t[i], r))
                    },
                    setMode: function(n, t) {
                        return "toggle" === t && (t = n.is(":hidden") ? "show" : "hide"), t
                    },
                    getBaseline: function(n, t) {
                        var i, r;
                        switch (n[0]) {
                            case "top":
                                i = 0;
                                break;
                            case "middle":
                                i = .5;
                                break;
                            case "bottom":
                                i = 1;
                                break;
                            default:
                                i = n[0] / t.height
                        }
                        switch (n[1]) {
                            case "left":
                                r = 0;
                                break;
                            case "center":
                                r = .5;
                                break;
                            case "right":
                                r = 1;
                                break;
                            default:
                                r = n[1] / t.width
                        }
                        return {
                            x: r,
                            y: i
                        }
                    },
                    createWrapper: function(t) {
                        if (t.parent().is(".ui-effects-wrapper")) return t.parent();
                        var i = {
                                width: t.outerWidth(!0),
                                height: t.outerHeight(!0),
                                float: t.css("float")
                            },
                            u = n("<div><\/div>").addClass("ui-effects-wrapper").css({
                                fontSize: "100%",
                                background: "transparent",
                                border: "none",
                                margin: 0,
                                padding: 0
                            }),
                            f = {
                                width: t.width(),
                                height: t.height()
                            },
                            r = document.activeElement;
                        try {
                            r.id
                        } catch (e) {
                            r = document.body
                        }
                        return t.wrap(u), (t[0] === r || n.contains(t[0], r)) && n(r).focus(), u = t.parent(), "static" === t.css("position") ? (u.css({
                            position: "relative"
                        }), t.css({
                            position: "relative"
                        })) : (n.extend(i, {
                            position: t.css("position"),
                            zIndex: t.css("z-index")
                        }), n.each(["top", "left", "bottom", "right"], function(n, r) {
                            i[r] = t.css(r);
                            isNaN(parseInt(i[r], 10)) && (i[r] = "auto")
                        }), t.css({
                            position: "relative",
                            top: 0,
                            left: 0,
                            right: "auto",
                            bottom: "auto"
                        })), t.css(f), u.css(i).show()
                    },
                    removeWrapper: function(t) {
                        var i = document.activeElement;
                        return t.parent().is(".ui-effects-wrapper") && (t.parent().replaceWith(t), (t[0] === i || n.contains(t[0], i)) && n(i).focus()), t
                    },
                    setTransition: function(t, i, r, u) {
                        return u = u || {}, n.each(i, function(n, i) {
                            var f = t.cssUnit(i);
                            f[0] > 0 && (u[i] = f[0] * r + f[1])
                        }), u
                    }
                });
                n.fn.extend({
                    effect: function() {
                        function r(t) {
                            function f() {
                                n.isFunction(o) && o.call(r[0]);
                                n.isFunction(t) && t()
                            }
                            var r = n(this),
                                o = i.complete,
                                u = i.mode;
                            (r.is(":hidden") ? "hide" === u : "show" === u) ? (r[u](), f()) : e.call(r[0], i, f)
                        }
                        var i = t.apply(this, arguments),
                            u = i.mode,
                            f = i.queue,
                            e = n.effects.effect[i.effect];
                        return n.fx.off || !e ? u ? this[u](i.duration, i.complete) : this.each(function() {
                            i.complete && i.complete.call(this)
                        }) : f === !1 ? this.each(r) : this.queue(f || "fx", r)
                    },
                    show: function(n) {
                        return function(r) {
                            if (i(r)) return n.apply(this, arguments);
                            var u = t.apply(this, arguments);
                            return u.mode = "show", this.effect.call(this, u)
                        }
                    }(n.fn.show),
                    hide: function(n) {
                        return function(r) {
                            if (i(r)) return n.apply(this, arguments);
                            var u = t.apply(this, arguments);
                            return u.mode = "hide", this.effect.call(this, u)
                        }
                    }(n.fn.hide),
                    toggle: function(n) {
                        return function(r) {
                            if (i(r) || "boolean" == typeof r) return n.apply(this, arguments);
                            var u = t.apply(this, arguments);
                            return u.mode = "toggle", this.effect.call(this, u)
                        }
                    }(n.fn.toggle),
                    cssUnit: function(t) {
                        var i = this.css(t),
                            r = [];
                        return n.each(["em", "px", "%", "pt"], function(n, t) {
                            i.indexOf(t) > 0 && (r = [parseFloat(i), t])
                        }), r
                    }
                })
            }(),
            function() {
                var t = {};
                n.each(["Quad", "Cubic", "Quart", "Quint", "Expo"], function(n, i) {
                    t[i] = function(t) {
                        return Math.pow(t, n + 2)
                    }
                });
                n.extend(t, {
                    Sine: function(n) {
                        return 1 - Math.cos(n * Math.PI / 2)
                    },
                    Circ: function(n) {
                        return 1 - Math.sqrt(1 - n * n)
                    },
                    Elastic: function(n) {
                        return 0 === n || 1 === n ? n : -Math.pow(2, 8 * (n - 1)) * Math.sin((80 * (n - 1) - 7.5) * Math.PI / 15)
                    },
                    Back: function(n) {
                        return n * n * (3 * n - 2)
                    },
                    Bounce: function(n) {
                        for (var t, i = 4;
                            ((t = Math.pow(2, --i)) - 1) / 11 > n;);
                        return 1 / Math.pow(4, 3 - i) - 7.5625 * Math.pow((3 * t - 2) / 22 - n, 2)
                    }
                });
                n.each(t, function(t, i) {
                    n.easing["easeIn" + t] = i;
                    n.easing["easeOut" + t] = function(n) {
                        return 1 - i(1 - n)
                    };
                    n.easing["easeInOut" + t] = function(n) {
                        return .5 > n ? i(2 * n) / 2 : 1 - i(-2 * n + 2) / 2
                    }
                })
            }();
        n.effects;
        n.effects.effect.blind = function(t, i) {
            var u, f, e, r = n(this),
                s = ["position", "top", "bottom", "left", "right", "height", "width"],
                v = n.effects.setMode(r, t.mode || "hide"),
                y = t.direction || "up",
                o = /up|down|vertical/.test(y),
                h = o ? "height" : "width",
                c = o ? "top" : "left",
                p = /up|left|vertical|horizontal/.test(y),
                l = {},
                a = "show" === v;
            r.parent().is(".ui-effects-wrapper") ? n.effects.save(r.parent(), s) : n.effects.save(r, s);
            r.show();
            u = n.effects.createWrapper(r).css({
                overflow: "hidden"
            });
            f = u[h]();
            e = parseFloat(u.css(c)) || 0;
            l[h] = a ? f : 0;
            p || (r.css(o ? "bottom" : "right", 0).css(o ? "top" : "left", "auto").css({
                position: "absolute"
            }), l[c] = a ? e : f + e);
            a && (u.css(h, 0), p || u.css(c, e + f));
            u.animate(l, {
                duration: t.duration,
                easing: t.easing,
                queue: !1,
                complete: function() {
                    "hide" === v && r.hide();
                    n.effects.restore(r, s);
                    n.effects.removeWrapper(r);
                    i()
                }
            })
        };
        n.effects.effect.bounce = function(t, i) {
            var v, f, e, r = n(this),
                y = ["position", "top", "bottom", "left", "right", "height", "width"],
                k = n.effects.setMode(r, t.mode || "effect"),
                o = "hide" === k,
                p = "show" === k,
                h = t.direction || "up",
                u = t.distance,
                w = t.times || 5,
                d = 2 * w + (p || o ? 1 : 0),
                c = t.duration / d,
                l = t.easing,
                s = "up" === h || "down" === h ? "top" : "left",
                b = "up" === h || "left" === h,
                a = r.queue(),
                g = a.length;
            for ((p || o) && y.push("opacity"), n.effects.save(r, y), r.show(), n.effects.createWrapper(r), u || (u = r["top" === s ? "outerHeight" : "outerWidth"]() / 3), p && (e = {
                    opacity: 1
                }, e[s] = 0, r.css("opacity", 0).css(s, b ? 2 * -u : 2 * u).animate(e, c, l)), o && (u /= Math.pow(2, w - 1)), e = {}, e[s] = 0, v = 0; w > v; v++) f = {}, f[s] = (b ? "-=" : "+=") + u, r.animate(f, c, l).animate(e, c, l), u = o ? 2 * u : u / 2;
            o && (f = {
                opacity: 0
            }, f[s] = (b ? "-=" : "+=") + u, r.animate(f, c, l));
            r.queue(function() {
                o && r.hide();
                n.effects.restore(r, y);
                n.effects.removeWrapper(r);
                i()
            });
            g > 1 && a.splice.apply(a, [1, 0].concat(a.splice(g, d + 1)));
            r.dequeue()
        };
        n.effects.effect.clip = function(t, i) {
            var h, u, f, r = n(this),
                c = ["position", "top", "bottom", "left", "right", "height", "width"],
                v = n.effects.setMode(r, t.mode || "hide"),
                e = "show" === v,
                y = t.direction || "vertical",
                l = "vertical" === y,
                o = l ? "height" : "width",
                a = l ? "top" : "left",
                s = {};
            n.effects.save(r, c);
            r.show();
            h = n.effects.createWrapper(r).css({
                overflow: "hidden"
            });
            u = "IMG" === r[0].tagName ? h : r;
            f = u[o]();
            e && (u.css(o, 0), u.css(a, f / 2));
            s[o] = e ? f : 0;
            s[a] = e ? 0 : f / 2;
            u.animate(s, {
                queue: !1,
                duration: t.duration,
                easing: t.easing,
                complete: function() {
                    e || r.hide();
                    n.effects.restore(r, c);
                    n.effects.removeWrapper(r);
                    i()
                }
            })
        };
        n.effects.effect.drop = function(t, i) {
            var u, r = n(this),
                h = ["position", "top", "bottom", "left", "right", "opacity", "height", "width"],
                c = n.effects.setMode(r, t.mode || "hide"),
                e = "show" === c,
                f = t.direction || "left",
                o = "up" === f || "down" === f ? "top" : "left",
                s = "up" === f || "left" === f ? "pos" : "neg",
                l = {
                    opacity: e ? 1 : 0
                };
            n.effects.save(r, h);
            r.show();
            n.effects.createWrapper(r);
            u = t.distance || r["top" === o ? "outerHeight" : "outerWidth"](!0) / 2;
            e && r.css("opacity", 0).css(o, "pos" === s ? -u : u);
            l[o] = (e ? "pos" === s ? "+=" : "-=" : "pos" === s ? "-=" : "+=") + u;
            r.animate(l, {
                queue: !1,
                duration: t.duration,
                easing: t.easing,
                complete: function() {
                    "hide" === c && r.hide();
                    n.effects.restore(r, h);
                    n.effects.removeWrapper(r);
                    i()
                }
            })
        };
        n.effects.effect.explode = function(t, i) {
            function b() {
                p.push(this);
                p.length === e * c && k()
            }

            function k() {
                r.css({
                    visibility: "visible"
                });
                n(p).remove();
                u || r.hide();
                i()
            }
            for (var f, l, a, v, y, e = t.pieces ? Math.round(Math.sqrt(t.pieces)) : 3, c = e, r = n(this), d = n.effects.setMode(r, t.mode || "hide"), u = "show" === d, w = r.show().css("visibility", "hidden").offset(), o = Math.ceil(r.outerWidth() / c), s = Math.ceil(r.outerHeight() / e), p = [], h = 0; e > h; h++)
                for (a = w.top + h * s, y = h - (e - 1) / 2, f = 0; c > f; f++) l = w.left + f * o, v = f - (c - 1) / 2, r.clone().appendTo("body").wrap("<div><\/div>").css({
                    position: "absolute",
                    visibility: "visible",
                    left: -f * o,
                    top: -h * s
                }).parent().addClass("ui-effects-explode").css({
                    position: "absolute",
                    overflow: "hidden",
                    width: o,
                    height: s,
                    left: l + (u ? v * o : 0),
                    top: a + (u ? y * s : 0),
                    opacity: u ? 0 : 1
                }).animate({
                    left: l + (u ? 0 : v * o),
                    top: a + (u ? 0 : y * s),
                    opacity: u ? 1 : 0
                }, t.duration || 500, t.easing, b)
        };
        n.effects.effect.fade = function(t, i) {
            var r = n(this),
                u = n.effects.setMode(r, t.mode || "toggle");
            r.animate({
                opacity: u
            }, {
                queue: !1,
                duration: t.duration,
                easing: t.easing,
                complete: i
            })
        };
        n.effects.effect.fold = function(t, i) {
            var r, e, u = n(this),
                s = ["position", "top", "bottom", "left", "right", "height", "width"],
                h = n.effects.setMode(u, t.mode || "hide"),
                o = "show" === h,
                c = "hide" === h,
                f = t.size || 15,
                l = /([0-9]+)%/.exec(f),
                a = !!t.horizFirst,
                v = o !== a,
                y = v ? ["width", "height"] : ["height", "width"],
                p = t.duration / 2,
                w = {},
                b = {};
            n.effects.save(u, s);
            u.show();
            r = n.effects.createWrapper(u).css({
                overflow: "hidden"
            });
            e = v ? [r.width(), r.height()] : [r.height(), r.width()];
            l && (f = parseInt(l[1], 10) / 100 * e[c ? 0 : 1]);
            o && r.css(a ? {
                height: 0,
                width: f
            } : {
                height: f,
                width: 0
            });
            w[y[0]] = o ? e[0] : f;
            b[y[1]] = o ? e[1] : 0;
            r.animate(w, p, t.easing).animate(b, p, t.easing, function() {
                c && u.hide();
                n.effects.restore(u, s);
                n.effects.removeWrapper(u);
                i()
            })
        };
        n.effects.effect.highlight = function(t, i) {
            var r = n(this),
                u = ["backgroundImage", "backgroundColor", "opacity"],
                f = n.effects.setMode(r, t.mode || "show"),
                e = {
                    backgroundColor: r.css("backgroundColor")
                };
            "hide" === f && (e.opacity = 0);
            n.effects.save(r, u);
            r.show().css({
                backgroundImage: "none",
                backgroundColor: t.color || "#ffff99"
            }).animate(e, {
                queue: !1,
                duration: t.duration,
                easing: t.easing,
                complete: function() {
                    "hide" === f && r.hide();
                    n.effects.restore(r, u);
                    i()
                }
            })
        };
        n.effects.effect.size = function(t, i) {
            var f, l, u, r = n(this),
                w = ["position", "top", "bottom", "left", "right", "width", "height", "overflow", "opacity"],
                a = ["width", "height", "overflow"],
                v = ["fontSize"],
                e = ["borderTopWidth", "borderBottomWidth", "paddingTop", "paddingBottom"],
                o = ["borderLeftWidth", "borderRightWidth", "paddingLeft", "paddingRight"],
                h = n.effects.setMode(r, t.mode || "effect"),
                y = t.restore || "effect" !== h,
                c = t.scale || "both",
                b = t.origin || ["middle", "center"],
                k = r.css("position"),
                s = y ? w : ["position", "top", "bottom", "left", "right", "overflow", "opacity"],
                p = {
                    height: 0,
                    width: 0,
                    outerHeight: 0,
                    outerWidth: 0
                };
            "show" === h && r.show();
            f = {
                height: r.height(),
                width: r.width(),
                outerHeight: r.outerHeight(),
                outerWidth: r.outerWidth()
            };
            "toggle" === t.mode && "show" === h ? (r.from = t.to || p, r.to = t.from || f) : (r.from = t.from || ("show" === h ? p : f), r.to = t.to || ("hide" === h ? p : f));
            u = {
                from: {
                    y: r.from.height / f.height,
                    x: r.from.width / f.width
                },
                to: {
                    y: r.to.height / f.height,
                    x: r.to.width / f.width
                }
            };
            ("box" === c || "both" === c) && (u.from.y !== u.to.y && (s = s.concat(e), r.from = n.effects.setTransition(r, e, u.from.y, r.from), r.to = n.effects.setTransition(r, e, u.to.y, r.to)), u.from.x !== u.to.x && (s = s.concat(o), r.from = n.effects.setTransition(r, o, u.from.x, r.from), r.to = n.effects.setTransition(r, o, u.to.x, r.to)));
            ("content" === c || "both" === c) && u.from.y !== u.to.y && (s = s.concat(v).concat(a), r.from = n.effects.setTransition(r, v, u.from.y, r.from), r.to = n.effects.setTransition(r, v, u.to.y, r.to));
            n.effects.save(r, s);
            r.show();
            n.effects.createWrapper(r);
            r.css("overflow", "hidden").css(r.from);
            b && (l = n.effects.getBaseline(b, f), r.from.top = (f.outerHeight - r.outerHeight()) * l.y, r.from.left = (f.outerWidth - r.outerWidth()) * l.x, r.to.top = (f.outerHeight - r.to.outerHeight) * l.y, r.to.left = (f.outerWidth - r.to.outerWidth) * l.x);
            r.css(r.from);
            ("content" === c || "both" === c) && (e = e.concat(["marginTop", "marginBottom"]).concat(v), o = o.concat(["marginLeft", "marginRight"]), a = w.concat(e).concat(o), r.find("*[width]").each(function() {
                var i = n(this),
                    r = {
                        height: i.height(),
                        width: i.width(),
                        outerHeight: i.outerHeight(),
                        outerWidth: i.outerWidth()
                    };
                y && n.effects.save(i, a);
                i.from = {
                    height: r.height * u.from.y,
                    width: r.width * u.from.x,
                    outerHeight: r.outerHeight * u.from.y,
                    outerWidth: r.outerWidth * u.from.x
                };
                i.to = {
                    height: r.height * u.to.y,
                    width: r.width * u.to.x,
                    outerHeight: r.height * u.to.y,
                    outerWidth: r.width * u.to.x
                };
                u.from.y !== u.to.y && (i.from = n.effects.setTransition(i, e, u.from.y, i.from), i.to = n.effects.setTransition(i, e, u.to.y, i.to));
                u.from.x !== u.to.x && (i.from = n.effects.setTransition(i, o, u.from.x, i.from), i.to = n.effects.setTransition(i, o, u.to.x, i.to));
                i.css(i.from);
                i.animate(i.to, t.duration, t.easing, function() {
                    y && n.effects.restore(i, a)
                })
            }));
            r.animate(r.to, {
                queue: !1,
                duration: t.duration,
                easing: t.easing,
                complete: function() {
                    0 === r.to.opacity && r.css("opacity", r.from.opacity);
                    "hide" === h && r.hide();
                    n.effects.restore(r, s);
                    y || ("static" === k ? r.css({
                        position: "relative",
                        top: r.to.top,
                        left: r.to.left
                    }) : n.each(["top", "left"], function(n, t) {
                        r.css(t, function(t, i) {
                            var f = parseInt(i, 10),
                                u = n ? r.to.left : r.to.top;
                            return "auto" === i ? u + "px" : f + u + "px"
                        })
                    }));
                    n.effects.removeWrapper(r);
                    i()
                }
            })
        };
        n.effects.effect.scale = function(t, i) {
            var u = n(this),
                r = n.extend(!0, {}, t),
                f = n.effects.setMode(u, t.mode || "effect"),
                s = parseInt(t.percent, 10) || (0 === parseInt(t.percent, 10) ? 0 : "hide" === f ? 0 : 100),
                h = t.direction || "both",
                c = t.origin,
                e = {
                    height: u.height(),
                    width: u.width(),
                    outerHeight: u.outerHeight(),
                    outerWidth: u.outerWidth()
                },
                o = {
                    y: "horizontal" !== h ? s / 100 : 1,
                    x: "vertical" !== h ? s / 100 : 1
                };
            r.effect = "size";
            r.queue = !1;
            r.complete = i;
            "effect" !== f && (r.origin = c || ["middle", "center"], r.restore = !0);
            r.from = t.from || ("show" === f ? {
                height: 0,
                width: 0,
                outerHeight: 0,
                outerWidth: 0
            } : e);
            r.to = {
                height: e.height * o.y,
                width: e.width * o.x,
                outerHeight: e.outerHeight * o.y,
                outerWidth: e.outerWidth * o.x
            };
            r.fade && ("show" === f && (r.from.opacity = 0, r.to.opacity = 1), "hide" === f && (r.from.opacity = 1, r.to.opacity = 0));
            u.effect(r)
        };
        n.effects.effect.puff = function(t, i) {
            var r = n(this),
                e = n.effects.setMode(r, t.mode || "hide"),
                o = "hide" === e,
                s = parseInt(t.percent, 10) || 150,
                f = s / 100,
                u = {
                    height: r.height(),
                    width: r.width(),
                    outerHeight: r.outerHeight(),
                    outerWidth: r.outerWidth()
                };
            n.extend(t, {
                effect: "scale",
                queue: !1,
                fade: !0,
                mode: e,
                complete: i,
                percent: o ? s : 100,
                from: o ? u : {
                    height: u.height * f,
                    width: u.width * f,
                    outerHeight: u.outerHeight * f,
                    outerWidth: u.outerWidth * f
                }
            });
            r.effect(t)
        };
        n.effects.effect.pulsate = function(t, i) {
            var e, r = n(this),
                o = n.effects.setMode(r, t.mode || "show"),
                h = "show" === o,
                a = "hide" === o,
                v = h || "hide" === o,
                s = 2 * (t.times || 5) + (v ? 1 : 0),
                c = t.duration / s,
                u = 0,
                f = r.queue(),
                l = f.length;
            for ((h || !r.is(":visible")) && (r.css("opacity", 0).show(), u = 1), e = 1; s > e; e++) r.animate({
                opacity: u
            }, c, t.easing), u = 1 - u;
            r.animate({
                opacity: u
            }, c, t.easing);
            r.queue(function() {
                a && r.hide();
                i()
            });
            l > 1 && f.splice.apply(f, [1, 0].concat(f.splice(l, s + 1)));
            r.dequeue()
        };
        n.effects.effect.shake = function(t, i) {
            var o, r = n(this),
                v = ["position", "top", "bottom", "left", "right", "height", "width"],
                k = n.effects.setMode(r, t.mode || "effect"),
                f = t.direction || "left",
                s = t.distance || 20,
                y = t.times || 3,
                p = 2 * y + 1,
                u = Math.round(t.duration / p),
                h = "up" === f || "down" === f ? "top" : "left",
                c = "up" === f || "left" === f,
                l = {},
                a = {},
                w = {},
                e = r.queue(),
                b = e.length;
            for (n.effects.save(r, v), r.show(), n.effects.createWrapper(r), l[h] = (c ? "-=" : "+=") + s, a[h] = (c ? "+=" : "-=") + 2 * s, w[h] = (c ? "-=" : "+=") + 2 * s, r.animate(l, u, t.easing), o = 1; y > o; o++) r.animate(a, u, t.easing).animate(w, u, t.easing);
            r.animate(a, u, t.easing).animate(l, u / 2, t.easing).queue(function() {
                "hide" === k && r.hide();
                n.effects.restore(r, v);
                n.effects.removeWrapper(r);
                i()
            });
            b > 1 && e.splice.apply(e, [1, 0].concat(e.splice(b, p + 1)));
            r.dequeue()
        };
        n.effects.effect.slide = function(t, i) {
            var u, r = n(this),
                s = ["position", "top", "bottom", "left", "right", "width", "height"],
                h = n.effects.setMode(r, t.mode || "show"),
                c = "show" === h,
                f = t.direction || "left",
                e = "up" === f || "down" === f ? "top" : "left",
                o = "up" === f || "left" === f,
                l = {};
            n.effects.save(r, s);
            r.show();
            u = t.distance || r["top" === e ? "outerHeight" : "outerWidth"](!0);
            n.effects.createWrapper(r).css({
                overflow: "hidden"
            });
            c && r.css(e, o ? isNaN(u) ? "-" + u : -u : u);
            l[e] = (c ? o ? "+=" : "-=" : o ? "-=" : "+=") + u;
            r.animate(l, {
                queue: !1,
                duration: t.duration,
                easing: t.easing,
                complete: function() {
                    "hide" === h && r.hide();
                    n.effects.restore(r, s);
                    n.effects.removeWrapper(r);
                    i()
                }
            })
        };
        n.effects.effect.transfer = function(t, i) {
            var u = n(this),
                r = n(t.to),
                f = "fixed" === r.css("position"),
                e = n("body"),
                o = f ? e.scrollTop() : 0,
                s = f ? e.scrollLeft() : 0,
                h = r.offset(),
                l = {
                    top: h.top - o,
                    left: h.left - s,
                    height: r.innerHeight(),
                    width: r.innerWidth()
                },
                c = u.offset(),
                a = n("<div class='ui-effects-transfer'><\/div>").appendTo(document.body).addClass(t.className).css({
                    top: c.top - o,
                    left: c.left - s,
                    height: u.innerHeight(),
                    width: u.innerWidth(),
                    position: f ? "fixed" : "absolute"
                }).animate(l, t.duration, t.easing, function() {
                    a.remove();
                    i()
                })
        };
        n.widget("ui.progressbar", {
            version: "1.11.1",
            options: {
                max: 100,
                value: 0,
                change: null,
                complete: null
            },
            min: 0,
            _create: function() {
                this.oldValue = this.options.value = this._constrainedValue();
                this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({
                    role: "progressbar",
                    "aria-valuemin": this.min
                });
                this.valueDiv = n("<div class='ui-progressbar-value ui-widget-header ui-corner-left'><\/div>").appendTo(this.element);
                this._refreshValue()
            },
            _destroy: function() {
                this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");
                this.valueDiv.remove()
            },
            value: function(n) {
                return void 0 === n ? this.options.value : (this.options.value = this._constrainedValue(n), this._refreshValue(), void 0)
            },
            _constrainedValue: function(n) {
                return void 0 === n && (n = this.options.value), this.indeterminate = n === !1, "number" != typeof n && (n = 0), this.indeterminate ? !1 : Math.min(this.options.max, Math.max(this.min, n))
            },
            _setOptions: function(n) {
                var t = n.value;
                delete n.value;
                this._super(n);
                this.options.value = this._constrainedValue(t);
                this._refreshValue()
            },
            _setOption: function(n, t) {
                "max" === n && (t = Math.max(this.min, t));
                "disabled" === n && this.element.toggleClass("ui-state-disabled", !!t).attr("aria-disabled", t);
                this._super(n, t)
            },
            _percentage: function() {
                return this.indeterminate ? 100 : 100 * (this.options.value - this.min) / (this.options.max - this.min)
            },
            _refreshValue: function() {
                var t = this.options.value,
                    i = this._percentage();
                this.valueDiv.toggle(this.indeterminate || t > this.min).toggleClass("ui-corner-right", t === this.options.max).width(i.toFixed(0) + "%");
                this.element.toggleClass("ui-progressbar-indeterminate", this.indeterminate);
                this.indeterminate ? (this.element.removeAttr("aria-valuenow"), this.overlayDiv || (this.overlayDiv = n("<div class='ui-progressbar-overlay'><\/div>").appendTo(this.valueDiv))) : (this.element.attr({
                    "aria-valuemax": this.options.max,
                    "aria-valuenow": t
                }), this.overlayDiv && (this.overlayDiv.remove(), this.overlayDiv = null));
                this.oldValue !== t && (this.oldValue = t, this._trigger("change"));
                t === this.options.max && this._trigger("complete")
            }
        });
        n.widget("ui.selectable", n.ui.mouse, {
            version: "1.11.1",
            options: {
                appendTo: "body",
                autoRefresh: !0,
                distance: 0,
                filter: "*",
                tolerance: "touch",
                selected: null,
                selecting: null,
                start: null,
                stop: null,
                unselected: null,
                unselecting: null
            },
            _create: function() {
                var t, i = this;
                this.element.addClass("ui-selectable");
                this.dragged = !1;
                this.refresh = function() {
                    t = n(i.options.filter, i.element[0]);
                    t.addClass("ui-selectee");
                    t.each(function() {
                        var t = n(this),
                            i = t.offset();
                        n.data(this, "selectable-item", {
                            element: this,
                            $element: t,
                            left: i.left,
                            top: i.top,
                            right: i.left + t.outerWidth(),
                            bottom: i.top + t.outerHeight(),
                            startselected: !1,
                            selected: t.hasClass("ui-selected"),
                            selecting: t.hasClass("ui-selecting"),
                            unselecting: t.hasClass("ui-unselecting")
                        })
                    })
                };
                this.refresh();
                this.selectees = t.addClass("ui-selectee");
                this._mouseInit();
                this.helper = n("<div class='ui-selectable-helper'><\/div>")
            },
            _destroy: function() {
                this.selectees.removeClass("ui-selectee").removeData("selectable-item");
                this.element.removeClass("ui-selectable ui-selectable-disabled");
                this._mouseDestroy()
            },
            _mouseStart: function(t) {
                var i = this,
                    r = this.options;
                this.opos = [t.pageX, t.pageY];
                this.options.disabled || (this.selectees = n(r.filter, this.element[0]), this._trigger("start", t), n(r.appendTo).append(this.helper), this.helper.css({
                    left: t.pageX,
                    top: t.pageY,
                    width: 0,
                    height: 0
                }), r.autoRefresh && this.refresh(), this.selectees.filter(".ui-selected").each(function() {
                    var r = n.data(this, "selectable-item");
                    r.startselected = !0;
                    t.metaKey || t.ctrlKey || (r.$element.removeClass("ui-selected"), r.selected = !1, r.$element.addClass("ui-unselecting"), r.unselecting = !0, i._trigger("unselecting", t, {
                        unselecting: r.element
                    }))
                }), n(t.target).parents().addBack().each(function() {
                    var u, r = n.data(this, "selectable-item");
                    if (r) return u = !t.metaKey && !t.ctrlKey || !r.$element.hasClass("ui-selected"), r.$element.removeClass(u ? "ui-unselecting" : "ui-selected").addClass(u ? "ui-selecting" : "ui-unselecting"), r.unselecting = !u, r.selecting = u, r.selected = u, u ? i._trigger("selecting", t, {
                        selecting: r.element
                    }) : i._trigger("unselecting", t, {
                        unselecting: r.element
                    }), !1
                }))
            },
            _mouseDrag: function(t) {
                if (this.dragged = !0, !this.options.disabled) {
                    var e, o = this,
                        s = this.options,
                        i = this.opos[0],
                        r = this.opos[1],
                        u = t.pageX,
                        f = t.pageY;
                    return i > u && (e = u, u = i, i = e), r > f && (e = f, f = r, r = e), this.helper.css({
                        left: i,
                        top: r,
                        width: u - i,
                        height: f - r
                    }), this.selectees.each(function() {
                        var e = n.data(this, "selectable-item"),
                            h = !1;
                        e && e.element !== o.element[0] && ("touch" === s.tolerance ? h = !(e.left > u || i > e.right || e.top > f || r > e.bottom) : "fit" === s.tolerance && (h = e.left > i && u > e.right && e.top > r && f > e.bottom), h ? (e.selected && (e.$element.removeClass("ui-selected"), e.selected = !1), e.unselecting && (e.$element.removeClass("ui-unselecting"), e.unselecting = !1), e.selecting || (e.$element.addClass("ui-selecting"), e.selecting = !0, o._trigger("selecting", t, {
                            selecting: e.element
                        }))) : (e.selecting && ((t.metaKey || t.ctrlKey) && e.startselected ? (e.$element.removeClass("ui-selecting"), e.selecting = !1, e.$element.addClass("ui-selected"), e.selected = !0) : (e.$element.removeClass("ui-selecting"), e.selecting = !1, e.startselected && (e.$element.addClass("ui-unselecting"), e.unselecting = !0), o._trigger("unselecting", t, {
                            unselecting: e.element
                        }))), e.selected && (t.metaKey || t.ctrlKey || e.startselected || (e.$element.removeClass("ui-selected"), e.selected = !1, e.$element.addClass("ui-unselecting"), e.unselecting = !0, o._trigger("unselecting", t, {
                            unselecting: e.element
                        })))))
                    }), !1
                }
            },
            _mouseStop: function(t) {
                var i = this;
                return this.dragged = !1, n(".ui-unselecting", this.element[0]).each(function() {
                    var r = n.data(this, "selectable-item");
                    r.$element.removeClass("ui-unselecting");
                    r.unselecting = !1;
                    r.startselected = !1;
                    i._trigger("unselected", t, {
                        unselected: r.element
                    })
                }), n(".ui-selecting", this.element[0]).each(function() {
                    var r = n.data(this, "selectable-item");
                    r.$element.removeClass("ui-selecting").addClass("ui-selected");
                    r.selecting = !1;
                    r.selected = !0;
                    r.startselected = !0;
                    i._trigger("selected", t, {
                        selected: r.element
                    })
                }), this._trigger("stop", t), this.helper.remove(), !1
            }
        });
        n.widget("ui.selectmenu", {
            version: "1.11.1",
            defaultElement: "<select>",
            options: {
                appendTo: null,
                disabled: null,
                icons: {
                    button: "ui-icon-triangle-1-s"
                },
                position: {
                    my: "left top",
                    at: "left bottom",
                    collision: "none"
                },
                width: null,
                change: null,
                close: null,
                focus: null,
                open: null,
                select: null
            },
            _create: function() {
                var n = this.element.uniqueId().attr("id");
                this.ids = {
                    element: n,
                    button: n + "-button",
                    menu: n + "-menu"
                };
                this._drawButton();
                this._drawMenu();
                this.options.disabled && this.disable()
            },
            _drawButton: function() {
                var t = this,
                    i = this.element.attr("tabindex");
                this.label = n("label[for='" + this.ids.element + "']").attr("for", this.ids.button);
                this._on(this.label, {
                    click: function(n) {
                        this.button.focus();
                        n.preventDefault()
                    }
                });
                this.element.hide();
                this.button = n("<span>", {
                    "class": "ui-selectmenu-button ui-widget ui-state-default ui-corner-all",
                    tabindex: i || this.options.disabled ? -1 : 0,
                    id: this.ids.button,
                    role: "combobox",
                    "aria-expanded": "false",
                    "aria-autocomplete": "list",
                    "aria-owns": this.ids.menu,
                    "aria-haspopup": "true"
                }).insertAfter(this.element);
                n("<span>", {
                    "class": "ui-icon " + this.options.icons.button
                }).prependTo(this.button);
                this.buttonText = n("<span>", {
                    "class": "ui-selectmenu-text"
                }).appendTo(this.button);
                this._setText(this.buttonText, this.element.find("option:selected").text());
                this._resizeButton();
                this._on(this.button, this._buttonEvents);
                this.button.one("focusin", function() {
                    t.menuItems || t._refreshMenu()
                });
                this._hoverable(this.button);
                this._focusable(this.button)
            },
            _drawMenu: function() {
                var t = this;
                this.menu = n("<ul>", {
                    "aria-hidden": "true",
                    "aria-labelledby": this.ids.button,
                    id: this.ids.menu
                });
                this.menuWrap = n("<div>", {
                    "class": "ui-selectmenu-menu ui-front"
                }).append(this.menu).appendTo(this._appendTo());
                this.menuInstance = this.menu.menu({
                    role: "listbox",
                    select: function(n, i) {
                        n.preventDefault();
                        t._select(i.item.data("ui-selectmenu-item"), n)
                    },
                    focus: function(n, i) {
                        var r = i.item.data("ui-selectmenu-item");
                        null != t.focusIndex && r.index !== t.focusIndex && (t._trigger("focus", n, {
                            item: r
                        }), t.isOpen || t._select(r, n));
                        t.focusIndex = r.index;
                        t.button.attr("aria-activedescendant", t.menuItems.eq(r.index).attr("id"))
                    }
                }).menu("instance");
                this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all");
                this.menuInstance._off(this.menu, "mouseleave");
                this.menuInstance._closeOnDocumentClick = function() {
                    return !1
                };
                this.menuInstance._isDivider = function() {
                    return !1
                }
            },
            refresh: function() {
                this._refreshMenu();
                this._setText(this.buttonText, this._getSelectedItem().text());
                this.options.width || this._resizeButton()
            },
            _refreshMenu: function() {
                this.menu.empty();
                var n, t = this.element.find("option");
                t.length && (this._parseOptions(t), this._renderMenu(this.menu, this.items), this.menuInstance.refresh(), this.menuItems = this.menu.find("li").not(".ui-selectmenu-optgroup"), n = this._getSelectedItem(), this.menuInstance.focus(null, n), this._setAria(n.data("ui-selectmenu-item")), this._setOption("disabled", this.element.prop("disabled")))
            },
            open: function(n) {
                this.options.disabled || (this.menuItems ? (this.menu.find(".ui-state-focus").removeClass("ui-state-focus"), this.menuInstance.focus(null, this._getSelectedItem())) : this._refreshMenu(), this.isOpen = !0, this._toggleAttr(), this._resizeMenu(), this._position(), this._on(this.document, this._documentClick), this._trigger("open", n))
            },
            _position: function() {
                this.menuWrap.position(n.extend({
                    of: this.button
                }, this.options.position))
            },
            close: function(n) {
                this.isOpen && (this.isOpen = !1, this._toggleAttr(), this._off(this.document), this._trigger("close", n))
            },
            widget: function() {
                return this.button
            },
            menuWidget: function() {
                return this.menu
            },
            _renderMenu: function(t, i) {
                var u = this,
                    r = "";
                n.each(i, function(i, f) {
                    f.optgroup !== r && (n("<li>", {
                        "class": "ui-selectmenu-optgroup ui-menu-divider" + (f.element.parent("optgroup").prop("disabled") ? " ui-state-disabled" : ""),
                        text: f.optgroup
                    }).appendTo(t), r = f.optgroup);
                    u._renderItemData(t, f)
                })
            },
            _renderItemData: function(n, t) {
                return this._renderItem(n, t).data("ui-selectmenu-item", t)
            },
            _renderItem: function(t, i) {
                var r = n("<li>");
                return i.disabled && r.addClass("ui-state-disabled"), this._setText(r, i.label), r.appendTo(t)
            },
            _setText: function(n, t) {
                t ? n.text(t) : n.html("&#160;")
            },
            _move: function(n, t) {
                var i, r, u = ".ui-menu-item";
                this.isOpen ? i = this.menuItems.eq(this.focusIndex) : (i = this.menuItems.eq(this.element[0].selectedIndex), u += ":not(.ui-state-disabled)");
                r = "first" === n || "last" === n ? i["first" === n ? "prevAll" : "nextAll"](u).eq(-1) : i[n + "All"](u).eq(0);
                r.length && this.menuInstance.focus(t, r)
            },
            _getSelectedItem: function() {
                return this.menuItems.eq(this.element[0].selectedIndex)
            },
            _toggle: function(n) {
                this[this.isOpen ? "close" : "open"](n)
            },
            _documentClick: {
                mousedown: function(t) {
                    this.isOpen && (n(t.target).closest(".ui-selectmenu-menu, #" + this.ids.button).length || this.close(t))
                }
            },
            _buttonEvents: {
                mousedown: function(n) {
                    n.preventDefault()
                },
                click: "_toggle",
                keydown: function(t) {
                    var i = !0;
                    switch (t.keyCode) {
                        case n.ui.keyCode.TAB:
                        case n.ui.keyCode.ESCAPE:
                            this.close(t);
                            i = !1;
                            break;
                        case n.ui.keyCode.ENTER:
                            this.isOpen && this._selectFocusedItem(t);
                            break;
                        case n.ui.keyCode.UP:
                            t.altKey ? this._toggle(t) : this._move("prev", t);
                            break;
                        case n.ui.keyCode.DOWN:
                            t.altKey ? this._toggle(t) : this._move("next", t);
                            break;
                        case n.ui.keyCode.SPACE:
                            this.isOpen ? this._selectFocusedItem(t) : this._toggle(t);
                            break;
                        case n.ui.keyCode.LEFT:
                            this._move("prev", t);
                            break;
                        case n.ui.keyCode.RIGHT:
                            this._move("next", t);
                            break;
                        case n.ui.keyCode.HOME:
                        case n.ui.keyCode.PAGE_UP:
                            this._move("first", t);
                            break;
                        case n.ui.keyCode.END:
                        case n.ui.keyCode.PAGE_DOWN:
                            this._move("last", t);
                            break;
                        default:
                            this.menu.trigger(t);
                            i = !1
                    }
                    i && t.preventDefault()
                }
            },
            _selectFocusedItem: function(n) {
                var t = this.menuItems.eq(this.focusIndex);
                t.hasClass("ui-state-disabled") || this._select(t.data("ui-selectmenu-item"), n)
            },
            _select: function(n, t) {
                var i = this.element[0].selectedIndex;
                this.element[0].selectedIndex = n.index;
                this._setText(this.buttonText, n.label);
                this._setAria(n);
                this._trigger("select", t, {
                    item: n
                });
                n.index !== i && this._trigger("change", t, {
                    item: n
                });
                this.close(t)
            },
            _setAria: function(n) {
                var t = this.menuItems.eq(n.index).attr("id");
                this.button.attr({
                    "aria-labelledby": t,
                    "aria-activedescendant": t
                });
                this.menu.attr("aria-activedescendant", t)
            },
            _setOption: function(n, t) {
                "icons" === n && this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button);
                this._super(n, t);
                "appendTo" === n && this.menuWrap.appendTo(this._appendTo());
                "disabled" === n && (this.menuInstance.option("disabled", t), this.button.toggleClass("ui-state-disabled", t).attr("aria-disabled", t), this.element.prop("disabled", t), t ? (this.button.attr("tabindex", -1), this.close()) : this.button.attr("tabindex", 0));
                "width" === n && this._resizeButton()
            },
            _appendTo: function() {
                var t = this.options.appendTo;
                return t && (t = t.jquery || t.nodeType ? n(t) : this.document.find(t).eq(0)), t && t[0] || (t = this.element.closest(".ui-front")), t.length || (t = this.document[0].body), t
            },
            _toggleAttr: function() {
                this.button.toggleClass("ui-corner-top", this.isOpen).toggleClass("ui-corner-all", !this.isOpen).attr("aria-expanded", this.isOpen);
                this.menuWrap.toggleClass("ui-selectmenu-open", this.isOpen);
                this.menu.attr("aria-hidden", !this.isOpen)
            },
            _resizeButton: function() {
                var n = this.options.width;
                n || (n = this.element.show().outerWidth(), this.element.hide());
                this.button.outerWidth(n)
            },
            _resizeMenu: function() {
                this.menu.outerWidth(Math.max(this.button.outerWidth(), this.menu.width("").outerWidth() + 1))
            },
            _getCreateOptions: function() {
                return {
                    disabled: this.element.prop("disabled")
                }
            },
            _parseOptions: function(t) {
                var i = [];
                t.each(function(t, r) {
                    var u = n(r),
                        f = u.parent("optgroup");
                    i.push({
                        element: u,
                        index: t,
                        value: u.attr("value"),
                        label: u.text(),
                        optgroup: f.attr("label") || "",
                        disabled: f.prop("disabled") || u.prop("disabled")
                    })
                });
                this.items = i
            },
            _destroy: function() {
                this.menuWrap.remove();
                this.button.remove();
                this.element.show();
                this.element.removeUniqueId();
                this.label.attr("for", this.ids.element)
            }
        });
        n.widget("ui.slider", n.ui.mouse, {
            version: "1.11.1",
            widgetEventPrefix: "slide",
            options: {
                animate: !1,
                distance: 0,
                max: 100,
                min: 0,
                orientation: "horizontal",
                range: !1,
                step: 1,
                value: 0,
                values: null,
                change: null,
                slide: null,
                start: null,
                stop: null
            },
            numPages: 5,
            _create: function() {
                this._keySliding = !1;
                this._mouseSliding = !1;
                this._animateOff = !0;
                this._handleIndex = null;
                this._detectOrientation();
                this._mouseInit();
                this.element.addClass("ui-slider ui-slider-" + this.orientation + " ui-widget ui-widget-content ui-corner-all");
                this._refresh();
                this._setOption("disabled", this.options.disabled);
                this._animateOff = !1
            },
            _refresh: function() {
                this._createRange();
                this._createHandles();
                this._setupEvents();
                this._refreshValue()
            },
            _createHandles: function() {
                var r, i, u = this.options,
                    t = this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),
                    f = [];
                for (i = u.values && u.values.length || 1, t.length > i && (t.slice(i).remove(), t = t.slice(0, i)), r = t.length; i > r; r++) f.push("<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'><\/span>");
                this.handles = t.add(n(f.join("")).appendTo(this.element));
                this.handle = this.handles.eq(0);
                this.handles.each(function(t) {
                    n(this).data("ui-slider-handle-index", t)
                })
            },
            _createRange: function() {
                var t = this.options,
                    i = "";
                t.range ? (t.range === !0 && (t.values ? t.values.length && 2 !== t.values.length ? t.values = [t.values[0], t.values[0]] : n.isArray(t.values) && (t.values = t.values.slice(0)) : t.values = [this._valueMin(), this._valueMin()]), this.range && this.range.length ? this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({
                    left: "",
                    bottom: ""
                }) : (this.range = n("<div><\/div>").appendTo(this.element), i = "ui-slider-range ui-widget-header ui-corner-all"), this.range.addClass(i + ("min" === t.range || "max" === t.range ? " ui-slider-range-" + t.range : ""))) : (this.range && this.range.remove(), this.range = null)
            },
            _setupEvents: function() {
                this._off(this.handles);
                this._on(this.handles, this._handleEvents);
                this._hoverable(this.handles);
                this._focusable(this.handles)
            },
            _destroy: function() {
                this.handles.remove();
                this.range && this.range.remove();
                this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");
                this._mouseDestroy()
            },
            _mouseCapture: function(t) {
                var s, f, r, i, u, h, e, c, o = this,
                    l = this.options;
                return l.disabled ? !1 : (this.elementSize = {
                    width: this.element.outerWidth(),
                    height: this.element.outerHeight()
                }, this.elementOffset = this.element.offset(), s = {
                    x: t.pageX,
                    y: t.pageY
                }, f = this._normValueFromMouse(s), r = this._valueMax() - this._valueMin() + 1, this.handles.each(function(t) {
                    var e = Math.abs(f - o.values(t));
                    (r > e || r === e && (t === o._lastChangedValue || o.values(t) === l.min)) && (r = e, i = n(this), u = t)
                }), h = this._start(t, u), h === !1 ? !1 : (this._mouseSliding = !0, this._handleIndex = u, i.addClass("ui-state-active").focus(), e = i.offset(), c = !n(t.target).parents().addBack().is(".ui-slider-handle"), this._clickOffset = c ? {
                    left: 0,
                    top: 0
                } : {
                    left: t.pageX - e.left - i.width() / 2,
                    top: t.pageY - e.top - i.height() / 2 - (parseInt(i.css("borderTopWidth"), 10) || 0) - (parseInt(i.css("borderBottomWidth"), 10) || 0) + (parseInt(i.css("marginTop"), 10) || 0)
                }, this.handles.hasClass("ui-state-hover") || this._slide(t, u, f), this._animateOff = !0, !0))
            },
            _mouseStart: function() {
                return !0
            },
            _mouseDrag: function(n) {
                var t = {
                        x: n.pageX,
                        y: n.pageY
                    },
                    i = this._normValueFromMouse(t);
                return this._slide(n, this._handleIndex, i), !1
            },
            _mouseStop: function(n) {
                return this.handles.removeClass("ui-state-active"), this._mouseSliding = !1, this._stop(n, this._handleIndex), this._change(n, this._handleIndex), this._handleIndex = null, this._clickOffset = null, this._animateOff = !1, !1
            },
            _detectOrientation: function() {
                this.orientation = "vertical" === this.options.orientation ? "vertical" : "horizontal"
            },
            _normValueFromMouse: function(n) {
                var i, r, t, u, f;
                return "horizontal" === this.orientation ? (i = this.elementSize.width, r = n.x - this.elementOffset.left - (this._clickOffset ? this._clickOffset.left : 0)) : (i = this.elementSize.height, r = n.y - this.elementOffset.top - (this._clickOffset ? this._clickOffset.top : 0)), t = r / i, t > 1 && (t = 1), 0 > t && (t = 0), "vertical" === this.orientation && (t = 1 - t), u = this._valueMax() - this._valueMin(), f = this._valueMin() + t * u, this._trimAlignValue(f)
            },
            _start: function(n, t) {
                var i = {
                    handle: this.handles[t],
                    value: this.value()
                };
                return this.options.values && this.options.values.length && (i.value = this.values(t), i.values = this.values()), this._trigger("start", n, i)
            },
            _slide: function(n, t, i) {
                var r, f, u;
                this.options.values && this.options.values.length ? (r = this.values(t ? 0 : 1), 2 === this.options.values.length && this.options.range === !0 && (0 === t && i > r || 1 === t && r > i) && (i = r), i !== this.values(t) && (f = this.values(), f[t] = i, u = this._trigger("slide", n, {
                    handle: this.handles[t],
                    value: i,
                    values: f
                }), r = this.values(t ? 0 : 1), u !== !1 && this.values(t, i))) : i !== this.value() && (u = this._trigger("slide", n, {
                    handle: this.handles[t],
                    value: i
                }), u !== !1 && this.value(i))
            },
            _stop: function(n, t) {
                var i = {
                    handle: this.handles[t],
                    value: this.value()
                };
                this.options.values && this.options.values.length && (i.value = this.values(t), i.values = this.values());
                this._trigger("stop", n, i)
            },
            _change: function(n, t) {
                if (!this._keySliding && !this._mouseSliding) {
                    var i = {
                        handle: this.handles[t],
                        value: this.value()
                    };
                    this.options.values && this.options.values.length && (i.value = this.values(t), i.values = this.values());
                    this._lastChangedValue = t;
                    this._trigger("change", n, i)
                }
            },
            value: function(n) {
                return arguments.length ? (this.options.value = this._trimAlignValue(n), this._refreshValue(), this._change(null, 0), void 0) : this._value()
            },
            values: function(t, i) {
                var u, f, r;
                if (arguments.length > 1) return this.options.values[t] = this._trimAlignValue(i), this._refreshValue(), this._change(null, t), void 0;
                if (!arguments.length) return this._values();
                if (!n.isArray(arguments[0])) return this.options.values && this.options.values.length ? this._values(t) : this.value();
                for (u = this.options.values, f = arguments[0], r = 0; u.length > r; r += 1) u[r] = this._trimAlignValue(f[r]), this._change(null, r);
                this._refreshValue()
            },
            _setOption: function(t, i) {
                var r, u = 0;
                switch ("range" === t && this.options.range === !0 && ("min" === i ? (this.options.value = this._values(0), this.options.values = null) : "max" === i && (this.options.value = this._values(this.options.values.length - 1), this.options.values = null)), n.isArray(this.options.values) && (u = this.options.values.length), "disabled" === t && this.element.toggleClass("ui-state-disabled", !!i), this._super(t, i), t) {
                    case "orientation":
                        this._detectOrientation();
                        this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-" + this.orientation);
                        this._refreshValue();
                        this.handles.css("horizontal" === i ? "bottom" : "left", "");
                        break;
                    case "value":
                        this._animateOff = !0;
                        this._refreshValue();
                        this._change(null, 0);
                        this._animateOff = !1;
                        break;
                    case "values":
                        for (this._animateOff = !0, this._refreshValue(), r = 0; u > r; r += 1) this._change(null, r);
                        this._animateOff = !1;
                        break;
                    case "min":
                    case "max":
                        this._animateOff = !0;
                        this._refreshValue();
                        this._animateOff = !1;
                        break;
                    case "range":
                        this._animateOff = !0;
                        this._refresh();
                        this._animateOff = !1
                }
            },
            _value: function() {
                var n = this.options.value;
                return this._trimAlignValue(n)
            },
            _values: function(n) {
                var r, t, i;
                if (arguments.length) return r = this.options.values[n], r = this._trimAlignValue(r);
                if (this.options.values && this.options.values.length) {
                    for (t = this.options.values.slice(), i = 0; t.length > i; i += 1) t[i] = this._trimAlignValue(t[i]);
                    return t
                }
                return []
            },
            _trimAlignValue: function(n) {
                if (this._valueMin() >= n) return this._valueMin();
                if (n >= this._valueMax()) return this._valueMax();
                var t = this.options.step > 0 ? this.options.step : 1,
                    i = (n - this._valueMin()) % t,
                    r = n - i;
                return 2 * Math.abs(i) >= t && (r += i > 0 ? t : -t), parseFloat(r.toFixed(5))
            },
            _valueMin: function() {
                return this.options.min
            },
            _valueMax: function() {
                return this.options.max
            },
            _refreshValue: function() {
                var s, t, c, f, h, e = this.options.range,
                    i = this.options,
                    r = this,
                    u = this._animateOff ? !1 : i.animate,
                    o = {};
                this.options.values && this.options.values.length ? this.handles.each(function(f) {
                    t = 100 * ((r.values(f) - r._valueMin()) / (r._valueMax() - r._valueMin()));
                    o["horizontal" === r.orientation ? "left" : "bottom"] = t + "%";
                    n(this).stop(1, 1)[u ? "animate" : "css"](o, i.animate);
                    r.options.range === !0 && ("horizontal" === r.orientation ? (0 === f && r.range.stop(1, 1)[u ? "animate" : "css"]({
                        left: t + "%"
                    }, i.animate), 1 === f && r.range[u ? "animate" : "css"]({
                        width: t - s + "%"
                    }, {
                        queue: !1,
                        duration: i.animate
                    })) : (0 === f && r.range.stop(1, 1)[u ? "animate" : "css"]({
                        bottom: t + "%"
                    }, i.animate), 1 === f && r.range[u ? "animate" : "css"]({
                        height: t - s + "%"
                    }, {
                        queue: !1,
                        duration: i.animate
                    })));
                    s = t
                }) : (c = this.value(), f = this._valueMin(), h = this._valueMax(), t = h !== f ? 100 * ((c - f) / (h - f)) : 0, o["horizontal" === this.orientation ? "left" : "bottom"] = t + "%", this.handle.stop(1, 1)[u ? "animate" : "css"](o, i.animate), "min" === e && "horizontal" === this.orientation && this.range.stop(1, 1)[u ? "animate" : "css"]({
                    width: t + "%"
                }, i.animate), "max" === e && "horizontal" === this.orientation && this.range[u ? "animate" : "css"]({
                    width: 100 - t + "%"
                }, {
                    queue: !1,
                    duration: i.animate
                }), "min" === e && "vertical" === this.orientation && this.range.stop(1, 1)[u ? "animate" : "css"]({
                    height: t + "%"
                }, i.animate), "max" === e && "vertical" === this.orientation && this.range[u ? "animate" : "css"]({
                    height: 100 - t + "%"
                }, {
                    queue: !1,
                    duration: i.animate
                }))
            },
            _handleEvents: {
                keydown: function(t) {
                    var e, r, i, u, f = n(t.target).data("ui-slider-handle-index");
                    switch (t.keyCode) {
                        case n.ui.keyCode.HOME:
                        case n.ui.keyCode.END:
                        case n.ui.keyCode.PAGE_UP:
                        case n.ui.keyCode.PAGE_DOWN:
                        case n.ui.keyCode.UP:
                        case n.ui.keyCode.RIGHT:
                        case n.ui.keyCode.DOWN:
                        case n.ui.keyCode.LEFT:
                            if (t.preventDefault(), !this._keySliding && (this._keySliding = !0, n(t.target).addClass("ui-state-active"), e = this._start(t, f), e === !1)) return
                    }
                    switch (u = this.options.step, r = i = this.options.values && this.options.values.length ? this.values(f) : this.value(), t.keyCode) {
                        case n.ui.keyCode.HOME:
                            i = this._valueMin();
                            break;
                        case n.ui.keyCode.END:
                            i = this._valueMax();
                            break;
                        case n.ui.keyCode.PAGE_UP:
                            i = this._trimAlignValue(r + (this._valueMax() - this._valueMin()) / this.numPages);
                            break;
                        case n.ui.keyCode.PAGE_DOWN:
                            i = this._trimAlignValue(r - (this._valueMax() - this._valueMin()) / this.numPages);
                            break;
                        case n.ui.keyCode.UP:
                        case n.ui.keyCode.RIGHT:
                            if (r === this._valueMax()) return;
                            i = this._trimAlignValue(r + u);
                            break;
                        case n.ui.keyCode.DOWN:
                        case n.ui.keyCode.LEFT:
                            if (r === this._valueMin()) return;
                            i = this._trimAlignValue(r - u)
                    }
                    this._slide(t, f, i)
                },
                keyup: function(t) {
                    var i = n(t.target).data("ui-slider-handle-index");
                    this._keySliding && (this._keySliding = !1, this._stop(t, i), this._change(t, i), n(t.target).removeClass("ui-state-active"))
                }
            }
        });
        n.widget("ui.sortable", n.ui.mouse, {
            version: "1.11.1",
            widgetEventPrefix: "sort",
            ready: !1,
            options: {
                appendTo: "parent",
                axis: !1,
                connectWith: !1,
                containment: !1,
                cursor: "auto",
                cursorAt: !1,
                dropOnEmpty: !0,
                forcePlaceholderSize: !1,
                forceHelperSize: !1,
                grid: !1,
                handle: !1,
                helper: "original",
                items: "> *",
                opacity: !1,
                placeholder: !1,
                revert: !1,
                scroll: !0,
                scrollSensitivity: 20,
                scrollSpeed: 20,
                scope: "default",
                tolerance: "intersect",
                zIndex: 1e3,
                activate: null,
                beforeStop: null,
                change: null,
                deactivate: null,
                out: null,
                over: null,
                receive: null,
                remove: null,
                sort: null,
                start: null,
                stop: null,
                update: null
            },
            _isOverAxis: function(n, t, i) {
                return n >= t && t + i > n
            },
            _isFloating: function(n) {
                return /left|right/.test(n.css("float")) || /inline|table-cell/.test(n.css("display"))
            },
            _create: function() {
                var n = this.options;
                this.containerCache = {};
                this.element.addClass("ui-sortable");
                this.refresh();
                this.floating = this.items.length ? "x" === n.axis || this._isFloating(this.items[0].item) : !1;
                this.offset = this.element.offset();
                this._mouseInit();
                this._setHandleClassName();
                this.ready = !0
            },
            _setOption: function(n, t) {
                this._super(n, t);
                "handle" === n && this._setHandleClassName()
            },
            _setHandleClassName: function() {
                this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle");
                n.each(this.items, function() {
                    (this.instance.options.handle ? this.item.find(this.instance.options.handle) : this.item).addClass("ui-sortable-handle")
                })
            },
            _destroy: function() {
                this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle");
                this._mouseDestroy();
                for (var n = this.items.length - 1; n >= 0; n--) this.items[n].item.removeData(this.widgetName + "-item");
                return this
            },
            _mouseCapture: function(t, i) {
                var r = null,
                    f = !1,
                    u = this;
                return this.reverting ? !1 : this.options.disabled || "static" === this.options.type ? !1 : (this._refreshItems(t), n(t.target).parents().each(function() {
                    if (n.data(this, u.widgetName + "-item") === u) return r = n(this), !1
                }), n.data(t.target, u.widgetName + "-item") === u && (r = n(t.target)), r ? !this.options.handle || i || (n(this.options.handle, r).find("*").addBack().each(function() {
                    this === t.target && (f = !0)
                }), f) ? (this.currentItem = r, this._removeCurrentsFromItems(), !0) : !1 : !1)
            },
            _mouseStart: function(t, i, r) {
                var f, e, u = this.options;
                if (this.currentContainer = this, this.refreshPositions(), this.helper = this._createHelper(t), this._cacheHelperProportions(), this._cacheMargins(), this.scrollParent = this.helper.scrollParent(), this.offset = this.currentItem.offset(), this.offset = {
                        top: this.offset.top - this.margins.top,
                        left: this.offset.left - this.margins.left
                    }, n.extend(this.offset, {
                        click: {
                            left: t.pageX - this.offset.left,
                            top: t.pageY - this.offset.top
                        },
                        parent: this._getParentOffset(),
                        relative: this._getRelativeOffset()
                    }), this.helper.css("position", "absolute"), this.cssPosition = this.helper.css("position"), this.originalPosition = this._generatePosition(t), this.originalPageX = t.pageX, this.originalPageY = t.pageY, u.cursorAt && this._adjustOffsetFromHelper(u.cursorAt), this.domPosition = {
                        prev: this.currentItem.prev()[0],
                        parent: this.currentItem.parent()[0]
                    }, this.helper[0] !== this.currentItem[0] && this.currentItem.hide(), this._createPlaceholder(), u.containment && this._setContainment(), u.cursor && "auto" !== u.cursor && (e = this.document.find("body"), this.storedCursor = e.css("cursor"), e.css("cursor", u.cursor), this.storedStylesheet = n("<style>*{ cursor: " + u.cursor + " !important; }<\/style>").appendTo(e)), u.opacity && (this.helper.css("opacity") && (this._storedOpacity = this.helper.css("opacity")), this.helper.css("opacity", u.opacity)), u.zIndex && (this.helper.css("zIndex") && (this._storedZIndex = this.helper.css("zIndex")), this.helper.css("zIndex", u.zIndex)), this.scrollParent[0] !== document && "HTML" !== this.scrollParent[0].tagName && (this.overflowOffset = this.scrollParent.offset()), this._trigger("start", t, this._uiHash()), this._preserveHelperProportions || this._cacheHelperProportions(), !r)
                    for (f = this.containers.length - 1; f >= 0; f--) this.containers[f]._trigger("activate", t, this._uiHash(this));
                return n.ui.ddmanager && (n.ui.ddmanager.current = this), n.ui.ddmanager && !u.dropBehaviour && n.ui.ddmanager.prepareOffsets(this, t), this.dragging = !0, this.helper.addClass("ui-sortable-helper"), this._mouseDrag(t), !0
            },
            _mouseDrag: function(t) {
                var e, u, f, o, i = this.options,
                    r = !1;
                for (this.position = this._generatePosition(t), this.positionAbs = this._convertPositionTo("absolute"), this.lastPositionAbs || (this.lastPositionAbs = this.positionAbs), this.options.scroll && (this.scrollParent[0] !== document && "HTML" !== this.scrollParent[0].tagName ? (this.overflowOffset.top + this.scrollParent[0].offsetHeight - t.pageY < i.scrollSensitivity ? this.scrollParent[0].scrollTop = r = this.scrollParent[0].scrollTop + i.scrollSpeed : t.pageY - this.overflowOffset.top < i.scrollSensitivity && (this.scrollParent[0].scrollTop = r = this.scrollParent[0].scrollTop - i.scrollSpeed), this.overflowOffset.left + this.scrollParent[0].offsetWidth - t.pageX < i.scrollSensitivity ? this.scrollParent[0].scrollLeft = r = this.scrollParent[0].scrollLeft + i.scrollSpeed : t.pageX - this.overflowOffset.left < i.scrollSensitivity && (this.scrollParent[0].scrollLeft = r = this.scrollParent[0].scrollLeft - i.scrollSpeed)) : (t.pageY - n(document).scrollTop() < i.scrollSensitivity ? r = n(document).scrollTop(n(document).scrollTop() - i.scrollSpeed) : n(window).height() - (t.pageY - n(document).scrollTop()) < i.scrollSensitivity && (r = n(document).scrollTop(n(document).scrollTop() + i.scrollSpeed)), t.pageX - n(document).scrollLeft() < i.scrollSensitivity ? r = n(document).scrollLeft(n(document).scrollLeft() - i.scrollSpeed) : n(window).width() - (t.pageX - n(document).scrollLeft()) < i.scrollSensitivity && (r = n(document).scrollLeft(n(document).scrollLeft() + i.scrollSpeed))), r !== !1 && n.ui.ddmanager && !i.dropBehaviour && n.ui.ddmanager.prepareOffsets(this, t)), this.positionAbs = this._convertPositionTo("absolute"), this.options.axis && "y" === this.options.axis || (this.helper[0].style.left = this.position.left + "px"), this.options.axis && "x" === this.options.axis || (this.helper[0].style.top = this.position.top + "px"), e = this.items.length - 1; e >= 0; e--)
                    if (u = this.items[e], f = u.item[0], o = this._intersectsWithPointer(u), o && u.instance === this.currentContainer && f !== this.currentItem[0] && this.placeholder[1 === o ? "next" : "prev"]()[0] !== f && !n.contains(this.placeholder[0], f) && ("semi-dynamic" === this.options.type ? !n.contains(this.element[0], f) : !0)) {
                        if (this.direction = 1 === o ? "down" : "up", "pointer" !== this.options.tolerance && !this._intersectsWithSides(u)) break;
                        this._rearrange(t, u);
                        this._trigger("change", t, this._uiHash());
                        break
                    }
                return this._contactContainers(t), n.ui.ddmanager && n.ui.ddmanager.drag(this, t), this._trigger("sort", t, this._uiHash()), this.lastPositionAbs = this.positionAbs, !1
            },
            _mouseStop: function(t, i) {
                if (t) {
                    if (n.ui.ddmanager && !this.options.dropBehaviour && n.ui.ddmanager.drop(this, t), this.options.revert) {
                        var e = this,
                            f = this.placeholder.offset(),
                            r = this.options.axis,
                            u = {};
                        r && "x" !== r || (u.left = f.left - this.offset.parent.left - this.margins.left + (this.offsetParent[0] === document.body ? 0 : this.offsetParent[0].scrollLeft));
                        r && "y" !== r || (u.top = f.top - this.offset.parent.top - this.margins.top + (this.offsetParent[0] === document.body ? 0 : this.offsetParent[0].scrollTop));
                        this.reverting = !0;
                        n(this.helper).animate(u, parseInt(this.options.revert, 10) || 500, function() {
                            e._clear(t)
                        })
                    } else this._clear(t, i);
                    return !1
                }
            },
            cancel: function() {
                if (this.dragging) {
                    this._mouseUp({
                        target: null
                    });
                    "original" === this.options.helper ? this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper") : this.currentItem.show();
                    for (var t = this.containers.length - 1; t >= 0; t--) this.containers[t]._trigger("deactivate", null, this._uiHash(this)), this.containers[t].containerCache.over && (this.containers[t]._trigger("out", null, this._uiHash(this)), this.containers[t].containerCache.over = 0)
                }
                return this.placeholder && (this.placeholder[0].parentNode && this.placeholder[0].parentNode.removeChild(this.placeholder[0]), "original" !== this.options.helper && this.helper && this.helper[0].parentNode && this.helper.remove(), n.extend(this, {
                    helper: null,
                    dragging: !1,
                    reverting: !1,
                    _noFinalSort: null
                }), this.domPosition.prev ? n(this.domPosition.prev).after(this.currentItem) : n(this.domPosition.parent).prepend(this.currentItem)), this
            },
            serialize: function(t) {
                var r = this._getItemsAsjQuery(t && t.connected),
                    i = [];
                return t = t || {}, n(r).each(function() {
                    var r = (n(t.item || this).attr(t.attribute || "id") || "").match(t.expression || /(.+)[\-=_](.+)/);
                    r && i.push((t.key || r[1] + "[]") + "=" + (t.key && t.expression ? r[1] : r[2]))
                }), !i.length && t.key && i.push(t.key + "="), i.join("&")
            },
            toArray: function(t) {
                var r = this._getItemsAsjQuery(t && t.connected),
                    i = [];
                return t = t || {}, r.each(function() {
                    i.push(n(t.item || this).attr(t.attribute || "id") || "")
                }), i
            },
            _intersectsWith: function(n) {
                var t = this.positionAbs.left,
                    h = t + this.helperProportions.width,
                    i = this.positionAbs.top,
                    c = i + this.helperProportions.height,
                    r = n.left,
                    f = r + n.width,
                    u = n.top,
                    e = u + n.height,
                    o = this.offset.click.top,
                    s = this.offset.click.left,
                    l = "x" === this.options.axis || i + o > u && e > i + o,
                    a = "y" === this.options.axis || t + s > r && f > t + s,
                    v = l && a;
                return "pointer" === this.options.tolerance || this.options.forcePointerForContainers || "pointer" !== this.options.tolerance && this.helperProportions[this.floating ? "width" : "height"] > n[this.floating ? "width" : "height"] ? v : t + this.helperProportions.width / 2 > r && f > h - this.helperProportions.width / 2 && i + this.helperProportions.height / 2 > u && e > c - this.helperProportions.height / 2
            },
            _intersectsWithPointer: function(n) {
                var r = "x" === this.options.axis || this._isOverAxis(this.positionAbs.top + this.offset.click.top, n.top, n.height),
                    u = "y" === this.options.axis || this._isOverAxis(this.positionAbs.left + this.offset.click.left, n.left, n.width),
                    f = r && u,
                    t = this._getDragVerticalDirection(),
                    i = this._getDragHorizontalDirection();
                return f ? this.floating ? i && "right" === i || "down" === t ? 2 : 1 : t && ("down" === t ? 2 : 1) : !1
            },
            _intersectsWithSides: function(n) {
                var r = this._isOverAxis(this.positionAbs.top + this.offset.click.top, n.top + n.height / 2, n.height),
                    u = this._isOverAxis(this.positionAbs.left + this.offset.click.left, n.left + n.width / 2, n.width),
                    t = this._getDragVerticalDirection(),
                    i = this._getDragHorizontalDirection();
                return this.floating && i ? "right" === i && u || "left" === i && !u : t && ("down" === t && r || "up" === t && !r)
            },
            _getDragVerticalDirection: function() {
                var n = this.positionAbs.top - this.lastPositionAbs.top;
                return 0 !== n && (n > 0 ? "down" : "up")
            },
            _getDragHorizontalDirection: function() {
                var n = this.positionAbs.left - this.lastPositionAbs.left;
                return 0 !== n && (n > 0 ? "right" : "left")
            },
            refresh: function(n) {
                return this._refreshItems(n), this._setHandleClassName(), this.refreshPositions(), this
            },
            _connectWith: function() {
                var n = this.options;
                return n.connectWith.constructor === String ? [n.connectWith] : n.connectWith
            },
            _getItemsAsjQuery: function(t) {
                function h() {
                    s.push(this)
                }
                var r, u, e, i, s = [],
                    f = [],
                    o = this._connectWith();
                if (o && t)
                    for (r = o.length - 1; r >= 0; r--)
                        for (e = n(o[r]), u = e.length - 1; u >= 0; u--) i = n.data(e[u], this.widgetFullName), i && i !== this && !i.options.disabled && f.push([n.isFunction(i.options.items) ? i.options.items.call(i.element) : n(i.options.items, i.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), i]);
                for (f.push([n.isFunction(this.options.items) ? this.options.items.call(this.element, null, {
                        options: this.options,
                        item: this.currentItem
                    }) : n(this.options.items, this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), this]), r = f.length - 1; r >= 0; r--) f[r][0].each(h);
                return n(s)
            },
            _removeCurrentsFromItems: function() {
                var t = this.currentItem.find(":data(" + this.widgetName + "-item)");
                this.items = n.grep(this.items, function(n) {
                    for (var i = 0; t.length > i; i++)
                        if (t[i] === n.item[0]) return !1;
                    return !0
                })
            },
            _refreshItems: function(t) {
                this.items = [];
                this.containers = [this];
                var r, u, e, i, o, s, h, l, a = this.items,
                    f = [
                        [n.isFunction(this.options.items) ? this.options.items.call(this.element[0], t, {
                            item: this.currentItem
                        }) : n(this.options.items, this.element), this]
                    ],
                    c = this._connectWith();
                if (c && this.ready)
                    for (r = c.length - 1; r >= 0; r--)
                        for (e = n(c[r]), u = e.length - 1; u >= 0; u--) i = n.data(e[u], this.widgetFullName), i && i !== this && !i.options.disabled && (f.push([n.isFunction(i.options.items) ? i.options.items.call(i.element[0], t, {
                            item: this.currentItem
                        }) : n(i.options.items, i.element), i]), this.containers.push(i));
                for (r = f.length - 1; r >= 0; r--)
                    for (o = f[r][1], s = f[r][0], u = 0, l = s.length; l > u; u++) h = n(s[u]), h.data(this.widgetName + "-item", o), a.push({
                        item: h,
                        instance: o,
                        width: 0,
                        height: 0,
                        left: 0,
                        top: 0
                    })
            },
            refreshPositions: function(t) {
                this.offsetParent && this.helper && (this.offset.parent = this._getParentOffset());
                for (var r, f, u, i = this.items.length - 1; i >= 0; i--) r = this.items[i], r.instance !== this.currentContainer && this.currentContainer && r.item[0] !== this.currentItem[0] || (f = this.options.toleranceElement ? n(this.options.toleranceElement, r.item) : r.item, t || (r.width = f.outerWidth(), r.height = f.outerHeight()), u = f.offset(), r.left = u.left, r.top = u.top);
                if (this.options.custom && this.options.custom.refreshContainers) this.options.custom.refreshContainers.call(this);
                else
                    for (i = this.containers.length - 1; i >= 0; i--) u = this.containers[i].element.offset(), this.containers[i].containerCache.left = u.left, this.containers[i].containerCache.top = u.top, this.containers[i].containerCache.width = this.containers[i].element.outerWidth(), this.containers[i].containerCache.height = this.containers[i].element.outerHeight();
                return this
            },
            _createPlaceholder: function(t) {
                t = t || this;
                var r, i = t.options;
                i.placeholder && i.placeholder.constructor !== String || (r = i.placeholder, i.placeholder = {
                    element: function() {
                        var u = t.currentItem[0].nodeName.toLowerCase(),
                            i = n("<" + u + ">", t.document[0]).addClass(r || t.currentItem[0].className + " ui-sortable-placeholder").removeClass("ui-sortable-helper");
                        return "tr" === u ? t.currentItem.children().each(function() {
                            n("<td>&#160;<\/td>", t.document[0]).attr("colspan", n(this).attr("colspan") || 1).appendTo(i)
                        }) : "img" === u && i.attr("src", t.currentItem.attr("src")), r || i.css("visibility", "hidden"), i
                    },
                    update: function(n, u) {
                        (!r || i.forcePlaceholderSize) && (u.height() || u.height(t.currentItem.innerHeight() - parseInt(t.currentItem.css("paddingTop") || 0, 10) - parseInt(t.currentItem.css("paddingBottom") || 0, 10)), u.width() || u.width(t.currentItem.innerWidth() - parseInt(t.currentItem.css("paddingLeft") || 0, 10) - parseInt(t.currentItem.css("paddingRight") || 0, 10)))
                    }
                });
                t.placeholder = n(i.placeholder.element.call(t.element, t.currentItem));
                t.currentItem.after(t.placeholder);
                i.placeholder.update(t, t.placeholder)
            },
            _contactContainers: function(t) {
                for (var u, c, f, a, v, o, l, s, h, e = null, i = null, r = this.containers.length - 1; r >= 0; r--)
                    if (!n.contains(this.currentItem[0], this.containers[r].element[0]))
                        if (this._intersectsWith(this.containers[r].containerCache)) {
                            if (e && n.contains(this.containers[r].element[0], e.element[0])) continue;
                            e = this.containers[r];
                            i = r
                        } else this.containers[r].containerCache.over && (this.containers[r]._trigger("out", t, this._uiHash(this)), this.containers[r].containerCache.over = 0);
                if (e)
                    if (1 === this.containers.length) this.containers[i].containerCache.over || (this.containers[i]._trigger("over", t, this._uiHash(this)), this.containers[i].containerCache.over = 1);
                    else {
                        for (c = 1e4, f = null, s = e.floating || this._isFloating(this.currentItem), a = s ? "left" : "top", v = s ? "width" : "height", h = s ? "clientX" : "clientY", u = this.items.length - 1; u >= 0; u--) n.contains(this.containers[i].element[0], this.items[u].item[0]) && this.items[u].item[0] !== this.currentItem[0] && (o = this.items[u].item.offset()[a], l = !1, t[h] - o > this.items[u][v] / 2 && (l = !0), c > Math.abs(t[h] - o) && (c = Math.abs(t[h] - o), f = this.items[u], this.direction = l ? "up" : "down"));
                        if (!f && !this.options.dropOnEmpty) return;
                        if (this.currentContainer === this.containers[i]) return;
                        f ? this._rearrange(t, f, null, !0) : this._rearrange(t, null, this.containers[i].element, !0);
                        this._trigger("change", t, this._uiHash());
                        this.containers[i]._trigger("change", t, this._uiHash(this));
                        this.currentContainer = this.containers[i];
                        this.options.placeholder.update(this.currentContainer, this.placeholder);
                        this.containers[i]._trigger("over", t, this._uiHash(this));
                        this.containers[i].containerCache.over = 1
                    }
            },
            _createHelper: function(t) {
                var r = this.options,
                    i = n.isFunction(r.helper) ? n(r.helper.apply(this.element[0], [t, this.currentItem])) : "clone" === r.helper ? this.currentItem.clone() : this.currentItem;
                return i.parents("body").length || n("parent" !== r.appendTo ? r.appendTo : this.currentItem[0].parentNode)[0].appendChild(i[0]), i[0] === this.currentItem[0] && (this._storedCSS = {
                    width: this.currentItem[0].style.width,
                    height: this.currentItem[0].style.height,
                    position: this.currentItem.css("position"),
                    top: this.currentItem.css("top"),
                    left: this.currentItem.css("left")
                }), (!i[0].style.width || r.forceHelperSize) && i.width(this.currentItem.width()), (!i[0].style.height || r.forceHelperSize) && i.height(this.currentItem.height()), i
            },
            _adjustOffsetFromHelper: function(t) {
                "string" == typeof t && (t = t.split(" "));
                n.isArray(t) && (t = {
                    left: +t[0],
                    top: +t[1] || 0
                });
                "left" in t && (this.offset.click.left = t.left + this.margins.left);
                "right" in t && (this.offset.click.left = this.helperProportions.width - t.right + this.margins.left);
                "top" in t && (this.offset.click.top = t.top + this.margins.top);
                "bottom" in t && (this.offset.click.top = this.helperProportions.height - t.bottom + this.margins.top)
            },
            _getParentOffset: function() {
                this.offsetParent = this.helper.offsetParent();
                var t = this.offsetParent.offset();
                return "absolute" === this.cssPosition && this.scrollParent[0] !== document && n.contains(this.scrollParent[0], this.offsetParent[0]) && (t.left += this.scrollParent.scrollLeft(), t.top += this.scrollParent.scrollTop()), (this.offsetParent[0] === document.body || this.offsetParent[0].tagName && "html" === this.offsetParent[0].tagName.toLowerCase() && n.ui.ie) && (t = {
                    top: 0,
                    left: 0
                }), {
                    top: t.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                    left: t.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
                }
            },
            _getRelativeOffset: function() {
                if ("relative" === this.cssPosition) {
                    var n = this.currentItem.position();
                    return {
                        top: n.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(),
                        left: n.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()
                    }
                }
                return {
                    top: 0,
                    left: 0
                }
            },
            _cacheMargins: function() {
                this.margins = {
                    left: parseInt(this.currentItem.css("marginLeft"), 10) || 0,
                    top: parseInt(this.currentItem.css("marginTop"), 10) || 0
                }
            },
            _cacheHelperProportions: function() {
                this.helperProportions = {
                    width: this.helper.outerWidth(),
                    height: this.helper.outerHeight()
                }
            },
            _setContainment: function() {
                var t, r, u, i = this.options;
                "parent" === i.containment && (i.containment = this.helper[0].parentNode);
                ("document" === i.containment || "window" === i.containment) && (this.containment = [0 - this.offset.relative.left - this.offset.parent.left, 0 - this.offset.relative.top - this.offset.parent.top, n("document" === i.containment ? document : window).width() - this.helperProportions.width - this.margins.left, (n("document" === i.containment ? document : window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]);
                /^(document|window|parent)$/.test(i.containment) || (t = n(i.containment)[0], r = n(i.containment).offset(), u = "hidden" !== n(t).css("overflow"), this.containment = [r.left + (parseInt(n(t).css("borderLeftWidth"), 10) || 0) + (parseInt(n(t).css("paddingLeft"), 10) || 0) - this.margins.left, r.top + (parseInt(n(t).css("borderTopWidth"), 10) || 0) + (parseInt(n(t).css("paddingTop"), 10) || 0) - this.margins.top, r.left + (u ? Math.max(t.scrollWidth, t.offsetWidth) : t.offsetWidth) - (parseInt(n(t).css("borderLeftWidth"), 10) || 0) - (parseInt(n(t).css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left, r.top + (u ? Math.max(t.scrollHeight, t.offsetHeight) : t.offsetHeight) - (parseInt(n(t).css("borderTopWidth"), 10) || 0) - (parseInt(n(t).css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top])
            },
            _convertPositionTo: function(t, i) {
                i || (i = this.position);
                var r = "absolute" === t ? 1 : -1,
                    u = "absolute" !== this.cssPosition || this.scrollParent[0] !== document && n.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent,
                    f = /(html|body)/i.test(u[0].tagName);
                return {
                    top: i.top + this.offset.relative.top * r + this.offset.parent.top * r - ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : f ? 0 : u.scrollTop()) * r,
                    left: i.left + this.offset.relative.left * r + this.offset.parent.left * r - ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : f ? 0 : u.scrollLeft()) * r
                }
            },
            _generatePosition: function(t) {
                var r, u, i = this.options,
                    f = t.pageX,
                    e = t.pageY,
                    o = "absolute" !== this.cssPosition || this.scrollParent[0] !== document && n.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent,
                    s = /(html|body)/i.test(o[0].tagName);
                return "relative" !== this.cssPosition || this.scrollParent[0] !== document && this.scrollParent[0] !== this.offsetParent[0] || (this.offset.relative = this._getRelativeOffset()), this.originalPosition && (this.containment && (t.pageX - this.offset.click.left < this.containment[0] && (f = this.containment[0] + this.offset.click.left), t.pageY - this.offset.click.top < this.containment[1] && (e = this.containment[1] + this.offset.click.top), t.pageX - this.offset.click.left > this.containment[2] && (f = this.containment[2] + this.offset.click.left), t.pageY - this.offset.click.top > this.containment[3] && (e = this.containment[3] + this.offset.click.top)), i.grid && (r = this.originalPageY + Math.round((e - this.originalPageY) / i.grid[1]) * i.grid[1], e = this.containment ? r - this.offset.click.top >= this.containment[1] && r - this.offset.click.top <= this.containment[3] ? r : r - this.offset.click.top >= this.containment[1] ? r - i.grid[1] : r + i.grid[1] : r, u = this.originalPageX + Math.round((f - this.originalPageX) / i.grid[0]) * i.grid[0], f = this.containment ? u - this.offset.click.left >= this.containment[0] && u - this.offset.click.left <= this.containment[2] ? u : u - this.offset.click.left >= this.containment[0] ? u - i.grid[0] : u + i.grid[0] : u)), {
                    top: e - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : s ? 0 : o.scrollTop()),
                    left: f - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : s ? 0 : o.scrollLeft())
                }
            },
            _rearrange: function(n, t, i, r) {
                i ? i[0].appendChild(this.placeholder[0]) : t.item[0].parentNode.insertBefore(this.placeholder[0], "down" === this.direction ? t.item[0] : t.item[0].nextSibling);
                this.counter = this.counter ? ++this.counter : 1;
                var u = this.counter;
                this._delay(function() {
                    u === this.counter && this.refreshPositions(!r)
                })
            },
            _clear: function(n, t) {
                function u(n, t, i) {
                    return function(r) {
                        i._trigger(n, r, t._uiHash(t))
                    }
                }
                this.reverting = !1;
                var i, r = [];
                if (!this._noFinalSort && this.currentItem.parent().length && this.placeholder.before(this.currentItem), this._noFinalSort = null, this.helper[0] === this.currentItem[0]) {
                    for (i in this._storedCSS)("auto" === this._storedCSS[i] || "static" === this._storedCSS[i]) && (this._storedCSS[i] = "");
                    this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")
                } else this.currentItem.show();
                for (this.fromOutside && !t && r.push(function(n) {
                        this._trigger("receive", n, this._uiHash(this.fromOutside))
                    }), !this.fromOutside && this.domPosition.prev === this.currentItem.prev().not(".ui-sortable-helper")[0] && this.domPosition.parent === this.currentItem.parent()[0] || t || r.push(function(n) {
                        this._trigger("update", n, this._uiHash())
                    }), this !== this.currentContainer && (t || (r.push(function(n) {
                        this._trigger("remove", n, this._uiHash())
                    }), r.push(function(n) {
                        return function(t) {
                            n._trigger("receive", t, this._uiHash(this))
                        }
                    }.call(this, this.currentContainer)), r.push(function(n) {
                        return function(t) {
                            n._trigger("update", t, this._uiHash(this))
                        }
                    }.call(this, this.currentContainer)))), i = this.containers.length - 1; i >= 0; i--) t || r.push(u("deactivate", this, this.containers[i])), this.containers[i].containerCache.over && (r.push(u("out", this, this.containers[i])), this.containers[i].containerCache.over = 0);
                if (this.storedCursor && (this.document.find("body").css("cursor", this.storedCursor), this.storedStylesheet.remove()), this._storedOpacity && this.helper.css("opacity", this._storedOpacity), this._storedZIndex && this.helper.css("zIndex", "auto" === this._storedZIndex ? "" : this._storedZIndex), this.dragging = !1, this.cancelHelperRemoval) {
                    if (!t) {
                        for (this._trigger("beforeStop", n, this._uiHash()), i = 0; r.length > i; i++) r[i].call(this, n);
                        this._trigger("stop", n, this._uiHash())
                    }
                    return this.fromOutside = !1, !1
                }
                if (t || this._trigger("beforeStop", n, this._uiHash()), this.placeholder[0].parentNode.removeChild(this.placeholder[0]), this.helper[0] !== this.currentItem[0] && this.helper.remove(), this.helper = null, !t) {
                    for (i = 0; r.length > i; i++) r[i].call(this, n);
                    this._trigger("stop", n, this._uiHash())
                }
                return this.fromOutside = !1, !0
            },
            _trigger: function() {
                n.Widget.prototype._trigger.apply(this, arguments) === !1 && this.cancel()
            },
            _uiHash: function(t) {
                var i = t || this;
                return {
                    helper: i.helper,
                    placeholder: i.placeholder || n([]),
                    position: i.position,
                    originalPosition: i.originalPosition,
                    offset: i.positionAbs,
                    item: i.currentItem,
                    sender: t ? t.element : null
                }
            }
        });
        n.widget("ui.spinner", {
            version: "1.11.1",
            defaultElement: "<input>",
            widgetEventPrefix: "spin",
            options: {
                culture: null,
                icons: {
                    down: "ui-icon-triangle-1-s",
                    up: "ui-icon-triangle-1-n"
                },
                incremental: !0,
                max: null,
                min: null,
                numberFormat: null,
                page: 10,
                step: 1,
                change: null,
                spin: null,
                start: null,
                stop: null
            },
            _create: function() {
                this._setOption("max", this.options.max);
                this._setOption("min", this.options.min);
                this._setOption("step", this.options.step);
                "" !== this.value() && this._value(this.element.val(), !0);
                this._draw();
                this._on(this._events);
                this._refresh();
                this._on(this.window, {
                    beforeunload: function() {
                        this.element.removeAttr("autocomplete")
                    }
                })
            },
            _getCreateOptions: function() {
                var t = {},
                    i = this.element;
                return n.each(["min", "max", "step"], function(n, r) {
                    var u = i.attr(r);
                    void 0 !== u && u.length && (t[r] = u)
                }), t
            },
            _events: {
                keydown: function(n) {
                    this._start(n) && this._keydown(n) && n.preventDefault()
                },
                keyup: "_stop",
                focus: function() {
                    this.previous = this.element.val()
                },
                blur: function(n) {
                    return this.cancelBlur ? (delete this.cancelBlur, void 0) : (this._stop(), this._refresh(), this.previous !== this.element.val() && this._trigger("change", n), void 0)
                },
                mousewheel: function(n, t) {
                    if (t) {
                        if (!this.spinning && !this._start(n)) return !1;
                        this._spin((t > 0 ? 1 : -1) * this.options.step, n);
                        clearTimeout(this.mousewheelTimer);
                        this.mousewheelTimer = this._delay(function() {
                            this.spinning && this._stop(n)
                        }, 100);
                        n.preventDefault()
                    }
                },
                "mousedown .ui-spinner-button": function(t) {
                    function r() {
                        var n = this.element[0] === this.document[0].activeElement;
                        n || (this.element.focus(), this.previous = i, this._delay(function() {
                            this.previous = i
                        }))
                    }
                    var i;
                    i = this.element[0] === this.document[0].activeElement ? this.previous : this.element.val();
                    t.preventDefault();
                    r.call(this);
                    this.cancelBlur = !0;
                    this._delay(function() {
                        delete this.cancelBlur;
                        r.call(this)
                    });
                    this._start(t) !== !1 && this._repeat(null, n(t.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, t)
                },
                "mouseup .ui-spinner-button": "_stop",
                "mouseenter .ui-spinner-button": function(t) {
                    if (n(t.currentTarget).hasClass("ui-state-active")) return this._start(t) === !1 ? !1 : (this._repeat(null, n(t.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, t), void 0)
                },
                "mouseleave .ui-spinner-button": "_stop"
            },
            _draw: function() {
                var n = this.uiSpinner = this.element.addClass("ui-spinner-input").attr("autocomplete", "off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());
                this.element.attr("role", "spinbutton");
                this.buttons = n.find(".ui-spinner-button").attr("tabIndex", -1).button().removeClass("ui-corner-all");
                this.buttons.height() > Math.ceil(.5 * n.height()) && n.height() > 0 && n.height(n.height());
                this.options.disabled && this.disable()
            },
            _keydown: function(t) {
                var r = this.options,
                    i = n.ui.keyCode;
                switch (t.keyCode) {
                    case i.UP:
                        return this._repeat(null, 1, t), !0;
                    case i.DOWN:
                        return this._repeat(null, -1, t), !0;
                    case i.PAGE_UP:
                        return this._repeat(null, r.page, t), !0;
                    case i.PAGE_DOWN:
                        return this._repeat(null, -r.page, t), !0
                }
                return !1
            },
            _uiSpinnerHtml: function() {
                return "<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'><\/span>"
            },
            _buttonHtml: function() {
                return "<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon " + this.options.icons.up + "'>&#9650;<\/span><\/a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon " + this.options.icons.down + "'>&#9660;<\/span><\/a>"
            },
            _start: function(n) {
                return this.spinning || this._trigger("start", n) !== !1 ? (this.counter || (this.counter = 1), this.spinning = !0, !0) : !1
            },
            _repeat: function(n, t, i) {
                n = n || 500;
                clearTimeout(this.timer);
                this.timer = this._delay(function() {
                    this._repeat(40, t, i)
                }, n);
                this._spin(t * this.options.step, i)
            },
            _spin: function(n, t) {
                var i = this.value() || 0;
                this.counter || (this.counter = 1);
                i = this._adjustValue(i + n * this._increment(this.counter));
                this.spinning && this._trigger("spin", t, {
                    value: i
                }) === !1 || (this._value(i), this.counter++)
            },
            _increment: function(t) {
                var i = this.options.incremental;
                return i ? n.isFunction(i) ? i(t) : Math.floor(t * t * t / 5e4 - t * t / 500 + 17 * t / 200 + 1) : 1
            },
            _precision: function() {
                var n = this._precisionOf(this.options.step);
                return null !== this.options.min && (n = Math.max(n, this._precisionOf(this.options.min))), n
            },
            _precisionOf: function(n) {
                var t = "" + n,
                    i = t.indexOf(".");
                return -1 === i ? 0 : t.length - i - 1
            },
            _adjustValue: function(n) {
                var r, i, t = this.options;
                return r = null !== t.min ? t.min : 0, i = n - r, i = Math.round(i / t.step) * t.step, n = r + i, n = parseFloat(n.toFixed(this._precision())), null !== t.max && n > t.max ? t.max : null !== t.min && t.min > n ? t.min : n
            },
            _stop: function(n) {
                this.spinning && (clearTimeout(this.timer), clearTimeout(this.mousewheelTimer), this.counter = 0, this.spinning = !1, this._trigger("stop", n))
            },
            _setOption: function(n, t) {
                if ("culture" === n || "numberFormat" === n) {
                    var i = this._parse(this.element.val());
                    return this.options[n] = t, this.element.val(this._format(i)), void 0
                }("max" === n || "min" === n || "step" === n) && "string" == typeof t && (t = this._parse(t));
                "icons" === n && (this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up), this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down));
                this._super(n, t);
                "disabled" === n && (this.widget().toggleClass("ui-state-disabled", !!t), this.element.prop("disabled", !!t), this.buttons.button(t ? "disable" : "enable"))
            },
            _setOptions: t(function(n) {
                this._super(n)
            }),
            _parse: function(n) {
                return "string" == typeof n && "" !== n && (n = window.Globalize && this.options.numberFormat ? Globalize.parseFloat(n, 10, this.options.culture) : +n), "" === n || isNaN(n) ? null : n
            },
            _format: function(n) {
                return "" === n ? "" : window.Globalize && this.options.numberFormat ? Globalize.format(n, this.options.numberFormat, this.options.culture) : n
            },
            _refresh: function() {
                this.element.attr({
                    "aria-valuemin": this.options.min,
                    "aria-valuemax": this.options.max,
                    "aria-valuenow": this._parse(this.element.val())
                })
            },
            isValid: function() {
                var n = this.value();
                return null === n ? !1 : n === this._adjustValue(n)
            },
            _value: function(n, t) {
                var i;
                "" !== n && (i = this._parse(n), null !== i && (t || (i = this._adjustValue(i)), n = this._format(i)));
                this.element.val(n);
                this._refresh()
            },
            _destroy: function() {
                this.element.removeClass("ui-spinner-input").prop("disabled", !1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");
                this.uiSpinner.replaceWith(this.element)
            },
            stepUp: t(function(n) {
                this._stepUp(n)
            }),
            _stepUp: function(n) {
                this._start() && (this._spin((n || 1) * this.options.step), this._stop())
            },
            stepDown: t(function(n) {
                this._stepDown(n)
            }),
            _stepDown: function(n) {
                this._start() && (this._spin((n || 1) * -this.options.step), this._stop())
            },
            pageUp: t(function(n) {
                this._stepUp((n || 1) * this.options.page)
            }),
            pageDown: t(function(n) {
                this._stepDown((n || 1) * this.options.page)
            }),
            value: function(n) {
                return arguments.length ? (t(this._value).call(this, n), void 0) : this._parse(this.element.val())
            },
            widget: function() {
                return this.uiSpinner
            }
        });
        n.widget("ui.tabs", {
            version: "1.11.1",
            delay: 300,
            options: {
                active: null,
                collapsible: !1,
                event: "click",
                heightStyle: "content",
                hide: null,
                show: null,
                activate: null,
                beforeActivate: null,
                beforeLoad: null,
                load: null
            },
            _isLocal: function() {
                var n = /#.*$/;
                return function(t) {
                    var i, r;
                    t = t.cloneNode(!1);
                    i = t.href.replace(n, "");
                    r = location.href.replace(n, "");
                    try {
                        i = decodeURIComponent(i)
                    } catch (u) {}
                    try {
                        r = decodeURIComponent(r)
                    } catch (u) {}
                    return t.hash.length > 1 && i === r
                }
            }(),
            _create: function() {
                var i = this,
                    t = this.options;
                this.running = !1;
                this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible", t.collapsible);
                this._processTabs();
                t.active = this._initialActive();
                n.isArray(t.disabled) && (t.disabled = n.unique(t.disabled.concat(n.map(this.tabs.filter(".ui-state-disabled"), function(n) {
                    return i.tabs.index(n)
                }))).sort());
                this.active = this.options.active !== !1 && this.anchors.length ? this._findActive(t.active) : n();
                this._refresh();
                this.active.length && this.load(t.active)
            },
            _initialActive: function() {
                var t = this.options.active,
                    i = this.options.collapsible,
                    r = location.hash.substring(1);
                return null === t && (r && this.tabs.each(function(i, u) {
                    if (n(u).attr("aria-controls") === r) return t = i, !1
                }), null === t && (t = this.tabs.index(this.tabs.filter(".ui-tabs-active"))), (null === t || -1 === t) && (t = this.tabs.length ? 0 : !1)), t !== !1 && (t = this.tabs.index(this.tabs.eq(t)), -1 === t && (t = i ? !1 : 0)), !i && t === !1 && this.anchors.length && (t = 0), t
            },
            _getCreateEventData: function() {
                return {
                    tab: this.active,
                    panel: this.active.length ? this._getPanelForTab(this.active) : n()
                }
            },
            _tabKeydown: function(t) {
                var r = n(this.document[0].activeElement).closest("li"),
                    i = this.tabs.index(r),
                    u = !0;
                if (!this._handlePageNav(t)) {
                    switch (t.keyCode) {
                        case n.ui.keyCode.RIGHT:
                        case n.ui.keyCode.DOWN:
                            i++;
                            break;
                        case n.ui.keyCode.UP:
                        case n.ui.keyCode.LEFT:
                            u = !1;
                            i--;
                            break;
                        case n.ui.keyCode.END:
                            i = this.anchors.length - 1;
                            break;
                        case n.ui.keyCode.HOME:
                            i = 0;
                            break;
                        case n.ui.keyCode.SPACE:
                            return t.preventDefault(), clearTimeout(this.activating), this._activate(i), void 0;
                        case n.ui.keyCode.ENTER:
                            return t.preventDefault(), clearTimeout(this.activating), this._activate(i === this.options.active ? !1 : i), void 0;
                        default:
                            return
                    }
                    t.preventDefault();
                    clearTimeout(this.activating);
                    i = this._focusNextTab(i, u);
                    t.ctrlKey || (r.attr("aria-selected", "false"), this.tabs.eq(i).attr("aria-selected", "true"), this.activating = this._delay(function() {
                        this.option("active", i)
                    }, this.delay))
                }
            },
            _panelKeydown: function(t) {
                this._handlePageNav(t) || t.ctrlKey && t.keyCode === n.ui.keyCode.UP && (t.preventDefault(), this.active.focus())
            },
            _handlePageNav: function(t) {
                return t.altKey && t.keyCode === n.ui.keyCode.PAGE_UP ? (this._activate(this._focusNextTab(this.options.active - 1, !1)), !0) : t.altKey && t.keyCode === n.ui.keyCode.PAGE_DOWN ? (this._activate(this._focusNextTab(this.options.active + 1, !0)), !0) : void 0
            },
            _findNextTab: function(t, i) {
                function u() {
                    return t > r && (t = 0), 0 > t && (t = r), t
                }
                for (var r = this.tabs.length - 1; - 1 !== n.inArray(u(), this.options.disabled);) t = i ? t + 1 : t - 1;
                return t
            },
            _focusNextTab: function(n, t) {
                return n = this._findNextTab(n, t), this.tabs.eq(n).focus(), n
            },
            _setOption: function(n, t) {
                return "active" === n ? (this._activate(t), void 0) : "disabled" === n ? (this._setupDisabled(t), void 0) : (this._super(n, t), "collapsible" === n && (this.element.toggleClass("ui-tabs-collapsible", t), t || this.options.active !== !1 || this._activate(0)), "event" === n && this._setupEvents(t), "heightStyle" === n && this._setupHeightStyle(t), void 0)
            },
            _sanitizeSelector: function(n) {
                return n ? n.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g, "\\$&") : ""
            },
            refresh: function() {
                var t = this.options,
                    i = this.tablist.children(":has(a[href])");
                t.disabled = n.map(i.filter(".ui-state-disabled"), function(n) {
                    return i.index(n)
                });
                this._processTabs();
                t.active !== !1 && this.anchors.length ? this.active.length && !n.contains(this.tablist[0], this.active[0]) ? this.tabs.length === t.disabled.length ? (t.active = !1, this.active = n()) : this._activate(this._findNextTab(Math.max(0, t.active - 1), !1)) : t.active = this.tabs.index(this.active) : (t.active = !1, this.active = n());
                this._refresh()
            },
            _refresh: function() {
                this._setupDisabled(this.options.disabled);
                this._setupEvents(this.options.event);
                this._setupHeightStyle(this.options.heightStyle);
                this.tabs.not(this.active).attr({
                    "aria-selected": "false",
                    "aria-expanded": "false",
                    tabIndex: -1
                });
                this.panels.not(this._getPanelForTab(this.active)).hide().attr({
                    "aria-hidden": "true"
                });
                this.active.length ? (this.active.addClass("ui-tabs-active ui-state-active").attr({
                    "aria-selected": "true",
                    "aria-expanded": "true",
                    tabIndex: 0
                }), this._getPanelForTab(this.active).show().attr({
                    "aria-hidden": "false"
                })) : this.tabs.eq(0).attr("tabIndex", 0)
            },
            _processTabs: function() {
                var t = this;
                this.tablist = this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role", "tablist").delegate("> li", "mousedown" + this.eventNamespace, function(t) {
                    n(this).is(".ui-state-disabled") && t.preventDefault()
                }).delegate(".ui-tabs-anchor", "focus" + this.eventNamespace, function() {
                    n(this).closest("li").is(".ui-state-disabled") && this.blur()
                });
                this.tabs = this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({
                    role: "tab",
                    tabIndex: -1
                });
                this.anchors = this.tabs.map(function() {
                    return n("a", this)[0]
                }).addClass("ui-tabs-anchor").attr({
                    role: "presentation",
                    tabIndex: -1
                });
                this.panels = n();
                this.anchors.each(function(i, r) {
                    var f, u, e, s = n(r).uniqueId().attr("id"),
                        o = n(r).closest("li"),
                        h = o.attr("aria-controls");
                    t._isLocal(r) ? (f = r.hash, e = f.substring(1), u = t.element.find(t._sanitizeSelector(f))) : (e = o.attr("aria-controls") || n({}).uniqueId()[0].id, f = "#" + e, u = t.element.find(f), u.length || (u = t._createPanel(e), u.insertAfter(t.panels[i - 1] || t.tablist)), u.attr("aria-live", "polite"));
                    u.length && (t.panels = t.panels.add(u));
                    h && o.data("ui-tabs-aria-controls", h);
                    o.attr({
                        "aria-controls": e,
                        "aria-labelledby": s
                    });
                    u.attr("aria-labelledby", s)
                });
                this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role", "tabpanel")
            },
            _getList: function() {
                return this.tablist || this.element.find("ol,ul").eq(0)
            },
            _createPanel: function(t) {
                return n("<div>").attr("id", t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy", !0)
            },
            _setupDisabled: function(t) {
                n.isArray(t) && (t.length ? t.length === this.anchors.length && (t = !0) : t = !1);
                for (var i, r = 0; i = this.tabs[r]; r++) t === !0 || -1 !== n.inArray(r, t) ? n(i).addClass("ui-state-disabled").attr("aria-disabled", "true") : n(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");
                this.options.disabled = t
            },
            _setupEvents: function(t) {
                var i = {};
                t && n.each(t.split(" "), function(n, t) {
                    i[t] = "_eventHandler"
                });
                this._off(this.anchors.add(this.tabs).add(this.panels));
                this._on(!0, this.anchors, {
                    click: function(n) {
                        n.preventDefault()
                    }
                });
                this._on(this.anchors, i);
                this._on(this.tabs, {
                    keydown: "_tabKeydown"
                });
                this._on(this.panels, {
                    keydown: "_panelKeydown"
                });
                this._focusable(this.tabs);
                this._hoverable(this.tabs)
            },
            _setupHeightStyle: function(t) {
                var i, r = this.element.parent();
                "fill" === t ? (i = r.height(), i -= this.element.outerHeight() - this.element.height(), this.element.siblings(":visible").each(function() {
                    var t = n(this),
                        r = t.css("position");
                    "absolute" !== r && "fixed" !== r && (i -= t.outerHeight(!0))
                }), this.element.children().not(this.panels).each(function() {
                    i -= n(this).outerHeight(!0)
                }), this.panels.each(function() {
                    n(this).height(Math.max(0, i - n(this).innerHeight() + n(this).height()))
                }).css("overflow", "auto")) : "auto" === t && (i = 0, this.panels.each(function() {
                    i = Math.max(i, n(this).height("").height())
                }).height(i))
            },
            _eventHandler: function(t) {
                var u = this.options,
                    r = this.active,
                    c = n(t.currentTarget),
                    i = c.closest("li"),
                    f = i[0] === r[0],
                    e = f && u.collapsible,
                    o = e ? n() : this._getPanelForTab(i),
                    s = r.length ? this._getPanelForTab(r) : n(),
                    h = {
                        oldTab: r,
                        oldPanel: s,
                        newTab: e ? n() : i,
                        newPanel: o
                    };
                t.preventDefault();
                i.hasClass("ui-state-disabled") || i.hasClass("ui-tabs-loading") || this.running || f && !u.collapsible || this._trigger("beforeActivate", t, h) === !1 || (u.active = e ? !1 : this.tabs.index(i), this.active = f ? n() : i, this.xhr && this.xhr.abort(), s.length || o.length || n.error("jQuery UI Tabs: Mismatching fragment identifier."), o.length && this.load(this.tabs.index(i), t), this._toggle(t, h))
            },
            _toggle: function(t, i) {
                function e() {
                    u.running = !1;
                    u._trigger("activate", t, i)
                }

                function o() {
                    i.newTab.closest("li").addClass("ui-tabs-active ui-state-active");
                    r.length && u.options.show ? u._show(r, u.options.show, e) : (r.show(), e())
                }
                var u = this,
                    r = i.newPanel,
                    f = i.oldPanel;
                this.running = !0;
                f.length && this.options.hide ? this._hide(f, this.options.hide, function() {
                    i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");
                    o()
                }) : (i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"), f.hide(), o());
                f.attr("aria-hidden", "true");
                i.oldTab.attr({
                    "aria-selected": "false",
                    "aria-expanded": "false"
                });
                r.length && f.length ? i.oldTab.attr("tabIndex", -1) : r.length && this.tabs.filter(function() {
                    return 0 === n(this).attr("tabIndex")
                }).attr("tabIndex", -1);
                r.attr("aria-hidden", "false");
                i.newTab.attr({
                    "aria-selected": "true",
                    "aria-expanded": "true",
                    tabIndex: 0
                })
            },
            _activate: function(t) {
                var r, i = this._findActive(t);
                i[0] !== this.active[0] && (i.length || (i = this.active), r = i.find(".ui-tabs-anchor")[0], this._eventHandler({
                    target: r,
                    currentTarget: r,
                    preventDefault: n.noop
                }))
            },
            _findActive: function(t) {
                return t === !1 ? n() : this.tabs.eq(t)
            },
            _getIndex: function(n) {
                return "string" == typeof n && (n = this.anchors.index(this.anchors.filter("[href$='" + n + "']"))), n
            },
            _destroy: function() {
                this.xhr && this.xhr.abort();
                this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");
                this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");
                this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();
                this.tablist.unbind(this.eventNamespace);
                this.tabs.add(this.panels).each(function() {
                    n.data(this, "ui-tabs-destroy") ? n(this).remove() : n(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")
                });
                this.tabs.each(function() {
                    var t = n(this),
                        i = t.data("ui-tabs-aria-controls");
                    i ? t.attr("aria-controls", i).removeData("ui-tabs-aria-controls") : t.removeAttr("aria-controls")
                });
                this.panels.show();
                "content" !== this.options.heightStyle && this.panels.css("height", "")
            },
            enable: function(t) {
                var i = this.options.disabled;
                i !== !1 && (void 0 === t ? i = !1 : (t = this._getIndex(t), i = n.isArray(i) ? n.map(i, function(n) {
                    return n !== t ? n : null
                }) : n.map(this.tabs, function(n, i) {
                    return i !== t ? i : null
                })), this._setupDisabled(i))
            },
            disable: function(t) {
                var i = this.options.disabled;
                if (i !== !0) {
                    if (void 0 === t) i = !0;
                    else {
                        if (t = this._getIndex(t), -1 !== n.inArray(t, i)) return;
                        i = n.isArray(i) ? n.merge([t], i).sort() : [t]
                    }
                    this._setupDisabled(i)
                }
            },
            load: function(t, i) {
                t = this._getIndex(t);
                var u = this,
                    r = this.tabs.eq(t),
                    e = r.find(".ui-tabs-anchor"),
                    f = this._getPanelForTab(r),
                    o = {
                        tab: r,
                        panel: f
                    };
                this._isLocal(e[0]) || (this.xhr = n.ajax(this._ajaxSettings(e, i, o)), this.xhr && "canceled" !== this.xhr.statusText && (r.addClass("ui-tabs-loading"), f.attr("aria-busy", "true"), this.xhr.success(function(n) {
                    setTimeout(function() {
                        f.html(n);
                        u._trigger("load", i, o)
                    }, 1)
                }).complete(function(n, t) {
                    setTimeout(function() {
                        "abort" === t && u.panels.stop(!1, !0);
                        r.removeClass("ui-tabs-loading");
                        f.removeAttr("aria-busy");
                        n === u.xhr && delete u.xhr
                    }, 1)
                })))
            },
            _ajaxSettings: function(t, i, r) {
                var u = this;
                return {
                    url: t.attr("href"),
                    beforeSend: function(t, f) {
                        return u._trigger("beforeLoad", i, n.extend({
                            jqXHR: t,
                            ajaxSettings: f
                        }, r))
                    }
                }
            },
            _getPanelForTab: function(t) {
                var i = n(t).attr("aria-controls");
                return this.element.find(this._sanitizeSelector("#" + i))
            }
        });
        n.widget("ui.tooltip", {
            version: "1.11.1",
            options: {
                content: function() {
                    var t = n(this).attr("title") || "";
                    return n("<a>").text(t).html()
                },
                hide: !0,
                items: "[title]:not([disabled])",
                position: {
                    my: "left top+15",
                    at: "left bottom",
                    collision: "flipfit flip"
                },
                show: !0,
                tooltipClass: null,
                track: !1,
                close: null,
                open: null
            },
            _addDescribedBy: function(t, i) {
                var r = (t.attr("aria-describedby") || "").split(/\s+/);
                r.push(i);
                t.data("ui-tooltip-id", i).attr("aria-describedby", n.trim(r.join(" ")))
            },
            _removeDescribedBy: function(t) {
                var u = t.data("ui-tooltip-id"),
                    i = (t.attr("aria-describedby") || "").split(/\s+/),
                    r = n.inArray(u, i); - 1 !== r && i.splice(r, 1);
                t.removeData("ui-tooltip-id");
                i = n.trim(i.join(" "));
                i ? t.attr("aria-describedby", i) : t.removeAttr("aria-describedby")
            },
            _create: function() {
                this._on({
                    mouseover: "open",
                    focusin: "open"
                });
                this.tooltips = {};
                this.parents = {};
                this.options.disabled && this._disable();
                this.liveRegion = n("<div>").attr({
                    role: "log",
                    "aria-live": "assertive",
                    "aria-relevant": "additions"
                }).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)
            },
            _setOption: function(t, i) {
                var r = this;
                return "disabled" === t ? (this[i ? "_disable" : "_enable"](), this.options[t] = i, void 0) : (this._super(t, i), "content" === t && n.each(this.tooltips, function(n, t) {
                    r._updateContent(t)
                }), void 0)
            },
            _disable: function() {
                var t = this;
                n.each(this.tooltips, function(i, r) {
                    var u = n.Event("blur");
                    u.target = u.currentTarget = r[0];
                    t.close(u, !0)
                });
                this.element.find(this.options.items).addBack().each(function() {
                    var t = n(this);
                    t.is("[title]") && t.data("ui-tooltip-title", t.attr("title")).removeAttr("title")
                })
            },
            _enable: function() {
                this.element.find(this.options.items).addBack().each(function() {
                    var t = n(this);
                    t.data("ui-tooltip-title") && t.attr("title", t.data("ui-tooltip-title"))
                })
            },
            open: function(t) {
                var r = this,
                    i = n(t ? t.target : this.element).closest(this.options.items);
                i.length && !i.data("ui-tooltip-id") && (i.attr("title") && i.data("ui-tooltip-title", i.attr("title")), i.data("ui-tooltip-open", !0), t && "mouseover" === t.type && i.parents().each(function() {
                    var i, t = n(this);
                    t.data("ui-tooltip-open") && (i = n.Event("blur"), i.target = i.currentTarget = this, r.close(i, !0));
                    t.attr("title") && (t.uniqueId(), r.parents[this.id] = {
                        element: this,
                        title: t.attr("title")
                    }, t.attr("title", ""))
                }), this._updateContent(i, t))
            },
            _updateContent: function(n, t) {
                var i, r = this.options.content,
                    u = this,
                    f = t ? t.type : null;
                return "string" == typeof r ? this._open(t, n, r) : (i = r.call(n[0], function(i) {
                    n.data("ui-tooltip-open") && u._delay(function() {
                        t && (t.type = f);
                        this._open(t, n, i)
                    })
                }), i && this._open(t, n, i), void 0)
            },
            _open: function(t, i, r) {
                function o(n) {
                    s.of = n;
                    u.is(":hidden") || u.position(s)
                }
                var u, f, h, e, s = n.extend({}, this.options.position);
                if (r) {
                    if (u = this._find(i), u.length) return u.find(".ui-tooltip-content").html(r), void 0;
                    i.is("[title]") && (t && "mouseover" === t.type ? i.attr("title", "") : i.removeAttr("title"));
                    u = this._tooltip(i);
                    this._addDescribedBy(i, u.attr("id"));
                    u.find(".ui-tooltip-content").html(r);
                    this.liveRegion.children().hide();
                    r.clone ? (e = r.clone(), e.removeAttr("id").find("[id]").removeAttr("id")) : e = r;
                    n("<div>").html(e).appendTo(this.liveRegion);
                    this.options.track && t && /^mouse/.test(t.type) ? (this._on(this.document, {
                        mousemove: o
                    }), o(t)) : u.position(n.extend({
                        of: i
                    }, this.options.position));
                    this.hiding = !1;
                    this.closing = !1;
                    u.hide();
                    this._show(u, this.options.show);
                    this.options.show && this.options.show.delay && (h = this.delayedShow = setInterval(function() {
                        u.is(":visible") && (o(s.of), clearInterval(h))
                    }, n.fx.interval));
                    this._trigger("open", t, {
                        tooltip: u
                    });
                    f = {
                        keyup: function(t) {
                            if (t.keyCode === n.ui.keyCode.ESCAPE) {
                                var r = n.Event(t);
                                r.currentTarget = i[0];
                                this.close(r, !0)
                            }
                        }
                    };
                    i[0] !== this.element[0] && (f.remove = function() {
                        this._removeTooltip(u)
                    });
                    t && "mouseover" !== t.type || (f.mouseleave = "close");
                    t && "focusin" !== t.type || (f.focusout = "close");
                    this._on(!0, i, f)
                }
            },
            close: function(t) {
                var u = this,
                    i = n(t ? t.currentTarget : this.element),
                    r = this._find(i);
                this.closing || (clearInterval(this.delayedShow), i.data("ui-tooltip-title") && !i.attr("title") && i.attr("title", i.data("ui-tooltip-title")), this._removeDescribedBy(i), this.hiding = !0, r.stop(!0), this._hide(r, this.options.hide, function() {
                    u._removeTooltip(n(this));
                    this.hiding = !1;
                    this.closing = !1
                }), i.removeData("ui-tooltip-open"), this._off(i, "mouseleave focusout keyup"), i[0] !== this.element[0] && this._off(i, "remove"), this._off(this.document, "mousemove"), t && "mouseleave" === t.type && n.each(this.parents, function(t, i) {
                    n(i.element).attr("title", i.title);
                    delete u.parents[t]
                }), this.closing = !0, this._trigger("close", t, {
                    tooltip: r
                }), this.hiding || (this.closing = !1))
            },
            _tooltip: function(t) {
                var i = n("<div>").attr("role", "tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content " + (this.options.tooltipClass || "")),
                    r = i.uniqueId().attr("id");
                return n("<div>").addClass("ui-tooltip-content").appendTo(i), i.appendTo(this.document[0].body), this.tooltips[r] = t, i
            },
            _find: function(t) {
                var i = t.data("ui-tooltip-id");
                return i ? n("#" + i) : n()
            },
            _removeTooltip: function(n) {
                n.remove();
                delete this.tooltips[n.attr("id")]
            },
            _destroy: function() {
                var t = this;
                n.each(this.tooltips, function(i, r) {
                    var u = n.Event("blur");
                    u.target = u.currentTarget = r[0];
                    t.close(u, !0);
                    n("#" + i).remove();
                    r.data("ui-tooltip-title") && (r.attr("title") || r.attr("title", r.data("ui-tooltip-title")), r.removeData("ui-tooltip-title"))
                });
                this.liveRegion.remove()
            }
        })
    }), function(n) {
        function it(n, t, i) {
            switch (arguments.length) {
                case 2:
                    return null != n ? n : t;
                case 3:
                    return null != n ? n : null != t ? t : i;
                default:
                    throw new Error("Implement me");
            }
        }

        function p(n, t) {
            return uf.call(n, t)
        }

        function ot() {
            return {
                empty: !1,
                unusedTokens: [],
                unusedInput: [],
                overflow: -2,
                charsLeftOver: 0,
                nullInput: !1,
                invalidMonth: null,
                invalidFormat: !1,
                userInvalidated: !1,
                iso: !1
            }
        }

        function ri(n) {
            t.suppressDeprecationWarnings === !1 && "undefined" != typeof console && console.warn && console.warn("Deprecation warning: " + n)
        }

        function o(n, t) {
            var i = !0;
            return w(function() {
                return i && (ri(n), i = !1), t.apply(this, arguments)
            }, t)
        }

        function dr(n, t) {
            br[n] || (ri(t), br[n] = !0)
        }

        function ui(n, t) {
            return function(i) {
                return r(n.call(this, i), t)
            }
        }

        function gr(n, t) {
            return function(i) {
                return this.localeData().ordinal(n.call(this, i), t)
            }
        }

        function nu(n, t) {
            var r, f, u = 12 * (t.year() - n.year()) + (t.month() - n.month()),
                i = n.clone().add(u, "months");
            return 0 > t - i ? (r = n.clone().add(u - 1, "months"), f = (t - i) / (i - r)) : (r = n.clone().add(u + 1, "months"), f = (t - i) / (r - i)), -(u + f)
        }

        function tu(n, t, i) {
            var r;
            return null == i ? t : null != n.meridiemHour ? n.meridiemHour(t, i) : null != n.isPM ? (r = n.isPM(i), r && 12 > t && (t += 12), r || 12 !== t || (t = 0), t) : t
        }

        function fi() {}

        function rt(n, i) {
            i !== !1 && pi(n);
            ei(this, n);
            this._d = new Date(+n._d);
            ii === !1 && (ii = !0, t.updateOffset(this), ii = !1)
        }

        function st(n) {
            var i = li(n),
                r = i.year || 0,
                u = i.quarter || 0,
                f = i.month || 0,
                e = i.week || 0,
                o = i.day || 0,
                s = i.hour || 0,
                h = i.minute || 0,
                c = i.second || 0,
                l = i.millisecond || 0;
            this._milliseconds = +l + 1e3 * c + 6e4 * h + 36e5 * s;
            this._days = +o + 7 * e;
            this._months = +f + 3 * u + 12 * r;
            this._data = {};
            this._locale = t.localeData();
            this._bubble()
        }

        function w(n, t) {
            for (var i in t) p(t, i) && (n[i] = t[i]);
            return p(t, "toString") && (n.toString = t.toString), p(t, "valueOf") && (n.valueOf = t.valueOf), n
        }

        function ei(n, t) {
            var u, i, r;
            if ("undefined" != typeof t._isAMomentObject && (n._isAMomentObject = t._isAMomentObject), "undefined" != typeof t._i && (n._i = t._i), "undefined" != typeof t._f && (n._f = t._f), "undefined" != typeof t._l && (n._l = t._l), "undefined" != typeof t._strict && (n._strict = t._strict), "undefined" != typeof t._tzm && (n._tzm = t._tzm), "undefined" != typeof t._isUTC && (n._isUTC = t._isUTC), "undefined" != typeof t._offset && (n._offset = t._offset), "undefined" != typeof t._pf && (n._pf = t._pf), "undefined" != typeof t._locale && (n._locale = t._locale), ft.length > 0)
                for (u in ft) i = ft[u], r = t[i], "undefined" != typeof r && (n[i] = r);
            return n
        }

        function s(n) {
            return 0 > n ? Math.ceil(n) : Math.floor(n)
        }

        function r(n, t, i) {
            for (var r = "" + Math.abs(n), u = n >= 0; r.length < t;) r = "0" + r;
            return (u ? i ? "+" : "" : "-") + r
        }

        function oi(n, t) {
            var i = {
                milliseconds: 0,
                months: 0
            };
            return i.months = t.month() - n.month() + 12 * (t.year() - n.year()), n.clone().add(i.months, "M").isAfter(t) && --i.months, i.milliseconds = +t - +n.clone().add(i.months, "M"), i
        }

        function iu(n, t) {
            var i;
            return t = lt(t, n), n.isBefore(t) ? i = oi(n, t) : (i = oi(t, n), i.milliseconds = -i.milliseconds, i.months = -i.months), i
        }

        function si(n, i) {
            return function(r, u) {
                var f, e;
                return null === u || isNaN(+u) || (dr(i, "moment()." + i + "(period, number) is deprecated. Please use moment()." + i + "(number, period)."), e = r, r = u, u = e), r = "string" == typeof r ? +r : r, f = t.duration(r, u), hi(this, f, n), this
            }
        }

        function hi(n, i, r, u) {
            var o = i._milliseconds,
                f = i._days,
                e = i._months;
            u = null == u ? !0 : u;
            o && n._d.setTime(+n._d + o * r);
            f && rr(n, "Date", bt(n, "Date") + f * r);
            e && ir(n, bt(n, "Month") + e * r);
            u && t.updateOffset(n, f || e)
        }

        function ut(n) {
            return "[object Array]" === Object.prototype.toString.call(n)
        }

        function ht(n) {
            return "[object Date]" === Object.prototype.toString.call(n) || n instanceof Date
        }

        function ci(n, t, r) {
            for (var e = Math.min(n.length, t.length), o = Math.abs(n.length - t.length), f = 0, u = 0; e > u; u++)(r && n[u] !== t[u] || !r && i(n[u]) !== i(t[u])) && f++;
            return f + o
        }

        function f(n) {
            if (n) {
                var t = n.toLowerCase().replace(/(.)s$/, "$1");
                n = ne[n] || te[t] || t
            }
            return n
        }

        function li(n) {
            var i, t, r = {};
            for (t in n) p(n, t) && (i = f(t), i && (r[i] = n[t]));
            return r
        }

        function ru(i) {
            var r, u;
            if (0 === i.indexOf("week")) r = 7, u = "day";
            else {
                if (0 !== i.indexOf("month")) return;
                r = 12;
                u = "month"
            }
            t[i] = function(f, e) {
                var o, s, c = t._locale[i],
                    h = [];
                if ("number" == typeof f && (e = f, f = n), s = function(n) {
                        var i = t().utc().set(u, n);
                        return c.call(t._locale, i, f || "")
                    }, null != e) return s(e);
                for (o = 0; r > o; o++) h.push(s(o));
                return h
            }
        }

        function i(n) {
            var t = +n,
                i = 0;
            return 0 !== t && isFinite(t) && (i = t >= 0 ? Math.floor(t) : Math.ceil(t)), i
        }

        function ct(n, t) {
            return new Date(Date.UTC(n, t + 1, 0)).getUTCDate()
        }

        function ai(n, i, r) {
            return b(t([n, 11, 31 + i - r]), i, r).week
        }

        function vi(n) {
            return yi(n) ? 366 : 365
        }

        function yi(n) {
            return n % 4 == 0 && n % 100 != 0 || n % 400 == 0
        }

        function pi(n) {
            var t;
            n._a && -2 === n._pf.overflow && (t = n._a[a] < 0 || n._a[a] > 11 ? a : n._a[h] < 1 || n._a[h] > ct(n._a[l], n._a[a]) ? h : n._a[e] < 0 || n._a[e] > 24 || 24 === n._a[e] && (0 !== n._a[d] || 0 !== n._a[g] || 0 !== n._a[nt]) ? e : n._a[d] < 0 || n._a[d] > 59 ? d : n._a[g] < 0 || n._a[g] > 59 ? g : n._a[nt] < 0 || n._a[nt] > 999 ? nt : -1, n._pf._overflowDayOfYear && (l > t || t > h) && (t = h), n._pf.overflow = t)
        }

        function wi(t) {
            return null == t._isValid && (t._isValid = !isNaN(t._d.getTime()) && t._pf.overflow < 0 && !t._pf.empty && !t._pf.invalidMonth && !t._pf.nullInput && !t._pf.invalidFormat && !t._pf.userInvalidated, t._strict && (t._isValid = t._isValid && 0 === t._pf.charsLeftOver && 0 === t._pf.unusedTokens.length && t._pf.bigHour === n)), t._isValid
        }

        function bi(n) {
            return n ? n.toLowerCase().replace("_", "-") : n
        }

        function uu(n) {
            for (var i, t, f, r, u = 0; u < n.length;) {
                for (r = bi(n[u]).split("-"), i = r.length, t = bi(n[u + 1]), t = t ? t.split("-") : null; i > 0;) {
                    if (f = ki(r.slice(0, i).join("-"))) return f;
                    if (t && t.length >= i && ci(r, t, !0) >= i - 1) break;
                    i--
                }
                u++
            }
            return null
        }

        function ki(n) {
            var i = null;
            if (!tt[n] && sr) try {
                i = t.locale();
                require("./locale/" + n);
                t.locale(i)
            } catch (r) {}
            return tt[n]
        }

        function lt(n, i) {
            var r, u;
            return i._isUTC ? (r = i.clone(), u = (t.isMoment(n) || ht(n) ? +n : +t(n)) - +r, r._d.setTime(+r._d + u), t.updateOffset(r, !1), r) : t(n).local()
        }

        function fu(n) {
            return n.match(/\[[\s\S]/) ? n.replace(/^\[|\]$/g, "") : n.replace(/\\/g, "")
        }

        function eu(n) {
            for (var i = n.match(hr), t = 0, r = i.length; r > t; t++) i[t] = v[i[t]] ? v[i[t]] : fu(i[t]);
            return function(u) {
                var f = "";
                for (t = 0; r > t; t++) f += i[t] instanceof Function ? i[t].call(u, n) : i[t];
                return f
            }
        }

        function at(n, t) {
            return n.isValid() ? (t = di(t, n.localeData()), ti[t] || (ti[t] = eu(t)), ti[t](n)) : n.localeData().invalidDate()
        }

        function di(n, t) {
            function r(n) {
                return t.longDateFormat(n) || n
            }
            var i = 5;
            for (et.lastIndex = 0; i >= 0 && et.test(n);) n = n.replace(et, r), et.lastIndex = 0, i -= 1;
            return n
        }

        function ou(n, t) {
            var i = t._strict;
            switch (n) {
                case "Q":
                    return lr;
                case "DDDD":
                    return vr;
                case "YYYY":
                case "GGGG":
                case "gggg":
                    return i ? wf : hf;
                case "Y":
                case "G":
                case "g":
                    return kf;
                case "YYYYYY":
                case "YYYYY":
                case "GGGGG":
                case "ggggg":
                    return i ? bf : cf;
                case "S":
                    if (i) return lr;
                case "SS":
                    if (i) return ar;
                case "SSS":
                    if (i) return vr;
                case "DDD":
                    return sf;
                case "MMM":
                case "MMMM":
                case "dd":
                case "ddd":
                case "dddd":
                    return af;
                case "a":
                case "A":
                    return t._locale._meridiemParse;
                case "x":
                    return yf;
                case "X":
                    return pf;
                case "Z":
                case "ZZ":
                    return dt;
                case "T":
                    return vf;
                case "SSSS":
                    return lf;
                case "MM":
                case "DD":
                case "YY":
                case "GG":
                case "gg":
                case "HH":
                case "hh":
                case "mm":
                case "ss":
                case "ww":
                case "WW":
                    return i ? ar : cr;
                case "M":
                case "D":
                case "d":
                case "H":
                case "h":
                case "m":
                case "s":
                case "w":
                case "W":
                case "e":
                case "E":
                    return cr;
                case "Do":
                    return i ? t._locale._ordinalParse : t._locale._ordinalParseLenient;
                default:
                    return new RegExp(vu(au(n.replace("\\", "")), "i"))
            }
        }

        function vt(n) {
            n = n || "";
            var r = n.match(dt) || [],
                f = r[r.length - 1] || [],
                t = (f + "").match(gf) || ["-", 0, 0],
                u = +(60 * t[1]) + i(t[2]);
            return "+" === t[0] ? u : -u
        }

        function su(n, r, u) {
            var o, f = u._a;
            switch (n) {
                case "Q":
                    null != r && (f[a] = 3 * (i(r) - 1));
                    break;
                case "M":
                case "MM":
                    null != r && (f[a] = i(r) - 1);
                    break;
                case "MMM":
                case "MMMM":
                    o = u._locale.monthsParse(r, n, u._strict);
                    null != o ? f[a] = o : u._pf.invalidMonth = r;
                    break;
                case "D":
                case "DD":
                    null != r && (f[h] = i(r));
                    break;
                case "Do":
                    null != r && (f[h] = i(parseInt(r.match(/\d{1,2}/)[0], 10)));
                    break;
                case "DDD":
                case "DDDD":
                    null != r && (u._dayOfYear = i(r));
                    break;
                case "YY":
                    f[l] = t.parseTwoDigitYear(r);
                    break;
                case "YYYY":
                case "YYYYY":
                case "YYYYYY":
                    f[l] = i(r);
                    break;
                case "a":
                case "A":
                    u._meridiem = r;
                    break;
                case "h":
                case "hh":
                    u._pf.bigHour = !0;
                case "H":
                case "HH":
                    f[e] = i(r);
                    break;
                case "m":
                case "mm":
                    f[d] = i(r);
                    break;
                case "s":
                case "ss":
                    f[g] = i(r);
                    break;
                case "S":
                case "SS":
                case "SSS":
                case "SSSS":
                    f[nt] = i(1e3 * ("0." + r));
                    break;
                case "x":
                    u._d = new Date(i(r));
                    break;
                case "X":
                    u._d = new Date(1e3 * parseFloat(r));
                    break;
                case "Z":
                case "ZZ":
                    u._useUTC = !0;
                    u._tzm = vt(r);
                    break;
                case "dd":
                case "ddd":
                case "dddd":
                    o = u._locale.weekdaysParse(r);
                    null != o ? (u._w = u._w || {}, u._w.d = o) : u._pf.invalidWeekday = r;
                    break;
                case "w":
                case "ww":
                case "W":
                case "WW":
                case "d":
                case "e":
                case "E":
                    n = n.substr(0, 1);
                case "gggg":
                case "GGGG":
                case "GGGGG":
                    n = n.substr(0, 2);
                    r && (u._w = u._w || {}, u._w[n] = i(r));
                    break;
                case "gg":
                case "GG":
                    u._w = u._w || {};
                    u._w[n] = t.parseTwoDigitYear(r)
            }
        }

        function hu(n) {
            var i, o, f, u, r, e, s;
            i = n._w;
            null != i.GG || null != i.W || null != i.E ? (r = 1, e = 4, o = it(i.GG, n._a[l], b(t(), 1, 4).year), f = it(i.W, 1), u = it(i.E, 1)) : (r = n._locale._week.dow, e = n._locale._week.doy, o = it(i.gg, n._a[l], b(t(), r, e).year), f = it(i.w, 1), null != i.d ? (u = i.d, r > u && ++f) : u = null != i.e ? i.e + r : r);
            s = tf(o, f, u, e, r);
            n._a[l] = s.year;
            n._dayOfYear = s.dayOfYear
        }

        function yt(n) {
            var t, i, r, u, f = [];
            if (!n._d) {
                for (r = lu(n), n._w && null == n._a[h] && null == n._a[a] && hu(n), n._dayOfYear && (u = it(n._a[l], r[l]), n._dayOfYear > vi(u) && (n._pf._overflowDayOfYear = !0), i = wt(u, 0, n._dayOfYear), n._a[a] = i.getUTCMonth(), n._a[h] = i.getUTCDate()), t = 0; 3 > t && null == n._a[t]; ++t) n._a[t] = f[t] = r[t];
                for (; 7 > t; t++) n._a[t] = f[t] = null == n._a[t] ? 2 === t ? 1 : 0 : n._a[t];
                24 === n._a[e] && 0 === n._a[d] && 0 === n._a[g] && 0 === n._a[nt] && (n._nextDay = !0, n._a[e] = 0);
                n._d = (n._useUTC ? wt : ku).apply(null, f);
                null != n._tzm && n._d.setUTCMinutes(n._d.getUTCMinutes() - n._tzm);
                n._nextDay && (n._a[e] = 24)
            }
        }

        function cu(n) {
            var t;
            n._d || (t = li(n._i), n._a = [t.year, t.month, t.day || t.date, t.hour, t.minute, t.second, t.millisecond], yt(n))
        }

        function lu(n) {
            var t = new Date;
            return n._useUTC ? [t.getUTCFullYear(), t.getUTCMonth(), t.getUTCDate()] : [t.getFullYear(), t.getMonth(), t.getDate()]
        }

        function pt(i) {
            if (i._f === t.ISO_8601) return void gi(i);
            i._a = [];
            i._pf.empty = !0;
            for (var r, f, h, u = "" + i._i, l = u.length, c = 0, s = di(i._f, i._locale).match(hr) || [], o = 0; o < s.length; o++) f = s[o], r = (u.match(ou(f, i)) || [])[0], r && (h = u.substr(0, u.indexOf(r)), h.length > 0 && i._pf.unusedInput.push(h), u = u.slice(u.indexOf(r) + r.length), c += r.length), v[f] ? (r ? i._pf.empty = !1 : i._pf.unusedTokens.push(f), su(f, r, i)) : i._strict && !r && i._pf.unusedTokens.push(f);
            i._pf.charsLeftOver = l - c;
            u.length > 0 && i._pf.unusedInput.push(u);
            i._pf.bigHour === !0 && i._a[e] <= 12 && (i._pf.bigHour = n);
            i._a[e] = tu(i._locale, i._a[e], i._meridiem);
            yt(i);
            pi(i)
        }

        function au(n) {
            return n.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function(n, t, i, r, u) {
                return t || i || r || u
            })
        }

        function vu(n) {
            return n.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&")
        }

        function yu(n) {
            var t, f, u, r, i;
            if (0 === n._f.length) return n._pf.invalidFormat = !0, void(n._d = new Date(NaN));
            for (r = 0; r < n._f.length; r++) i = 0, t = ei({}, n), null != n._useUTC && (t._useUTC = n._useUTC), t._pf = ot(), t._f = n._f[r], pt(t), wi(t) && (i += t._pf.charsLeftOver, i += 10 * t._pf.unusedTokens.length, t._pf.score = i, (null == u || u > i) && (u = i, f = t));
            w(n, f || t)
        }

        function gi(n) {
            var t, i, r = n._i,
                u = df.exec(r);
            if (u) {
                for (n._pf.iso = !0, t = 0, i = gt.length; i > t; t++)
                    if (gt[t][1].exec(r)) {
                        n._f = gt[t][0] + (u[6] || " ");
                        break
                    }
                for (t = 0, i = ni.length; i > t; t++)
                    if (ni[t][1].exec(r)) {
                        n._f += ni[t][0];
                        break
                    }
                r.match(dt) && (n._f += "Z");
                pt(n)
            } else n._isValid = !1
        }

        function pu(n) {
            gi(n);
            n._isValid === !1 && (delete n._isValid, t.createFromInputFallback(n))
        }

        function wu(n, t) {
            for (var r = [], i = 0; i < n.length; ++i) r.push(t(n[i], i));
            return r
        }

        function bu(i) {
            var u, r = i._i;
            r === n ? i._d = new Date : ht(r) ? i._d = new Date(+r) : null !== (u = ff.exec(r)) ? i._d = new Date(+u[1]) : "string" == typeof r ? pu(i) : ut(r) ? (i._a = wu(r.slice(0), function(n) {
                return parseInt(n, 10)
            }), yt(i)) : "object" == typeof r ? cu(i) : "number" == typeof r ? i._d = new Date(r) : t.createFromInputFallback(i)
        }

        function ku(n, t, i, r, u, f, e) {
            var o = new Date(n, t, i, r, u, f, e);
            return 1970 > n && o.setFullYear(n), o
        }

        function wt(n) {
            var t = new Date(Date.UTC.apply(null, arguments));
            return 1970 > n && t.setUTCFullYear(n), t
        }

        function du(n, t) {
            if ("string" == typeof n)
                if (isNaN(n)) {
                    if (n = t.weekdaysParse(n), "number" != typeof n) return null
                } else n = parseInt(n, 10);
            return n
        }

        function gu(n, t, i, r, u) {
            return u.relativeTime(t || 1, !!i, n, r)
        }

        function nf(n, i, r) {
            var u = t.duration(n).abs(),
                c = k(u.as("s")),
                e = k(u.as("m")),
                o = k(u.as("h")),
                s = k(u.as("d")),
                h = k(u.as("M")),
                l = k(u.as("y")),
                f = c < y.s && ["s", c] || 1 === e && ["m"] || e < y.m && ["mm", e] || 1 === o && ["h"] || o < y.h && ["hh", o] || 1 === s && ["d"] || s < y.d && ["dd", s] || 1 === h && ["M"] || h < y.M && ["MM", h] || 1 === l && ["y"] || ["yy", l];
            return f[2] = i, f[3] = +n > 0, f[4] = r, gu.apply({}, f)
        }

        function b(n, i, r) {
            var f, e = r - i,
                u = r - n.day();
            return u > e && (u -= 7), e - 7 > u && (u += 7), f = t(n).add(u, "d"), {
                week: Math.ceil(f.dayOfYear() / 7),
                year: f.year()
            }
        }

        function tf(n, t, i, r, u) {
            var o, e, f = wt(n, 0, 1).getUTCDay();
            return f = 0 === f ? 7 : f, i = null != i ? i : u, o = u - f + (f > r ? 7 : 0) - (u > f ? 7 : 0), e = 7 * (t - 1) + (i - u) + o + 1, {
                year: e > 0 ? n : n - 1,
                dayOfYear: e > 0 ? e : vi(n - 1) + e
            }
        }

        function nr(i) {
            var u, r = i._i,
                f = i._f;
            return i._locale = i._locale || t.localeData(i._l), null === r || f === n && "" === r ? t.invalid({
                nullInput: !0
            }) : ("string" == typeof r && (i._i = r = i._locale.preparse(r)), t.isMoment(r) ? new rt(r, !0) : (f ? ut(f) ? yu(i) : pt(i) : bu(i), u = new rt(i), u._nextDay && (u.add(1, "d"), u._nextDay = n), u))
        }

        function tr(n, i) {
            var u, r;
            if (1 === i.length && ut(i[0]) && (i = i[0]), !i.length) return t();
            for (u = i[0], r = 1; r < i.length; ++r) i[r][n](u) && (u = i[r]);
            return u
        }

        function ir(n, t) {
            var i;
            return "string" == typeof t && (t = n.localeData().monthsParse(t), "number" != typeof t) ? n : (i = Math.min(n.date(), ct(n.year(), t)), n._d["set" + (n._isUTC ? "UTC" : "") + "Month"](t, i), n)
        }

        function bt(n, t) {
            return n._d["get" + (n._isUTC ? "UTC" : "") + t]()
        }

        function rr(n, t, i) {
            return "Month" === t ? ir(n, i) : n._d["set" + (n._isUTC ? "UTC" : "") + t](i)
        }

        function c(n, i) {
            return function(r) {
                return null != r ? (rr(this, n, r), t.updateOffset(this, i), this) : bt(this, n)
            }
        }

        function ur(n) {
            return 400 * n / 146097
        }

        function fr(n) {
            return 146097 * n / 400
        }

        function rf(n) {
            t.duration.fn[n] = function() {
                return this._data[n]
            }
        }

        function er(n) {
            "undefined" == typeof ender && (or = kt.moment, kt.moment = n ? o("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.", t) : t)
        }
        for (var t, or, u, kt = "undefined" == typeof global || "undefined" != typeof window && window !== global.window ? this : global, k = Math.round, uf = Object.prototype.hasOwnProperty, l = 0, a = 1, h = 2, e = 3, d = 4, g = 5, nt = 6, tt = {}, ft = [], sr = "undefined" != typeof module && module && module.exports, ff = /^\/?Date\((\-?\d+)/i, ef = /(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/, of = /^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/, hr = /(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g, et = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g, cr = /\d\d?/, sf = /\d{1,3}/, hf = /\d{1,4}/, cf = /[+\-]?\d{1,6}/, lf = /\d+/, af = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i, dt = /Z|[\+\-]\d\d:?\d\d/gi, vf = /T/i, yf = /[\+\-]?\d+/, pf = /[\+\-]?\d+(\.\d{1,3})?/, lr = /\d/, ar = /\d\d/, vr = /\d{3}/, wf = /\d{4}/, bf = /[+-]?\d{6}/, kf = /[+-]?\d+/, df = /^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/, gt = [
                ["YYYYYY-MM-DD", /[+-]\d{6}-\d{2}-\d{2}/],
                ["YYYY-MM-DD", /\d{4}-\d{2}-\d{2}/],
                ["GGGG-[W]WW-E", /\d{4}-W\d{2}-\d/],
                ["GGGG-[W]WW", /\d{4}-W\d{2}/],
                ["YYYY-DDD", /\d{4}-\d{3}/]
            ], ni = [
                ["HH:mm:ss.SSSS", /(T| )\d\d:\d\d:\d\d\.\d+/],
                ["HH:mm:ss", /(T| )\d\d:\d\d:\d\d/],
                ["HH:mm", /(T| )\d\d:\d\d/],
                ["HH", /(T| )\d\d/]
            ], gf = /([\+\-]|\d\d)/gi, yr = ("Date|Hours|Minutes|Seconds|Milliseconds".split("|"), {
                Milliseconds: 1,
                Seconds: 1e3,
                Minutes: 6e4,
                Hours: 36e5,
                Days: 864e5,
                Months: 2592e6,
                Years: 31536e6
            }), ne = {
                ms: "millisecond",
                s: "second",
                m: "minute",
                h: "hour",
                d: "day",
                D: "date",
                w: "week",
                W: "isoWeek",
                M: "month",
                Q: "quarter",
                y: "year",
                DDD: "dayOfYear",
                e: "weekday",
                E: "isoWeekday",
                gg: "weekYear",
                GG: "isoWeekYear"
            }, te = {
                dayofyear: "dayOfYear",
                isoweekday: "isoWeekday",
                isoweek: "isoWeek",
                weekyear: "weekYear",
                isoweekyear: "isoWeekYear"
            }, ti = {}, y = {
                s: 45,
                m: 45,
                h: 22,
                d: 26,
                M: 11
            }, pr = "DDD w W M D d".split(" "), wr = "M D H h m s w W".split(" "), v = {
                M: function() {
                    return this.month() + 1
                },
                MMM: function(n) {
                    return this.localeData().monthsShort(this, n)
                },
                MMMM: function(n) {
                    return this.localeData().months(this, n)
                },
                D: function() {
                    return this.date()
                },
                DDD: function() {
                    return this.dayOfYear()
                },
                d: function() {
                    return this.day()
                },
                dd: function(n) {
                    return this.localeData().weekdaysMin(this, n)
                },
                ddd: function(n) {
                    return this.localeData().weekdaysShort(this, n)
                },
                dddd: function(n) {
                    return this.localeData().weekdays(this, n)
                },
                w: function() {
                    return this.week()
                },
                W: function() {
                    return this.isoWeek()
                },
                YY: function() {
                    return r(this.year() % 100, 2)
                },
                YYYY: function() {
                    return r(this.year(), 4)
                },
                YYYYY: function() {
                    return r(this.year(), 5)
                },
                YYYYYY: function() {
                    var n = this.year(),
                        t = n >= 0 ? "+" : "-";
                    return t + r(Math.abs(n), 6)
                },
                gg: function() {
                    return r(this.weekYear() % 100, 2)
                },
                gggg: function() {
                    return r(this.weekYear(), 4)
                },
                ggggg: function() {
                    return r(this.weekYear(), 5)
                },
                GG: function() {
                    return r(this.isoWeekYear() % 100, 2)
                },
                GGGG: function() {
                    return r(this.isoWeekYear(), 4)
                },
                GGGGG: function() {
                    return r(this.isoWeekYear(), 5)
                },
                e: function() {
                    return this.weekday()
                },
                E: function() {
                    return this.isoWeekday()
                },
                a: function() {
                    return this.localeData().meridiem(this.hours(), this.minutes(), !0)
                },
                A: function() {
                    return this.localeData().meridiem(this.hours(), this.minutes(), !1)
                },
                H: function() {
                    return this.hours()
                },
                h: function() {
                    return this.hours() % 12 || 12
                },
                m: function() {
                    return this.minutes()
                },
                s: function() {
                    return this.seconds()
                },
                S: function() {
                    return i(this.milliseconds() / 100)
                },
                SS: function() {
                    return r(i(this.milliseconds() / 10), 2)
                },
                SSS: function() {
                    return r(this.milliseconds(), 3)
                },
                SSSS: function() {
                    return r(this.milliseconds(), 3)
                },
                Z: function() {
                    var n = this.utcOffset(),
                        t = "+";
                    return 0 > n && (n = -n, t = "-"), t + r(i(n / 60), 2) + ":" + r(i(n) % 60, 2)
                },
                ZZ: function() {
                    var n = this.utcOffset(),
                        t = "+";
                    return 0 > n && (n = -n, t = "-"), t + r(i(n / 60), 2) + r(i(n) % 60, 2)
                },
                z: function() {
                    return this.zoneAbbr()
                },
                zz: function() {
                    return this.zoneName()
                },
                x: function() {
                    return this.valueOf()
                },
                X: function() {
                    return this.unix()
                },
                Q: function() {
                    return this.quarter()
                }
            }, br = {}, kr = ["months", "monthsShort", "weekdays", "weekdaysShort", "weekdaysMin"], ii = !1; pr.length;) u = pr.pop(), v[u + "o"] = gr(v[u], u);
        for (; wr.length;) u = wr.pop(), v[u + u] = ui(v[u], 2);
        for (v.DDDD = ui(v.DDD, 3), w(fi.prototype, {
                set: function(n) {
                    var t, i;
                    for (i in n) t = n[i], "function" == typeof t ? this[i] = t : this["_" + i] = t;
                    this._ordinalParseLenient = new RegExp(this._ordinalParse.source + "|" + /\d{1,2}/.source)
                },
                _months: "January_February_March_April_May_June_July_August_September_October_November_December".split("_"),
                months: function(n) {
                    return this._months[n.month()]
                },
                _monthsShort: "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),
                monthsShort: function(n) {
                    return this._monthsShort[n.month()]
                },
                monthsParse: function(n, i, r) {
                    var u, f, e;
                    for (this._monthsParse || (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = []), u = 0; 12 > u; u++)
                        if ((f = t.utc([2e3, u]), r && !this._longMonthsParse[u] && (this._longMonthsParse[u] = new RegExp("^" + this.months(f, "").replace(".", "") + "$", "i"), this._shortMonthsParse[u] = new RegExp("^" + this.monthsShort(f, "").replace(".", "") + "$", "i")), r || this._monthsParse[u] || (e = "^" + this.months(f, "") + "|^" + this.monthsShort(f, ""), this._monthsParse[u] = new RegExp(e.replace(".", ""), "i")), r && "MMMM" === i && this._longMonthsParse[u].test(n)) || r && "MMM" === i && this._shortMonthsParse[u].test(n) || !r && this._monthsParse[u].test(n)) return u
                },
                _weekdays: "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),
                weekdays: function(n) {
                    return this._weekdays[n.day()]
                },
                _weekdaysShort: "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),
                weekdaysShort: function(n) {
                    return this._weekdaysShort[n.day()]
                },
                _weekdaysMin: "Su_Mo_Tu_We_Th_Fr_Sa".split("_"),
                weekdaysMin: function(n) {
                    return this._weekdaysMin[n.day()]
                },
                weekdaysParse: function(n) {
                    var i, r, u;
                    for (this._weekdaysParse || (this._weekdaysParse = []), i = 0; 7 > i; i++)
                        if (this._weekdaysParse[i] || (r = t([2e3, 1]).day(i), u = "^" + this.weekdays(r, "") + "|^" + this.weekdaysShort(r, "") + "|^" + this.weekdaysMin(r, ""), this._weekdaysParse[i] = new RegExp(u.replace(".", ""), "i")), this._weekdaysParse[i].test(n)) return i
                },
                _longDateFormat: {
                    LTS: "h:mm:ss A",
                    LT: "h:mm A",
                    L: "MM/DD/YYYY",
                    LL: "MMMM D, YYYY",
                    LLL: "MMMM D, YYYY LT",
                    LLLL: "dddd, MMMM D, YYYY LT"
                },
                longDateFormat: function(n) {
                    var t = this._longDateFormat[n];
                    return !t && this._longDateFormat[n.toUpperCase()] && (t = this._longDateFormat[n.toUpperCase()].replace(/MMMM|MM|DD|dddd/g, function(n) {
                        return n.slice(1)
                    }), this._longDateFormat[n] = t), t
                },
                isPM: function(n) {
                    return "p" === (n + "").toLowerCase().charAt(0)
                },
                _meridiemParse: /[ap]\.?m?\.?/i,
                meridiem: function(n, t, i) {
                    return n > 11 ? i ? "pm" : "PM" : i ? "am" : "AM"
                },
                _calendar: {
                    sameDay: "[Today at] LT",
                    nextDay: "[Tomorrow at] LT",
                    nextWeek: "dddd [at] LT",
                    lastDay: "[Yesterday at] LT",
                    lastWeek: "[Last] dddd [at] LT",
                    sameElse: "L"
                },
                calendar: function(n, t, i) {
                    var r = this._calendar[n];
                    return "function" == typeof r ? r.apply(t, [i]) : r
                },
                _relativeTime: {
                    future: "in %s",
                    past: "%s ago",
                    s: "a few seconds",
                    m: "a minute",
                    mm: "%d minutes",
                    h: "an hour",
                    hh: "%d hours",
                    d: "a day",
                    dd: "%d days",
                    M: "a month",
                    MM: "%d months",
                    y: "a year",
                    yy: "%d years"
                },
                relativeTime: function(n, t, i, r) {
                    var u = this._relativeTime[i];
                    return "function" == typeof u ? u(n, t, i, r) : u.replace(/%d/i, n)
                },
                pastFuture: function(n, t) {
                    var i = this._relativeTime[n > 0 ? "future" : "past"];
                    return "function" == typeof i ? i(t) : i.replace(/%s/i, t)
                },
                ordinal: function(n) {
                    return this._ordinal.replace("%d", n)
                },
                _ordinal: "%d",
                _ordinalParse: /\d{1,2}/,
                preparse: function(n) {
                    return n
                },
                postformat: function(n) {
                    return n
                },
                week: function(n) {
                    return b(n, this._week.dow, this._week.doy).week
                },
                _week: {
                    dow: 0,
                    doy: 6
                },
                firstDayOfWeek: function() {
                    return this._week.dow
                },
                firstDayOfYear: function() {
                    return this._week.doy
                },
                _invalidDate: "Invalid date",
                invalidDate: function() {
                    return this._invalidDate
                }
            }), t = function(t, i, r, u) {
                var f;
                return "boolean" == typeof r && (u = r, r = n), f = {}, f._isAMomentObject = !0, f._i = t, f._f = i, f._l = r, f._strict = u, f._isUTC = !1, f._pf = ot(), nr(f)
            }, t.suppressDeprecationWarnings = !1, t.createFromInputFallback = o("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.", function(n) {
                n._d = new Date(n._i + (n._useUTC ? " UTC" : ""))
            }), t.min = function() {
                var n = [].slice.call(arguments, 0);
                return tr("isBefore", n)
            }, t.max = function() {
                var n = [].slice.call(arguments, 0);
                return tr("isAfter", n)
            }, t.utc = function(t, i, r, u) {
                var f;
                return "boolean" == typeof r && (u = r, r = n), f = {}, f._isAMomentObject = !0, f._useUTC = !0, f._isUTC = !0, f._l = r, f._i = t, f._f = i, f._strict = u, f._pf = ot(), nr(f).utc()
            }, t.unix = function(n) {
                return t(1e3 * n)
            }, t.duration = function(n, r) {
                var o, c, s, l, u = n,
                    f = null;
                return t.isDuration(n) ? u = {
                    ms: n._milliseconds,
                    d: n._days,
                    M: n._months
                } : "number" == typeof n ? (u = {}, r ? u[r] = n : u.milliseconds = n) : (f = ef.exec(n)) ? (o = "-" === f[1] ? -1 : 1, u = {
                    y: 0,
                    d: i(f[h]) * o,
                    h: i(f[e]) * o,
                    m: i(f[d]) * o,
                    s: i(f[g]) * o,
                    ms: i(f[nt]) * o
                }) : (f = of.exec(n)) ? (o = "-" === f[1] ? -1 : 1, s = function(n) {
                    var t = n && parseFloat(n.replace(",", "."));
                    return (isNaN(t) ? 0 : t) * o
                }, u = {
                    y: s(f[2]),
                    M: s(f[3]),
                    d: s(f[4]),
                    h: s(f[5]),
                    m: s(f[6]),
                    s: s(f[7]),
                    w: s(f[8])
                }) : null == u ? u = {} : "object" == typeof u && ("from" in u || "to" in u) && (l = iu(t(u.from), t(u.to)), u = {}, u.ms = l.milliseconds, u.M = l.months), c = new st(u), t.isDuration(n) && p(n, "_locale") && (c._locale = n._locale), c
            }, t.version = "2.9.0", t.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ", t.ISO_8601 = function() {}, t.momentProperties = ft, t.updateOffset = function() {}, t.relativeTimeThreshold = function(t, i) {
                return y[t] === n ? !1 : i === n ? y[t] : (y[t] = i, !0)
            }, t.lang = o("moment.lang is deprecated. Use moment.locale instead.", function(n, i) {
                return t.locale(n, i)
            }), t.locale = function(n, i) {
                var r;
                return n && (r = "undefined" != typeof i ? t.defineLocale(n, i) : t.localeData(n), r && (t.duration._locale = t._locale = r)), t._locale._abbr
            }, t.defineLocale = function(n, i) {
                return null !== i ? (i.abbr = n, tt[n] || (tt[n] = new fi), tt[n].set(i), t.locale(n), tt[n]) : (delete tt[n], null)
            }, t.langData = o("moment.langData is deprecated. Use moment.localeData instead.", function(n) {
                return t.localeData(n)
            }), t.localeData = function(n) {
                var i;
                if (n && n._locale && n._locale._abbr && (n = n._locale._abbr), !n) return t._locale;
                if (!ut(n)) {
                    if (i = ki(n)) return i;
                    n = [n]
                }
                return uu(n)
            }, t.isMoment = function(n) {
                return n instanceof rt || null != n && p(n, "_isAMomentObject")
            }, t.isDuration = function(n) {
                return n instanceof st
            }, u = kr.length - 1; u >= 0; --u) ru(kr[u]);
        t.normalizeUnits = function(n) {
            return f(n)
        };
        t.invalid = function(n) {
            var i = t.utc(NaN);
            return null != n ? w(i._pf, n) : i._pf.userInvalidated = !0, i
        };
        t.parseZone = function() {
            return t.apply(null, arguments).parseZone()
        };
        t.parseTwoDigitYear = function(n) {
            return i(n) + (i(n) > 68 ? 1900 : 2e3)
        };
        t.isDate = ht;
        w(t.fn = rt.prototype, {
            clone: function() {
                return t(this)
            },
            valueOf: function() {
                return +this._d - 6e4 * (this._offset || 0)
            },
            unix: function() {
                return Math.floor(+this / 1e3)
            },
            toString: function() {
                return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")
            },
            toDate: function() {
                return this._offset ? new Date(+this) : this._d
            },
            toISOString: function() {
                var n = t(this).utc();
                return 0 < n.year() && n.year() <= 9999 ? "function" == typeof Date.prototype.toISOString ? this.toDate().toISOString() : at(n, "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]") : at(n, "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")
            },
            toArray: function() {
                var n = this;
                return [n.year(), n.month(), n.date(), n.hours(), n.minutes(), n.seconds(), n.milliseconds()]
            },
            isValid: function() {
                return wi(this)
            },
            isDSTShifted: function() {
                return this._a ? this.isValid() && ci(this._a, (this._isUTC ? t.utc(this._a) : t(this._a)).toArray()) > 0 : !1
            },
            parsingFlags: function() {
                return w({}, this._pf)
            },
            invalidAt: function() {
                return this._pf.overflow
            },
            utc: function(n) {
                return this.utcOffset(0, n)
            },
            local: function(n) {
                return this._isUTC && (this.utcOffset(0, n), this._isUTC = !1, n && this.subtract(this._dateUtcOffset(), "m")), this
            },
            format: function(n) {
                var i = at(this, n || t.defaultFormat);
                return this.localeData().postformat(i)
            },
            add: si(1, "add"),
            subtract: si(-1, "subtract"),
            diff: function(n, t, i) {
                var r, u, e = lt(n, this),
                    o = 6e4 * (e.utcOffset() - this.utcOffset());
                return t = f(t), "year" === t || "month" === t || "quarter" === t ? (u = nu(this, e), "quarter" === t ? u /= 3 : "year" === t && (u /= 12)) : (r = this - e, u = "second" === t ? r / 1e3 : "minute" === t ? r / 6e4 : "hour" === t ? r / 36e5 : "day" === t ? (r - o) / 864e5 : "week" === t ? (r - o) / 6048e5 : r), i ? u : s(u)
            },
            from: function(n, i) {
                return t.duration({
                    to: this,
                    from: n
                }).locale(this.locale()).humanize(!i)
            },
            fromNow: function(n) {
                return this.from(t(), n)
            },
            calendar: function(n) {
                var r = n || t(),
                    u = lt(r, this).startOf("day"),
                    i = this.diff(u, "days", !0),
                    f = -6 > i ? "sameElse" : -1 > i ? "lastWeek" : 0 > i ? "lastDay" : 1 > i ? "sameDay" : 2 > i ? "nextDay" : 7 > i ? "nextWeek" : "sameElse";
                return this.format(this.localeData().calendar(f, this, t(r)))
            },
            isLeapYear: function() {
                return yi(this.year())
            },
            isDST: function() {
                return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset()
            },
            day: function(n) {
                var t = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
                return null != n ? (n = du(n, this.localeData()), this.add(n - t, "d")) : t
            },
            month: c("Month", !0),
            startOf: function(n) {
                switch (n = f(n)) {
                    case "year":
                        this.month(0);
                    case "quarter":
                    case "month":
                        this.date(1);
                    case "week":
                    case "isoWeek":
                    case "day":
                        this.hours(0);
                    case "hour":
                        this.minutes(0);
                    case "minute":
                        this.seconds(0);
                    case "second":
                        this.milliseconds(0)
                }
                return "week" === n ? this.weekday(0) : "isoWeek" === n && this.isoWeekday(1), "quarter" === n && this.month(3 * Math.floor(this.month() / 3)), this
            },
            endOf: function(t) {
                return t = f(t), t === n || "millisecond" === t ? this : this.startOf(t).add(1, "isoWeek" === t ? "week" : t).subtract(1, "ms")
            },
            isAfter: function(n, i) {
                var r;
                return i = f("undefined" != typeof i ? i : "millisecond"), "millisecond" === i ? (n = t.isMoment(n) ? n : t(n), +this > +n) : (r = t.isMoment(n) ? +n : +t(n), r < +this.clone().startOf(i))
            },
            isBefore: function(n, i) {
                var r;
                return i = f("undefined" != typeof i ? i : "millisecond"), "millisecond" === i ? (n = t.isMoment(n) ? n : t(n), +n > +this) : (r = t.isMoment(n) ? +n : +t(n), +this.clone().endOf(i) < r)
            },
            isBetween: function(n, t, i) {
                return this.isAfter(n, i) && this.isBefore(t, i)
            },
            isSame: function(n, i) {
                var r;
                return i = f(i || "millisecond"), "millisecond" === i ? (n = t.isMoment(n) ? n : t(n), +this == +n) : (r = +t(n), +this.clone().startOf(i) <= r && r <= +this.clone().endOf(i))
            },
            min: o("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548", function(n) {
                return n = t.apply(null, arguments), this > n ? this : n
            }),
            max: o("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548", function(n) {
                return n = t.apply(null, arguments), n > this ? this : n
            }),
            zone: o("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779", function(n, t) {
                return null != n ? ("string" != typeof n && (n = -n), this.utcOffset(n, t), this) : -this.utcOffset()
            }),
            utcOffset: function(n, i) {
                var r, u = this._offset || 0;
                return null != n ? ("string" == typeof n && (n = vt(n)), Math.abs(n) < 16 && (n = 60 * n), !this._isUTC && i && (r = this._dateUtcOffset()), this._offset = n, this._isUTC = !0, null != r && this.add(r, "m"), u !== n && (!i || this._changeInProgress ? hi(this, t.duration(n - u, "m"), 1, !1) : this._changeInProgress || (this._changeInProgress = !0, t.updateOffset(this, !0), this._changeInProgress = null)), this) : this._isUTC ? u : this._dateUtcOffset()
            },
            isLocal: function() {
                return !this._isUTC
            },
            isUtcOffset: function() {
                return this._isUTC
            },
            isUtc: function() {
                return this._isUTC && 0 === this._offset
            },
            zoneAbbr: function() {
                return this._isUTC ? "UTC" : ""
            },
            zoneName: function() {
                return this._isUTC ? "Coordinated Universal Time" : ""
            },
            parseZone: function() {
                return this._tzm ? this.utcOffset(this._tzm) : "string" == typeof this._i && this.utcOffset(vt(this._i)), this
            },
            hasAlignedHourOffset: function(n) {
                return n = n ? t(n).utcOffset() : 0, (this.utcOffset() - n) % 60 == 0
            },
            daysInMonth: function() {
                return ct(this.year(), this.month())
            },
            dayOfYear: function(n) {
                var i = k((t(this).startOf("day") - t(this).startOf("year")) / 864e5) + 1;
                return null == n ? i : this.add(n - i, "d")
            },
            quarter: function(n) {
                return null == n ? Math.ceil((this.month() + 1) / 3) : this.month(3 * (n - 1) + this.month() % 3)
            },
            weekYear: function(n) {
                var t = b(this, this.localeData()._week.dow, this.localeData()._week.doy).year;
                return null == n ? t : this.add(n - t, "y")
            },
            isoWeekYear: function(n) {
                var t = b(this, 1, 4).year;
                return null == n ? t : this.add(n - t, "y")
            },
            week: function(n) {
                var t = this.localeData().week(this);
                return null == n ? t : this.add(7 * (n - t), "d")
            },
            isoWeek: function(n) {
                var t = b(this, 1, 4).week;
                return null == n ? t : this.add(7 * (n - t), "d")
            },
            weekday: function(n) {
                var t = (this.day() + 7 - this.localeData()._week.dow) % 7;
                return null == n ? t : this.add(n - t, "d")
            },
            isoWeekday: function(n) {
                return null == n ? this.day() || 7 : this.day(this.day() % 7 ? n : n - 7)
            },
            isoWeeksInYear: function() {
                return ai(this.year(), 1, 4)
            },
            weeksInYear: function() {
                var n = this.localeData()._week;
                return ai(this.year(), n.dow, n.doy)
            },
            get: function(n) {
                return n = f(n), this[n]()
            },
            set: function(n, t) {
                var i;
                if ("object" == typeof n)
                    for (i in n) this.set(i, n[i]);
                else n = f(n), "function" == typeof this[n] && this[n](t);
                return this
            },
            locale: function(i) {
                var r;
                return i === n ? this._locale._abbr : (r = t.localeData(i), null != r && (this._locale = r), this)
            },
            lang: o("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.", function(t) {
                return t === n ? this.localeData() : this.locale(t)
            }),
            localeData: function() {
                return this._locale
            },
            _dateUtcOffset: function() {
                return 15 * -Math.round(this._d.getTimezoneOffset() / 15)
            }
        });
        t.fn.millisecond = t.fn.milliseconds = c("Milliseconds", !1);
        t.fn.second = t.fn.seconds = c("Seconds", !1);
        t.fn.minute = t.fn.minutes = c("Minutes", !1);
        t.fn.hour = t.fn.hours = c("Hours", !0);
        t.fn.date = c("Date", !0);
        t.fn.dates = o("dates accessor is deprecated. Use date instead.", c("Date", !0));
        t.fn.year = c("FullYear", !0);
        t.fn.years = o("years accessor is deprecated. Use year instead.", c("FullYear", !0));
        t.fn.days = t.fn.day;
        t.fn.months = t.fn.month;
        t.fn.weeks = t.fn.week;
        t.fn.isoWeeks = t.fn.isoWeek;
        t.fn.quarters = t.fn.quarter;
        t.fn.toJSON = t.fn.toISOString;
        t.fn.isUTC = t.fn.isUtc;
        w(t.duration.fn = st.prototype, {
            _bubble: function() {
                var u, f, e, o = this._milliseconds,
                    t = this._days,
                    i = this._months,
                    n = this._data,
                    r = 0;
                n.milliseconds = o % 1e3;
                u = s(o / 1e3);
                n.seconds = u % 60;
                f = s(u / 60);
                n.minutes = f % 60;
                e = s(f / 60);
                n.hours = e % 24;
                t += s(e / 24);
                r = s(ur(t));
                t -= s(fr(r));
                i += s(t / 30);
                t %= 30;
                r += s(i / 12);
                i %= 12;
                n.days = t;
                n.months = i;
                n.years = r
            },
            abs: function() {
                return this._milliseconds = Math.abs(this._milliseconds), this._days = Math.abs(this._days), this._months = Math.abs(this._months), this._data.milliseconds = Math.abs(this._data.milliseconds), this._data.seconds = Math.abs(this._data.seconds), this._data.minutes = Math.abs(this._data.minutes), this._data.hours = Math.abs(this._data.hours), this._data.months = Math.abs(this._data.months), this._data.years = Math.abs(this._data.years), this
            },
            weeks: function() {
                return s(this.days() / 7)
            },
            valueOf: function() {
                return this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * i(this._months / 12)
            },
            humanize: function(n) {
                var t = nf(this, !n, this.localeData());
                return n && (t = this.localeData().pastFuture(+this, t)), this.localeData().postformat(t)
            },
            add: function(n, i) {
                var r = t.duration(n, i);
                return this._milliseconds += r._milliseconds, this._days += r._days, this._months += r._months, this._bubble(), this
            },
            subtract: function(n, i) {
                var r = t.duration(n, i);
                return this._milliseconds -= r._milliseconds, this._days -= r._days, this._months -= r._months, this._bubble(), this
            },
            get: function(n) {
                return n = f(n), this[n.toLowerCase() + "s"]()
            },
            as: function(n) {
                var t, i;
                if (n = f(n), "month" === n || "year" === n) return t = this._days + this._milliseconds / 864e5, i = this._months + 12 * ur(t), "month" === n ? i : i / 12;
                switch (t = this._days + Math.round(fr(this._months / 12)), n) {
                    case "week":
                        return t / 7 + this._milliseconds / 6048e5;
                    case "day":
                        return t + this._milliseconds / 864e5;
                    case "hour":
                        return 24 * t + this._milliseconds / 36e5;
                    case "minute":
                        return 1440 * t + this._milliseconds / 6e4;
                    case "second":
                        return 86400 * t + this._milliseconds / 1e3;
                    case "millisecond":
                        return Math.floor(864e5 * t) + this._milliseconds;
                    default:
                        throw new Error("Unknown unit " + n);
                }
            },
            lang: t.fn.lang,
            locale: t.fn.locale,
            toIsoString: o("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", function() {
                return this.toISOString()
            }),
            toISOString: function() {
                var r = Math.abs(this.years()),
                    u = Math.abs(this.months()),
                    f = Math.abs(this.days()),
                    n = Math.abs(this.hours()),
                    t = Math.abs(this.minutes()),
                    i = Math.abs(this.seconds() + this.milliseconds() / 1e3);
                return this.asSeconds() ? (this.asSeconds() < 0 ? "-" : "") + "P" + (r ? r + "Y" : "") + (u ? u + "M" : "") + (f ? f + "D" : "") + (n || t || i ? "T" : "") + (n ? n + "H" : "") + (t ? t + "M" : "") + (i ? i + "S" : "") : "P0D"
            },
            localeData: function() {
                return this._locale
            },
            toJSON: function() {
                return this.toISOString()
            }
        });
        t.duration.fn.toString = t.duration.fn.toISOString;
        for (u in yr) p(yr, u) && rf(u.toLowerCase());
        t.duration.fn.asMilliseconds = function() {
            return this.as("ms")
        };
        t.duration.fn.asSeconds = function() {
            return this.as("s")
        };
        t.duration.fn.asMinutes = function() {
            return this.as("m")
        };
        t.duration.fn.asHours = function() {
            return this.as("h")
        };
        t.duration.fn.asDays = function() {
            return this.as("d")
        };
        t.duration.fn.asWeeks = function() {
            return this.as("weeks")
        };
        t.duration.fn.asMonths = function() {
            return this.as("M")
        };
        t.duration.fn.asYears = function() {
            return this.as("y")
        };
        t.locale("en", {
            ordinalParse: /\d{1,2}(th|st|nd|rd)/,
            ordinal: function(n) {
                var t = n % 10,
                    r = 1 === i(n % 100 / 10) ? "th" : 1 === t ? "st" : 2 === t ? "nd" : 3 === t ? "rd" : "th";
                return n + r
            }
        });
        sr ? module.exports = t : "function" == typeof define && define.amd ? (define(function(n, i, r) {
            return r.config && r.config() && r.config().noGlobal === !0 && (kt.moment = or), t
        }), er(!0)) : er()
    }.call(this), ! function(n) {
        typeof define == "function" && define.amd ? define(["jquery"], n) : typeof exports == "object" ? module.exports = n(require("jquery")) : n(jQuery)
    }(function(n) {
        function tt(n, t) {
            return n.parsleyAdaptedCallback || (n.parsleyAdaptedCallback = function() {
                var i = Array.prototype.slice.call(arguments, 0);
                i.unshift(this);
                n.apply(t || nt, i)
            }), n.parsleyAdaptedCallback
        }

        function f(n) {
            return n.lastIndexOf(k, 0) === 0 ? n.substr(k.length) : n
        }
        var y, l, p, r, w, g, i, e, b, s, nt, u, k, h, it;
        "undefined" == typeof n && "undefined" != typeof window.jQuery && (n = window.jQuery);
        var rt = 1,
            a = {},
            t = {
                attr: function(n, t, i) {
                    var u, f, e = new RegExp("^" + t, "i"),
                        r;
                    if ("undefined" == typeof i) i = {};
                    else
                        for (r in i) i.hasOwnProperty(r) && delete i[r];
                    if ("undefined" == typeof n || "undefined" == typeof n[0]) return i;
                    for (f = n[0].attributes, r = f.length; r--;) u = f[r], u && u.specified && e.test(u.name) && (i[this.camelize(u.name.slice(t.length))] = this.deserializeValue(u.value));
                    return i
                },
                checkAttr: function(n, t, i) {
                    return n.is("[" + t + i + "]")
                },
                setAttr: function(n, t, i, r) {
                    n[0].setAttribute(this.dasherize(t + i), String(r))
                },
                generateID: function() {
                    return "" + rt++
                },
                deserializeValue: function(t) {
                    var i;
                    try {
                        return t ? t == "true" || (t == "false" ? !1 : t == "null" ? null : isNaN(i = Number(t)) ? /^[\[\{]/.test(t) ? n.parseJSON(t) : t : i) : t
                    } catch (r) {
                        return t
                    }
                },
                camelize: function(n) {
                    return n.replace(/-+(.)?/g, function(n, t) {
                        return t ? t.toUpperCase() : ""
                    })
                },
                dasherize: function(n) {
                    return n.replace(/::/g, "/").replace(/([A-Z]+)([A-Z][a-z])/g, "$1_$2").replace(/([a-z\d])([A-Z])/g, "$1_$2").replace(/_/g, "-").toLowerCase()
                },
                warn: function() {
                    window.console && "function" == typeof window.console.warn && window.console.warn.apply(window.console, arguments)
                },
                warnOnce: function(n) {
                    a[n] || (a[n] = !0, this.warn.apply(this, arguments))
                },
                _resetWarnings: function() {
                    a = {}
                },
                trimString: function(n) {
                    return n.replace(/^\s+|\s+$/g, "")
                },
                objectCreate: Object.create || function() {
                    var n = function() {};
                    return function(t) {
                        if (arguments.length > 1) throw Error("Second argument not supported");
                        if (typeof t != "object") throw TypeError("Argument must be an object");
                        n.prototype = t;
                        return n.prototype = null, {}
                    }
                }()
            },
            d = {
                namespace: "data-parsley-",
                inputs: "input, textarea, select",
                excluded: "input[type=button], input[type=submit], input[type=reset], input[type=hidden]",
                priorityEnabled: !0,
                multiple: null,
                group: null,
                uiEnabled: !0,
                validationThreshold: 3,
                focus: "first",
                trigger: !1,
                errorClass: "parsley-error",
                successClass: "parsley-success",
                classHandler: function() {},
                errorsContainer: function() {},
                errorsWrapper: '<ul class="parsley-errors-list"><\/ul>',
                errorTemplate: "<li><\/li>"
            },
            o = function() {};
        o.prototype = {
            asyncSupport: !0,
            actualizeOptions: function() {
                return t.attr(this.$element, this.options.namespace, this.domOptions), this.parent && this.parent.actualizeOptions && this.parent.actualizeOptions(), this
            },
            _resetOptions: function(n) {
                this.domOptions = t.objectCreate(this.parent.options);
                this.options = t.objectCreate(this.domOptions);
                for (var i in n) n.hasOwnProperty(i) && (this.options[i] = n[i]);
                this.actualizeOptions()
            },
            _listeners: null,
            on: function(n, t) {
                this._listeners = this._listeners || {};
                var i = this._listeners[n] = this._listeners[n] || [];
                return i.push(t), this
            },
            subscribe: function(t, i) {
                n.listenTo(this, t.toLowerCase(), i)
            },
            off: function(n, t) {
                var i = this._listeners && this._listeners[n],
                    r;
                if (i)
                    if (t)
                        for (r = i.length; r--;) i[r] === t && i.splice(r, 1);
                    else delete this._listeners[n];
                return this
            },
            unsubscribe: function(t) {
                n.unsubscribeTo(this, t.toLowerCase())
            },
            trigger: function(n, t) {
                var i, r, u;
                if (t = t || this, i = this._listeners && this._listeners[n], i)
                    for (u = i.length; u--;)
                        if (r = i[u].call(t, t), r === !1) return r;
                return this.parent ? this.parent.trigger(n, t) : !0
            },
            reset: function() {
                if ("ParsleyForm" !== this.__class__) return this._trigger("reset");
                for (var n = 0; n < this.fields.length; n++) this.fields[n]._trigger("reset");
                this._trigger("reset")
            },
            destroy: function() {
                if ("ParsleyForm" !== this.__class__) {
                    this.$element.removeData("Parsley");
                    this.$element.removeData("ParsleyFieldMultiple");
                    this._trigger("destroy");
                    return
                }
                for (var n = 0; n < this.fields.length; n++) this.fields[n].destroy();
                this.$element.removeData("Parsley");
                this._trigger("destroy")
            },
            asyncIsValid: function() {
                return t.warnOnce("asyncIsValid is deprecated; please use whenIsValid instead"), this.whenValid.apply(this, arguments)
            },
            _findRelatedMultiple: function() {
                return this.parent.$element.find("[" + this.options.namespace + 'multiple="' + this.options.multiple + '"]')
            }
        };
        var ut = {
                string: function(n) {
                    return n
                },
                integer: function(n) {
                    if (isNaN(n)) throw 'Requirement is not an integer: "' + n + '"';
                    return parseInt(n, 10)
                },
                number: function(n) {
                    if (isNaN(n)) throw 'Requirement is not a number: "' + n + '"';
                    return parseFloat(n)
                },
                reference: function(t) {
                    var i = n(t);
                    if (i.length === 0) throw 'No such reference: "' + t + '"';
                    return i
                },
                boolean: function(n) {
                    return n !== "false"
                },
                object: function(n) {
                    return t.deserializeValue(n)
                },
                regexp: function(n) {
                    var t = "";
                    return !/^\/.*\/(?:[gimy]*)$/.test(n) || (t = n.replace(/.*\/([gimy]*)$/, "$1"), n = n.replace(new RegExp("^/(.*?)/" + t + "$"), "$1")), new RegExp(n, t)
                }
            },
            ft = function(n, i) {
                var u = n.match(/^\s*\[(.*)\]\s*$/),
                    r;
                if (!u) throw 'Requirement is not an array: "' + n + '"';
                if (r = u[1].split(",").map(t.trimString), r.length !== i) throw "Requirement has " + r.length + " values when " + i + " are needed";
                return r
            },
            c = function(n, t) {
                var i = ut[n || "string"];
                if (!i) throw 'Unknown requirement specification: "' + n + '"';
                return i(t)
            },
            et = function(n, t, i) {
                var f = null,
                    e = {},
                    r, u;
                for (r in n) r ? (u = i(r), "string" == typeof u && (u = c(n[r], u)), e[r] = u) : f = c(n[r], t);
                return [f, e]
            },
            v = function(t) {
                n.extend(!0, this, t)
            };
        return v.prototype = {
            validate: function(t, i) {
                if (this.fn) return arguments.length > 3 && (i = [].slice.call(arguments, 1, -1)), this.fn.call(this, t, i);
                if (n.isArray(t)) {
                    if (!this.validateMultiple) throw "Validator `" + this.name + "` does not handle multiple values";
                    return this.validateMultiple.apply(this, arguments)
                }
                if (this.validateNumber) return isNaN(t) ? !1 : (t = parseFloat(t), this.validateNumber.apply(this, arguments));
                if (this.validateString) return this.validateString.apply(this, arguments);
                throw "Validator `" + this.name + "` only handles multiple values";
            },
            parseRequirements: function(t, i) {
                var r, f, u;
                if ("string" != typeof t) return n.isArray(t) ? t : [t];
                if (r = this.requirementType, n.isArray(r)) {
                    for (f = ft(t, r.length), u = 0; u < f.length; u++) f[u] = c(r[u], f[u]);
                    return f
                }
                return n.isPlainObject(r) ? et(r, t, i) : [c(r, t)]
            },
            requirementType: "string",
            priority: 2
        }, y = function(n, t) {
            this.__class__ = "ParsleyValidatorRegistry";
            this.locale = "en";
            this.init(n || {}, t || {})
        }, l = {
            email: /^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,
            number: /^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/,
            integer: /^-?\d+$/,
            digits: /^\d+$/,
            alphanum: /^\w+$/i,
            url: new RegExp("^(?:(?:https?|ftp)://)?(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:/\\S*)?$", "i")
        }, l.range = l.number, y.prototype = {
            init: function(t, i) {
                this.catalog = i;
                this.validators = n.extend({}, this.validators);
                for (var r in t) this.addValidator(r, t[r].fn, t[r].priority);
                window.Parsley.trigger("parsley:validator:init")
            },
            setLocale: function(n) {
                if ("undefined" == typeof this.catalog[n]) throw new Error(n + " is not available in the catalog");
                return this.locale = n, this
            },
            addCatalog: function(n, t, i) {
                return ("object" == typeof t && (this.catalog[n] = t), !0 === i) ? this.setLocale(n) : this
            },
            addMessage: function(n, t, i) {
                return "undefined" == typeof this.catalog[n] && (this.catalog[n] = {}), this.catalog[n][t.toLowerCase()] = i, this
            },
            addValidator: function(n) {
                if (this.validators[n]) t.warn('Validator "' + n + '" is already defined.');
                else if (d.hasOwnProperty(n)) {
                    t.warn('"' + n + '" is a restricted keyword and is not a valid validator name.');
                    return
                }
                return this._setValidator.apply(this, arguments)
            },
            updateValidator: function(n) {
                return this.validators[n] ? this._setValidator(this, arguments) : (t.warn('Validator "' + n + '" is not already defined.'), this.addValidator.apply(this, arguments))
            },
            removeValidator: function(n) {
                return this.validators[n] || t.warn('Validator "' + n + '" is not defined.'), delete this.validators[n], this
            },
            _setValidator: function(n, t, i) {
                "object" != typeof t && (t = {
                    fn: t,
                    priority: i
                });
                t.validate || (t = new v(t));
                this.validators[n] = t;
                for (var r in t.messages || {}) this.addMessage(r, n, t.messages[r]);
                return this
            },
            getErrorMessage: function(n) {
                var t, i;
                return "type" === n.name ? (i = this.catalog[this.locale][n.name] || {}, t = i[n.requirements]) : t = this.formatMessage(this.catalog[this.locale][n.name], n.requirements), t || this.catalog[this.locale].defaultMessage || this.catalog.en.defaultMessage
            },
            formatMessage: function(n, t) {
                if ("object" == typeof t) {
                    for (var i in t) n = this.formatMessage(n, t[i]);
                    return n
                }
                return "string" == typeof n ? n.replace(new RegExp("%s", "i"), t) : ""
            },
            validators: {
                notblank: {
                    validateString: function(n) {
                        return /\S/.test(n)
                    },
                    priority: 2
                },
                required: {
                    validateMultiple: function(n) {
                        return n.length > 0
                    },
                    validateString: function(n) {
                        return /\S/.test(n)
                    },
                    priority: 512
                },
                type: {
                    validateString: function(n, t) {
                        var i = l[t];
                        if (!i) throw new Error("validator type `" + t + "` is not supported");
                        return i.test(n)
                    },
                    priority: 256
                },
                pattern: {
                    validateString: function(n, t) {
                        return t.test(n)
                    },
                    requirementType: "regexp",
                    priority: 64
                },
                minlength: {
                    validateString: function(n, t) {
                        return n.length >= t
                    },
                    requirementType: "integer",
                    priority: 30
                },
                maxlength: {
                    validateString: function(n, t) {
                        return n.length <= t
                    },
                    requirementType: "integer",
                    priority: 30
                },
                length: {
                    validateString: function(n, t, i) {
                        return n.length >= t && n.length <= i
                    },
                    requirementType: ["integer", "integer"],
                    priority: 30
                },
                mincheck: {
                    validateMultiple: function(n, t) {
                        return n.length >= t
                    },
                    requirementType: "integer",
                    priority: 30
                },
                maxcheck: {
                    validateMultiple: function(n, t) {
                        return n.length <= t
                    },
                    requirementType: "integer",
                    priority: 30
                },
                check: {
                    validateMultiple: function(n, t, i) {
                        return n.length >= t && n.length <= i
                    },
                    requirementType: ["integer", "integer"],
                    priority: 30
                },
                min: {
                    validateNumber: function(n, t) {
                        return n >= t
                    },
                    requirementType: "number",
                    priority: 30
                },
                max: {
                    validateNumber: function(n, t) {
                        return n <= t
                    },
                    requirementType: "number",
                    priority: 30
                },
                range: {
                    validateNumber: function(n, t, i) {
                        return n >= t && n <= i
                    },
                    requirementType: ["number", "number"],
                    priority: 30
                },
                equalto: {
                    validateString: function(t, i) {
                        var r = n(i);
                        return r.length ? t === r.val() : t === i
                    },
                    priority: 256
                }
            }
        }, p = function() {
            this.__class__ = "ParsleyUI"
        }, p.prototype = {
            listen: function() {
                var n = this;
                window.Parsley.on("form:init", function() {
                    n.setupForm(this)
                }).on("field:init", function() {
                    n.setupField(this)
                }).on("field:validated", function() {
                    n.reflow(this)
                }).on("form:validated", function() {
                    n.focus(this)
                }).on("field:reset", function() {
                    n.reset(this)
                }).on("form:destroy", function() {
                    n.destroy(this)
                }).on("field:destroy", function() {
                    n.destroy(this)
                });
                return this
            },
            reflow: function(n) {
                if ("undefined" != typeof n._ui && !1 !== n._ui.active) {
                    var t = this._diff(n.validationResult, n._ui.lastValidationResult);
                    n._ui.lastValidationResult = n.validationResult;
                    n._ui.validatedOnce = !0;
                    this.manageStatusClass(n);
                    this.manageErrorsMessages(n, t);
                    this.actualizeTriggers(n);
                    (t.kept.length || t.added.length) && !0 !== n._ui.failedOnce && this.manageFailingFieldTrigger(n)
                }
            },
            getErrorsMessages: function(n) {
                var i, t;
                if (!0 === n.validationResult) return [];
                for (i = [], t = 0; t < n.validationResult.length; t++) i.push(this._getErrorMessage(n, n.validationResult[t].assert));
                return i
            },
            manageStatusClass: function(n) {
                n.hasConstraints() && n.needsValidation() && !0 === n.validationResult ? this._successClass(n) : n.validationResult.length > 0 ? this._errorClass(n) : this._resetClass(n)
            },
            manageErrorsMessages: function(t, i) {
                if ("undefined" == typeof t.options.errorsMessagesDisabled) {
                    if ("undefined" != typeof t.options.errorMessage) return i.added.length || i.kept.length ? (this._insertErrorWrapper(t), 0 === t._ui.$errorsWrapper.find(".parsley-custom-error-message").length && t._ui.$errorsWrapper.append(n(t.options.errorTemplate).addClass("parsley-custom-error-message")), t._ui.$errorsWrapper.addClass("filled").find(".parsley-custom-error-message").html(t.options.errorMessage)) : t._ui.$errorsWrapper.removeClass("filled").find(".parsley-custom-error-message").remove();
                    for (var r = 0; r < i.removed.length; r++) this.removeError(t, i.removed[r].assert.name, !0);
                    for (r = 0; r < i.added.length; r++) this.addError(t, i.added[r].assert.name, undefined, i.added[r].assert, !0);
                    for (r = 0; r < i.kept.length; r++) this.updateError(t, i.kept[r].assert.name, undefined, i.kept[r].assert, !0)
                }
            },
            addError: function(t, i, r, u, f) {
                this._insertErrorWrapper(t);
                t._ui.$errorsWrapper.addClass("filled").append(n(t.options.errorTemplate).addClass("parsley-" + i).html(r || this._getErrorMessage(t, u)));
                !0 !== f && this._errorClass(t)
            },
            updateError: function(n, t, i, r, u) {
                n._ui.$errorsWrapper.addClass("filled").find(".parsley-" + t).html(i || this._getErrorMessage(n, r));
                !0 !== u && this._errorClass(n)
            },
            removeError: function(n, t, i) {
                n._ui.$errorsWrapper.removeClass("filled").find(".parsley-" + t).remove();
                !0 !== i && this.manageStatusClass(n)
            },
            focus: function(n) {
                var i, t;
                if (n._focusedField = null, !0 === n.validationResult || "none" === n.options.focus) return null;
                for (i = 0; i < n.fields.length; i++)
                    if (t = n.fields[i], !0 !== t.validationResult && t.validationResult.length > 0 && "undefined" == typeof t.options.noFocus && (n._focusedField = t.$element, "first" === n.options.focus)) break;
                return null === n._focusedField ? null : n._focusedField.focus()
            },
            _getErrorMessage: function(n, t) {
                var i = t.name + "Message";
                return "undefined" != typeof n.options[i] ? window.Parsley.formatMessage(n.options[i], t.requirements) : window.Parsley.getErrorMessage(t)
            },
            _diff: function(n, t, i) {
                for (var e = [], o = [], f, u, r = 0; r < n.length; r++) {
                    for (f = !1, u = 0; u < t.length; u++)
                        if (n[r].assert.name === t[u].assert.name) {
                            f = !0;
                            break
                        }
                    f ? o.push(n[r]) : e.push(n[r])
                }
                return {
                    kept: o,
                    added: e,
                    removed: i ? [] : this._diff(t, n, !0).added
                }
            },
            setupForm: function(t) {
                t.$element.on("submit.Parsley", !1, n.proxy(t.onSubmitValidate, t));
                !1 !== t.options.uiEnabled && t.$element.attr("novalidate", "")
            },
            setupField: function(t) {
                var i = {
                    active: !1
                };
                !1 !== t.options.uiEnabled && (i.active = !0, t.$element.attr(t.options.namespace + "id", t.__id__), i.$errorClassHandler = this._manageClassHandler(t), i.errorsWrapperId = "parsley-id-" + (t.options.multiple ? "multiple-" + t.options.multiple : t.__id__), i.$errorsWrapper = n(t.options.errorsWrapper).attr("id", i.errorsWrapperId), i.lastValidationResult = [], i.validatedOnce = !1, i.validationInformationVisible = !1, t._ui = i, this.actualizeTriggers(t))
            },
            _manageClassHandler: function(t) {
                if ("string" == typeof t.options.classHandler && n(t.options.classHandler).length) return n(t.options.classHandler);
                var i = t.options.classHandler(t);
                return "undefined" != typeof i && i.length ? i : !t.options.multiple || t.$element.is("select") ? t.$element : t.$element.parent()
            },
            _insertErrorWrapper: function(i) {
                var r, u;
                if (0 !== i._ui.$errorsWrapper.parent().length) return i._ui.$errorsWrapper.parent();
                if ("string" == typeof i.options.errorsContainer) {
                    if (n(i.options.errorsContainer).length) return n(i.options.errorsContainer).append(i._ui.$errorsWrapper);
                    t.warn("The errors container `" + i.options.errorsContainer + "` does not exist in DOM")
                } else "function" == typeof i.options.errorsContainer && (r = i.options.errorsContainer(i));
                return "undefined" != typeof r && r.length ? r.append(i._ui.$errorsWrapper) : (u = i.$element, i.options.multiple && (u = u.parent()), u.after(i._ui.$errorsWrapper))
            },
            actualizeTriggers: function(t) {
                var i = t.$element,
                    r;
                if ((t.options.multiple && (i = n("[" + t.options.namespace + 'multiple="' + t.options.multiple + '"]')), i.off(".Parsley"), !1 !== t.options.trigger) && (r = t.options.trigger.replace(/^\s+/g, "").replace(/\s+$/g, ""), "" !== r)) i.on(r.split(" ").join(".Parsley ") + ".Parsley", n.proxy("function" == typeof t.eventValidate ? t.eventValidate : this.eventValidate, t))
            },
            eventValidate: function(n) {
                new RegExp("key").test(n.type) && !this._ui.validationInformationVisible && this.getValue().length <= this.options.validationThreshold || (this._ui.validatedOnce = !0, this.validate())
            },
            manageFailingFieldTrigger: function(t) {
                if (t._ui.failedOnce = !0, t.options.multiple && n("[" + t.options.namespace + 'multiple="' + t.options.multiple + '"]').each(function() {
                        if (!new RegExp("change", "i").test(n(this).parsley().options.trigger || "")) return n(this).on("change.ParsleyFailedOnce", !1, n.proxy(t.validate, t))
                    }), t.$element.is("select") && !new RegExp("change", "i").test(t.options.trigger || "")) return t.$element.on("change.ParsleyFailedOnce", !1, n.proxy(t.validate, t));
                if (!new RegExp("keyup", "i").test(t.options.trigger || "")) return t.$element.on("keyup.ParsleyFailedOnce", !1, n.proxy(t.validate, t))
            },
            reset: function(n) {
                (this.actualizeTriggers(n), n.$element.off(".ParsleyFailedOnce"), "undefined" != typeof n._ui) && "ParsleyForm" !== n.__class__ && (n._ui.$errorsWrapper.removeClass("filled").children().remove(), this._resetClass(n), n._ui.validatedOnce = !1, n._ui.lastValidationResult = [], n._ui.validationInformationVisible = !1, n._ui.failedOnce = !1)
            },
            destroy: function(n) {
                (this.reset(n), "ParsleyForm" !== n.__class__) && ("undefined" != typeof n._ui && n._ui.$errorsWrapper.remove(), delete n._ui)
            },
            _successClass: function(n) {
                n._ui.validationInformationVisible = !0;
                n._ui.$errorClassHandler.removeClass(n.options.errorClass).addClass(n.options.successClass)
            },
            _errorClass: function(n) {
                n._ui.validationInformationVisible = !0;
                n._ui.$errorClassHandler.removeClass(n.options.successClass).addClass(n.options.errorClass)
            },
            _resetClass: function(n) {
                n._ui.$errorClassHandler.removeClass(n.options.successClass).removeClass(n.options.errorClass)
            }
        }, r = function(i, r, u) {
            this.__class__ = "ParsleyForm";
            this.__id__ = t.generateID();
            this.$element = n(i);
            this.domOptions = r;
            this.options = u;
            this.parent = window.Parsley;
            this.fields = [];
            this.validationResult = null
        }, e = {
            pending: null,
            resolved: !0,
            rejected: !1
        }, r.prototype = {
            onSubmitValidate: function(n) {
                var t = this;
                if (!0 !== n.parsley) return n.stopImmediatePropagation(), n.preventDefault(), this.whenValidate(undefined, undefined, n).done(function() {
                    t._submit()
                }).always(function() {
                    t._submitSource = null
                }), this
            },
            _submit: function() {
                !1 !== this._trigger("submit") && (this.$element.find(".parsley_synthetic_submit_button").remove(), this._submitSource && n('<input class=".parsley_synthetic_submit_button" type="hidden">').attr("name", this._submitSource.name).attr("value", this._submitSource.value).appendTo(this.$element), this.$element.trigger(n.extend(n.Event("submit"), {
                    parsley: !0
                })))
            },
            validate: function(n, t, i) {
                return e[this.whenValidate(n, t, i).state()]
            },
            whenValidate: function(t, i, r) {
                var u = this,
                    f;
                return this.submitEvent = r, this.validationResult = !0, this._trigger("validate"), this._refreshFields(), f = this._withoutReactualizingFormOptions(function() {
                    return n.map(this.fields, function(n) {
                        if (!t || u._isFieldInGroup(n, t)) return n.whenValidate(i)
                    })
                }), n.when.apply(n, f).done(function() {
                    u._trigger("success")
                }).fail(function() {
                    u.validationResult = !1;
                    u._trigger("error")
                }).always(function() {
                    u._trigger("validated")
                })
            },
            isValid: function(n, t) {
                return e[this.whenValid(n, t).state()]
            },
            whenValid: function(t, i) {
                var u = this,
                    r;
                return this._refreshFields(), r = this._withoutReactualizingFormOptions(function() {
                    return n.map(this.fields, function(n) {
                        if (!t || u._isFieldInGroup(n, t)) return n.whenValid(i)
                    })
                }), n.when.apply(n, r)
            },
            _isFieldInGroup: function(t, i) {
                return n.isArray(t.options.group) ? -1 !== n.inArray(i, t.options.group) : t.options.group === i
            },
            _refreshFields: function() {
                return this.actualizeOptions()._bindFields()
            },
            _bindFields: function() {
                var t = this,
                    i = this.fields;
                return this.fields = [], this.fieldsMappedById = {}, this._withoutReactualizingFormOptions(function() {
                    this.$element.find(this.options.inputs).not(this.options.excluded).each(function() {
                        var n = new h.Factory(this, {}, t);
                        ("ParsleyField" === n.__class__ || "ParsleyFieldMultiple" === n.__class__) && !0 !== n.options.excluded && "undefined" == typeof t.fieldsMappedById[n.__class__ + "-" + n.__id__] && (t.fieldsMappedById[n.__class__ + "-" + n.__id__] = n, t.fields.push(n))
                    });
                    n(i).not(t.fields).each(function() {
                        this._trigger("reset")
                    })
                }), this
            },
            _withoutReactualizingFormOptions: function(n) {
                var i = this.actualizeOptions,
                    t;
                return this.actualizeOptions = function() {
                    return this
                }, t = n.call(this), this.actualizeOptions = i, t
            },
            _trigger: function(n) {
                return n = "form:" + n, this.trigger.apply(this, arguments)
            }
        }, w = function(t, i, r, u, f) {
            if (!new RegExp("ParsleyField").test(t.__class__)) throw new Error("ParsleyField or ParsleyFieldMultiple instance expected");
            var o = window.Parsley._validatorRegistry.validators[i],
                e = new v(o);
            n.extend(this, {
                validator: e,
                name: i,
                requirements: r,
                priority: u || t.options[i + "Priority"] || e.priority,
                isDomConstraint: !0 === f
            });
            this._parseRequirements(t.options)
        }, g = function(n) {
            var t = n[0].toUpperCase();
            return t + n.slice(1)
        }, w.prototype = {
            validate: function(n, t) {
                var i = this.requirementList.slice(0);
                return i.unshift(n), i.push(t), this.validator.validate.apply(this.validator, i)
            },
            _parseRequirements: function(n) {
                var t = this;
                this.requirementList = this.validator.parseRequirements(this.requirements, function(i) {
                    return n[t.name + g(i)]
                })
            }
        }, i = function(i, r, u, f) {
            this.__class__ = "ParsleyField";
            this.__id__ = t.generateID();
            this.$element = n(i);
            "undefined" != typeof f && (this.parent = f);
            this.options = u;
            this.domOptions = r;
            this.constraints = [];
            this.constraintsByName = {};
            this.validationResult = [];
            this._bindConstraints()
        }, e = {
            pending: null,
            resolved: !0,
            rejected: !1
        }, i.prototype = {
            validate: function(n) {
                var t = this.whenValidate(n);
                switch (t.state()) {
                    case "pending":
                        return null;
                    case "resolved":
                        return !0;
                    case "rejected":
                        return this.validationResult
                }
            },
            whenValidate: function(n) {
                var t = this;
                return this.value = this.getValue(), this._trigger("validate"), this.whenValid(n, this.value).done(function() {
                    t._trigger("success")
                }).fail(function() {
                    t._trigger("error")
                }).always(function() {
                    t._trigger("validated")
                })
            },
            hasConstraints: function() {
                return 0 !== this.constraints.length
            },
            needsValidation: function(n) {
                return ("undefined" == typeof n && (n = this.getValue()), !n.length && !this._isRequired() && "undefined" == typeof this.options.validateIfEmpty) ? !1 : !0
            },
            isValid: function(n, t) {
                return e[this.whenValid(n, t).state()]
            },
            whenValid: function(t, i) {
                if ((this.refreshConstraints(), this.validationResult = !0, !this.hasConstraints()) || (("undefined" == typeof i || null === i) && (i = this.getValue()), !this.needsValidation(i) && !0 !== t)) return n.when();
                var u = this._getGroupedConstraints(),
                    r = [],
                    f = this;
                return n.each(u, function(t, u) {
                    var e = n.when.apply(n, n.map(u, n.proxy(f, "_validateConstraint", i)));
                    return r.push(e), e.state() === "rejected" ? !1 : void 0
                }), n.when.apply(n, r)
            },
            _validateConstraint: function(t, i) {
                var r = this,
                    u = i.validate(t, this);
                return !1 === u && (u = n.Deferred().reject()), n.when(u).fail(function() {
                    !0 === r.validationResult && (r.validationResult = []);
                    r.validationResult.push({
                        assert: i
                    })
                })
            },
            getValue: function() {
                var n;
                return (n = "function" == typeof this.options.value ? this.options.value(this) : "undefined" != typeof this.options.value ? this.options.value : this.$element.val(), "undefined" == typeof n || null === n) ? "" : this._handleWhitespace(n)
            },
            refreshConstraints: function() {
                return this.actualizeOptions()._bindConstraints()
            },
            addConstraint: function(n, t, i, r) {
                if (window.Parsley._validatorRegistry.validators[n]) {
                    var u = new w(this, n, t, i, r);
                    "undefined" !== this.constraintsByName[u.name] && this.removeConstraint(u.name);
                    this.constraints.push(u);
                    this.constraintsByName[u.name] = u
                }
                return this
            },
            removeConstraint: function(n) {
                for (var t = 0; t < this.constraints.length; t++)
                    if (n === this.constraints[t].name) {
                        this.constraints.splice(t, 1);
                        break
                    }
                return delete this.constraintsByName[n], this
            },
            updateConstraint: function(n, t, i) {
                return this.removeConstraint(n).addConstraint(n, t, i)
            },
            _bindConstraints: function() {
                for (var i = [], r = {}, t, n = 0; n < this.constraints.length; n++) !1 === this.constraints[n].isDomConstraint && (i.push(this.constraints[n]), r[this.constraints[n].name] = this.constraints[n]);
                this.constraints = i;
                this.constraintsByName = r;
                for (t in this.options) this.addConstraint(t, this.options[t], undefined, !0);
                return this._bindHtml5Constraints()
            },
            _bindHtml5Constraints: function() {
                (this.$element.hasClass("required") || this.$element.attr("required")) && this.addConstraint("required", !0, undefined, !0);
                "string" == typeof this.$element.attr("pattern") && this.addConstraint("pattern", this.$element.attr("pattern"), undefined, !0);
                "undefined" != typeof this.$element.attr("min") && "undefined" != typeof this.$element.attr("max") ? this.addConstraint("range", [this.$element.attr("min"), this.$element.attr("max")], undefined, !0) : "undefined" != typeof this.$element.attr("min") ? this.addConstraint("min", this.$element.attr("min"), undefined, !0) : "undefined" != typeof this.$element.attr("max") && this.addConstraint("max", this.$element.attr("max"), undefined, !0);
                "undefined" != typeof this.$element.attr("minlength") && "undefined" != typeof this.$element.attr("maxlength") ? this.addConstraint("length", [this.$element.attr("minlength"), this.$element.attr("maxlength")], undefined, !0) : "undefined" != typeof this.$element.attr("minlength") ? this.addConstraint("minlength", this.$element.attr("minlength"), undefined, !0) : "undefined" != typeof this.$element.attr("maxlength") && this.addConstraint("maxlength", this.$element.attr("maxlength"), undefined, !0);
                var n = this.$element.attr("type");
                return "undefined" == typeof n ? this : "number" === n ? "undefined" == typeof this.$element.attr("step") || 0 == parseFloat(this.$element.attr("step")) % 1 ? this.addConstraint("type", "integer", undefined, !0) : this.addConstraint("type", "number", undefined, !0) : /^(email|url|range)$/i.test(n) ? this.addConstraint("type", n, undefined, !0) : this
            },
            _isRequired: function() {
                return "undefined" == typeof this.constraintsByName.required ? !1 : !1 !== this.constraintsByName.required.requirements
            },
            _trigger: function(n) {
                return n = "field:" + n, this.trigger.apply(this, arguments)
            },
            _handleWhitespace: function(n) {
                return !0 === this.options.trimValue && t.warnOnce('data-parsley-trim-value="true" is deprecated, please use data-parsley-whitespace="trim"'), "squish" === this.options.whitespace && (n = n.replace(/\s{2,}/g, " ")), ("trim" === this.options.whitespace || "squish" === this.options.whitespace || !0 === this.options.trimValue) && (n = t.trimString(n)), n
            },
            _getGroupedConstraints: function() {
                var t, i, n, r;
                if (!1 === this.options.priorityEnabled) return [this.constraints];
                for (t = [], i = {}, n = 0; n < this.constraints.length; n++) r = this.constraints[n].priority, i[r] || t.push(i[r] = []), i[r].push(this.constraints[n]);
                return t.sort(function(n, t) {
                    return t[0].priority - n[0].priority
                }), t
            }
        }, b = function() {
            this.__class__ = "ParsleyFieldMultiple"
        }, b.prototype = {
            addElement: function(n) {
                return this.$elements.push(n), this
            },
            refreshConstraints: function() {
                var i, r, t;
                if (this.constraints = [], this.$element.is("select")) return this.actualizeOptions()._bindConstraints(), this;
                for (r = 0; r < this.$elements.length; r++) {
                    if (!n("html").has(this.$elements[r]).length) {
                        this.$elements.splice(r, 1);
                        continue
                    }
                    for (i = this.$elements[r].data("ParsleyFieldMultiple").refreshConstraints().constraints, t = 0; t < i.length; t++) this.addConstraint(i[t].name, i[t].requirements, i[t].priority, i[t].isDomConstraint)
                }
                return this
            },
            getValue: function() {
                if ("undefined" != typeof this.options.value) return this.options.value;
                if (this.$element.is("input[type=radio]")) return this._findRelatedMultiple().filter(":checked").val() || "";
                if (this.$element.is("input[type=checkbox]")) {
                    var t = [];
                    return this._findRelatedMultiple().filter(":checked").each(function() {
                        t.push(n(this).val())
                    }), t
                }
                return this.$element.is("select") && null === this.$element.val() ? [] : this.$element.val()
            },
            _init: function() {
                return this.$elements = [this.$element], this
            }
        }, s = function(t, i, r) {
            this.$element = n(t);
            var u = this.$element.data("Parsley");
            if (u) return "undefined" != typeof r && u.parent === window.Parsley && (u.parent = r, u._resetOptions(u.options)), u;
            if (!this.$element.length) throw new Error("You must bind Parsley on an existing element.");
            if ("undefined" != typeof r && "ParsleyForm" !== r.__class__) throw new Error("Parent instance must be a ParsleyForm instance");
            return this.parent = r || window.Parsley, this.init(i)
        }, s.prototype = {
            init: function(n) {
                return (this.__class__ = "Parsley", this.__version__ = "2.2.0-rc1", this.__id__ = t.generateID(), this._resetOptions(n), this.$element.is("form") || t.checkAttr(this.$element, this.options.namespace, "validate") && !this.$element.is(this.options.inputs)) ? this.bind("parsleyForm") : this.isMultiple() ? this.handleMultiple() : this.bind("parsleyField")
            },
            isMultiple: function() {
                return this.$element.is("input[type=radio], input[type=checkbox]") || this.$element.is("select") && "undefined" != typeof this.$element.attr("multiple")
            },
            handleMultiple: function() {
                var e = this,
                    u, i, f, r;
                if (this.options.multiple || ("undefined" != typeof this.$element.attr("name") && this.$element.attr("name").length ? this.options.multiple = u = this.$element.attr("name") : "undefined" != typeof this.$element.attr("id") && this.$element.attr("id").length && (this.options.multiple = this.$element.attr("id"))), this.$element.is("select") && "undefined" != typeof this.$element.attr("multiple")) return this.options.multiple = this.options.multiple || this.__id__, this.bind("parsleyFieldMultiple");
                if (!this.options.multiple) return t.warn("To be bound by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.", this.$element), this;
                for (this.options.multiple = this.options.multiple.replace(/(:|\.|\[|\]|\{|\}|\$)/g, ""), "undefined" != typeof u && n('input[name="' + u + '"]').each(function() {
                        n(this).is("input[type=radio], input[type=checkbox]") && n(this).attr(e.options.namespace + "multiple", e.options.multiple)
                    }), f = this._findRelatedMultiple(), r = 0; r < f.length; r++)
                    if (i = n(f.get(r)).data("Parsley"), "undefined" != typeof i) {
                        this.$element.data("ParsleyFieldMultiple") || i.addElement(this.$element);
                        break
                    }
                return this.bind("parsleyField", !0), i || this.bind("parsleyFieldMultiple")
            },
            bind: function(u, f) {
                var e;
                switch (u) {
                    case "parsleyForm":
                        e = n.extend(new r(this.$element, this.domOptions, this.options), window.ParsleyExtend)._bindFields();
                        break;
                    case "parsleyField":
                        e = n.extend(new i(this.$element, this.domOptions, this.options, this.parent), window.ParsleyExtend);
                        break;
                    case "parsleyFieldMultiple":
                        e = n.extend(new i(this.$element, this.domOptions, this.options, this.parent), new b, window.ParsleyExtend)._init();
                        break;
                    default:
                        throw new Error(u + "is not a supported Parsley type");
                }
                return (this.options.multiple && t.setAttr(this.$element, this.options.namespace, "multiple", this.options.multiple), "undefined" != typeof f) ? (this.$element.data("ParsleyFieldMultiple", e), e) : (this.$element.data("Parsley", e), e._trigger("init"), e)
            }
        }, nt = n({}), u = function() {
            t.warnOnce("Parsley's pubsub module is deprecated; use the 'on' and 'off' methods on parsley instances or window.Parsley")
        }, k = "parsley:", n.listen = function(n, t) {
            var i;
            if (u(), "object" == typeof arguments[1] && "function" == typeof arguments[2] && (i = arguments[1], t = arguments[2]), "function" != typeof arguments[1]) throw new Error("Wrong parameters");
            window.Parsley.on(f(n), tt(t, i))
        }, n.listenTo = function(n, t, e) {
            if (u(), !(n instanceof i) && !(n instanceof r)) throw new Error("Must give Parsley instance");
            if ("string" != typeof t || "function" != typeof e) throw new Error("Wrong parameters");
            n.on(f(t), tt(e))
        }, n.unsubscribe = function(n, t) {
            if (u(), "string" != typeof n || "function" != typeof t) throw new Error("Wrong arguments");
            window.Parsley.off(f(n), t.parsleyAdaptedCallback)
        }, n.unsubscribeTo = function(n, t) {
            if (u(), !(n instanceof i) && !(n instanceof r)) throw new Error("Must give Parsley instance");
            n.off(f(t))
        }, n.unsubscribeAll = function(t) {
            u();
            window.Parsley.off(f(t));
            n("form,input,textarea,select").each(function() {
                var i = n(this).data("Parsley");
                i && i.off(f(t))
            })
        }, n.emit = function(n, t) {
            u();
            var e = t instanceof i || t instanceof r,
                o = Array.prototype.slice.call(arguments, e ? 2 : 1);
            o.unshift(f(n));
            e || (t = window.Parsley);
            t.trigger.apply(t, o)
        }, window.ParsleyConfig = window.ParsleyConfig || {}, window.ParsleyConfig.i18n = window.ParsleyConfig.i18n || {}, window.ParsleyConfig.i18n.en = jQuery.extend(window.ParsleyConfig.i18n.en || {}, {
            defaultMessage: "This value seems to be invalid.",
            type: {
                email: "This value should be a valid email.",
                url: "This value should be a valid url.",
                number: "This value should be a valid number.",
                integer: "This value should be a valid integer.",
                digits: "This value should be digits.",
                alphanum: "This value should be alphanumeric."
            },
            notblank: "This value should not be blank.",
            required: "This field is required.",
            pattern: "This value seems to be invalid.",
            min: "This value should be greater than or equal to %s.",
            max: "This value should be lower than or equal to %s.",
            range: "This value should be between %s and %s.",
            minlength: "This value is too short. It should have %s characters or more.",
            maxlength: "This value is too long. It should have %s characters or fewer.",
            length: "This value length is invalid. It should be between %s and %s characters long.",
            mincheck: "You must select at least %s choices.",
            maxcheck: "You must select %s choices or fewer.",
            check: "You must select between %s and %s choices.",
            equalto: "This value should be the same."
        }), "undefined" != typeof window.ParsleyValidator && window.ParsleyValidator.addCatalog("en", window.ParsleyConfig.i18n.en, !0), h = n.extend(new o, {
            $element: n(document),
            actualizeOptions: null,
            _resetOptions: null,
            Factory: s,
            version: "2.2.0-rc1"
        }), n.extend(i.prototype, o.prototype), n.extend(r.prototype, o.prototype), n.extend(s.prototype, o.prototype), n.fn.parsley = n.fn.psly = function(i) {
            if (this.length > 1) {
                var r = [];
                return this.each(function() {
                    r.push(n(this).parsley(i))
                }), r
            }
            if (!n(this).length) {
                t.warn("You must bind Parsley on an existing element.");
                return
            }
            return new s(this, i)
        }, "undefined" == typeof window.ParsleyExtend && (window.ParsleyExtend = {}), h.options = n.extend(t.objectCreate(d), window.ParsleyConfig), window.ParsleyConfig = h.options, window.Parsley = window.psly = h, window.ParsleyUtils = t, it = window.Parsley._validatorRegistry = new y(window.ParsleyConfig.validators, window.ParsleyConfig.i18n), window.ParsleyValidator = {}, n.each("setLocale addCatalog addMessage getErrorMessage formatMessage addValidator updateValidator removeValidator".split(" "), function(i, r) {
            window.Parsley[r] = n.proxy(it, r);
            window.ParsleyValidator[r] = function() {
                return t.warnOnce("Accessing the method `" + r + "` through ParsleyValidator is deprecated. Simply call `window.Parsley." + r + "(...)`"), window.Parsley[r].apply(window.Parsley, arguments)
            }
        }), window.ParsleyUI = "function" == typeof window.ParsleyConfig.ParsleyUI ? (new window.ParsleyConfig.ParsleyUI).listen() : (new p).listen(), !1 !== window.ParsleyConfig.autoBind && n(function() {
            n("[data-parsley-validate]").length && n("[data-parsley-validate]").parsley()
        }), window.Parsley
    }), function() {
        var c = this,
            tt = c._,
            r = Array.prototype,
            p = Object.prototype,
            it = Function.prototype,
            w = r.push,
            t = r.slice,
            l = r.concat,
            u = p.toString,
            b = p.hasOwnProperty,
            rt = Array.isArray,
            k = Object.keys,
            a = it.bind,
            n = function(t) {
                return t instanceof n ? t : this instanceof n ? void(this._wrapped = t) : new n(t)
            },
            i, v, e, f, o, s, nt, h;
        "undefined" != typeof exports ? ("undefined" != typeof module && module.exports && (exports = module.exports = n), exports._ = n) : c._ = n;
        n.VERSION = "1.7.0";
        i = function(n, t, i) {
            if (t === void 0) return n;
            switch (null == i ? 3 : i) {
                case 1:
                    return function(i) {
                        return n.call(t, i)
                    };
                case 2:
                    return function(i, r) {
                        return n.call(t, i, r)
                    };
                case 3:
                    return function(i, r, u) {
                        return n.call(t, i, r, u)
                    };
                case 4:
                    return function(i, r, u, f) {
                        return n.call(t, i, r, u, f)
                    }
            }
            return function() {
                return n.apply(t, arguments)
            }
        };
        n.iteratee = function(t, r, u) {
            return null == t ? n.identity : n.isFunction(t) ? i(t, r, u) : n.isObject(t) ? n.matches(t) : n.property(t)
        };
        n.each = n.forEach = function(t, r, u) {
            var f, e, o;
            if (null == t) return t;
            if (r = i(r, u), e = t.length, e === +e)
                for (f = 0; e > f; f++) r(t[f], f, t);
            else
                for (o = n.keys(t), f = 0, e = o.length; e > f; f++) r(t[o[f]], o[f], t);
            return t
        };
        n.map = n.collect = function(t, i, r) {
            if (null == t) return [];
            i = n.iteratee(i, r);
            for (var f, e = t.length !== +t.length && n.keys(t), o = (e || t).length, s = Array(o), u = 0; o > u; u++) f = e ? e[u] : u, s[u] = i(t[f], f, t);
            return s
        };
        v = "Reduce of empty array with no initial value";
        n.reduce = n.foldl = n.inject = function(t, r, u, f) {
            null == t && (t = []);
            r = i(r, f, 4);
            var s, o = t.length !== +t.length && n.keys(t),
                h = (o || t).length,
                e = 0;
            if (arguments.length < 3) {
                if (!h) throw new TypeError(v);
                u = t[o ? o[e++] : e++]
            }
            for (; h > e; e++) s = o ? o[e] : e, u = r(u, t[s], s, t);
            return u
        };
        n.reduceRight = n.foldr = function(t, r, u, f) {
            null == t && (t = []);
            r = i(r, f, 4);
            var s, o = t.length !== +t.length && n.keys(t),
                e = (o || t).length;
            if (arguments.length < 3) {
                if (!e) throw new TypeError(v);
                u = t[o ? o[--e] : --e]
            }
            for (; e--;) s = o ? o[e] : e, u = r(u, t[s], s, t);
            return u
        };
        n.find = n.detect = function(t, i, r) {
            var u;
            return i = n.iteratee(i, r), n.some(t, function(n, t, r) {
                if (i(n, t, r)) return (u = n, !0)
            }), u
        };
        n.filter = n.select = function(t, i, r) {
            var u = [];
            return null == t ? u : (i = n.iteratee(i, r), n.each(t, function(n, t, r) {
                i(n, t, r) && u.push(n)
            }), u)
        };
        n.reject = function(t, i, r) {
            return n.filter(t, n.negate(n.iteratee(i)), r)
        };
        n.every = n.all = function(t, i, r) {
            if (null == t) return !0;
            i = n.iteratee(i, r);
            for (var f, e = t.length !== +t.length && n.keys(t), o = (e || t).length, u = 0; o > u; u++)
                if (f = e ? e[u] : u, !i(t[f], f, t)) return !1;
            return !0
        };
        n.some = n.any = function(t, i, r) {
            if (null == t) return !1;
            i = n.iteratee(i, r);
            for (var f, e = t.length !== +t.length && n.keys(t), o = (e || t).length, u = 0; o > u; u++)
                if (f = e ? e[u] : u, i(t[f], f, t)) return !0;
            return !1
        };
        n.contains = n.include = function(t, i) {
            return null == t ? !1 : (t.length !== +t.length && (t = n.values(t)), n.indexOf(t, i) >= 0)
        };
        n.invoke = function(i, r) {
            var u = t.call(arguments, 2),
                f = n.isFunction(r);
            return n.map(i, function(n) {
                return (f ? r : n[r]).apply(n, u)
            })
        };
        n.pluck = function(t, i) {
            return n.map(t, n.property(i))
        };
        n.where = function(t, i) {
            return n.filter(t, n.matches(i))
        };
        n.findWhere = function(t, i) {
            return n.find(t, n.matches(i))
        };
        n.max = function(t, i, r) {
            var o, f, u = -1 / 0,
                s = -1 / 0,
                e, h;
            if (null == i && null != t)
                for (t = t.length === +t.length ? t : n.values(t), e = 0, h = t.length; h > e; e++) o = t[e], o > u && (u = o);
            else i = n.iteratee(i, r), n.each(t, function(n, t, r) {
                f = i(n, t, r);
                (f > s || f === -1 / 0 && u === -1 / 0) && (u = n, s = f)
            });
            return u
        };
        n.min = function(t, i, r) {
            var o, f, u = 1 / 0,
                s = 1 / 0,
                e, h;
            if (null == i && null != t)
                for (t = t.length === +t.length ? t : n.values(t), e = 0, h = t.length; h > e; e++) o = t[e], u > o && (u = o);
            else i = n.iteratee(i, r), n.each(t, function(n, t, r) {
                f = i(n, t, r);
                (s > f || 1 / 0 === f && 1 / 0 === u) && (u = n, s = f)
            });
            return u
        };
        n.shuffle = function(t) {
            for (var r, f = t && t.length === +t.length ? t : n.values(t), e = f.length, u = Array(e), i = 0; e > i; i++) r = n.random(0, i), r !== i && (u[i] = u[r]), u[r] = f[i];
            return u
        };
        n.sample = function(t, i, r) {
            return null == i || r ? (t.length !== +t.length && (t = n.values(t)), t[n.random(t.length - 1)]) : n.shuffle(t).slice(0, Math.max(0, i))
        };
        n.sortBy = function(t, i, r) {
            return i = n.iteratee(i, r), n.pluck(n.map(t, function(n, t, r) {
                return {
                    value: n,
                    index: t,
                    criteria: i(n, t, r)
                }
            }).sort(function(n, t) {
                var i = n.criteria,
                    r = t.criteria;
                if (i !== r) {
                    if (i > r || i === void 0) return 1;
                    if (r > i || r === void 0) return -1
                }
                return n.index - t.index
            }), "value")
        };
        e = function(t) {
            return function(i, r, u) {
                var f = {};
                return r = n.iteratee(r, u), n.each(i, function(n, u) {
                    var e = r(n, u, i);
                    t(f, n, e)
                }), f
            }
        };
        n.groupBy = e(function(t, i, r) {
            n.has(t, r) ? t[r].push(i) : t[r] = [i]
        });
        n.indexBy = e(function(n, t, i) {
            n[i] = t
        });
        n.countBy = e(function(t, i, r) {
            n.has(t, r) ? t[r]++ : t[r] = 1
        });
        n.sortedIndex = function(t, i, r, u) {
            var e;
            r = n.iteratee(r, u, 1);
            for (var s = r(i), f = 0, o = t.length; o > f;) e = f + o >>> 1, r(t[e]) < s ? f = e + 1 : o = e;
            return f
        };
        n.toArray = function(i) {
            return i ? n.isArray(i) ? t.call(i) : i.length === +i.length ? n.map(i, n.identity) : n.values(i) : []
        };
        n.size = function(t) {
            return null == t ? 0 : t.length === +t.length ? t.length : n.keys(t).length
        };
        n.partition = function(t, i, r) {
            i = n.iteratee(i, r);
            var u = [],
                f = [];
            return n.each(t, function(n, t, r) {
                (i(n, t, r) ? u : f).push(n)
            }), [u, f]
        };
        n.first = n.head = n.take = function(n, i, r) {
            if (null != n) return null == i || r ? n[0] : 0 > i ? [] : t.call(n, 0, i)
        };
        n.initial = function(n, i, r) {
            return t.call(n, 0, Math.max(0, n.length - (null == i || r ? 1 : i)))
        };
        n.last = function(n, i, r) {
            if (null != n) return null == i || r ? n[n.length - 1] : t.call(n, Math.max(n.length - i, 0))
        };
        n.rest = n.tail = n.drop = function(n, i, r) {
            return t.call(n, null == i || r ? 1 : i)
        };
        n.compact = function(t) {
            return n.filter(t, n.identity)
        };
        f = function(t, i, r, u) {
            var o, s, e;
            if (i && n.every(t, n.isArray)) return l.apply(u, t);
            for (o = 0, s = t.length; s > o; o++) e = t[o], n.isArray(e) || n.isArguments(e) ? i ? w.apply(u, e) : f(e, i, r, u) : r || u.push(e);
            return u
        };
        n.flatten = function(n, t) {
            return f(n, t, !1, [])
        };
        n.without = function(i) {
            return n.difference(i, t.call(arguments, 1))
        };
        n.uniq = n.unique = function(t, i, r, u) {
            var f, h;
            if (null == t) return [];
            n.isBoolean(i) || (u = r, r = i, i = !1);
            null != r && (r = n.iteratee(r, u));
            for (var e = [], s = [], o = 0, c = t.length; c > o; o++) f = t[o], i ? (o && s === f || e.push(f), s = f) : r ? (h = r(f, o, t), n.indexOf(s, h) < 0 && (s.push(h), e.push(f))) : n.indexOf(e, f) < 0 && e.push(f);
            return e
        };
        n.union = function() {
            return n.uniq(f(arguments, !0, !0, []))
        };
        n.intersection = function(t) {
            var r, i;
            if (null == t) return [];
            for (var u = [], e = arguments.length, f = 0, o = t.length; o > f; f++)
                if (r = t[f], !n.contains(u, r)) {
                    for (i = 1; e > i && n.contains(arguments[i], r); i++);
                    i === e && u.push(r)
                }
            return u
        };
        n.difference = function(i) {
            var r = f(t.call(arguments, 1), !0, !0, []);
            return n.filter(i, function(t) {
                return !n.contains(r, t)
            })
        };
        n.zip = function(t) {
            if (null == t) return [];
            for (var r = n.max(arguments, "length").length, u = Array(r), i = 0; r > i; i++) u[i] = n.pluck(arguments, i);
            return u
        };
        n.object = function(n, t) {
            if (null == n) return {};
            for (var r = {}, i = 0, u = n.length; u > i; i++) t ? r[n[i]] = t[i] : r[n[i][0]] = n[i][1];
            return r
        };
        n.indexOf = function(t, i, r) {
            if (null == t) return -1;
            var u = 0,
                f = t.length;
            if (r) {
                if ("number" != typeof r) return u = n.sortedIndex(t, i), t[u] === i ? u : -1;
                u = 0 > r ? Math.max(0, f + r) : r
            }
            for (; f > u; u++)
                if (t[u] === i) return u;
            return -1
        };
        n.lastIndexOf = function(n, t, i) {
            if (null == n) return -1;
            var r = n.length;
            for ("number" == typeof i && (r = 0 > i ? r + i + 1 : Math.min(r, i + 1)); --r >= 0;)
                if (n[r] === t) return r;
            return -1
        };
        n.range = function(n, t, i) {
            arguments.length <= 1 && (t = n || 0, n = 0);
            i = i || 1;
            for (var u = Math.max(Math.ceil((t - n) / i), 0), f = Array(u), r = 0; u > r; r++, n += i) f[r] = n;
            return f
        };
        o = function() {};
        n.bind = function(i, r) {
            var u, f;
            if (a && i.bind === a) return a.apply(i, t.call(arguments, 1));
            if (!n.isFunction(i)) throw new TypeError("Bind must be called on a function");
            return u = t.call(arguments, 2), f = function() {
                var e, s;
                return (this instanceof f) ? (o.prototype = i.prototype, e = new o, o.prototype = null, s = i.apply(e, u.concat(t.call(arguments))), n.isObject(s) ? s : e) : i.apply(r, u.concat(t.call(arguments)))
            }
        };
        n.partial = function(i) {
            var r = t.call(arguments, 1);
            return function() {
                for (var f = 0, t = r.slice(), u = 0, e = t.length; e > u; u++) t[u] === n && (t[u] = arguments[f++]);
                for (; f < arguments.length;) t.push(arguments[f++]);
                return i.apply(this, t)
            }
        };
        n.bindAll = function(t) {
            var i, r, u = arguments.length;
            if (1 >= u) throw new Error("bindAll must be passed function names");
            for (i = 1; u > i; i++) r = arguments[i], t[r] = n.bind(t[r], t);
            return t
        };
        n.memoize = function(t, i) {
            var r = function(u) {
                var f = r.cache,
                    e = i ? i.apply(this, arguments) : u;
                return n.has(f, e) || (f[e] = t.apply(this, arguments)), f[e]
            };
            return r.cache = {}, r
        };
        n.delay = function(n, i) {
            var r = t.call(arguments, 2);
            return setTimeout(function() {
                return n.apply(null, r)
            }, i)
        };
        n.defer = function(i) {
            return n.delay.apply(n, [i, 1].concat(t.call(arguments, 1)))
        };
        n.throttle = function(t, i, r) {
            var f, e, s, u = null,
                o = 0,
                h;
            return r || (r = {}), h = function() {
                    o = r.leading === !1 ? 0 : n.now();
                    u = null;
                    s = t.apply(f, e);
                    u || (f = e = null)
                },
                function() {
                    var l = n.now(),
                        c;
                    return o || r.leading !== !1 || (o = l), c = i - (l - o), f = this, e = arguments, 0 >= c || c > i ? (clearTimeout(u), u = null, o = l, s = t.apply(f, e), u || (f = e = null)) : u || r.trailing === !1 || (u = setTimeout(h, c)), s
                }
        };
        n.debounce = function(t, i, r) {
            var u, f, e, s, o, h = function() {
                var c = n.now() - s;
                i > c && c > 0 ? u = setTimeout(h, i - c) : (u = null, r || (o = t.apply(e, f), u || (e = f = null)))
            };
            return function() {
                e = this;
                f = arguments;
                s = n.now();
                var c = r && !u;
                return u || (u = setTimeout(h, i)), c && (o = t.apply(e, f), e = f = null), o
            }
        };
        n.wrap = function(t, i) {
            return n.partial(i, t)
        };
        n.negate = function(n) {
            return function() {
                return !n.apply(this, arguments)
            }
        };
        n.compose = function() {
            var n = arguments,
                t = n.length - 1;
            return function() {
                for (var r = t, i = n[t].apply(this, arguments); r--;) i = n[r].call(this, i);
                return i
            }
        };
        n.after = function(n, t) {
            return function() {
                if (--n < 1) return t.apply(this, arguments)
            }
        };
        n.before = function(n, t) {
            var i;
            return function() {
                return --n > 0 ? i = t.apply(this, arguments) : t = null, i
            }
        };
        n.once = n.partial(n.before, 2);
        n.keys = function(t) {
            var i, r;
            if (!n.isObject(t)) return [];
            if (k) return k(t);
            i = [];
            for (r in t) n.has(t, r) && i.push(r);
            return i
        };
        n.values = function(t) {
            for (var r = n.keys(t), u = r.length, f = Array(u), i = 0; u > i; i++) f[i] = t[r[i]];
            return f
        };
        n.pairs = function(t) {
            for (var r = n.keys(t), u = r.length, f = Array(u), i = 0; u > i; i++) f[i] = [r[i], t[r[i]]];
            return f
        };
        n.invert = function(t) {
            for (var u = {}, r = n.keys(t), i = 0, f = r.length; f > i; i++) u[t[r[i]]] = r[i];
            return u
        };
        n.functions = n.methods = function(t) {
            var r = [],
                i;
            for (i in t) n.isFunction(t[i]) && r.push(i);
            return r.sort()
        };
        n.extend = function(t) {
            if (!n.isObject(t)) return t;
            for (var i, r, u = 1, f = arguments.length; f > u; u++) {
                i = arguments[u];
                for (r in i) b.call(i, r) && (t[r] = i[r])
            }
            return t
        };
        n.pick = function(r, u, f) {
            var e, o = {},
                h, c, s, a;
            if (null == r) return o;
            if (n.isFunction(u)) {
                u = i(u, f);
                for (e in r) h = r[e], u(h, e, r) && (o[e] = h)
            } else
                for (c = l.apply([], t.call(arguments, 1)), r = new Object(r), s = 0, a = c.length; a > s; s++) e = c[s], e in r && (o[e] = r[e]);
            return o
        };
        n.omit = function(i, r, u) {
            if (n.isFunction(r)) r = n.negate(r);
            else {
                var f = n.map(l.apply([], t.call(arguments, 1)), String);
                r = function(t, i) {
                    return !n.contains(f, i)
                }
            }
            return n.pick(i, r, u)
        };
        n.defaults = function(t) {
            var i, f, u, r;
            if (!n.isObject(t)) return t;
            for (i = 1, f = arguments.length; f > i; i++) {
                u = arguments[i];
                for (r in u) t[r] === void 0 && (t[r] = u[r])
            }
            return t
        };
        n.clone = function(t) {
            return n.isObject(t) ? n.isArray(t) ? t.slice() : n.extend({}, t) : t
        };
        n.tap = function(n, t) {
            return t(n), n
        };
        s = function(t, i, r, f) {
            var l, a, o, h, e, c, v, y;
            if (t === i) return 0 !== t || 1 / t == 1 / i;
            if (null == t || null == i) return t === i;
            if (t instanceof n && (t = t._wrapped), i instanceof n && (i = i._wrapped), l = u.call(t), l !== u.call(i)) return !1;
            switch (l) {
                case "[object RegExp]":
                case "[object String]":
                    return "" + t == "" + i;
                case "[object Number]":
                    return +t != +t ? +i != +i : 0 == +t ? 1 / +t == 1 / i : +t == +i;
                case "[object Date]":
                case "[object Boolean]":
                    return +t == +i
            }
            if ("object" != typeof t || "object" != typeof i) return !1;
            for (a = r.length; a--;)
                if (r[a] === t) return f[a] === i;
            if (o = t.constructor, h = i.constructor, o !== h && "constructor" in t && "constructor" in i && !(n.isFunction(o) && o instanceof o && n.isFunction(h) && h instanceof h)) return !1;
            if (r.push(t), f.push(i), "[object Array]" === l) {
                if (e = t.length, c = e === i.length)
                    for (; e-- && (c = s(t[e], i[e], r, f)););
            } else if (y = n.keys(t), e = y.length, c = n.keys(i).length === e)
                for (; e-- && (v = y[e], c = n.has(i, v) && s(t[v], i[v], r, f)););
            return r.pop(), f.pop(), c
        };
        n.isEqual = function(n, t) {
            return s(n, t, [], [])
        };
        n.isEmpty = function(t) {
            if (null == t) return !0;
            if (n.isArray(t) || n.isString(t) || n.isArguments(t)) return 0 === t.length;
            for (var i in t)
                if (n.has(t, i)) return !1;
            return !0
        };
        n.isElement = function(n) {
            return !(!n || 1 !== n.nodeType)
        };
        n.isArray = rt || function(n) {
            return "[object Array]" === u.call(n)
        };
        n.isObject = function(n) {
            var t = typeof n;
            return "function" === t || "object" === t && !!n
        };
        n.each(["Arguments", "Function", "String", "Number", "Date", "RegExp"], function(t) {
            n["is" + t] = function(n) {
                return u.call(n) === "[object " + t + "]"
            }
        });
        n.isArguments(arguments) || (n.isArguments = function(t) {
            return n.has(t, "callee")
        });
        "function" != typeof /./ && (n.isFunction = function(n) {
            return "function" == typeof n || !1
        });
        n.isFinite = function(n) {
            return isFinite(n) && !isNaN(parseFloat(n))
        };
        n.isNaN = function(t) {
            return n.isNumber(t) && t !== +t
        };
        n.isBoolean = function(n) {
            return n === !0 || n === !1 || "[object Boolean]" === u.call(n)
        };
        n.isNull = function(n) {
            return null === n
        };
        n.isUndefined = function(n) {
            return n === void 0
        };
        n.has = function(n, t) {
            return null != n && b.call(n, t)
        };
        n.noConflict = function() {
            return c._ = tt, this
        };
        n.identity = function(n) {
            return n
        };
        n.constant = function(n) {
            return function() {
                return n
            }
        };
        n.noop = function() {};
        n.property = function(n) {
            return function(t) {
                return t[n]
            }
        };
        n.matches = function(t) {
            var i = n.pairs(t),
                r = i.length;
            return function(n) {
                var t, u, f;
                if (null == n) return !r;
                for (n = new Object(n), t = 0; r > t; t++)
                    if (u = i[t], f = u[0], u[1] !== n[f] || !(f in n)) return !1;
                return !0
            }
        };
        n.times = function(n, t, r) {
            var f = Array(Math.max(0, n)),
                u;
            for (t = i(t, r, 1), u = 0; n > u; u++) f[u] = t(u);
            return f
        };
        n.random = function(n, t) {
            return null == t && (t = n, n = 0), n + Math.floor(Math.random() * (t - n + 1))
        };
        n.now = Date.now || function() {
            return (new Date).getTime()
        };
        var d = {
                "&": "&amp;",
                "<": "&lt;",
                ">": "&gt;",
                '"': "&quot;",
                "'": "&#x27;",
                "`": "&#x60;"
            },
            ut = n.invert(d),
            g = function(t) {
                var r = function(n) {
                        return t[n]
                    },
                    i = "(?:" + n.keys(t).join("|") + ")",
                    u = RegExp(i),
                    f = RegExp(i, "g");
                return function(n) {
                    return n = null == n ? "" : "" + n, u.test(n) ? n.replace(f, r) : n
                }
            };
        n.escape = g(d);
        n.unescape = g(ut);
        n.result = function(t, i) {
            if (null == t) return void 0;
            var r = t[i];
            return n.isFunction(r) ? t[i]() : r
        };
        nt = 0;
        n.uniqueId = function(n) {
            var t = ++nt + "";
            return n ? n + t : t
        };
        n.templateSettings = {
            evaluate: /<%([\s\S]+?)%>/g,
            interpolate: /<%=([\s\S]+?)%>/g,
            escape: /<%-([\s\S]+?)%>/g
        };
        var y = /(.)^/,
            ft = {
                "'": "'",
                "\\": "\\",
                "\r": "r",
                "\n": "n",
                "\u2028": "u2028",
                "\u2029": "u2029"
            },
            et = /\\|'|\r|\n|\u2028|\u2029/g,
            ot = function(n) {
                return "\\" + ft[n]
            };
        n.template = function(t, i, r) {
            var o, f, h;
            !i && r && (i = r);
            i = n.defaults({}, i, n.templateSettings);
            var c = RegExp([(i.escape || y).source, (i.interpolate || y).source, (i.evaluate || y).source].join("|") + "|$", "g"),
                e = 0,
                u = "__p+='";
            t.replace(c, function(n, i, r, f, o) {
                return u += t.slice(e, o).replace(et, ot), e = o + n.length, i ? u += "'+\n((__t=(" + i + "))==null?'':_.escape(__t))+\n'" : r ? u += "'+\n((__t=(" + r + "))==null?'':__t)+\n'" : f && (u += "';\n" + f + "\n__p+='"), n
            });
            u += "';\n";
            i.variable || (u = "with(obj||{}){\n" + u + "}\n");
            u = "var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n" + u + "return __p;\n";
            try {
                o = new Function(i.variable || "obj", "_", u)
            } catch (s) {
                throw s.source = u, s;
            }
            return f = function(t) {
                return o.call(this, t, n)
            }, h = i.variable || "obj", f.source = "function(" + h + "){\n" + u + "}", f
        };
        n.chain = function(t) {
            var i = n(t);
            return i._chain = !0, i
        };
        h = function(t) {
            return this._chain ? n(t).chain() : t
        };
        n.mixin = function(t) {
            n.each(n.functions(t), function(i) {
                var r = n[i] = t[i];
                n.prototype[i] = function() {
                    var t = [this._wrapped];
                    return w.apply(t, arguments), h.call(this, r.apply(n, t))
                }
            })
        };
        n.mixin(n);
        n.each(["pop", "push", "reverse", "shift", "sort", "splice", "unshift"], function(t) {
            var i = r[t];
            n.prototype[t] = function() {
                var n = this._wrapped;
                return i.apply(n, arguments), "shift" !== t && "splice" !== t || 0 !== n.length || delete n[0], h.call(this, n)
            }
        });
        n.each(["concat", "join", "slice"], function(t) {
            var i = r[t];
            n.prototype[t] = function() {
                return h.call(this, i.apply(this._wrapped, arguments))
            }
        });
        n.prototype.value = function() {
            return this._wrapped
        };
        "function" == typeof define && define.amd && define("underscore", [], function() {
            return n
        })
    }.call(this), ! function(n, t) {
        "function" == typeof define && define.amd ? define([], t) : "object" == typeof exports ? module.exports = t() : n.Handlebars = n.Handlebars || t()
    }(this, function() {
        var r = function() {
                "use strict";

                function n(n) {
                    this.string = n
                }
                var t;
                return n.prototype.toString = function() {
                    return "" + this.string
                }, t = n
            }(),
            t = function(n) {
                "use strict";

                function f(n) {
                    return l[n]
                }

                function e(n) {
                    for (var i, t = 1; t < arguments.length; t++)
                        for (i in arguments[t]) Object.prototype.hasOwnProperty.call(arguments[t], i) && (n[i] = arguments[t][i]);
                    return n
                }

                function o(n) {
                    return n instanceof c ? n.toString() : null == n ? "" : n ? (n = "" + n, v.test(n) ? n.replace(a, f) : n) : n + ""
                }

                function s(n) {
                    return n || 0 === n ? u(n) && 0 === n.length ? !0 : !1 : !0
                }

                function h(n, t) {
                    return (n ? n + "." : "") + t
                }
                var t = {},
                    c = n,
                    l = {
                        "&": "&amp;",
                        "<": "&lt;",
                        ">": "&gt;",
                        '"': "&quot;",
                        "'": "&#x27;",
                        "`": "&#x60;"
                    },
                    a = /[&<>"'`]/g,
                    v = /[&<>"'`]/,
                    i, r, u;
                return t.extend = e, i = Object.prototype.toString, t.toString = i, r = function(n) {
                    return "function" == typeof n
                }, r(/x/) && (r = function(n) {
                    return "function" == typeof n && "[object Function]" === i.call(n)
                }), t.isFunction = r, u = Array.isArray || function(n) {
                    return n && "object" == typeof n ? "[object Array]" === i.call(n) : !1
                }, t.isArray = u, t.escapeExpression = o, t.isEmpty = s, t.appendContextPath = h, t
            }(r),
            n = function() {
                "use strict";

                function t(t, i) {
                    var u, f, r;
                    for (i && i.firstLine && (u = i.firstLine, t += " - " + u + ":" + i.firstColumn), f = Error.prototype.constructor.call(this, t), r = 0; r < n.length; r++) this[n[r]] = f[n[r]];
                    u && (this.lineNumber = u, this.column = i.firstColumn)
                }
                var i, n = ["description", "fileName", "lineNumber", "message", "name", "number", "stack"];
                return t.prototype = new Error, i = t
            }(),
            i = function(n, t) {
                "use strict";

                function e(n, t) {
                    this.helpers = n || {};
                    this.partials = t || {};
                    p(this)
                }

                function p(n) {
                    n.registerHelper("helperMissing", function() {
                        if (1 === arguments.length) return void 0;
                        throw new o("Missing helper: '" + arguments[arguments.length - 1].name + "'");
                    });
                    n.registerHelper("blockHelperMissing", function(t, r) {
                        var e = r.inverse,
                            o = r.fn,
                            u;
                        return t === !0 ? o(this) : t === !1 || null == t ? e(this) : a(t) ? t.length > 0 ? (r.ids && (r.ids = [r.name]), n.helpers.each(t, r)) : e(this) : (r.data && r.ids && (u = f(r.data), u.contextPath = i.appendContextPath(r.data.contextPath, r.name), r = {
                            data: u
                        }), o(t, r))
                    });
                    n.registerHelper("each", function(n, t) {
                        var v, h;
                        if (!t) throw new o("Must pass iterator to #each");
                        var r, e, l = t.fn,
                            y = t.inverse,
                            u = 0,
                            c = "";
                        if (t.data && t.ids && (e = i.appendContextPath(t.data.contextPath, t.ids[0]) + "."), s(n) && (n = n.call(this)), t.data && (r = f(t.data)), n && "object" == typeof n)
                            if (a(n))
                                for (v = n.length; v > u; u++) r && (r.index = u, r.first = 0 === u, r.last = u === n.length - 1, e && (r.contextPath = e + u)), c += l(n[u], {
                                    data: r
                                });
                            else
                                for (h in n) n.hasOwnProperty(h) && (r && (r.key = h, r.index = u, r.first = 0 === u, e && (r.contextPath = e + h)), c += l(n[h], {
                                    data: r
                                }), u++);
                        return 0 === u && (c = y(this)), c
                    });
                    n.registerHelper("if", function(n, t) {
                        return s(n) && (n = n.call(this)), !t.hash.includeZero && !n || i.isEmpty(n) ? t.inverse(this) : t.fn(this)
                    });
                    n.registerHelper("unless", function(t, i) {
                        return n.helpers["if"].call(this, t, {
                            fn: i.inverse,
                            inverse: i.fn,
                            hash: i.hash
                        })
                    });
                    n.registerHelper("with", function(n, t) {
                        var u, r;
                        return (s(n) && (n = n.call(this)), u = t.fn, i.isEmpty(n)) ? t.inverse(this) : (t.data && t.ids && (r = f(t.data), r.contextPath = i.appendContextPath(t.data.contextPath, t.ids[0]), t = {
                            data: r
                        }), u(n, t))
                    });
                    n.registerHelper("log", function(t, i) {
                        var r = i.data && null != i.data.level ? parseInt(i.data.level, 10) : 1;
                        n.log(r, t)
                    });
                    n.registerHelper("lookup", function(n, t) {
                        return n && n[t]
                    })
                }
                var r = {},
                    i = n,
                    o = t,
                    c, l, u, h, f;
                r.VERSION = "2.0.0";
                c = 6;
                r.COMPILER_REVISION = c;
                l = {
                    1: "<= 1.0.rc.2",
                    2: "== 1.0.0-rc.3",
                    3: "== 1.0.0-rc.4",
                    4: "== 1.x.x",
                    5: "== 2.0.0-alpha.x",
                    6: ">= 2.0.0-beta.1"
                };
                r.REVISION_CHANGES = l;
                var a = i.isArray,
                    s = i.isFunction,
                    v = i.toString,
                    y = "[object Object]";
                return r.HandlebarsEnvironment = e, e.prototype = {
                    constructor: e,
                    logger: u,
                    log: h,
                    registerHelper: function(n, t) {
                        if (v.call(n) === y) {
                            if (t) throw new o("Arg not supported with multiple helpers");
                            i.extend(this.helpers, n)
                        } else this.helpers[n] = t
                    },
                    unregisterHelper: function(n) {
                        delete this.helpers[n]
                    },
                    registerPartial: function(n, t) {
                        v.call(n) === y ? i.extend(this.partials, n) : this.partials[n] = t
                    },
                    unregisterPartial: function(n) {
                        delete this.partials[n]
                    }
                }, u = {
                    methodMap: {
                        0: "debug",
                        1: "info",
                        2: "warn",
                        3: "error"
                    },
                    DEBUG: 0,
                    INFO: 1,
                    WARN: 2,
                    ERROR: 3,
                    level: 3,
                    log: function(n, t) {
                        if (u.level <= n) {
                            var i = u.methodMap[n];
                            "undefined" != typeof console && console[i] && console[i].call(console, t)
                        }
                    }
                }, r.logger = u, h = u.log, r.log = h, f = function(n) {
                    var t = i.extend({}, n);
                    return t._parent = n, t
                }, r.createFrame = f, r
            }(t, n),
            f = function(n, t, i) {
                "use strict";

                function s(n) {
                    var t = n && n[0] || 1,
                        i = v,
                        u, f;
                    if (t !== i) {
                        if (i > t) {
                            u = o[i];
                            f = o[t];
                            throw new r("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version (" + u + ") or downgrade your runtime to an older version (" + f + ").");
                        }
                        throw new r("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version (" + n[1] + ").");
                    }
                }

                function h(n, t) {
                    if (!t) throw new r("No environment passed to template");
                    if (!n || !n.main) throw new r("Unknown template object: " + typeof n);
                    t.VM.checkRevision(n.compiler);
                    var o = function(i, u, f, o, s, h, c, l, a) {
                            var v, w;
                            if (s && (o = e.extend({}, o, s)), v = t.VM.invokePartial.call(this, i, f, o, h, c, l, a), null == v && t.compile && (w = {
                                    helpers: h,
                                    partials: c,
                                    data: l,
                                    depths: a
                                }, c[f] = t.compile(i, {
                                    data: void 0 !== l,
                                    compat: n.compat
                                }, t), v = c[f](o, w)), null != v) {
                                if (u) {
                                    for (var p = v.split("\n"), y = 0, b = p.length; b > y && (p[y] || y + 1 !== b); y++) p[y] = u + p[y];
                                    v = p.join("\n")
                                }
                                return v
                            }
                            throw new r("The partial " + f + " could not be compiled when running in runtime-only mode");
                        },
                        i = {
                            lookup: function(n, t) {
                                for (var r = n.length, i = 0; r > i; i++)
                                    if (n[i] && null != n[i][t]) return n[i][t]
                            },
                            lambda: function(n, t) {
                                return "function" == typeof n ? n.call(t) : n
                            },
                            escapeExpression: e.escapeExpression,
                            invokePartial: o,
                            fn: function(t) {
                                return n[t]
                            },
                            programs: [],
                            program: function(n, t, i) {
                                var r = this.programs[n],
                                    u = this.fn(n);
                                return t || i ? r = f(this, n, u, t, i) : r || (r = this.programs[n] = f(this, n, u)), r
                            },
                            data: function(n, t) {
                                for (; n && t--;) n = n._parent;
                                return n
                            },
                            merge: function(n, t) {
                                var i = n || t;
                                return n && t && n !== t && (i = e.extend({}, t, n)), i
                            },
                            noop: t.VM.noop,
                            compilerInfo: n.compiler
                        },
                        u = function(t, r) {
                            var f, e;
                            return r = r || {}, f = r.data, u._setup(r), !r.partial && n.useData && (f = a(t, f)), n.useDepths && (e = r.depths ? [t].concat(r.depths) : [t]), n.main.call(i, t, i.helpers, i.partials, f, e)
                        };
                    return u.isTop = !0, u._setup = function(r) {
                        r.partial ? (i.helpers = r.helpers, i.partials = r.partials) : (i.helpers = i.merge(r.helpers, t.helpers), n.usePartial && (i.partials = i.merge(r.partials, t.partials)))
                    }, u._child = function(t, u, e) {
                        if (n.useDepths && !e) throw new r("must pass parent depths");
                        return f(i, t, n[t], u, e)
                    }, u
                }

                function f(n, t, i, r, u) {
                    var f = function(t, f) {
                        return f = f || {}, i.call(n, t, n.helpers, n.partials, f.data || r, u && [t].concat(u))
                    };
                    return f.program = t, f.depth = u ? u.length : 0, f
                }

                function c(n, t, i, u, f, e, o) {
                    var s = {
                        partial: !0,
                        helpers: u,
                        partials: f,
                        data: e,
                        depths: o
                    };
                    if (void 0 === n) throw new r("The partial " + t + " could not be found");
                    if (n instanceof Function) return n(i, s)
                }

                function l() {
                    return ""
                }

                function a(n, t) {
                    return t && "root" in t || (t = t ? y(t) : {}, t.root = n), t
                }
                var u = {},
                    e = n,
                    r = t,
                    v = i.COMPILER_REVISION,
                    o = i.REVISION_CHANGES,
                    y = i.createFrame;
                return u.checkRevision = s, u.template = h, u.program = f, u.invokePartial = c, u.noop = l, u
            }(t, n, i),
            e = function(n, t, i, r, u) {
                "use strict";
                var c, o = n,
                    l = t,
                    a = i,
                    e = r,
                    s = u,
                    h = function() {
                        var n = new o.HandlebarsEnvironment;
                        return e.extend(n, o), n.SafeString = l, n.Exception = a, n.Utils = e, n.escapeExpression = e.escapeExpression, n.VM = s, n.template = function(t) {
                            return s.template(t, n)
                        }, n
                    },
                    f = h();
                return f.create = h, f["default"] = f, c = f
            }(i, r, n, t, f),
            u = function(n) {
                "use strict";

                function t(n) {
                    n = n || {};
                    this.firstLine = n.first_line;
                    this.firstColumn = n.first_column;
                    this.lastColumn = n.last_column;
                    this.lastLine = n.last_line
                }
                var r = n,
                    i = {
                        ProgramNode: function(n, i, r) {
                            t.call(this, r);
                            this.type = "program";
                            this.statements = n;
                            this.strip = i
                        },
                        MustacheNode: function(n, r, u, f, e) {
                            if (t.call(this, e), this.type = "mustache", this.strip = f, null != u && u.charAt) {
                                var o = u.charAt(3) || u.charAt(2);
                                this.escaped = "{" !== o && "&" !== o
                            } else this.escaped = !!u;
                            this.sexpr = n instanceof i.SexprNode ? n : new i.SexprNode(n, r);
                            this.id = this.sexpr.id;
                            this.params = this.sexpr.params;
                            this.hash = this.sexpr.hash;
                            this.eligibleHelper = this.sexpr.eligibleHelper;
                            this.isHelper = this.sexpr.isHelper
                        },
                        SexprNode: function(n, i, r) {
                            t.call(this, r);
                            this.type = "sexpr";
                            this.hash = i;
                            var u = this.id = n[0],
                                f = this.params = n.slice(1);
                            this.isHelper = !(!f.length && !i);
                            this.eligibleHelper = this.isHelper || u.isSimple
                        },
                        PartialNode: function(n, i, r, u, f) {
                            t.call(this, f);
                            this.type = "partial";
                            this.partialName = n;
                            this.context = i;
                            this.hash = r;
                            this.strip = u;
                            this.strip.inlineStandalone = !0
                        },
                        BlockNode: function(n, i, r, u, f) {
                            t.call(this, f);
                            this.type = "block";
                            this.mustache = n;
                            this.program = i;
                            this.inverse = r;
                            this.strip = u;
                            r && !i && (this.isInverse = !0)
                        },
                        RawBlockNode: function(n, u, f, e) {
                            if (t.call(this, e), n.sexpr.id.original !== f) throw new r(n.sexpr.id.original + " doesn't match " + f, this);
                            u = new i.ContentNode(u, e);
                            this.type = "block";
                            this.mustache = n;
                            this.program = new i.ProgramNode([u], {}, e)
                        },
                        ContentNode: function(n, i) {
                            t.call(this, i);
                            this.type = "content";
                            this.original = this.string = n
                        },
                        HashNode: function(n, i) {
                            t.call(this, i);
                            this.type = "hash";
                            this.pairs = n
                        },
                        IdNode: function(n, i) {
                            var u;
                            t.call(this, i);
                            this.type = "ID";
                            for (var o = "", f = [], s = 0, h = "", e = 0, c = n.length; c > e; e++)
                                if (u = n[e].part, o += (n[e].separator || "") + u, ".." === u || "." === u || "this" === u) {
                                    if (f.length > 0) throw new r("Invalid path: " + o, this);
                                    ".." === u ? (s++, h += "../") : this.isScoped = !0
                                } else f.push(u);
                            this.original = o;
                            this.parts = f;
                            this.string = f.join(".");
                            this.depth = s;
                            this.idName = h + this.string;
                            this.isSimple = 1 === n.length && !this.isScoped && 0 === s;
                            this.stringModeValue = this.string
                        },
                        PartialNameNode: function(n, i) {
                            t.call(this, i);
                            this.type = "PARTIAL_NAME";
                            this.name = n.original
                        },
                        DataNode: function(n, i) {
                            t.call(this, i);
                            this.type = "DATA";
                            this.id = n;
                            this.stringModeValue = n.stringModeValue;
                            this.idName = "@" + n.stringModeValue
                        },
                        StringNode: function(n, i) {
                            t.call(this, i);
                            this.type = "STRING";
                            this.original = this.string = this.stringModeValue = n
                        },
                        NumberNode: function(n, i) {
                            t.call(this, i);
                            this.type = "NUMBER";
                            this.original = this.number = n;
                            this.stringModeValue = Number(n)
                        },
                        BooleanNode: function(n, i) {
                            t.call(this, i);
                            this.type = "BOOLEAN";
                            this.bool = n;
                            this.stringModeValue = "true" === n
                        },
                        CommentNode: function(n, i) {
                            t.call(this, i);
                            this.type = "comment";
                            this.comment = n;
                            this.strip = {
                                inlineStandalone: !0
                            }
                        }
                    };
                return i
            }(n),
            o = function() {
                "use strict";
                return function() {
                    function n() {
                        this.yy = {}
                    }
                    var t = {
                            trace: function() {},
                            yy: {},
                            symbols_: {
                                error: 2,
                                root: 3,
                                program: 4,
                                EOF: 5,
                                program_repetition0: 6,
                                statement: 7,
                                mustache: 8,
                                block: 9,
                                rawBlock: 10,
                                partial: 11,
                                CONTENT: 12,
                                COMMENT: 13,
                                openRawBlock: 14,
                                END_RAW_BLOCK: 15,
                                OPEN_RAW_BLOCK: 16,
                                sexpr: 17,
                                CLOSE_RAW_BLOCK: 18,
                                openBlock: 19,
                                block_option0: 20,
                                closeBlock: 21,
                                openInverse: 22,
                                block_option1: 23,
                                OPEN_BLOCK: 24,
                                CLOSE: 25,
                                OPEN_INVERSE: 26,
                                inverseAndProgram: 27,
                                INVERSE: 28,
                                OPEN_ENDBLOCK: 29,
                                path: 30,
                                OPEN: 31,
                                OPEN_UNESCAPED: 32,
                                CLOSE_UNESCAPED: 33,
                                OPEN_PARTIAL: 34,
                                partialName: 35,
                                param: 36,
                                partial_option0: 37,
                                partial_option1: 38,
                                sexpr_repetition0: 39,
                                sexpr_option0: 40,
                                dataName: 41,
                                STRING: 42,
                                NUMBER: 43,
                                BOOLEAN: 44,
                                OPEN_SEXPR: 45,
                                CLOSE_SEXPR: 46,
                                hash: 47,
                                hash_repetition_plus0: 48,
                                hashSegment: 49,
                                ID: 50,
                                EQUALS: 51,
                                DATA: 52,
                                pathSegments: 53,
                                SEP: 54,
                                $accept: 0,
                                $end: 1
                            },
                            terminals_: {
                                2: "error",
                                5: "EOF",
                                12: "CONTENT",
                                13: "COMMENT",
                                15: "END_RAW_BLOCK",
                                16: "OPEN_RAW_BLOCK",
                                18: "CLOSE_RAW_BLOCK",
                                24: "OPEN_BLOCK",
                                25: "CLOSE",
                                26: "OPEN_INVERSE",
                                28: "INVERSE",
                                29: "OPEN_ENDBLOCK",
                                31: "OPEN",
                                32: "OPEN_UNESCAPED",
                                33: "CLOSE_UNESCAPED",
                                34: "OPEN_PARTIAL",
                                42: "STRING",
                                43: "NUMBER",
                                44: "BOOLEAN",
                                45: "OPEN_SEXPR",
                                46: "CLOSE_SEXPR",
                                50: "ID",
                                51: "EQUALS",
                                52: "DATA",
                                54: "SEP"
                            },
                            productions_: [0, [3, 2],
                                [4, 1],
                                [7, 1],
                                [7, 1],
                                [7, 1],
                                [7, 1],
                                [7, 1],
                                [7, 1],
                                [10, 3],
                                [14, 3],
                                [9, 4],
                                [9, 4],
                                [19, 3],
                                [22, 3],
                                [27, 2],
                                [21, 3],
                                [8, 3],
                                [8, 3],
                                [11, 5],
                                [11, 4],
                                [17, 3],
                                [17, 1],
                                [36, 1],
                                [36, 1],
                                [36, 1],
                                [36, 1],
                                [36, 1],
                                [36, 3],
                                [47, 1],
                                [49, 3],
                                [35, 1],
                                [35, 1],
                                [35, 1],
                                [41, 2],
                                [30, 1],
                                [53, 3],
                                [53, 1],
                                [6, 0],
                                [6, 2],
                                [20, 0],
                                [20, 1],
                                [23, 0],
                                [23, 1],
                                [37, 0],
                                [37, 1],
                                [38, 0],
                                [38, 1],
                                [39, 0],
                                [39, 2],
                                [40, 0],
                                [40, 1],
                                [48, 1],
                                [48, 2]
                            ],
                            performAction: function(n, t, i, r, u, f) {
                                var e = f.length - 1;
                                switch (u) {
                                    case 1:
                                        return r.prepareProgram(f[e - 1].statements, !0), f[e - 1];
                                    case 2:
                                        this.$ = new r.ProgramNode(r.prepareProgram(f[e]), {}, this._$);
                                        break;
                                    case 3:
                                        this.$ = f[e];
                                        break;
                                    case 4:
                                        this.$ = f[e];
                                        break;
                                    case 5:
                                        this.$ = f[e];
                                        break;
                                    case 6:
                                        this.$ = f[e];
                                        break;
                                    case 7:
                                        this.$ = new r.ContentNode(f[e], this._$);
                                        break;
                                    case 8:
                                        this.$ = new r.CommentNode(f[e], this._$);
                                        break;
                                    case 9:
                                        this.$ = new r.RawBlockNode(f[e - 2], f[e - 1], f[e], this._$);
                                        break;
                                    case 10:
                                        this.$ = new r.MustacheNode(f[e - 1], null, "", "", this._$);
                                        break;
                                    case 11:
                                        this.$ = r.prepareBlock(f[e - 3], f[e - 2], f[e - 1], f[e], !1, this._$);
                                        break;
                                    case 12:
                                        this.$ = r.prepareBlock(f[e - 3], f[e - 2], f[e - 1], f[e], !0, this._$);
                                        break;
                                    case 13:
                                        this.$ = new r.MustacheNode(f[e - 1], null, f[e - 2], r.stripFlags(f[e - 2], f[e]), this._$);
                                        break;
                                    case 14:
                                        this.$ = new r.MustacheNode(f[e - 1], null, f[e - 2], r.stripFlags(f[e - 2], f[e]), this._$);
                                        break;
                                    case 15:
                                        this.$ = {
                                            strip: r.stripFlags(f[e - 1], f[e - 1]),
                                            program: f[e]
                                        };
                                        break;
                                    case 16:
                                        this.$ = {
                                            path: f[e - 1],
                                            strip: r.stripFlags(f[e - 2], f[e])
                                        };
                                        break;
                                    case 17:
                                        this.$ = new r.MustacheNode(f[e - 1], null, f[e - 2], r.stripFlags(f[e - 2], f[e]), this._$);
                                        break;
                                    case 18:
                                        this.$ = new r.MustacheNode(f[e - 1], null, f[e - 2], r.stripFlags(f[e - 2], f[e]), this._$);
                                        break;
                                    case 19:
                                        this.$ = new r.PartialNode(f[e - 3], f[e - 2], f[e - 1], r.stripFlags(f[e - 4], f[e]), this._$);
                                        break;
                                    case 20:
                                        this.$ = new r.PartialNode(f[e - 2], void 0, f[e - 1], r.stripFlags(f[e - 3], f[e]), this._$);
                                        break;
                                    case 21:
                                        this.$ = new r.SexprNode([f[e - 2]].concat(f[e - 1]), f[e], this._$);
                                        break;
                                    case 22:
                                        this.$ = new r.SexprNode([f[e]], null, this._$);
                                        break;
                                    case 23:
                                        this.$ = f[e];
                                        break;
                                    case 24:
                                        this.$ = new r.StringNode(f[e], this._$);
                                        break;
                                    case 25:
                                        this.$ = new r.NumberNode(f[e], this._$);
                                        break;
                                    case 26:
                                        this.$ = new r.BooleanNode(f[e], this._$);
                                        break;
                                    case 27:
                                        this.$ = f[e];
                                        break;
                                    case 28:
                                        f[e - 1].isHelper = !0;
                                        this.$ = f[e - 1];
                                        break;
                                    case 29:
                                        this.$ = new r.HashNode(f[e], this._$);
                                        break;
                                    case 30:
                                        this.$ = [f[e - 2], f[e]];
                                        break;
                                    case 31:
                                        this.$ = new r.PartialNameNode(f[e], this._$);
                                        break;
                                    case 32:
                                        this.$ = new r.PartialNameNode(new r.StringNode(f[e], this._$), this._$);
                                        break;
                                    case 33:
                                        this.$ = new r.PartialNameNode(new r.NumberNode(f[e], this._$));
                                        break;
                                    case 34:
                                        this.$ = new r.DataNode(f[e], this._$);
                                        break;
                                    case 35:
                                        this.$ = new r.IdNode(f[e], this._$);
                                        break;
                                    case 36:
                                        f[e - 2].push({
                                            part: f[e],
                                            separator: f[e - 1]
                                        });
                                        this.$ = f[e - 2];
                                        break;
                                    case 37:
                                        this.$ = [{
                                            part: f[e]
                                        }];
                                        break;
                                    case 38:
                                        this.$ = [];
                                        break;
                                    case 39:
                                        f[e - 1].push(f[e]);
                                        break;
                                    case 48:
                                        this.$ = [];
                                        break;
                                    case 49:
                                        f[e - 1].push(f[e]);
                                        break;
                                    case 52:
                                        this.$ = [f[e]];
                                        break;
                                    case 53:
                                        f[e - 1].push(f[e])
                                }
                            },
                            table: [{
                                3: 1,
                                4: 2,
                                5: [2, 38],
                                6: 3,
                                12: [2, 38],
                                13: [2, 38],
                                16: [2, 38],
                                24: [2, 38],
                                26: [2, 38],
                                31: [2, 38],
                                32: [2, 38],
                                34: [2, 38]
                            }, {
                                1: [3]
                            }, {
                                5: [1, 4]
                            }, {
                                5: [2, 2],
                                7: 5,
                                8: 6,
                                9: 7,
                                10: 8,
                                11: 9,
                                12: [1, 10],
                                13: [1, 11],
                                14: 16,
                                16: [1, 20],
                                19: 14,
                                22: 15,
                                24: [1, 18],
                                26: [1, 19],
                                28: [2, 2],
                                29: [2, 2],
                                31: [1, 12],
                                32: [1, 13],
                                34: [1, 17]
                            }, {
                                1: [2, 1]
                            }, {
                                5: [2, 39],
                                12: [2, 39],
                                13: [2, 39],
                                16: [2, 39],
                                24: [2, 39],
                                26: [2, 39],
                                28: [2, 39],
                                29: [2, 39],
                                31: [2, 39],
                                32: [2, 39],
                                34: [2, 39]
                            }, {
                                5: [2, 3],
                                12: [2, 3],
                                13: [2, 3],
                                16: [2, 3],
                                24: [2, 3],
                                26: [2, 3],
                                28: [2, 3],
                                29: [2, 3],
                                31: [2, 3],
                                32: [2, 3],
                                34: [2, 3]
                            }, {
                                5: [2, 4],
                                12: [2, 4],
                                13: [2, 4],
                                16: [2, 4],
                                24: [2, 4],
                                26: [2, 4],
                                28: [2, 4],
                                29: [2, 4],
                                31: [2, 4],
                                32: [2, 4],
                                34: [2, 4]
                            }, {
                                5: [2, 5],
                                12: [2, 5],
                                13: [2, 5],
                                16: [2, 5],
                                24: [2, 5],
                                26: [2, 5],
                                28: [2, 5],
                                29: [2, 5],
                                31: [2, 5],
                                32: [2, 5],
                                34: [2, 5]
                            }, {
                                5: [2, 6],
                                12: [2, 6],
                                13: [2, 6],
                                16: [2, 6],
                                24: [2, 6],
                                26: [2, 6],
                                28: [2, 6],
                                29: [2, 6],
                                31: [2, 6],
                                32: [2, 6],
                                34: [2, 6]
                            }, {
                                5: [2, 7],
                                12: [2, 7],
                                13: [2, 7],
                                16: [2, 7],
                                24: [2, 7],
                                26: [2, 7],
                                28: [2, 7],
                                29: [2, 7],
                                31: [2, 7],
                                32: [2, 7],
                                34: [2, 7]
                            }, {
                                5: [2, 8],
                                12: [2, 8],
                                13: [2, 8],
                                16: [2, 8],
                                24: [2, 8],
                                26: [2, 8],
                                28: [2, 8],
                                29: [2, 8],
                                31: [2, 8],
                                32: [2, 8],
                                34: [2, 8]
                            }, {
                                17: 21,
                                30: 22,
                                41: 23,
                                50: [1, 26],
                                52: [1, 25],
                                53: 24
                            }, {
                                17: 27,
                                30: 22,
                                41: 23,
                                50: [1, 26],
                                52: [1, 25],
                                53: 24
                            }, {
                                4: 28,
                                6: 3,
                                12: [2, 38],
                                13: [2, 38],
                                16: [2, 38],
                                24: [2, 38],
                                26: [2, 38],
                                28: [2, 38],
                                29: [2, 38],
                                31: [2, 38],
                                32: [2, 38],
                                34: [2, 38]
                            }, {
                                4: 29,
                                6: 3,
                                12: [2, 38],
                                13: [2, 38],
                                16: [2, 38],
                                24: [2, 38],
                                26: [2, 38],
                                28: [2, 38],
                                29: [2, 38],
                                31: [2, 38],
                                32: [2, 38],
                                34: [2, 38]
                            }, {
                                12: [1, 30]
                            }, {
                                30: 32,
                                35: 31,
                                42: [1, 33],
                                43: [1, 34],
                                50: [1, 26],
                                53: 24
                            }, {
                                17: 35,
                                30: 22,
                                41: 23,
                                50: [1, 26],
                                52: [1, 25],
                                53: 24
                            }, {
                                17: 36,
                                30: 22,
                                41: 23,
                                50: [1, 26],
                                52: [1, 25],
                                53: 24
                            }, {
                                17: 37,
                                30: 22,
                                41: 23,
                                50: [1, 26],
                                52: [1, 25],
                                53: 24
                            }, {
                                25: [1, 38]
                            }, {
                                18: [2, 48],
                                25: [2, 48],
                                33: [2, 48],
                                39: 39,
                                42: [2, 48],
                                43: [2, 48],
                                44: [2, 48],
                                45: [2, 48],
                                46: [2, 48],
                                50: [2, 48],
                                52: [2, 48]
                            }, {
                                18: [2, 22],
                                25: [2, 22],
                                33: [2, 22],
                                46: [2, 22]
                            }, {
                                18: [2, 35],
                                25: [2, 35],
                                33: [2, 35],
                                42: [2, 35],
                                43: [2, 35],
                                44: [2, 35],
                                45: [2, 35],
                                46: [2, 35],
                                50: [2, 35],
                                52: [2, 35],
                                54: [1, 40]
                            }, {
                                30: 41,
                                50: [1, 26],
                                53: 24
                            }, {
                                18: [2, 37],
                                25: [2, 37],
                                33: [2, 37],
                                42: [2, 37],
                                43: [2, 37],
                                44: [2, 37],
                                45: [2, 37],
                                46: [2, 37],
                                50: [2, 37],
                                52: [2, 37],
                                54: [2, 37]
                            }, {
                                33: [1, 42]
                            }, {
                                20: 43,
                                27: 44,
                                28: [1, 45],
                                29: [2, 40]
                            }, {
                                23: 46,
                                27: 47,
                                28: [1, 45],
                                29: [2, 42]
                            }, {
                                15: [1, 48]
                            }, {
                                25: [2, 46],
                                30: 51,
                                36: 49,
                                38: 50,
                                41: 55,
                                42: [1, 52],
                                43: [1, 53],
                                44: [1, 54],
                                45: [1, 56],
                                47: 57,
                                48: 58,
                                49: 60,
                                50: [1, 59],
                                52: [1, 25],
                                53: 24
                            }, {
                                25: [2, 31],
                                42: [2, 31],
                                43: [2, 31],
                                44: [2, 31],
                                45: [2, 31],
                                50: [2, 31],
                                52: [2, 31]
                            }, {
                                25: [2, 32],
                                42: [2, 32],
                                43: [2, 32],
                                44: [2, 32],
                                45: [2, 32],
                                50: [2, 32],
                                52: [2, 32]
                            }, {
                                25: [2, 33],
                                42: [2, 33],
                                43: [2, 33],
                                44: [2, 33],
                                45: [2, 33],
                                50: [2, 33],
                                52: [2, 33]
                            }, {
                                25: [1, 61]
                            }, {
                                25: [1, 62]
                            }, {
                                18: [1, 63]
                            }, {
                                5: [2, 17],
                                12: [2, 17],
                                13: [2, 17],
                                16: [2, 17],
                                24: [2, 17],
                                26: [2, 17],
                                28: [2, 17],
                                29: [2, 17],
                                31: [2, 17],
                                32: [2, 17],
                                34: [2, 17]
                            }, {
                                18: [2, 50],
                                25: [2, 50],
                                30: 51,
                                33: [2, 50],
                                36: 65,
                                40: 64,
                                41: 55,
                                42: [1, 52],
                                43: [1, 53],
                                44: [1, 54],
                                45: [1, 56],
                                46: [2, 50],
                                47: 66,
                                48: 58,
                                49: 60,
                                50: [1, 59],
                                52: [1, 25],
                                53: 24
                            }, {
                                50: [1, 67]
                            }, {
                                18: [2, 34],
                                25: [2, 34],
                                33: [2, 34],
                                42: [2, 34],
                                43: [2, 34],
                                44: [2, 34],
                                45: [2, 34],
                                46: [2, 34],
                                50: [2, 34],
                                52: [2, 34]
                            }, {
                                5: [2, 18],
                                12: [2, 18],
                                13: [2, 18],
                                16: [2, 18],
                                24: [2, 18],
                                26: [2, 18],
                                28: [2, 18],
                                29: [2, 18],
                                31: [2, 18],
                                32: [2, 18],
                                34: [2, 18]
                            }, {
                                21: 68,
                                29: [1, 69]
                            }, {
                                29: [2, 41]
                            }, {
                                4: 70,
                                6: 3,
                                12: [2, 38],
                                13: [2, 38],
                                16: [2, 38],
                                24: [2, 38],
                                26: [2, 38],
                                29: [2, 38],
                                31: [2, 38],
                                32: [2, 38],
                                34: [2, 38]
                            }, {
                                21: 71,
                                29: [1, 69]
                            }, {
                                29: [2, 43]
                            }, {
                                5: [2, 9],
                                12: [2, 9],
                                13: [2, 9],
                                16: [2, 9],
                                24: [2, 9],
                                26: [2, 9],
                                28: [2, 9],
                                29: [2, 9],
                                31: [2, 9],
                                32: [2, 9],
                                34: [2, 9]
                            }, {
                                25: [2, 44],
                                37: 72,
                                47: 73,
                                48: 58,
                                49: 60,
                                50: [1, 74]
                            }, {
                                25: [1, 75]
                            }, {
                                18: [2, 23],
                                25: [2, 23],
                                33: [2, 23],
                                42: [2, 23],
                                43: [2, 23],
                                44: [2, 23],
                                45: [2, 23],
                                46: [2, 23],
                                50: [2, 23],
                                52: [2, 23]
                            }, {
                                18: [2, 24],
                                25: [2, 24],
                                33: [2, 24],
                                42: [2, 24],
                                43: [2, 24],
                                44: [2, 24],
                                45: [2, 24],
                                46: [2, 24],
                                50: [2, 24],
                                52: [2, 24]
                            }, {
                                18: [2, 25],
                                25: [2, 25],
                                33: [2, 25],
                                42: [2, 25],
                                43: [2, 25],
                                44: [2, 25],
                                45: [2, 25],
                                46: [2, 25],
                                50: [2, 25],
                                52: [2, 25]
                            }, {
                                18: [2, 26],
                                25: [2, 26],
                                33: [2, 26],
                                42: [2, 26],
                                43: [2, 26],
                                44: [2, 26],
                                45: [2, 26],
                                46: [2, 26],
                                50: [2, 26],
                                52: [2, 26]
                            }, {
                                18: [2, 27],
                                25: [2, 27],
                                33: [2, 27],
                                42: [2, 27],
                                43: [2, 27],
                                44: [2, 27],
                                45: [2, 27],
                                46: [2, 27],
                                50: [2, 27],
                                52: [2, 27]
                            }, {
                                17: 76,
                                30: 22,
                                41: 23,
                                50: [1, 26],
                                52: [1, 25],
                                53: 24
                            }, {
                                25: [2, 47]
                            }, {
                                18: [2, 29],
                                25: [2, 29],
                                33: [2, 29],
                                46: [2, 29],
                                49: 77,
                                50: [1, 74]
                            }, {
                                18: [2, 37],
                                25: [2, 37],
                                33: [2, 37],
                                42: [2, 37],
                                43: [2, 37],
                                44: [2, 37],
                                45: [2, 37],
                                46: [2, 37],
                                50: [2, 37],
                                51: [1, 78],
                                52: [2, 37],
                                54: [2, 37]
                            }, {
                                18: [2, 52],
                                25: [2, 52],
                                33: [2, 52],
                                46: [2, 52],
                                50: [2, 52]
                            }, {
                                12: [2, 13],
                                13: [2, 13],
                                16: [2, 13],
                                24: [2, 13],
                                26: [2, 13],
                                28: [2, 13],
                                29: [2, 13],
                                31: [2, 13],
                                32: [2, 13],
                                34: [2, 13]
                            }, {
                                12: [2, 14],
                                13: [2, 14],
                                16: [2, 14],
                                24: [2, 14],
                                26: [2, 14],
                                28: [2, 14],
                                29: [2, 14],
                                31: [2, 14],
                                32: [2, 14],
                                34: [2, 14]
                            }, {
                                12: [2, 10]
                            }, {
                                18: [2, 21],
                                25: [2, 21],
                                33: [2, 21],
                                46: [2, 21]
                            }, {
                                18: [2, 49],
                                25: [2, 49],
                                33: [2, 49],
                                42: [2, 49],
                                43: [2, 49],
                                44: [2, 49],
                                45: [2, 49],
                                46: [2, 49],
                                50: [2, 49],
                                52: [2, 49]
                            }, {
                                18: [2, 51],
                                25: [2, 51],
                                33: [2, 51],
                                46: [2, 51]
                            }, {
                                18: [2, 36],
                                25: [2, 36],
                                33: [2, 36],
                                42: [2, 36],
                                43: [2, 36],
                                44: [2, 36],
                                45: [2, 36],
                                46: [2, 36],
                                50: [2, 36],
                                52: [2, 36],
                                54: [2, 36]
                            }, {
                                5: [2, 11],
                                12: [2, 11],
                                13: [2, 11],
                                16: [2, 11],
                                24: [2, 11],
                                26: [2, 11],
                                28: [2, 11],
                                29: [2, 11],
                                31: [2, 11],
                                32: [2, 11],
                                34: [2, 11]
                            }, {
                                30: 79,
                                50: [1, 26],
                                53: 24
                            }, {
                                29: [2, 15]
                            }, {
                                5: [2, 12],
                                12: [2, 12],
                                13: [2, 12],
                                16: [2, 12],
                                24: [2, 12],
                                26: [2, 12],
                                28: [2, 12],
                                29: [2, 12],
                                31: [2, 12],
                                32: [2, 12],
                                34: [2, 12]
                            }, {
                                25: [1, 80]
                            }, {
                                25: [2, 45]
                            }, {
                                51: [1, 78]
                            }, {
                                5: [2, 20],
                                12: [2, 20],
                                13: [2, 20],
                                16: [2, 20],
                                24: [2, 20],
                                26: [2, 20],
                                28: [2, 20],
                                29: [2, 20],
                                31: [2, 20],
                                32: [2, 20],
                                34: [2, 20]
                            }, {
                                46: [1, 81]
                            }, {
                                18: [2, 53],
                                25: [2, 53],
                                33: [2, 53],
                                46: [2, 53],
                                50: [2, 53]
                            }, {
                                30: 51,
                                36: 82,
                                41: 55,
                                42: [1, 52],
                                43: [1, 53],
                                44: [1, 54],
                                45: [1, 56],
                                50: [1, 26],
                                52: [1, 25],
                                53: 24
                            }, {
                                25: [1, 83]
                            }, {
                                5: [2, 19],
                                12: [2, 19],
                                13: [2, 19],
                                16: [2, 19],
                                24: [2, 19],
                                26: [2, 19],
                                28: [2, 19],
                                29: [2, 19],
                                31: [2, 19],
                                32: [2, 19],
                                34: [2, 19]
                            }, {
                                18: [2, 28],
                                25: [2, 28],
                                33: [2, 28],
                                42: [2, 28],
                                43: [2, 28],
                                44: [2, 28],
                                45: [2, 28],
                                46: [2, 28],
                                50: [2, 28],
                                52: [2, 28]
                            }, {
                                18: [2, 30],
                                25: [2, 30],
                                33: [2, 30],
                                46: [2, 30],
                                50: [2, 30]
                            }, {
                                5: [2, 16],
                                12: [2, 16],
                                13: [2, 16],
                                16: [2, 16],
                                24: [2, 16],
                                26: [2, 16],
                                28: [2, 16],
                                29: [2, 16],
                                31: [2, 16],
                                32: [2, 16],
                                34: [2, 16]
                            }],
                            defaultActions: {
                                4: [2, 1],
                                44: [2, 41],
                                47: [2, 43],
                                57: [2, 47],
                                63: [2, 10],
                                70: [2, 15],
                                73: [2, 45]
                            },
                            parseError: function(n) {
                                throw new Error(n);
                            },
                            parse: function(n) {
                                function it() {
                                    var n;
                                    return n = k.lexer.lex() || 1, "number" != typeof n && (n = k.symbols_[n] || n), n
                                }
                                var k = this,
                                    r = [0],
                                    e = [null],
                                    t = [],
                                    h = this.table,
                                    d = "",
                                    c = 0,
                                    g = 0,
                                    y = 0,
                                    l, nt, i, p, o, u, w, a, f, tt, v, s, b;
                                for (this.lexer.setInput(n), this.lexer.yy = this.yy, this.yy.lexer = this.lexer, this.yy.parser = this, "undefined" == typeof this.lexer.yylloc && (this.lexer.yylloc = {}), l = this.lexer.yylloc, t.push(l), nt = this.lexer.options && this.lexer.options.ranges, "function" == typeof this.yy.parseError && (this.parseError = this.yy.parseError), s = {};;) {
                                    if ((o = r[r.length - 1], this.defaultActions[o] ? u = this.defaultActions[o] : ((null === i || "undefined" == typeof i) && (i = it()), u = h[o] && h[o][i]), "undefined" == typeof u || !u.length || !u[0]) && (b = "", !y)) {
                                        v = [];
                                        for (a in h[o]) this.terminals_[a] && a > 2 && v.push("'" + this.terminals_[a] + "'");
                                        b = this.lexer.showPosition ? "Parse error on line " + (c + 1) + ":\n" + this.lexer.showPosition() + "\nExpecting " + v.join(", ") + ", got '" + (this.terminals_[i] || i) + "'" : "Parse error on line " + (c + 1) + ": Unexpected " + (1 == i ? "end of input" : "'" + (this.terminals_[i] || i) + "'");
                                        this.parseError(b, {
                                            text: this.lexer.match,
                                            token: this.terminals_[i] || i,
                                            line: this.lexer.yylineno,
                                            loc: l,
                                            expected: v
                                        })
                                    }
                                    if (u[0] instanceof Array && u.length > 1) throw new Error("Parse Error: multiple actions possible at state: " + o + ", token: " + i);
                                    switch (u[0]) {
                                        case 1:
                                            r.push(i);
                                            e.push(this.lexer.yytext);
                                            t.push(this.lexer.yylloc);
                                            r.push(u[1]);
                                            i = null;
                                            p ? (i = p, p = null) : (g = this.lexer.yyleng, d = this.lexer.yytext, c = this.lexer.yylineno, l = this.lexer.yylloc, y > 0 && y--);
                                            break;
                                        case 2:
                                            if (f = this.productions_[u[1]][1], s.$ = e[e.length - f], s._$ = {
                                                    first_line: t[t.length - (f || 1)].first_line,
                                                    last_line: t[t.length - 1].last_line,
                                                    first_column: t[t.length - (f || 1)].first_column,
                                                    last_column: t[t.length - 1].last_column
                                                }, nt && (s._$.range = [t[t.length - (f || 1)].range[0], t[t.length - 1].range[1]]), w = this.performAction.call(s, d, g, c, this.yy, u[1], e, t), "undefined" != typeof w) return w;
                                            f && (r = r.slice(0, -2 * f), e = e.slice(0, -1 * f), t = t.slice(0, -1 * f));
                                            r.push(this.productions_[u[1]][0]);
                                            e.push(s.$);
                                            t.push(s._$);
                                            tt = h[r[r.length - 2]][r[r.length - 1]];
                                            r.push(tt);
                                            break;
                                        case 3:
                                            return !0
                                    }
                                }
                                return !0
                            }
                        },
                        i = function() {
                            var n = {
                                EOF: 1,
                                parseError: function(n, t) {
                                    if (!this.yy.parser) throw new Error(n);
                                    this.yy.parser.parseError(n, t)
                                },
                                setInput: function(n) {
                                    return this._input = n, this._more = this._less = this.done = !1, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = {
                                        first_line: 1,
                                        first_column: 0,
                                        last_line: 1,
                                        last_column: 0
                                    }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this
                                },
                                input: function() {
                                    var n = this._input[0],
                                        t;
                                    return this.yytext += n, this.yyleng++, this.offset++, this.match += n, this.matched += n, t = n.match(/(?:\r\n?|\n).*/g), t ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), n
                                },
                                unput: function(n) {
                                    var i = n.length,
                                        t = n.split(/(?:\r\n?|\n)/g),
                                        r, u;
                                    return this._input = n + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - i - 1), this.offset -= i, r = this.match.split(/(?:\r\n?|\n)/g), this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), t.length - 1 && (this.yylineno -= t.length - 1), u = this.yylloc.range, this.yylloc = {
                                        first_line: this.yylloc.first_line,
                                        last_line: this.yylineno + 1,
                                        first_column: this.yylloc.first_column,
                                        last_column: t ? (t.length === r.length ? this.yylloc.first_column : 0) + r[r.length - t.length].length - t[0].length : this.yylloc.first_column - i
                                    }, this.options.ranges && (this.yylloc.range = [u[0], u[0] + this.yyleng - i]), this
                                },
                                more: function() {
                                    return this._more = !0, this
                                },
                                less: function(n) {
                                    this.unput(this.match.slice(n))
                                },
                                pastInput: function() {
                                    var n = this.matched.substr(0, this.matched.length - this.match.length);
                                    return (n.length > 20 ? "..." : "") + n.substr(-20).replace(/\n/g, "")
                                },
                                upcomingInput: function() {
                                    var n = this.match;
                                    return n.length < 20 && (n += this._input.substr(0, 20 - n.length)), (n.substr(0, 20) + (n.length > 20 ? "..." : "")).replace(/\n/g, "")
                                },
                                showPosition: function() {
                                    var n = this.pastInput(),
                                        t = new Array(n.length + 1).join("-");
                                    return n + this.upcomingInput() + "\n" + t + "^"
                                },
                                next: function() {
                                    var f, n, r, e, t, u, i;
                                    if (this.done) return this.EOF;
                                    for (this._input || (this.done = !0), this._more || (this.yytext = "", this.match = ""), u = this._currentRules(), i = 0; i < u.length && (r = this._input.match(this.rules[u[i]]), !r || n && !(r[0].length > n[0].length) || (n = r, e = i, this.options.flex)); i++);
                                    return n ? (t = n[0].match(/(?:\r\n?|\n).*/g), t && (this.yylineno += t.length), this.yylloc = {
                                        first_line: this.yylloc.last_line,
                                        last_line: this.yylineno + 1,
                                        first_column: this.yylloc.last_column,
                                        last_column: t ? t[t.length - 1].length - t[t.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + n[0].length
                                    }, this.yytext += n[0], this.match += n[0], this.matches = n, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = !1, this._input = this._input.slice(n[0].length), this.matched += n[0], f = this.performAction.call(this, this.yy, this, u[e], this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = !1), f ? f : void 0) : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), {
                                        text: "",
                                        token: null,
                                        line: this.yylineno
                                    })
                                },
                                lex: function() {
                                    var n = this.next();
                                    return "undefined" != typeof n ? n : this.lex()
                                },
                                begin: function(n) {
                                    this.conditionStack.push(n)
                                },
                                popState: function() {
                                    return this.conditionStack.pop()
                                },
                                _currentRules: function() {
                                    return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules
                                },
                                topState: function() {
                                    return this.conditionStack[this.conditionStack.length - 2]
                                },
                                pushState: function(n) {
                                    this.begin(n)
                                }
                            };
                            return n.options = {}, n.performAction = function(n, t, i) {
                                function r(n, i) {
                                    return t.yytext = t.yytext.substr(n, t.yyleng - i)
                                }
                                switch (i) {
                                    case 0:
                                        if ("\\\\" === t.yytext.slice(-2) ? (r(0, 1), this.begin("mu")) : "\\" === t.yytext.slice(-1) ? (r(0, 1), this.begin("emu")) : this.begin("mu"), t.yytext) return 12;
                                        break;
                                    case 1:
                                        return 12;
                                    case 2:
                                        return this.popState(), 12;
                                    case 3:
                                        return t.yytext = t.yytext.substr(5, t.yyleng - 9), this.popState(), 15;
                                    case 4:
                                        return 12;
                                    case 5:
                                        return r(0, 4), this.popState(), 13;
                                    case 6:
                                        return 45;
                                    case 7:
                                        return 46;
                                    case 8:
                                        return 16;
                                    case 9:
                                        return this.popState(), this.begin("raw"), 18;
                                    case 10:
                                        return 34;
                                    case 11:
                                        return 24;
                                    case 12:
                                        return 29;
                                    case 13:
                                        return this.popState(), 28;
                                    case 14:
                                        return this.popState(), 28;
                                    case 15:
                                        return 26;
                                    case 16:
                                        return 26;
                                    case 17:
                                        return 32;
                                    case 18:
                                        return 31;
                                    case 19:
                                        this.popState();
                                        this.begin("com");
                                        break;
                                    case 20:
                                        return r(3, 5), this.popState(), 13;
                                    case 21:
                                        return 31;
                                    case 22:
                                        return 51;
                                    case 23:
                                        return 50;
                                    case 24:
                                        return 50;
                                    case 25:
                                        return 54;
                                    case 27:
                                        return this.popState(), 33;
                                    case 28:
                                        return this.popState(), 25;
                                    case 29:
                                        return t.yytext = r(1, 2).replace(/\\"/g, '"'), 42;
                                    case 30:
                                        return t.yytext = r(1, 2).replace(/\\'/g, "'"), 42;
                                    case 31:
                                        return 52;
                                    case 32:
                                        return 44;
                                    case 33:
                                        return 44;
                                    case 34:
                                        return 43;
                                    case 35:
                                        return 50;
                                    case 36:
                                        return t.yytext = r(1, 2), 50;
                                    case 37:
                                        return "INVALID";
                                    case 38:
                                        return 5
                                }
                            }, n.rules = [/^(?:[^\x00]*?(?=(\{\{)))/, /^(?:[^\x00]+)/, /^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/, /^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/, /^(?:[^\x00]*?(?=(\{\{\{\{\/)))/, /^(?:[\s\S]*?--\}\})/, /^(?:\()/, /^(?:\))/, /^(?:\{\{\{\{)/, /^(?:\}\}\}\})/, /^(?:\{\{(~)?>)/, /^(?:\{\{(~)?#)/, /^(?:\{\{(~)?\/)/, /^(?:\{\{(~)?\^\s*(~)?\}\})/, /^(?:\{\{(~)?\s*else\s*(~)?\}\})/, /^(?:\{\{(~)?\^)/, /^(?:\{\{(~)?\s*else\b)/, /^(?:\{\{(~)?\{)/, /^(?:\{\{(~)?&)/, /^(?:\{\{!--)/, /^(?:\{\{![\s\S]*?\}\})/, /^(?:\{\{(~)?)/, /^(?:=)/, /^(?:\.\.)/, /^(?:\.(?=([=~}\s\/.)])))/, /^(?:[\/.])/, /^(?:\s+)/, /^(?:\}(~)?\}\})/, /^(?:(~)?\}\})/, /^(?:"(\\["]|[^"])*")/, /^(?:'(\\[']|[^'])*')/, /^(?:@)/, /^(?:true(?=([~}\s)])))/, /^(?:false(?=([~}\s)])))/, /^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/, /^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/, /^(?:\[[^\]]*\])/, /^(?:.)/, /^(?:$)/], n.conditions = {
                                mu: {
                                    rules: [6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38],
                                    inclusive: !1
                                },
                                emu: {
                                    rules: [2],
                                    inclusive: !1
                                },
                                com: {
                                    rules: [5],
                                    inclusive: !1
                                },
                                raw: {
                                    rules: [3, 4],
                                    inclusive: !1
                                },
                                INITIAL: {
                                    rules: [0, 1, 38],
                                    inclusive: !0
                                }
                            }, n
                        }();
                    return t.lexer = i, n.prototype = t, t.Parser = n, new n
                }()
            }(),
            s = function(n) {
                "use strict";

                function e(n, t) {
                    return {
                        left: "~" === n.charAt(2),
                        right: "~" === t.charAt(t.length - 3)
                    }
                }

                function o(n, r, e, o, s, c) {
                    var l, a, v;
                    if (n.sexpr.id.original !== o.path.original) throw new h(n.sexpr.id.original + " doesn't match " + o.path.original, n);
                    return l = e && e.program, a = {
                        left: n.strip.left,
                        right: o.strip.right,
                        openStandalone: f(r.statements),
                        closeStandalone: u((l || r).statements)
                    }, (n.strip.right && i(r.statements, null, !0), l) ? (v = e.strip, v.left && t(r.statements, null, !0), v.right && i(l.statements, null, !0), o.strip.left && t(l.statements, null, !0), u(r.statements) && f(l.statements) && (t(r.statements), i(l.statements))) : o.strip.left && t(r.statements, null, !0), s ? new this.BlockNode(n, l, r, a, c) : new this.BlockNode(n, r, l, a, c)
                }

                function s(n, r) {
                    for (var o, s, e = 0, h = n.length; h > e; e++)
                        if (o = n[e], s = o.strip, s) {
                            var c = u(n, e, r, "partial" === o.type),
                                l = f(n, e, r),
                                a = s.openStandalone && c,
                                v = s.closeStandalone && l,
                                y = s.inlineStandalone && c && l;
                            s.right && i(n, e, !0);
                            s.left && t(n, e, !0);
                            y && (i(n, e), t(n, e) && "partial" === o.type && (o.indent = /([ \t]+$)/.exec(n[e - 1].original) ? RegExp.$1 : ""));
                            a && (i((o.program || o.inverse).statements), t(n, e));
                            v && (i(n, e), t((o.inverse || o.program).statements))
                        }
                    return n
                }

                function u(n, t, i) {
                    void 0 === t && (t = n.length);
                    var r = n[t - 1],
                        u = n[t - 2];
                    return r ? "content" === r.type ? (u || !i ? /\r?\n\s*?$/ : /(^|\r?\n)\s*?$/).test(r.original) : void 0 : i
                }

                function f(n, t, i) {
                    void 0 === t && (t = -1);
                    var r = n[t + 1],
                        u = n[t + 2];
                    return r ? "content" === r.type ? (u || !i ? /^\s*?\r?\n/ : /^\s*?(\r?\n|$)/).test(r.original) : void 0 : i
                }

                function i(n, t, i) {
                    var r = n[null == t ? 0 : t + 1],
                        u;
                    r && "content" === r.type && (i || !r.rightStripped) && (u = r.string, r.string = r.string.replace(i ? /^\s+/ : /^[ \t]*\r?\n?/, ""), r.rightStripped = r.string !== u)
                }

                function t(n, t, i) {
                    var r = n[null == t ? n.length - 1 : t - 1],
                        u;
                    if (r && "content" === r.type && (i || !r.leftStripped)) return u = r.string, r.string = r.string.replace(i ? /\s+$/ : /[ \t]+$/, ""), r.leftStripped = r.string !== u, r.leftStripped
                }
                var r = {},
                    h = n;
                return r.stripFlags = e, r.prepareBlock = o, r.prepareProgram = s, r
            }(n),
            h = function(n, t, i, r) {
                "use strict";

                function s(n) {
                    return n.constructor === o.ProgramNode ? n : (f.yy = e, f.parse(n))
                }
                var u = {},
                    f = n,
                    o = t,
                    h = i,
                    c = r.extend,
                    e;
                return u.parser = f, e = {}, c(e, h, o), u.parse = s, u
            }(o, u, s, t),
            c = function(n, t) {
                "use strict";

                function r() {}

                function o(n, t, i) {
                    if (null == n || "string" != typeof n && n.constructor !== i.AST.ProgramNode) throw new u("You must pass a string or Handlebars AST to Handlebars.precompile. You passed " + n);
                    t = t || {};
                    "data" in t || (t.data = !0);
                    t.compat && (t.useDepths = !0);
                    var r = i.parse(n),
                        f = (new i.Compiler).compile(r, t);
                    return (new i.JavaScriptCompiler).compile(f, t)
                }

                function s(n, t, i) {
                    function f() {
                        var r = i.parse(n),
                            u = (new i.Compiler).compile(r, t),
                            f = (new i.JavaScriptCompiler).compile(u, t, void 0, !0);
                        return i.template(f)
                    }
                    if (null == n || "string" != typeof n && n.constructor !== i.AST.ProgramNode) throw new u("You must pass a string or Handlebars AST to Handlebars.compile. You passed " + n);
                    t = t || {};
                    "data" in t || (t.data = !0);
                    t.compat && (t.useDepths = !0);
                    var r, e = function(n, t) {
                        return r || (r = f()), r.call(this, n, t)
                    };
                    return e._setup = function(n) {
                        return r || (r = f()), r._setup(n)
                    }, e._child = function(n, t, i) {
                        return r || (r = f()), r._child(n, t, i)
                    }, e
                }

                function f(n, t) {
                    if (n === t) return !0;
                    if (e(n) && e(t) && n.length === t.length) {
                        for (var i = 0; i < n.length; i++)
                            if (!f(n[i], t[i])) return !1;
                        return !0
                    }
                }
                var i = {},
                    u = n,
                    e = t.isArray,
                    h = [].slice;
                return i.Compiler = r, r.prototype = {
                    compiler: r,
                    equals: function(n) {
                        var i = this.opcodes.length,
                            t, r, u;
                        if (n.opcodes.length !== i) return !1;
                        for (t = 0; i > t; t++)
                            if (r = this.opcodes[t], u = n.opcodes[t], r.opcode !== u.opcode || !f(r.args, u.args)) return !1;
                        for (i = this.children.length, t = 0; i > t; t++)
                            if (!this.children[t].equals(n.children[t])) return !1;
                        return !0
                    },
                    guid: 0,
                    compile: function(n, t) {
                        var i, r;
                        if (this.opcodes = [], this.children = [], this.depths = {
                                list: []
                            }, this.options = t, this.stringParams = t.stringParams, this.trackIds = t.trackIds, i = this.options.knownHelpers, this.options.knownHelpers = {
                                helperMissing: !0,
                                blockHelperMissing: !0,
                                each: !0,
                                "if": !0,
                                unless: !0,
                                "with": !0,
                                log: !0,
                                lookup: !0
                            }, i)
                            for (r in i) this.options.knownHelpers[r] = i[r];
                        return this.accept(n)
                    },
                    accept: function(n) {
                        return this[n.type](n)
                    },
                    program: function(n) {
                        for (var i = n.statements, t = 0, r = i.length; r > t; t++) this.accept(i[t]);
                        return this.isSimple = 1 === r, this.depths.list = this.depths.list.sort(function(n, t) {
                            return n - t
                        }), this
                    },
                    compileProgram: function(n) {
                        var r, t = (new this.compiler).compile(n, this.options),
                            u = this.guid++,
                            i, f;
                        for (this.usePartial = this.usePartial || t.usePartial, this.children[u] = t, i = 0, f = t.depths.list.length; f > i; i++) r = t.depths.list[i], 2 > r || this.addDepth(r - 1);
                        return u
                    },
                    block: function(n) {
                        var f = n.mustache,
                            t = n.program,
                            i = n.inverse,
                            r, u;
                        t && (t = this.compileProgram(t));
                        i && (i = this.compileProgram(i));
                        r = f.sexpr;
                        u = this.classifySexpr(r);
                        "helper" === u ? this.helperSexpr(r, t, i) : "simple" === u ? (this.simpleSexpr(r), this.opcode("pushProgram", t), this.opcode("pushProgram", i), this.opcode("emptyHash"), this.opcode("blockValue", r.id.original)) : (this.ambiguousSexpr(r, t, i), this.opcode("pushProgram", t), this.opcode("pushProgram", i), this.opcode("emptyHash"), this.opcode("ambiguousBlockValue"));
                        this.opcode("append")
                    },
                    hash: function(n) {
                        var t, r, i = n.pairs;
                        for (this.opcode("pushHash"), t = 0, r = i.length; r > t; t++) this.pushParam(i[t][1]);
                        for (; t--;) this.opcode("assignToHash", i[t][0]);
                        this.opcode("popHash")
                    },
                    partial: function(n) {
                        var t = n.partialName;
                        this.usePartial = !0;
                        n.hash ? this.accept(n.hash) : this.opcode("push", "undefined");
                        n.context ? this.accept(n.context) : (this.opcode("getContext", 0), this.opcode("pushContext"));
                        this.opcode("invokePartial", t.name, n.indent || "");
                        this.opcode("append")
                    },
                    content: function(n) {
                        n.string && this.opcode("appendContent", n.string)
                    },
                    mustache: function(n) {
                        this.sexpr(n.sexpr);
                        n.escaped && !this.options.noEscape ? this.opcode("appendEscaped") : this.opcode("append")
                    },
                    ambiguousSexpr: function(n, t, i) {
                        var r = n.id,
                            u = r.parts[0],
                            f = null != t || null != i;
                        this.opcode("getContext", r.depth);
                        this.opcode("pushProgram", t);
                        this.opcode("pushProgram", i);
                        this.ID(r);
                        this.opcode("invokeAmbiguous", u, f)
                    },
                    simpleSexpr: function(n) {
                        var t = n.id;
                        "DATA" === t.type ? this.DATA(t) : t.parts.length ? this.ID(t) : (this.addDepth(t.depth), this.opcode("getContext", t.depth), this.opcode("pushContext"));
                        this.opcode("resolvePossibleLambda")
                    },
                    helperSexpr: function(n, t, i) {
                        var e = this.setupFullMustacheParams(n, t, i),
                            r = n.id,
                            f = r.parts[0];
                        if (this.options.knownHelpers[f]) this.opcode("invokeKnownHelper", e.length, f);
                        else {
                            if (this.options.knownHelpersOnly) throw new u("You specified knownHelpersOnly, but used the unknown helper " + f, n);
                            r.falsy = !0;
                            this.ID(r);
                            this.opcode("invokeHelper", e.length, r.original, r.isSimple)
                        }
                    },
                    sexpr: function(n) {
                        var t = this.classifySexpr(n);
                        "simple" === t ? this.simpleSexpr(n) : "helper" === t ? this.helperSexpr(n) : this.ambiguousSexpr(n)
                    },
                    ID: function(n) {
                        this.addDepth(n.depth);
                        this.opcode("getContext", n.depth);
                        var t = n.parts[0];
                        t ? this.opcode("lookupOnContext", n.parts, n.falsy, n.isScoped) : this.opcode("pushContext")
                    },
                    DATA: function(n) {
                        this.options.data = !0;
                        this.opcode("lookupData", n.id.depth, n.id.parts)
                    },
                    STRING: function(n) {
                        this.opcode("pushString", n.string)
                    },
                    NUMBER: function(n) {
                        this.opcode("pushLiteral", n.number)
                    },
                    BOOLEAN: function(n) {
                        this.opcode("pushLiteral", n.bool)
                    },
                    comment: function() {},
                    opcode: function(n) {
                        this.opcodes.push({
                            opcode: n,
                            args: h.call(arguments, 1)
                        })
                    },
                    addDepth: function(n) {
                        0 !== n && (this.depths[n] || (this.depths[n] = !0, this.depths.list.push(n)))
                    },
                    classifySexpr: function(n) {
                        var t = n.isHelper,
                            i = n.eligibleHelper,
                            r = this.options,
                            u;
                        return i && !t && (u = n.id.parts[0], r.knownHelpers[u] ? t = !0 : r.knownHelpersOnly && (i = !1)), t ? "helper" : i ? "ambiguous" : "simple"
                    },
                    pushParams: function(n) {
                        for (var t = 0, i = n.length; i > t; t++) this.pushParam(n[t])
                    },
                    pushParam: function(n) {
                        this.stringParams ? (n.depth && this.addDepth(n.depth), this.opcode("getContext", n.depth || 0), this.opcode("pushStringParam", n.stringModeValue, n.type), "sexpr" === n.type && this.sexpr(n)) : (this.trackIds && this.opcode("pushId", n.type, n.idName || n.stringModeValue), this.accept(n))
                    },
                    setupFullMustacheParams: function(n, t, i) {
                        var r = n.params;
                        return this.pushParams(r), this.opcode("pushProgram", t), this.opcode("pushProgram", i), n.hash ? this.hash(n.hash) : this.opcode("emptyHash"), r
                    }
                }, i.precompile = o, i.compile = s, i
            }(n, t),
            l = function(n, t) {
                "use strict";

                function r(n) {
                    this.value = n
                }

                function i() {}
                var o, s = n.COMPILER_REVISION,
                    h = n.REVISION_CHANGES,
                    u = t;
                i.prototype = {
                    nameLookup: function(n, t) {
                        return i.isValidJavaScriptVariableName(t) ? n + "." + t : n + "['" + t + "']"
                    },
                    depthedLookup: function(n) {
                        return this.aliases.lookup = "this.lookup", 'lookup(depths, "' + n + '")'
                    },
                    compilerInfo: function() {
                        var n = s,
                            t = h[n];
                        return [n, t]
                    },
                    appendToBuffer: function(n) {
                        return this.environment.isSimple ? "return " + n + ";" : {
                            appendToBuffer: !0,
                            content: n,
                            toString: function() {
                                return "buffer += " + n + ";"
                            }
                        }
                    },
                    initializeBuffer: function() {
                        return this.quotedString("")
                    },
                    namespace: "Handlebars",
                    compile: function(n, t, i, r) {
                        var h, e, o, c, l, f, s;
                        for (this.environment = n, this.options = t, this.stringParams = this.options.stringParams, this.trackIds = this.options.trackIds, this.precompile = !r, this.name = this.environment.name, this.isChild = !!i, this.context = i || {
                                programs: [],
                                environments: []
                            }, this.preamble(), this.stackSlot = 0, this.stackVars = [], this.aliases = {}, this.registers = {
                                list: []
                            }, this.hashes = [], this.compileStack = [], this.inlineStack = [], this.compileChildren(n, t), this.useDepths = this.useDepths || n.depths.list.length || this.options.compat, c = n.opcodes, e = 0, o = c.length; o > e; e++) h = c[e], this[h.opcode].apply(this, h.args);
                        if (this.pushSource(""), this.stackSlot || this.inlineStack.length || this.compileStack.length) throw new u("Compile completed with content left on stack");
                        if (l = this.createFunctionContext(r), this.isChild) return l;
                        for (f = {
                                compiler: this.compilerInfo(),
                                main: l
                            }, s = this.context.programs, e = 0, o = s.length; o > e; e++) s[e] && (f[e] = s[e]);
                        return this.environment.usePartial && (f.usePartial = !0), this.options.data && (f.useData = !0), this.useDepths && (f.useDepths = !0), this.options.compat && (f.compat = !0), r || (f.compiler = JSON.stringify(f.compiler), f = this.objectLiteral(f)), f
                    },
                    preamble: function() {
                        this.lastContext = 0;
                        this.source = []
                    },
                    createFunctionContext: function(n) {
                        var r = "",
                            f = this.stackVars.concat(this.registers.list),
                            i, t, u;
                        f.length > 0 && (r += ", " + f.join(", "));
                        for (i in this.aliases) this.aliases.hasOwnProperty(i) && (r += ", " + i + "=" + this.aliases[i]);
                        return t = ["depth0", "helpers", "partials", "data"], this.useDepths && t.push("depths"), u = this.mergeSource(r), n ? (t.push(u), Function.apply(this, t)) : "function(" + t.join(",") + ") {\n  " + u + "}"
                    },
                    mergeSource: function(n) {
                        for (var r, t, u, i = "", e = !this.forceBuffer, f = 0, o = this.source.length; o > f; f++) r = this.source[f], r.appendToBuffer ? t = t ? t + "\n    + " + r.content : r.content : (t && (i ? i += "buffer += " + t + ";\n  " : (u = !0, i = t + ";\n  "), t = void 0), i += r + "\n  ", this.environment.isSimple || (e = !1));
                        return e ? (t || !i) && (i += "return " + (t || '""') + ";\n") : (n += ", buffer = " + (u ? "" : this.initializeBuffer()), i += t ? "return buffer + " + t + ";\n" : "return buffer;\n"), n && (i = "var " + n.substring(2) + (u ? "" : ";\n  ") + i), i
                    },
                    blockValue: function(n) {
                        var t, i;
                        this.aliases.blockHelperMissing = "helpers.blockHelperMissing";
                        t = [this.contextName(0)];
                        this.setupParams(n, 0, t);
                        i = this.popStack();
                        t.splice(1, 0, i);
                        this.push("blockHelperMissing.call(" + t.join(", ") + ")")
                    },
                    ambiguousBlockValue: function() {
                        var n, t;
                        this.aliases.blockHelperMissing = "helpers.blockHelperMissing";
                        n = [this.contextName(0)];
                        this.setupParams("", 0, n, !0);
                        this.flushInline();
                        t = this.topStack();
                        n.splice(1, 0, t);
                        this.pushSource("if (!" + this.lastHelper + ") { " + t + " = blockHelperMissing.call(" + n.join(", ") + "); }")
                    },
                    appendContent: function(n) {
                        this.pendingContent && (n = this.pendingContent + n);
                        this.pendingContent = n
                    },
                    append: function() {
                        this.flushInline();
                        var n = this.popStack();
                        this.pushSource("if (" + n + " != null) { " + this.appendToBuffer(n) + " }");
                        this.environment.isSimple && this.pushSource("else { " + this.appendToBuffer("''") + " }")
                    },
                    appendEscaped: function() {
                        this.aliases.escapeExpression = "this.escapeExpression";
                        this.pushSource(this.appendToBuffer("escapeExpression(" + this.popStack() + ")"))
                    },
                    getContext: function(n) {
                        this.lastContext = n
                    },
                    pushContext: function() {
                        this.pushStackLiteral(this.contextName(this.lastContext))
                    },
                    lookupOnContext: function(n, t, i) {
                        var r = 0,
                            u = n.length;
                        for (i || !this.options.compat || this.lastContext ? this.pushContext() : this.push(this.depthedLookup(n[r++])); u > r; r++) this.replaceStack(function(i) {
                            var u = this.nameLookup(i, n[r], "context");
                            return t ? " && " + u : " != null ? " + u + " : " + i
                        })
                    },
                    lookupData: function(n, t) {
                        n ? this.pushStackLiteral("this.data(data, " + n + ")") : this.pushStackLiteral("data");
                        for (var r = t.length, i = 0; r > i; i++) this.replaceStack(function(n) {
                            return " && " + this.nameLookup(n, t[i], "data")
                        })
                    },
                    resolvePossibleLambda: function() {
                        this.aliases.lambda = "this.lambda";
                        this.push("lambda(" + this.popStack() + ", " + this.contextName(0) + ")")
                    },
                    pushStringParam: function(n, t) {
                        this.pushContext();
                        this.pushString(t);
                        "sexpr" !== t && ("string" == typeof n ? this.pushString(n) : this.pushStackLiteral(n))
                    },
                    emptyHash: function() {
                        this.pushStackLiteral("{}");
                        this.trackIds && this.push("{}");
                        this.stringParams && (this.push("{}"), this.push("{}"))
                    },
                    pushHash: function() {
                        this.hash && this.hashes.push(this.hash);
                        this.hash = {
                            values: [],
                            types: [],
                            contexts: [],
                            ids: []
                        }
                    },
                    popHash: function() {
                        var n = this.hash;
                        this.hash = this.hashes.pop();
                        this.trackIds && this.push("{" + n.ids.join(",") + "}");
                        this.stringParams && (this.push("{" + n.contexts.join(",") + "}"), this.push("{" + n.types.join(",") + "}"));
                        this.push("{\n    " + n.values.join(",\n    ") + "\n  }")
                    },
                    pushString: function(n) {
                        this.pushStackLiteral(this.quotedString(n))
                    },
                    push: function(n) {
                        return this.inlineStack.push(n), n
                    },
                    pushLiteral: function(n) {
                        this.pushStackLiteral(n)
                    },
                    pushProgram: function(n) {
                        null != n ? this.pushStackLiteral(this.programExpression(n)) : this.pushStackLiteral(null)
                    },
                    invokeHelper: function(n, t, i) {
                        this.aliases.helperMissing = "helpers.helperMissing";
                        var u = this.popStack(),
                            r = this.setupHelper(n, t),
                            f = (i ? r.name + " || " : "") + u + " || helperMissing";
                        this.push("((" + f + ").call(" + r.callParams + "))")
                    },
                    invokeKnownHelper: function(n, t) {
                        var i = this.setupHelper(n, t);
                        this.push(i.name + ".call(" + i.callParams + ")")
                    },
                    invokeAmbiguous: function(n, t) {
                        var r, i, u;
                        this.aliases.functionType = '"function"';
                        this.aliases.helperMissing = "helpers.helperMissing";
                        this.useRegister("helper");
                        r = this.popStack();
                        this.emptyHash();
                        i = this.setupHelper(0, n, t);
                        u = this.lastHelper = this.nameLookup("helpers", n, "helper");
                        this.push("((helper = (helper = " + u + " || " + r + ") != null ? helper : helperMissing" + (i.paramsInit ? "),(" + i.paramsInit : "") + "),(typeof helper === functionType ? helper.call(" + i.callParams + ") : helper))")
                    },
                    invokePartial: function(n, t) {
                        var i = [this.nameLookup("partials", n, "partial"), "'" + t + "'", "'" + n + "'", this.popStack(), this.popStack(), "helpers", "partials"];
                        this.options.data ? i.push("data") : this.options.compat && i.push("undefined");
                        this.options.compat && i.push("depths");
                        this.push("this.invokePartial(" + i.join(", ") + ")")
                    },
                    assignToHash: function(n) {
                        var i, r, u, f = this.popStack(),
                            t;
                        this.trackIds && (u = this.popStack());
                        this.stringParams && (r = this.popStack(), i = this.popStack());
                        t = this.hash;
                        i && t.contexts.push("'" + n + "': " + i);
                        r && t.types.push("'" + n + "': " + r);
                        u && t.ids.push("'" + n + "': " + u);
                        t.values.push("'" + n + "': (" + f + ")")
                    },
                    pushId: function(n, t) {
                        "ID" === n || "DATA" === n ? this.pushString(t) : "sexpr" === n ? this.pushStackLiteral("true") : this.pushStackLiteral("null")
                    },
                    compiler: i,
                    compileChildren: function(n, t) {
                        for (var i, r, u, e = n.children, f = 0, o = e.length; o > f; f++) r = e[f], u = new this.compiler, i = this.matchExistingProgram(r), null == i ? (this.context.programs.push(""), i = this.context.programs.length, r.index = i, r.name = "program" + i, this.context.programs[i] = u.compile(r, t, this.context, !this.precompile), this.context.environments[i] = r, this.useDepths = this.useDepths || u.useDepths) : (r.index = i, r.name = "program" + i)
                    },
                    matchExistingProgram: function(n) {
                        for (var i, t = 0, r = this.context.environments.length; r > t; t++)
                            if (i = this.context.environments[t], i && i.equals(n)) return t
                    },
                    programExpression: function(n) {
                        var t = this.environment.children[n],
                            r = (t.depths.list, this.useDepths),
                            i = [t.index, "data"];
                        return r && i.push("depths"), "this.program(" + i.join(", ") + ")"
                    },
                    useRegister: function(n) {
                        this.registers[n] || (this.registers[n] = !0, this.registers.list.push(n))
                    },
                    pushStackLiteral: function(n) {
                        return this.push(new r(n))
                    },
                    pushSource: function(n) {
                        this.pendingContent && (this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))), this.pendingContent = void 0);
                        n && this.source.push(n)
                    },
                    pushStack: function(n) {
                        this.flushInline();
                        var t = this.incrStack();
                        return this.pushSource(t + " = " + n + ";"), this.compileStack.push(t), t
                    },
                    replaceStack: function(n) {
                        var i, f, o, e = "",
                            t, s, h;
                        if (this.isInline(), !this.isInline()) throw new u("replaceStack on non-inline");
                        t = this.popStack(!0);
                        t instanceof r ? (e = i = t.value, o = !0) : (f = !this.stackSlot, s = f ? this.incrStack() : this.topStackName(), e = "(" + this.push(s) + " = " + t + ")", i = this.topStack());
                        h = n.call(this, i);
                        o || this.popStack();
                        f && this.stackSlot--;
                        this.push("(" + e + h + ")")
                    },
                    incrStack: function() {
                        return this.stackSlot++, this.stackSlot > this.stackVars.length && this.stackVars.push("stack" + this.stackSlot), this.topStackName()
                    },
                    topStackName: function() {
                        return "stack" + this.stackSlot
                    },
                    flushInline: function() {
                        var i = this.inlineStack,
                            n, u, t;
                        if (i.length)
                            for (this.inlineStack = [], n = 0, u = i.length; u > n; n++) t = i[n], t instanceof r ? this.compileStack.push(t) : this.pushStack(t)
                    },
                    isInline: function() {
                        return this.inlineStack.length
                    },
                    popStack: function(n) {
                        var i = this.isInline(),
                            t = (i ? this.inlineStack : this.compileStack).pop();
                        if (!n && t instanceof r) return t.value;
                        if (!i) {
                            if (!this.stackSlot) throw new u("Invalid stack pop");
                            this.stackSlot--
                        }
                        return t
                    },
                    topStack: function() {
                        var t = this.isInline() ? this.inlineStack : this.compileStack,
                            n = t[t.length - 1];
                        return n instanceof r ? n.value : n
                    },
                    contextName: function(n) {
                        return this.useDepths && n ? "depths[" + n + "]" : "depth" + n
                    },
                    quotedString: function(n) {
                        return '"' + n.replace(/\\/g, "\\\\").replace(/"/g, '\\"').replace(/\n/g, "\\n").replace(/\r/g, "\\r").replace(/\u2028/g, "\\u2028").replace(/\u2029/g, "\\u2029") + '"'
                    },
                    objectLiteral: function(n) {
                        var i = [],
                            t;
                        for (t in n) n.hasOwnProperty(t) && i.push(this.quotedString(t) + ":" + n[t]);
                        return "{" + i.join(",") + "}"
                    },
                    setupHelper: function(n, t, i) {
                        var r = [],
                            u = this.setupParams(t, n, r, i),
                            f = this.nameLookup("helpers", t, "helper");
                        return {
                            params: r,
                            paramsInit: u,
                            name: f,
                            callParams: [this.contextName(0)].concat(r).join(", ")
                        }
                    },
                    setupOptions: function(n, t, i) {
                        var o, f, e, r = {},
                            s = [],
                            h = [],
                            c = [],
                            u;
                        for (r.name = this.quotedString(n), r.hash = this.popStack(), this.trackIds && (r.hashIds = this.popStack()), this.stringParams && (r.hashTypes = this.popStack(), r.hashContexts = this.popStack()), f = this.popStack(), e = this.popStack(), (e || f) && (e || (e = "this.noop"), f || (f = "this.noop"), r.fn = e, r.inverse = f), u = t; u--;) o = this.popStack(), i[u] = o, this.trackIds && (c[u] = this.popStack()), this.stringParams && (h[u] = this.popStack(), s[u] = this.popStack());
                        return this.trackIds && (r.ids = "[" + c.join(",") + "]"), this.stringParams && (r.types = "[" + h.join(",") + "]", r.contexts = "[" + s.join(",") + "]"), this.options.data && (r.data = "data"), r
                    },
                    setupParams: function(n, t, i, r) {
                        var u = this.objectLiteral(this.setupOptions(n, t, i));
                        return r ? (this.useRegister("options"), i.push("options"), "options=" + u) : (i.push(u), "")
                    }
                };
                for (var e = "break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "), c = i.RESERVED_WORDS = {}, f = 0, l = e.length; l > f; f++) c[e[f]] = !0;
                return i.isValidJavaScriptVariableName = function(n) {
                    return !i.RESERVED_WORDS[n] && /^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(n)
                }, o = i
            }(i, n);
        return function(n, t, i, r, u) {
            "use strict";
            var o, f = n,
                s = t,
                h = i.parser,
                c = i.parse,
                l = r.Compiler,
                a = r.compile,
                v = r.precompile,
                y = u,
                p = f.create,
                e = function() {
                    var n = p();
                    return n.compile = function(t, i) {
                        return a(t, i, n)
                    }, n.precompile = function(t, i) {
                        return v(t, i, n)
                    }, n.AST = s, n.Compiler = l, n.JavaScriptCompiler = y, n.Parser = h, n.parse = c, n
                };
            return f = e(), f.create = e, f["default"] = f, o = f
        }(e, u, h, c, l)
    }), Array.prototype.push || (Array.prototype.push = function() {
        for (var n = 0, t = arguments.length; n < t; n++) this[this.length] = arguments[n];
        return this.length
    }), Array.prototype.shift || (Array.prototype.shift = function() {
        var t, n, i;
        if (this.length > 0) {
            for (t = this[0], n = 0, i = this.length - 1; n < i; n++) this[n] = this[n + 1];
            return this.length = this.length - 1, t
        }
    }), Array.prototype.splice || (Array.prototype.splice = function(n, t) {
        var f = this.slice(n + t),
            o = this.slice(n, n + t),
            r, i, u, e;
        for (this.length = n, r = [], i = 0, u = arguments.length; i < u; i++) r[i] = arguments[i];
        for (e = r.length > 2 ? f = r.slice(2).concat(f) : f, i = 0, u = e.length; i < u; i++) this.push(e[i]);
        return o
    }), log4javascript = function() {
        function o(n) {
            return typeof n == "undefined"
        }

        function wt() {}

        function ei() {}

        function c(n) {
            return n && n.toString ? n.toString() : String(n)
        }

        function dt(n) {
            return n.message ? n.message : n.description ? n.description : c(n)
        }

        function bi(n) {
            var t = Math.max(n.lastIndexOf("/"), n.lastIndexOf("\\"));
            return n.substr(t + 1)
        }

        function y(n) {
            if (n) {
                var i = "Exception: " + dt(n);
                try {
                    n.lineNumber && (i += " on line number " + n.lineNumber);
                    n.fileName && (i += " in file " + bi(n.fileName))
                } catch (r) {
                    e.warn("Unable to obtain file and line information for error")
                }
                return ti && n.stack && (i += t + "Stack trace:" + t + n.stack), i
            }
            return null
        }

        function r(n) {
            return Boolean(n)
        }

        function ct(n) {
            return n.replace(/^\s+/, "").replace(/\s+$/, "")
        }

        function gt(n) {
            var t = n.replace(/\r\n/g, "\n").replace(/\r/g, "\n");
            return t.split("\n")
        }

        function lt(n, t) {
            for (var r = -1, i = 0, u = n.length; i < u; i++)
                if (n[i] === t) {
                    r = i;
                    break
                }
            return r >= 0 ? (n.splice(r, 1), !0) : !1
        }

        function k(n, t) {
            for (var i = 0, r = n.length; i < r; i++)
                if (n[i] == t) return !0;
            return !1
        }

        function d(n, t) {
            return o(n) ? t : r(n)
        }

        function l(n, t) {
            return o(n) ? t : String(n)
        }

        function at(n, t) {
            if (o(n)) return t;
            try {
                var i = parseInt(n, 10);
                return isNaN(i) ? t : i
            } catch (r) {
                return e.warn("Invalid int param " + n, r), t
            }
        }

        function oi(n, t) {
            return typeof n == "function" ? n : t
        }

        function di(n) {
            return n instanceof Error
        }

        function ni(n) {
            return "__log4javascript_listeners__" + n
        }

        function gi(n, t) {
            return t = t ? t : window, n ? n : t.event
        }

        function i(n, t) {
            e.error(n, t);
            log4javascript.dispatchEvent("error", {
                message: n,
                exception: t
            })
        }

        function si(t, i) {
            this.name = t;
            this.level = o(i) ? n.INFO : i;
            this.start = new Date
        }

        function a(r) {
            var s, f;
            this.name = r;
            this.parent = null;
            this.children = [];
            var u = [],
                v = null,
                y = this.name === ii,
                p = this.name === hi,
                l = null,
                a = !1;
            this.addChild = function(n) {
                this.children.push(n);
                n.parent = this;
                n.invalidateAppenderCache()
            };
            s = !0;
            this.getAdditivity = function() {
                return s
            };
            this.setAdditivity = function(n) {
                var t = s != n;
                s = n;
                t && this.invalidateAppenderCache()
            };
            this.addAppender = function(n) {
                p ? i("Logger.addAppender: you may not add an appender to the null logger") : n instanceof log4javascript.Appender ? k(u, n) || (u.push(n), n.setAddedToLogger(this), this.invalidateAppenderCache()) : i("Logger.addAppender: appender supplied ('" + c(n) + "') is not a subclass of Appender")
            };
            this.removeAppender = function(n) {
                lt(u, n);
                n.setRemovedFromLogger(this);
                this.invalidateAppenderCache()
            };
            this.removeAllAppenders = function() {
                var t = u.length,
                    n;
                if (t > 0) {
                    for (n = 0; n < t; n++) u[n].setRemovedFromLogger(this);
                    u.length = 0;
                    this.invalidateAppenderCache()
                }
            };
            this.getEffectiveAppenders = function() {
                if (l === null || a) {
                    var n = y || !this.getAdditivity() ? [] : this.parent.getEffectiveAppenders();
                    l = n.concat(u);
                    a = !1
                }
                return l
            };
            this.invalidateAppenderCache = function() {
                a = !0;
                for (var n = 0, t = this.children.length; n < t; n++) this.children[n].invalidateAppenderCache()
            };
            this.log = function(n, t) {
                var e, r, u, f, i, o;
                if (h && n.isGreaterOrEqual(this.getEffectiveLevel())) {
                    for (r = t.length - 1, u = t[r], t.length > 1 && di(u) && (e = u, r--), f = [], i = 0; i <= r; i++) f[i] = t[i];
                    o = new ot(this, new Date, n, f, e);
                    this.callAppenders(o)
                }
            };
            this.callAppenders = function(n) {
                for (var i = this.getEffectiveAppenders(), t = 0, r = i.length; t < r; t++) i[t].doAppend(n)
            };
            this.setLevel = function(t) {
                y && t === null ? i("Logger.setLevel: you cannot set the level of the root logger to null") : t instanceof n ? v = t : i("Logger.setLevel: level supplied to logger " + this.name + " is not an instance of log4javascript.Level")
            };
            this.getLevel = function() {
                return v
            };
            this.getEffectiveLevel = function() {
                for (var t, n = this; n !== null; n = n.parent)
                    if (t = n.getLevel(), t !== null) return t
            };
            this.group = function(n, t) {
                var r, i, u;
                if (h)
                    for (r = this.getEffectiveAppenders(), i = 0, u = r.length; i < u; i++) r[i].group(n, t)
            };
            this.groupEnd = function() {
                var t, n, i;
                if (h)
                    for (t = this.getEffectiveAppenders(), n = 0, i = t.length; n < i; n++) t[n].groupEnd()
            };
            f = {};
            this.time = function(t, r) {
                h && (o(t) ? i("Logger.time: a name for the timer must be supplied") : !r || r instanceof n ? f[t] = new si(t, r) : i("Logger.time: level supplied to timer " + t + " is not an instance of log4javascript.Level"))
            };
            this.timeEnd = function(n) {
                if (h)
                    if (o(n)) i("Logger.timeEnd: a name for the timer must be supplied");
                    else if (f[n]) {
                    var t = f[n],
                        r = t.getElapsedTime();
                    this.log(t.level, ["Timer " + c(n) + " completed in " + r + "ms"]);
                    delete f[n]
                } else e.warn("Logger.timeEnd: no timer found with name " + n)
            };
            this.assert = function(i) {
                var r, u, f;
                if (h && !i) {
                    for (r = [], u = 1, f = arguments.length; u < f; u++) r.push(arguments[u]);
                    r = r.length > 0 ? r : ["Assertion Failure"];
                    r.push(t);
                    r.push(i);
                    this.log(n.ERROR, r)
                }
            };
            this.toString = function() {
                return "Logger[" + this.name + "]"
            }
        }

        function it() {
            this.customFields = []
        }

        function g() {
            this.customFields = []
        }

        function p(n) {
            this.combineMessages = d(n, !0);
            this.customFields = []
        }

        function rr(n) {
            return n.replace(/\r\n|\r|\n/g, "\\r\\n")
        }

        function w(n, i) {
            this.readable = d(n, !1);
            this.combineMessages = d(i, !0);
            this.batchHeader = this.readable ? "[" + t : "[";
            this.batchFooter = this.readable ? "]" + t : "]";
            this.batchSeparator = this.readable ? "," + t : ",";
            this.setKeys();
            this.colon = this.readable ? ": " : ":";
            this.tab = this.readable ? "\t" : "";
            this.lineBreak = this.readable ? t : "";
            this.customFields = []
        }

        function nt() {
            this.setKeys();
            this.customFields = [];
            this.returnsPostData = !0
        }

        function li(n, i, r) {
            function f(n, i, r) {
                function w(n) {
                    for (var u = gt(n), i = 1, f = u.length; i < f; i++) u[i] = r + u[i];
                    return u.join(t)
                }
                var e, p, l, o, s, h, a;
                if (r || (r = ""), n === null) return "null";
                if (typeof n == "undefined") return "undefined";
                if (typeof n == "string") return w(n);
                if (typeof n == "object" && k(u, n)) {
                    try {
                        h = c(n)
                    } catch (v) {
                        h = "Error formatting property. Details: " + y(v)
                    }
                    return h + " [already expanded]"
                }
                if (n instanceof Array && i > 0) {
                    for (u.push(n), h = "[" + t, l = i - 1, o = r + "  ", s = [], e = 0, p = n.length; e < p; e++) try {
                        a = f(n[e], l, o);
                        s.push(o + a)
                    } catch (v) {
                        s.push(o + "Error formatting array member. Details: " + y(v) + "")
                    }
                    return h += s.join("," + t) + t + r + "]"
                }
                if (Object.prototype.toString.call(n) == "[object Date]") return n.toString();
                if (typeof n == "object" && i > 0) {
                    u.push(n);
                    h = "{" + t;
                    l = i - 1;
                    o = r + "  ";
                    s = [];
                    for (e in n) try {
                        a = f(n[e], l, o);
                        s.push(o + e + ": " + a)
                    } catch (v) {
                        s.push(o + e + ": Error formatting property. Details: " + y(v))
                    }
                    return h += s.join("," + t) + t + r + "}"
                }
                return w(c(n))
            }
            var u = [];
            return f(n, i, r)
        }

        function f(n) {
            this.pattern = n ? n : f.DEFAULT_CONVERSION_PATTERN;
            this.customFields = []
        }

        function st() {}

        function b() {}

        function ur(n) {
            return o(n.status) || n.status === 0 || n.status >= 200 && n.status < 300 || n.status == 1223
        }

        function ht(n, t) {
            function c(n) {
                return et ? (i("AjaxAppender: configuration option '" + n + "' may not be set after the appender has been initialized"), !1) : !0
            }

            function b() {
                if (e && h) {
                    rt = !0;
                    var n;
                    if (a) s.length > 0 ? (n = s.shift(), ct(ht(n), b)) : (rt = !1, o && ot());
                    else {
                        while (n = s.shift()) ct(ht(n));
                        rt = !1;
                        o && ot()
                    }
                }
            }

            function st() {
                var t = !1,
                    i, r, n;
                if (e && h) {
                    for (i = f.getLayout().allowBatching() ? v : 1, n = []; r = w.shift();) n.push(r), w.length >= i && (s.push(n), n = []);
                    n.length > 0 && s.push(n);
                    t = s.length > 0;
                    a = !1;
                    o = !1;
                    b()
                }
                return t
            }

            function ht(n) {
                for (var i = [], r, t = ""; r = n.shift();) i.push(f.getLayout().formatWithException(r));
                return t = n.length == 1 ? i.join("") : f.getLayout().batchHeader + i.join(f.getLayout().batchSeparator) + f.getLayout().batchFooter, ut == f.defaults.contentType && (t = f.getLayout().returnsPostData ? t : tt(nt) + "=" + tt(t), t.length > 0 && (t += "&"), t += "layout=" + tt(f.getLayout().toString())), t
            }

            function ot() {
                window.setTimeout(b, k)
            }

            function lt() {
                var n = "AjaxAppender: could not create XMLHttpRequest object. AjaxAppender disabled";
                i(n);
                e = !1;
                u && u(n)
            }

            function ct(r, f) {
                var o, l, s, h, c;
                try {
                    if (o = pi(lt), e) {
                        t && yi && (o.withCredentials = !0);
                        o.onreadystatechange = function() {
                            if (o.readyState == 4) {
                                if (ur(o)) g && g(o), f && f(o);
                                else {
                                    var t = "AjaxAppender.append: XMLHttpRequest request to URL " + n + " returned status code " + o.status;
                                    i(t);
                                    u && u(t)
                                }
                                o.onreadystatechange = bt;
                                o = null
                            }
                        };
                        o.open("POST", n, !0);
                        try {
                            for (l = 0; s = ft[l++];) o.setRequestHeader(s.name, s.value);
                            o.setRequestHeader("Content-Type", ut)
                        } catch (v) {
                            h = "AjaxAppender.append: your browser's XMLHttpRequest implementation does not support setRequestHeader, therefore cannot post data. AjaxAppender disabled";
                            i(h);
                            e = !1;
                            u && u(h);
                            return
                        }
                        o.send(r)
                    }
                } catch (a) {
                    c = "AjaxAppender.append: error sending log message to " + n;
                    i(c, a);
                    e = !1;
                    u && u(c + ". Details: " + y(a))
                }
            }

            function vt() {
                if (et = !0, it) {
                    var n = window.onbeforeunload;
                    window.onbeforeunload = function() {
                        return n && n(), st() ? "Sending log messages" : void 0
                    }
                }
                o && ot()
            }
            var f = this,
                e = !0;
            n || (i("AjaxAppender: URL must be specified in constructor"), e = !1);
            var o = this.defaults.timed,
                a = this.defaults.waitForResponse,
                v = this.defaults.batchSize,
                k = this.defaults.timerInterval,
                g = this.defaults.requestSuccessCallback,
                u = this.defaults.failCallback,
                nt = this.defaults.postVarName,
                it = this.defaults.sendAllOnUnload,
                ut = this.defaults.contentType,
                p = null,
                w = [],
                s = [],
                ft = [],
                rt = !1,
                et = !1;
            this.getSessionId = function() {
                return p
            };
            this.setSessionId = function(n) {
                p = l(n, null);
                this.layout.setCustomField("sessionid", p)
            };
            this.setLayout = function(n) {
                c("layout") && (this.layout = n, p !== null && this.setSessionId(p))
            };
            this.isTimed = function() {
                return o
            };
            this.setTimed = function(n) {
                c("timed") && (o = r(n))
            };
            this.getTimerInterval = function() {
                return k
            };
            this.setTimerInterval = function(n) {
                c("timerInterval") && (k = at(n, k))
            };
            this.isWaitForResponse = function() {
                return a
            };
            this.setWaitForResponse = function(n) {
                c("waitForResponse") && (a = r(n))
            };
            this.getBatchSize = function() {
                return v
            };
            this.setBatchSize = function(n) {
                c("batchSize") && (v = at(n, v))
            };
            this.isSendAllOnUnload = function() {
                return it
            };
            this.setSendAllOnUnload = function(n) {
                c("sendAllOnUnload") && (it = d(n, it))
            };
            this.setRequestSuccessCallback = function(n) {
                g = oi(n, g)
            };
            this.setFailCallback = function(n) {
                u = oi(n, u)
            };
            this.getPostVarName = function() {
                return nt
            };
            this.setPostVarName = function(n) {
                c("postVarName") && (nt = l(n, nt))
            };
            this.getHeaders = function() {
                return ft
            };
            this.addHeader = function(n, t) {
                n.toLowerCase() == "content-type" ? ut = t : ft.push({
                    name: n,
                    value: t
                })
            };
            this.sendAll = b;
            this.sendAllRemaining = st;
            this.append = function(n) {
                var i, r, t;
                if (e && (et || vt(), w.push(n), i = this.getLayout().allowBatching() ? v : 1, w.length >= i)) {
                    for (t = []; r = w.shift();) t.push(r);
                    s.push(t);
                    o || a && (!a || rt) || b()
                }
            }
        }

        function fr(n, t, i, r) {
            var f, u;
            r = r ? "; path=" + r : "";
            i ? (u = new Date, u.setTime(u.getTime() + i * 864e5), f = "; expires=" + u.toGMTString()) : f = "";
            document.cookie = escape(n) + "=" + escape(t) + f + r
        }

        function er(n) {
            for (var r = escape(n) + "=", u = document.cookie.split(";"), t, i = 0, f = u.length; i < f; i++) {
                for (t = u[i]; t.charAt(0) === " ";) t = t.substring(1, t.length);
                if (t.indexOf(r) === 0) return unescape(t.substring(r.length, t.length))
            }
            return null
        }

        function or() {
            for (var t = document.getElementsByTagName("script"), i, n = 0, r = t.length; n < r; ++n)
                if (t[n].src.indexOf("log4javascript") != -1) return i = t[n].src.lastIndexOf("/"), i == -1 ? "" : t[n].src.substr(0, i + 1);
            return null
        }

        function ut(n) {
            try {
                return r(n.loaded)
            } catch (t) {
                return !1
            }
        }

        function wi(n, t) {
            var r, u, i;
            if (n.length < t) {
                for (r = [], u = Math.max(0, t - n.length), i = 0; i < u; i++) r[i] = " ";
                n += r.join("")
            }
            return n
        }
        var tt, ki, e, h, vt, ti, n, ft, et, ot, v, u, rt, s, ri;
        wt.prototype = {
            eventTypes: [],
            eventListeners: {},
            setEventTypes: function(n) {
                if (n instanceof Array) {
                    this.eventTypes = n;
                    this.eventListeners = {};
                    for (var t = 0, r = this.eventTypes.length; t < r; t++) this.eventListeners[this.eventTypes[t]] = []
                } else i("log4javascript.EventSupport [" + this + "]: setEventTypes: eventTypes parameter must be an Array")
            },
            addEventListener: function(n, t) {
                typeof t == "function" ? (k(this.eventTypes, n) || i("log4javascript.EventSupport [" + this + "]: addEventListener: no event called '" + n + "'"), this.eventListeners[n].push(t)) : i("log4javascript.EventSupport [" + this + "]: addEventListener: listener must be a function")
            },
            removeEventListener: function(n, t) {
                typeof t == "function" ? (k(this.eventTypes, n) || i("log4javascript.EventSupport [" + this + "]: removeEventListener: no event called '" + n + "'"), lt(this.eventListeners[n], t)) : i("log4javascript.EventSupport [" + this + "]: removeEventListener: listener must be a function")
            },
            dispatchEvent: function(n, t) {
                var u, r, f;
                if (k(this.eventTypes, n))
                    for (u = this.eventListeners[n], r = 0, f = u.length; r < f; r++) u[r](this, n, t);
                else i("log4javascript.EventSupport [" + this + "]: dispatchEvent: no event called '" + n + "'")
            }
        };
        var ui = new Date,
            fi = "log4javascript_" + ui.getTime() + "_" + Math.floor(Math.random() * 1e8),
            bt = function() {},
            t = "\r\n",
            kt = !1;
        ei.prototype = new wt;
        log4javascript = new ei;
        log4javascript.version = "1.4.9";
        log4javascript.edition = "log4javascript";
        tt = typeof window.encodeURIComponent != "undefined" ? function(n) {
            return encodeURIComponent(n)
        } : function(n) {
            return escape(n).replace(/\+/g, "%2B").replace(/"/g, "%22").replace(/'/g, "%27").replace(/\//g, "%2F").replace(/=/g, "%3D")
        };
        ki = typeof window.decodeURIComponent != "undefined" ? function(n) {
            return decodeURIComponent(n)
        } : function(n) {
            return unescape(n).replace(/%2B/g, "+").replace(/%22/g, '"').replace(/%27/g, "'").replace(/%2F/g, "/").replace(/%3D/g, "=")
        };
        Function.prototype.apply || (Function.prototype.apply = function(obj, args) {
            var methodName = "__apply__",
                argsStrings, i, len, script, returnValue;
            for (typeof obj[methodName] != "undefined" && (methodName += String(Math.random()).substr(2)), obj[methodName] = this, argsStrings = [], i = 0, len = args.length; i < len; i++) argsStrings[i] = "args[" + i + "]";
            return script = "obj." + methodName + "(" + argsStrings.join(",") + ")", returnValue = eval(script), delete obj[methodName], returnValue
        });
        Function.prototype.call || (Function.prototype.call = function(n) {
            for (var i = [], t = 1, r = arguments.length; t < r; t++) i[t - 1] = arguments[t];
            return this.apply(n, i)
        });
        e = {
            quietMode: !1,
            debugMessages: [],
            setQuietMode: function(n) {
                this.quietMode = r(n)
            },
            numberOfErrors: 0,
            alertAllErrors: !1,
            setAlertAllErrors: function(n) {
                this.alertAllErrors = n
            },
            debug: function(n) {
                this.debugMessages.push(n)
            },
            displayDebug: function() {
                alert(this.debugMessages.join(t))
            },
            warn: function() {},
            error: function(n, i) {
                if ((++this.numberOfErrors == 1 || this.alertAllErrors) && !this.quietMode) {
                    var r = "log4javascript error: " + n;
                    i && (r += t + t + "Original error: " + y(i));
                    alert(r)
                }
            }
        };
        log4javascript.logLog = e;
        log4javascript.setEventTypes(["load", "error"]);
        log4javascript.handleError = i;
        h = !(typeof log4javascript_disabled != "undefined" && log4javascript_disabled);
        log4javascript.setEnabled = function(n) {
            h = r(n)
        };
        log4javascript.isEnabled = function() {
            return h
        };
        vt = !0;
        log4javascript.setTimeStampsInMilliseconds = function(n) {
            vt = r(n)
        };
        log4javascript.isTimeStampsInMilliseconds = function() {
            return vt
        };
        log4javascript.evalInScope = function(expr) {
            return eval(expr)
        };
        ti = !1;
        log4javascript.setShowStackTraces = function(n) {
            ti = r(n)
        };
        n = function(n, t) {
            this.level = n;
            this.name = t
        };
        n.prototype = {
            toString: function() {
                return this.name
            },
            equals: function(n) {
                return this.level == n.level
            },
            isGreaterOrEqual: function(n) {
                return this.level >= n.level
            }
        };
        n.ALL = new n(Number.MIN_VALUE, "ALL");
        n.TRACE = new n(1e4, "TRACE");
        n.DEBUG = new n(2e4, "DEBUG");
        n.INFO = new n(3e4, "INFO");
        n.WARN = new n(4e4, "WARN");
        n.ERROR = new n(5e4, "ERROR");
        n.FATAL = new n(6e4, "FATAL");
        n.OFF = new n(Number.MAX_VALUE, "OFF");
        log4javascript.Level = n;
        si.prototype.getElapsedTime = function() {
            return (new Date).getTime() - this.start.getTime()
        };
        var nr = "[anonymous]",
            tr = "[default]",
            hi = "[null]",
            ii = "root";
        a.prototype = {
            trace: function() {
                this.log(n.TRACE, arguments)
            },
            debug: function() {
                this.log(n.DEBUG, arguments)
            },
            info: function() {
                this.log(n.INFO, arguments)
            },
            warn: function() {
                this.log(n.WARN, arguments)
            },
            error: function() {
                this.log(n.ERROR, arguments)
            },
            fatal: function() {
                this.log(n.FATAL, arguments)
            },
            isEnabledFor: function(n) {
                return n.isGreaterOrEqual(this.getEffectiveLevel())
            },
            isTraceEnabled: function() {
                return this.isEnabledFor(n.TRACE)
            },
            isDebugEnabled: function() {
                return this.isEnabledFor(n.DEBUG)
            },
            isInfoEnabled: function() {
                return this.isEnabledFor(n.INFO)
            },
            isWarnEnabled: function() {
                return this.isEnabledFor(n.WARN)
            },
            isErrorEnabled: function() {
                return this.isEnabledFor(n.ERROR)
            },
            isFatalEnabled: function() {
                return this.isEnabledFor(n.FATAL)
            }
        };
        a.prototype.trace.isEntryPoint = !0;
        a.prototype.debug.isEntryPoint = !0;
        a.prototype.info.isEntryPoint = !0;
        a.prototype.warn.isEntryPoint = !0;
        a.prototype.error.isEntryPoint = !0;
        a.prototype.fatal.isEntryPoint = !0;
        var yt = {},
            ir = [],
            ci = n.DEBUG,
            pt = new a(ii);
        pt.setLevel(ci);
        log4javascript.getRootLogger = function() {
            return pt
        };
        log4javascript.getLogger = function(n) {
            var t, r, u, f;
            return typeof n == "string" || (n = nr, e.warn("log4javascript.getLogger: non-string logger name " + c(n) + " supplied, returning anonymous logger")), n == ii && i("log4javascript.getLogger: root logger may not be obtained by name"), yt[n] || (t = new a(n), yt[n] = t, ir.push(n), r = n.lastIndexOf("."), r > -1 ? (f = n.substring(0, r), u = log4javascript.getLogger(f)) : u = pt, u.addChild(t)), yt[n]
        };
        ft = null;
        log4javascript.getDefaultLogger = function() {
            if (!ft) {
                ft = log4javascript.getLogger(tr);
                var n = new log4javascript.PopUpAppender;
                ft.addAppender(n)
            }
            return ft
        };
        et = null;
        log4javascript.getNullLogger = function() {
            return et || (et = new a(hi), et.setLevel(n.OFF)), et
        };
        log4javascript.resetConfiguration = function() {
            pt.setLevel(ci);
            yt = {}
        };
        ot = function(n, t, i, r, u) {
            this.logger = n;
            this.timeStamp = t;
            this.timeStampInMilliseconds = t.getTime();
            this.timeStampInSeconds = Math.floor(this.timeStampInMilliseconds / 1e3);
            this.milliseconds = this.timeStamp.getMilliseconds();
            this.level = i;
            this.messages = r;
            this.exception = u
        };
        ot.prototype = {
            getThrowableStrRep: function() {
                return this.exception ? y(this.exception) : ""
            },
            getCombinedMessages: function() {
                return this.messages.length == 1 ? this.messages[0] : this.messages.join(t)
            },
            toString: function() {
                return "LoggingEvent[" + this.level + "]"
            }
        };
        log4javascript.LoggingEvent = ot;
        v = function() {};
        v.prototype = {
            defaults: {
                loggerKey: "logger",
                timeStampKey: "timestamp",
                millisecondsKey: "milliseconds",
                levelKey: "level",
                messageKey: "message",
                exceptionKey: "exception",
                urlKey: "url"
            },
            loggerKey: "logger",
            timeStampKey: "timestamp",
            millisecondsKey: "milliseconds",
            levelKey: "level",
            messageKey: "message",
            exceptionKey: "exception",
            urlKey: "url",
            batchHeader: "",
            batchFooter: "",
            batchSeparator: "",
            returnsPostData: !1,
            overrideTimeStampsSetting: !1,
            useTimeStampsInMilliseconds: null,
            format: function() {
                i("Layout.format: layout supplied has no format() method")
            },
            ignoresThrowable: function() {
                i("Layout.ignoresThrowable: layout supplied has no ignoresThrowable() method")
            },
            getContentType: function() {
                return "text/plain"
            },
            allowBatching: function() {
                return !0
            },
            setTimeStampsInMilliseconds: function(n) {
                this.overrideTimeStampsSetting = !0;
                this.useTimeStampsInMilliseconds = r(n)
            },
            isTimeStampsInMilliseconds: function() {
                return this.overrideTimeStampsSetting ? this.useTimeStampsInMilliseconds : vt
            },
            getTimeStampValue: function(n) {
                return this.isTimeStampsInMilliseconds() ? n.timeStampInMilliseconds : n.timeStampInSeconds
            },
            getDataValues: function(n, t) {
                var u = [
                        [this.loggerKey, n.logger.name],
                        [this.timeStampKey, this.getTimeStampValue(n)],
                        [this.levelKey, n.level.name],
                        [this.urlKey, window.location.href],
                        [this.messageKey, t ? n.getCombinedMessages() : n.messages]
                    ],
                    i, f, r;
                if (this.isTimeStampsInMilliseconds() || u.push([this.millisecondsKey, n.milliseconds]), n.exception && u.push([this.exceptionKey, y(n.exception)]), this.hasCustomFields())
                    for (i = 0, f = this.customFields.length; i < f; i++) r = this.customFields[i].value, typeof r == "function" && (r = r(this, n)), u.push([this.customFields[i].name, r]);
                return u
            },
            setKeys: function(n, t, i, r, u, f, e) {
                this.loggerKey = l(n, this.defaults.loggerKey);
                this.timeStampKey = l(t, this.defaults.timeStampKey);
                this.levelKey = l(i, this.defaults.levelKey);
                this.messageKey = l(r, this.defaults.messageKey);
                this.exceptionKey = l(u, this.defaults.exceptionKey);
                this.urlKey = l(f, this.defaults.urlKey);
                this.millisecondsKey = l(e, this.defaults.millisecondsKey)
            },
            setCustomField: function(n, t) {
                for (var r = !1, i = 0, u = this.customFields.length; i < u; i++) this.customFields[i].name === n && (this.customFields[i].value = t, r = !0);
                r || this.customFields.push({
                    name: n,
                    value: t
                })
            },
            hasCustomFields: function() {
                return this.customFields.length > 0
            },
            formatWithException: function(n) {
                var t = this.format(n);
                return n.exception && this.ignoresThrowable() && (t += n.getThrowableStrRep()), t
            },
            toString: function() {
                i("Layout.toString: all layouts must override this method")
            }
        };
        log4javascript.Layout = v;
        u = function() {};
        u.prototype = new wt;
        u.prototype.layout = new f;
        u.prototype.threshold = n.ALL;
        u.prototype.loggers = [];
        u.prototype.doAppend = function(n) {
            h && n.level.level >= this.threshold.level && this.append(n)
        };
        u.prototype.append = function() {};
        u.prototype.setLayout = function(n) {
            n instanceof v ? this.layout = n : i("Appender.setLayout: layout supplied to " + this.toString() + " is not a subclass of Layout")
        };
        u.prototype.getLayout = function() {
            return this.layout
        };
        u.prototype.setThreshold = function(t) {
            t instanceof n ? this.threshold = t : i("Appender.setThreshold: threshold supplied to " + this.toString() + " is not a subclass of Level")
        };
        u.prototype.getThreshold = function() {
            return this.threshold
        };
        u.prototype.setAddedToLogger = function(n) {
            this.loggers.push(n)
        };
        u.prototype.setRemovedFromLogger = function(n) {
            lt(this.loggers, n)
        };
        u.prototype.group = bt;
        u.prototype.groupEnd = bt;
        u.prototype.toString = function() {
            i("Appender.toString: all appenders must override this method")
        };
        log4javascript.Appender = u;
        it.prototype = new v;
        it.prototype.format = function(n) {
            return n.level.name + " - " + n.getCombinedMessages()
        };
        it.prototype.ignoresThrowable = function() {
            return !0
        };
        it.prototype.toString = function() {
            return "SimpleLayout"
        };
        log4javascript.SimpleLayout = it;
        g.prototype = new v;
        g.prototype.format = function(n) {
            return n.messages
        };
        g.prototype.ignoresThrowable = function() {
            return !0
        };
        g.prototype.formatWithException = function(n) {
            var t = n.messages,
                i = n.exception;
            return i ? t.concat([i]) : t
        };
        g.prototype.toString = function() {
            return "NullLayout"
        };
        log4javascript.NullLayout = g;
        p.prototype = new v;
        p.prototype.isCombinedMessages = function() {
            return this.combineMessages
        };
        p.prototype.getContentType = function() {
            return "text/xml"
        };
        p.prototype.escapeCdata = function(n) {
            return n.replace(/\]\]>/, "]\]>]]&gt;<![CDATA[")
        };
        p.prototype.format = function(n) {
            function f(n) {
                return n = typeof n == "string" ? n : c(n), "<log4javascript:message><![CDATA[" + e.escapeCdata(n) + "]\]><\/log4javascript:message>"
            }
            var e = this,
                i, u, r = '<log4javascript:event logger="' + n.logger.name + '" timestamp="' + this.getTimeStampValue(n) + '"';
            if (this.isTimeStampsInMilliseconds() || (r += ' milliseconds="' + n.milliseconds + '"'), r += ' level="' + n.level.name + '">' + t, this.combineMessages) r += f(n.getCombinedMessages());
            else {
                for (r += "<log4javascript:messages>" + t, i = 0, u = n.messages.length; i < u; i++) r += f(n.messages[i]) + t;
                r += "<\/log4javascript:messages>" + t
            }
            if (this.hasCustomFields())
                for (i = 0, u = this.customFields.length; i < u; i++) r += '<log4javascript:customfield name="' + this.customFields[i].name + '"><![CDATA[' + this.customFields[i].value.toString() + "]\]><\/log4javascript:customfield>" + t;
            return n.exception && (r += "<log4javascript:exception><![CDATA[" + y(n.exception) + "]\]><\/log4javascript:exception>" + t), r + ("<\/log4javascript:event>" + t + t)
        };
        p.prototype.ignoresThrowable = function() {
            return !1
        };
        p.prototype.toString = function() {
            return "XmlLayout"
        };
        log4javascript.XmlLayout = p;
        w.prototype = new v;
        w.prototype.isReadable = function() {
            return this.readable
        };
        w.prototype.isCombinedMessages = function() {
            return this.combineMessages
        };
        w.prototype.format = function(n) {
            function e(n, t, i) {
                var u, s = typeof n,
                    f, h, o;
                if (n instanceof Date) u = String(n.getTime());
                else if (i && n instanceof Array) {
                    for (u = "[" + r.lineBreak, f = 0, h = n.length; f < h; f++) o = t + r.tab, u += o + e(n[f], o, !1), f < n.length - 1 && (u += ","), u += r.lineBreak;
                    u += t + "]"
                } else u = s !== "number" && s !== "boolean" ? '"' + rr(c(n).replace(/\"/g, '\\"')) + '"' : n;
                return u
            }
            for (var r = this, u = this.getDataValues(n, this.combineMessages), i = "{" + this.lineBreak, t = 0, f = u.length - 1; t <= f; t++) i += this.tab + '"' + u[t][0] + '"' + this.colon + e(u[t][1], this.tab, !0), t < f && (i += ","), i += this.lineBreak;
            return i + ("}" + this.lineBreak)
        };
        w.prototype.ignoresThrowable = function() {
            return !1
        };
        w.prototype.toString = function() {
            return "JsonLayout"
        };
        w.prototype.getContentType = function() {
            return "application/json"
        };
        log4javascript.JsonLayout = w;
        nt.prototype = new v;
        nt.prototype.allowBatching = function() {
            return !1
        };
        nt.prototype.format = function(n) {
            for (var i = this.getDataValues(n), r = [], f, t = 0, u = i.length; t < u; t++) f = i[t][1] instanceof Date ? String(i[t][1].getTime()) : i[t][1], r.push(tt(i[t][0]) + "=" + tt(f));
            return r.join("&")
        };
        nt.prototype.ignoresThrowable = function() {
            return !1
        };
        nt.prototype.toString = function() {
            return "HttpPostDataLayout"
        };
        log4javascript.HttpPostDataLayout = nt,
            function() {
                var y = /('[^']*')|(G+|y+|M+|w+|W+|D+|d+|F+|E+|a+|H+|k+|K+|h+|m+|s+|S+|Z+)|([a-zA-Z]+)|([^a-zA-Z']+)/,
                    p = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
                    w = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
                    i = 0,
                    h = 1,
                    n = 2,
                    c = 3,
                    l = 4,
                    a = 5,
                    b = {
                        G: i,
                        y: c,
                        M: l,
                        w: n,
                        W: n,
                        D: n,
                        d: n,
                        F: n,
                        E: h,
                        a: i,
                        H: n,
                        k: n,
                        K: n,
                        h: n,
                        m: n,
                        s: n,
                        S: n,
                        Z: a
                    },
                    r = 864e5,
                    v = 7 * r,
                    u = 1,
                    t = function(n, t, i) {
                        var r = new Date(n, t, i, 0, 0, 0);
                        return r.setMilliseconds(0), r
                    };
                Date.prototype.getDifference = function(n) {
                    return this.getTime() - n.getTime()
                };
                Date.prototype.isBefore = function(n) {
                    return this.getTime() < n.getTime()
                };
                Date.prototype.getUTCTime = function() {
                    return Date.UTC(this.getFullYear(), this.getMonth(), this.getDate(), this.getHours(), this.getMinutes(), this.getSeconds(), this.getMilliseconds())
                };
                Date.prototype.getTimeSince = function(n) {
                    return this.getUTCTime() - n.getUTCTime()
                };
                Date.prototype.getPreviousSunday = function() {
                    var i = new Date(this.getFullYear(), this.getMonth(), this.getDate(), 12, 0, 0),
                        n = new Date(i.getTime() - this.getDay() * r);
                    return t(n.getFullYear(), n.getMonth(), n.getDate())
                };
                Date.prototype.getWeekInYear = function(n) {
                    o(this.minimalDaysInFirstWeek) && (n = u);
                    var r = this.getPreviousSunday(),
                        i = t(this.getFullYear(), 0, 1),
                        e = r.isBefore(i) ? 0 : 1 + Math.floor(r.getTimeSince(i) / v),
                        s = 7 - i.getDay(),
                        f = e;
                    return s < n && f--, f
                };
                Date.prototype.getWeekInMonth = function(n) {
                    o(this.minimalDaysInFirstWeek) && (n = u);
                    var r = this.getPreviousSunday(),
                        i = t(this.getFullYear(), this.getMonth(), 1),
                        e = r.isBefore(i) ? 0 : 1 + Math.floor(r.getTimeSince(i) / v),
                        s = 7 - i.getDay(),
                        f = e;
                    return s >= n && f++, f
                };
                Date.prototype.getDayInYear = function() {
                    var n = t(this.getFullYear(), 0, 1);
                    return 1 + Math.floor(this.getTimeSince(n) / r)
                };
                rt = function(n) {
                    this.formatString = n
                };
                rt.prototype.setMinimalDaysInFirstWeek = function(n) {
                    this.minimalDaysInFirstWeek = n
                };
                rt.prototype.getMinimalDaysInFirstWeek = function() {
                    return o(this.minimalDaysInFirstWeek) ? u : this.minimalDaysInFirstWeek
                };
                var f = function(n, t) {
                        while (n.length < t) n = "0" + n;
                        return n
                    },
                    e = function(n, t, i) {
                        return t >= 4 ? n : n.substr(0, Math.max(i, t))
                    },
                    s = function(n, t) {
                        var i = "" + n;
                        return f(i, t)
                    };
                rt.prototype.format = function(t) {
                    for (var u = "", v, g = this.formatString, ut, d; v = y.exec(g);) {
                        var k = v[1],
                            nt = v[2],
                            et = v[3],
                            it = v[4];
                        if (k) u += k == "''" ? "'" : k.substring(1, k.length - 1);
                        else if (!et)
                            if (it) u += it;
                            else if (nt) {
                            var rt = nt.charAt(0),
                                o = nt.length,
                                r = "";
                            switch (rt) {
                                case "G":
                                    r = "AD";
                                    break;
                                case "y":
                                    r = t.getFullYear();
                                    break;
                                case "M":
                                    r = t.getMonth();
                                    break;
                                case "w":
                                    r = t.getWeekInYear(this.getMinimalDaysInFirstWeek());
                                    break;
                                case "W":
                                    r = t.getWeekInMonth(this.getMinimalDaysInFirstWeek());
                                    break;
                                case "D":
                                    r = t.getDayInYear();
                                    break;
                                case "d":
                                    r = t.getDate();
                                    break;
                                case "F":
                                    r = 1 + Math.floor((t.getDate() - 1) / 7);
                                    break;
                                case "E":
                                    r = w[t.getDay()];
                                    break;
                                case "a":
                                    r = t.getHours() >= 12 ? "PM" : "AM";
                                    break;
                                case "H":
                                    r = t.getHours();
                                    break;
                                case "k":
                                    r = t.getHours() || 24;
                                    break;
                                case "K":
                                    r = t.getHours() % 12;
                                    break;
                                case "h":
                                    r = t.getHours() % 12 || 12;
                                    break;
                                case "m":
                                    r = t.getMinutes();
                                    break;
                                case "s":
                                    r = t.getSeconds();
                                    break;
                                case "S":
                                    r = t.getMilliseconds();
                                    break;
                                case "Z":
                                    r = t.getTimezoneOffset()
                            }
                            switch (b[rt]) {
                                case i:
                                    u += e(r, o, 2);
                                    break;
                                case h:
                                    u += e(r, o, 3);
                                    break;
                                case n:
                                    u += s(r, o);
                                    break;
                                case c:
                                    o <= 3 ? (ut = "" + r, u += ut.substr(2, 2)) : u += s(r, o);
                                    break;
                                case l:
                                    u += o >= 3 ? e(p[r], o, o) : s(r + 1, o);
                                    break;
                                case a:
                                    var ot = r > 0,
                                        st = ot ? "-" : "+",
                                        ft = Math.abs(r),
                                        tt = "" + Math.floor(ft / 60);
                                    tt = f(tt, 2);
                                    d = "" + ft % 60;
                                    d = f(d, 2);
                                    u += st + tt + d
                            }
                        }
                        g = g.substr(v.index + v[0].length)
                    }
                    return u
                }
            }();
        log4javascript.SimpleDateFormat = rt;
        f.TTCC_CONVERSION_PATTERN = "%r %p %c - %m%n";
        f.DEFAULT_CONVERSION_PATTERN = "%m%n";
        f.ISO8601_DATEFORMAT = "yyyy-MM-dd HH:mm:ss,SSS";
        f.DATETIME_DATEFORMAT = "dd MMM yyyy HH:mm:ss,SSS";
        f.ABSOLUTETIME_DATEFORMAT = "HH:mm:ss,SSS";
        f.prototype = new v;
        f.prototype.format = function(n) {
            for (var b = "", e, k = this.pattern, r, c, y, l, ut, g, nt, p, o, s, a, h, w; e = /%(-?[0-9]+)?(\.?[0-9]+)?([acdfmMnpr%])(\{([^\}]+)\})?|([^%]+)/.exec(k);) {
                var ft = e[0],
                    v = e[1],
                    tt = e[2],
                    d = e[3],
                    u = e[5],
                    it = e[6];
                if (it) b += "" + it;
                else {
                    r = "";
                    switch (d) {
                        case "a":
                        case "m":
                            for (c = 0, u && (c = parseInt(u, 10), isNaN(c) && (i("PatternLayout.format: invalid specifier '" + u + "' for conversion character '" + d + "' - should be a number"), c = 0)), y = d === "a" ? n.messages[0] : n.messages, l = 0, ut = y.length; l < ut; l++) l > 0 && r.charAt(r.length - 1) !== " " && (r += " "), r += c === 0 ? y[l] : li(y[l], c);
                            break;
                        case "c":
                            g = n.logger.name;
                            u ? (nt = parseInt(u, 10), p = n.logger.name.split("."), r = nt >= p.length ? g : p.slice(p.length - nt).join(".")) : r = g;
                            break;
                        case "d":
                            o = f.ISO8601_DATEFORMAT;
                            u && (o = u, o == "ISO8601" ? o = f.ISO8601_DATEFORMAT : o == "ABSOLUTE" ? o = f.ABSOLUTETIME_DATEFORMAT : o == "DATE" && (o = f.DATETIME_DATEFORMAT));
                            r = new rt(o).format(n.timeStamp);
                            break;
                        case "f":
                            this.hasCustomFields() && (s = 0, u && (s = parseInt(u, 10), isNaN(s) ? i("PatternLayout.format: invalid specifier '" + u + "' for conversion character 'f' - should be a number") : s === 0 ? i("PatternLayout.format: invalid specifier '" + u + "' for conversion character 'f' - must be greater than zero") : s > this.customFields.length ? i("PatternLayout.format: invalid specifier '" + u + "' for conversion character 'f' - there aren't that many custom fields") : s = s - 1), a = this.customFields[s].value, typeof a == "function" && (a = a(this, n)), r = a);
                            break;
                        case "n":
                            r = t;
                            break;
                        case "p":
                            r = n.level.name;
                            break;
                        case "r":
                            r = "" + n.timeStamp.getDifference(ui);
                            break;
                        case "%":
                            r = "%";
                            break;
                        default:
                            r = ft
                    }
                    if (tt && (h = parseInt(tt.substr(1), 10), w = r.length, h < w && (r = r.substring(w - h, w))), v)
                        if (v.charAt(0) == "-")
                            for (h = parseInt(v.substr(1), 10); r.length < h;) r += " ";
                        else
                            for (h = parseInt(v, 10); r.length < h;) r = " " + r;
                    b += r
                }
                k = k.substr(e.index + e[0].length)
            }
            return b
        };
        f.prototype.ignoresThrowable = function() {
            return !0
        };
        f.prototype.toString = function() {
            return "PatternLayout"
        };
        log4javascript.PatternLayout = f;
        st.prototype = new u;
        st.prototype.layout = new it;
        st.prototype.append = function(n) {
            alert(this.getLayout().formatWithException(n))
        };
        st.prototype.toString = function() {
            return "AlertAppender"
        };
        log4javascript.AlertAppender = st;
        b.prototype = new log4javascript.Appender;
        b.prototype.layout = new g;
        b.prototype.threshold = n.DEBUG;
        b.prototype.append = function(t) {
            var e = this,
                f = function() {
                    var n = e.getLayout().formatWithException(t);
                    return typeof n == "string" ? [n] : n
                },
                i, u, r;
            (i = window.console) && i.log ? (u = f(), r = i.debug && n.DEBUG.isGreaterOrEqual(t.level) ? "debug" : i.info && n.INFO.equals(t.level) ? "info" : i.warn && n.WARN.equals(t.level) ? "warn" : i.error && t.level.isGreaterOrEqual(n.ERROR) ? "error" : "log", i[r].apply ? i[r].apply(i, u) : i[r](u)) : typeof opera != "undefined" && opera.postError && opera.postError(f())
        };
        b.prototype.group = function(n) {
            window.console && window.console.group && window.console.group(n)
        };
        b.prototype.groupEnd = function() {
            window.console && window.console.groupEnd && window.console.groupEnd()
        };
        b.prototype.toString = function() {
            return "BrowserConsoleAppender"
        };
        log4javascript.BrowserConsoleAppender = b;
        var ai = function() {
                return new XMLHttpRequest
            },
            vi = [ai, function() {
                return new ActiveXObject("Msxml2.XMLHTTP")
            }, function() {
                return new ActiveXObject("Microsoft.XMLHTTP")
            }],
            yi = !1,
            pi = function(n) {
                for (var u = null, t, r = 0, f = vi.length; r < f; r++) {
                    t = vi[r];
                    try {
                        return u = t(), yi = t == ai && "withCredentials" in u, pi = t, u
                    } catch (e) {}
                }
                n ? n() : i("getXmlHttp: unable to obtain XMLHttpRequest object")
            };
        return ht.prototype = new u, ht.prototype.defaults = {
                waitForResponse: !1,
                timed: !1,
                timerInterval: 1e3,
                batchSize: 1,
                sendAllOnUnload: !1,
                requestSuccessCallback: null,
                failCallback: null,
                postVarName: "data",
                contentType: "application/x-www-form-urlencoded"
            }, ht.prototype.layout = new nt, ht.prototype.toString = function() {
                return "AjaxAppender"
            }, log4javascript.AjaxAppender = ht,
            function() {
                function a(n, t, i, r, u) {
                    this.create(!1, null, n, t, i, r, u, this.defaults.focusPopUp)
                }

                function c(n, t, i, r, u, f) {
                    this.create(!0, n, t, i, r, u, f, !1)
                }
                var w = function() {
                        return ['<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">', '<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">', "<head>", "<title>log4javascript<\/title>", '<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />', "<!-- Make IE8 behave like IE7, having gone to all the trouble of making IE work -->", '<meta http-equiv="X-UA-Compatible" content="IE=7" />', '<script type="text/javascript">var isIe = false, isIePre7 = false;<\/script>', '<!--[if IE]><script type="text/javascript">isIe = true<\/script><![endif]-->', '<!--[if lt IE 7]><script type="text/javascript">isIePre7 = true<\/script><![endif]-->', '<script type="text/javascript">', "//<![CDATA[", "var loggingEnabled=true;var logQueuedEventsTimer=null;var logEntries=[];var logEntriesAndSeparators=[];var logItems=[];var renderDelay=100;var unrenderedLogItemsExist=false;var rootGroup,currentGroup=null;var loaded=false;var currentLogItem=null;var logMainContainer;function copyProperties(obj,props){for(var i in props){obj[i]=props[i];}}", "function LogItem(){}", "LogItem.prototype={mainContainer:null,wrappedContainer:null,unwrappedContainer:null,group:null,appendToLog:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].appendToLog();}", "this.group.update();},doRemove:function(doUpdate,removeFromGroup){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].remove();}", "this.unwrappedElementContainer=null;this.wrappedElementContainer=null;this.mainElementContainer=null;}", "if(this.group&&removeFromGroup){this.group.removeChild(this,doUpdate);}", "if(this===currentLogItem){currentLogItem=null;}},remove:function(doUpdate,removeFromGroup){this.doRemove(doUpdate,removeFromGroup);},render:function(){},accept:function(visitor){visitor.visit(this);},getUnwrappedDomContainer:function(){return this.group.unwrappedElementContainer.contentDiv;},getWrappedDomContainer:function(){return this.group.wrappedElementContainer.contentDiv;},getMainDomContainer:function(){return this.group.mainElementContainer.contentDiv;}};LogItem.serializedItemKeys={LOG_ENTRY:0,GROUP_START:1,GROUP_END:2};function LogItemContainerElement(){}", 'LogItemContainerElement.prototype={appendToLog:function(){var insertBeforeFirst=(newestAtTop&&this.containerDomNode.hasChildNodes());if(insertBeforeFirst){this.containerDomNode.insertBefore(this.mainDiv,this.containerDomNode.firstChild);}else{this.containerDomNode.appendChild(this.mainDiv);}}};function SeparatorElementContainer(containerDomNode){this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="separator";this.mainDiv.innerHTML="&nbsp;";}', "SeparatorElementContainer.prototype=new LogItemContainerElement();SeparatorElementContainer.prototype.remove=function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;};function Separator(){this.rendered=false;}", "Separator.prototype=new LogItem();copyProperties(Separator.prototype,{render:function(){var containerDomNode=this.group.contentDiv;if(isIe){this.unwrappedElementContainer=new SeparatorElementContainer(this.getUnwrappedDomContainer());this.wrappedElementContainer=new SeparatorElementContainer(this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new SeparatorElementContainer(this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}", 'this.content=this.formattedMessage;this.rendered=true;}});function GroupElementContainer(group,containerDomNode,isRoot,isWrapped){this.group=group;this.containerDomNode=containerDomNode;this.isRoot=isRoot;this.isWrapped=isWrapped;this.expandable=false;if(this.isRoot){if(isIe){this.contentDiv=logMainContainer.appendChild(document.createElement("div"));this.contentDiv.id=this.isWrapped?"log_wrapped":"log_unwrapped";}else{this.contentDiv=logMainContainer;}}else{var groupElementContainer=this;this.mainDiv=document.createElement("div");this.mainDiv.className="group";this.headingDiv=this.mainDiv.appendChild(document.createElement("div"));this.headingDiv.className="groupheading";this.expander=this.headingDiv.appendChild(document.createElement("span"));this.expander.className="expander unselectable greyedout";this.expander.unselectable=true;var expanderText=this.group.expanded?"-":"+";this.expanderTextNode=this.expander.appendChild(document.createTextNode(expanderText));this.headingDiv.appendChild(document.createTextNode(" "+this.group.name));this.contentDiv=this.mainDiv.appendChild(document.createElement("div"));var contentCssClass=this.group.expanded?"expanded":"collapsed";this.contentDiv.className="groupcontent "+contentCssClass;this.expander.onclick=function(){if(groupElementContainer.group.expandable){groupElementContainer.group.toggleExpanded();}};}}', 'GroupElementContainer.prototype=new LogItemContainerElement();copyProperties(GroupElementContainer.prototype,{toggleExpanded:function(){if(!this.isRoot){var oldCssClass,newCssClass,expanderText;if(this.group.expanded){newCssClass="expanded";oldCssClass="collapsed";expanderText="-";}else{newCssClass="collapsed";oldCssClass="expanded";expanderText="+";}', "replaceClass(this.contentDiv,newCssClass,oldCssClass);this.expanderTextNode.nodeValue=expanderText;}},remove:function(){if(!this.isRoot){this.headingDiv=null;this.expander.onclick=null;this.expander=null;this.expanderTextNode=null;this.contentDiv=null;this.containerDomNode=null;this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;}},reverseChildren:function(){var node=null;var childDomNodes=[];while((node=this.contentDiv.firstChild)){this.contentDiv.removeChild(node);childDomNodes.push(node);}", 'while((node=childDomNodes.pop())){this.contentDiv.appendChild(node);}},update:function(){if(!this.isRoot){if(this.group.expandable){removeClass(this.expander,"greyedout");}else{addClass(this.expander,"greyedout");}}},clear:function(){if(this.isRoot){this.contentDiv.innerHTML="";}}});function Group(name,isRoot,initiallyExpanded){this.name=name;this.group=null;this.isRoot=isRoot;this.initiallyExpanded=initiallyExpanded;this.elementContainers=[];this.children=[];this.expanded=initiallyExpanded;this.rendered=false;this.expandable=false;}', "Group.prototype=new LogItem();copyProperties(Group.prototype,{addChild:function(logItem){this.children.push(logItem);logItem.group=this;},render:function(){if(isIe){var unwrappedDomContainer,wrappedDomContainer;if(this.isRoot){unwrappedDomContainer=logMainContainer;wrappedDomContainer=logMainContainer;}else{unwrappedDomContainer=this.getUnwrappedDomContainer();wrappedDomContainer=this.getWrappedDomContainer();}", "this.unwrappedElementContainer=new GroupElementContainer(this,unwrappedDomContainer,this.isRoot,false);this.wrappedElementContainer=new GroupElementContainer(this,wrappedDomContainer,this.isRoot,true);this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{var mainDomContainer=this.isRoot?logMainContainer:this.getMainDomContainer();this.mainElementContainer=new GroupElementContainer(this,mainDomContainer,this.isRoot,false);this.elementContainers=[this.mainElementContainer];}", "this.rendered=true;},toggleExpanded:function(){this.expanded=!this.expanded;for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].toggleExpanded();}},expand:function(){if(!this.expanded){this.toggleExpanded();}},accept:function(visitor){visitor.visitGroup(this);},reverseChildren:function(){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].reverseChildren();}}},update:function(){var previouslyExpandable=this.expandable;this.expandable=(this.children.length!==0);if(this.expandable!==previouslyExpandable){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].update();}}},flatten:function(){var visitor=new GroupFlattener();this.accept(visitor);return visitor.logEntriesAndSeparators;},removeChild:function(child,doUpdate){array_remove(this.children,child);child.group=null;if(doUpdate){this.update();}},remove:function(doUpdate,removeFromGroup){for(var i=0,len=this.children.length;i<len;i++){this.children[i].remove(false,false);}", "this.children=[];this.update();if(this===currentGroup){currentGroup=this.group;}", "this.doRemove(doUpdate,removeFromGroup);},serialize:function(items){items.push([LogItem.serializedItemKeys.GROUP_START,this.name]);for(var i=0,len=this.children.length;i<len;i++){this.children[i].serialize(items);}", "if(this!==currentGroup){items.push([LogItem.serializedItemKeys.GROUP_END]);}},clear:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clear();}}});function LogEntryElementContainer(){}", 'LogEntryElementContainer.prototype=new LogItemContainerElement();copyProperties(LogEntryElementContainer.prototype,{remove:function(){this.doRemove();},doRemove:function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;this.contentElement=null;this.containerDomNode=null;},setContent:function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML="";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=content;}},setSearchMatch:function(isMatch){var oldCssClass=isMatch?"searchnonmatch":"searchmatch";var newCssClass=isMatch?"searchmatch":"searchnonmatch";replaceClass(this.mainDiv,newCssClass,oldCssClass);},clearSearch:function(){removeClass(this.mainDiv,"searchmatch");removeClass(this.mainDiv,"searchnonmatch");}});function LogEntryWrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.mainDiv.className="logentry wrapped "+this.logEntry.level;this.contentElement=this.mainDiv;}', 'LogEntryWrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryWrappedElementContainer.prototype.setContent=function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML="";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=wrappedContent;}};function LogEntryUnwrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="logentry unwrapped "+this.logEntry.level;this.pre=this.mainDiv.appendChild(document.createElement("pre"));this.pre.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.pre.className="unwrapped";this.contentElement=this.pre;}', 'LogEntryUnwrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryUnwrappedElementContainer.prototype.remove=function(){this.doRemove();this.pre=null;};function LogEntryMainElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="logentry nonielogentry "+this.logEntry.level;this.contentElement=this.mainDiv.appendChild(document.createElement("span"));this.contentElement.appendChild(document.createTextNode(this.logEntry.formattedMessage));}', "LogEntryMainElementContainer.prototype=new LogEntryElementContainer();function LogEntry(level,formattedMessage){this.level=level;this.formattedMessage=formattedMessage;this.rendered=false;}", 'LogEntry.prototype=new LogItem();copyProperties(LogEntry.prototype,{render:function(){var logEntry=this;var containerDomNode=this.group.contentDiv;if(isIe){this.formattedMessage=this.formattedMessage.replace(/\\r\\n/g,"\\r");this.unwrappedElementContainer=new LogEntryUnwrappedElementContainer(this,this.getUnwrappedDomContainer());this.wrappedElementContainer=new LogEntryWrappedElementContainer(this,this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new LogEntryMainElementContainer(this,this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}', 'this.content=this.formattedMessage;this.rendered=true;},setContent:function(content,wrappedContent){if(content!=this.content){if(isIe&&(content!==this.formattedMessage)){content=content.replace(/\\r\\n/g,"\\r");}', "for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setContent(content,wrappedContent);}", 'this.content=content;}},getSearchMatches:function(){var matches=[];var i,len;if(isIe){var unwrappedEls=getElementsByClass(this.unwrappedElementContainer.mainDiv,"searchterm","span");var wrappedEls=getElementsByClass(this.wrappedElementContainer.mainDiv,"searchterm","span");for(i=0,len=unwrappedEls.length;i<len;i++){matches[i]=new Match(this.level,null,unwrappedEls[i],wrappedEls[i]);}}else{var els=getElementsByClass(this.mainElementContainer.mainDiv,"searchterm","span");for(i=0,len=els.length;i<len;i++){matches[i]=new Match(this.level,els[i]);}}', "return matches;},setSearchMatch:function(isMatch){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setSearchMatch(isMatch);}},clearSearch:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clearSearch();}},accept:function(visitor){visitor.visitLogEntry(this);},serialize:function(items){items.push([LogItem.serializedItemKeys.LOG_ENTRY,this.level,this.formattedMessage]);}});function LogItemVisitor(){}", "LogItemVisitor.prototype={visit:function(logItem){},visitParent:function(logItem){if(logItem.group){logItem.group.accept(this);}},visitChildren:function(logItem){for(var i=0,len=logItem.children.length;i<len;i++){logItem.children[i].accept(this);}},visitLogEntry:function(logEntry){this.visit(logEntry);},visitSeparator:function(separator){this.visit(separator);},visitGroup:function(group){this.visit(group);}};function GroupFlattener(){this.logEntriesAndSeparators=[];}", 'GroupFlattener.prototype=new LogItemVisitor();GroupFlattener.prototype.visitGroup=function(group){this.visitChildren(group);};GroupFlattener.prototype.visitLogEntry=function(logEntry){this.logEntriesAndSeparators.push(logEntry);};GroupFlattener.prototype.visitSeparator=function(separator){this.logEntriesAndSeparators.push(separator);};window.onload=function(){if(location.search){var queryBits=unescape(location.search).substr(1).split("&"),nameValueBits;for(var i=0,len=queryBits.length;i<len;i++){nameValueBits=queryBits[i].split("=");if(nameValueBits[0]=="log4javascript_domain"){document.domain=nameValueBits[1];break;}}}', 'logMainContainer=$("log");if(isIePre7){addClass(logMainContainer,"oldIe");}', 'rootGroup=new Group("root",true);rootGroup.render();currentGroup=rootGroup;setCommandInputWidth();setLogContainerHeight();toggleLoggingEnabled();toggleSearchEnabled();toggleSearchFilter();toggleSearchHighlight();applyFilters();checkAllLevels();toggleWrap();toggleNewestAtTop();toggleScrollToLatest();renderQueuedLogItems();loaded=true;$("command").value="";$("command").autocomplete="off";$("command").onkeydown=function(evt){evt=getEvent(evt);if(evt.keyCode==10||evt.keyCode==13){evalCommandLine();stopPropagation(evt);}else if(evt.keyCode==27){this.value="";this.focus();}else if(evt.keyCode==38&&commandHistory.length>0){currentCommandIndex=Math.max(0,currentCommandIndex-1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}else if(evt.keyCode==40&&commandHistory.length>0){currentCommandIndex=Math.min(commandHistory.length-1,currentCommandIndex+1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}};$("command").onkeypress=function(evt){evt=getEvent(evt);if(evt.keyCode==38&&commandHistory.length>0&&evt.preventDefault){evt.preventDefault();}};$("command").onkeyup=function(evt){evt=getEvent(evt);if(evt.keyCode==27&&evt.preventDefault){evt.preventDefault();this.focus();}};document.onkeydown=function keyEventHandler(evt){evt=getEvent(evt);switch(evt.keyCode){case 69:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){evalLastCommand();cancelKeyEvent(evt);return false;}', "break;case 75:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusSearch();cancelKeyEvent(evt);return false;}", "break;case 40:case 76:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusCommandLine();cancelKeyEvent(evt);return false;}", "break;}};setTimeout(setLogContainerHeight,20);setShowCommandLine(showCommandLine);doSearch();};window.onunload=function(){if(mainWindowExists()){appender.unload();}", 'appender=null;};function toggleLoggingEnabled(){setLoggingEnabled($("enableLogging").checked);}', "function setLoggingEnabled(enable){loggingEnabled=enable;}", "var appender=null;function setAppender(appenderParam){appender=appenderParam;}", 'function setShowCloseButton(showCloseButton){$("closeButton").style.display=showCloseButton?"inline":"none";}', 'function setShowHideButton(showHideButton){$("hideButton").style.display=showHideButton?"inline":"none";}', "var newestAtTop=false;function LogItemContentReverser(){}", "LogItemContentReverser.prototype=new LogItemVisitor();LogItemContentReverser.prototype.visitGroup=function(group){group.reverseChildren();this.visitChildren(group);};function setNewestAtTop(isNewestAtTop){var oldNewestAtTop=newestAtTop;var i,iLen,j,jLen;newestAtTop=Boolean(isNewestAtTop);if(oldNewestAtTop!=newestAtTop){var visitor=new LogItemContentReverser();rootGroup.accept(visitor);if(currentSearch){var currentMatch=currentSearch.matches[currentMatchIndex];var matchIndex=0;var matches=[];var actOnLogEntry=function(logEntry){var logEntryMatches=logEntry.getSearchMatches();for(j=0,jLen=logEntryMatches.length;j<jLen;j++){matches[matchIndex]=logEntryMatches[j];if(currentMatch&&logEntryMatches[j].equals(currentMatch)){currentMatchIndex=matchIndex;}", "matchIndex++;}};if(newestAtTop){for(i=logEntries.length-1;i>=0;i--){actOnLogEntry(logEntries[i]);}}else{for(i=0,iLen=logEntries.length;i<iLen;i++){actOnLogEntry(logEntries[i]);}}", "currentSearch.matches=matches;if(currentMatch){currentMatch.setCurrent();}}else if(scrollToLatest){doScrollToLatest();}}", '$("newestAtTop").checked=isNewestAtTop;}', 'function toggleNewestAtTop(){var isNewestAtTop=$("newestAtTop").checked;setNewestAtTop(isNewestAtTop);}', "var scrollToLatest=true;function setScrollToLatest(isScrollToLatest){scrollToLatest=isScrollToLatest;if(scrollToLatest){doScrollToLatest();}", '$("scrollToLatest").checked=isScrollToLatest;}', 'function toggleScrollToLatest(){var isScrollToLatest=$("scrollToLatest").checked;setScrollToLatest(isScrollToLatest);}', 'function doScrollToLatest(){var l=logMainContainer;if(typeof l.scrollTop!="undefined"){if(newestAtTop){l.scrollTop=0;}else{var latestLogEntry=l.lastChild;if(latestLogEntry){l.scrollTop=l.scrollHeight;}}}}', "var closeIfOpenerCloses=true;function setCloseIfOpenerCloses(isCloseIfOpenerCloses){closeIfOpenerCloses=isCloseIfOpenerCloses;}", "var maxMessages=null;function setMaxMessages(max){maxMessages=max;pruneLogEntries();}", 'var showCommandLine=false;function setShowCommandLine(isShowCommandLine){showCommandLine=isShowCommandLine;if(loaded){$("commandLine").style.display=showCommandLine?"block":"none";setCommandInputWidth();setLogContainerHeight();}}', 'function focusCommandLine(){if(loaded){$("command").focus();}}', 'function focusSearch(){if(loaded){$("searchBox").focus();}}', "function getLogItems(){var items=[];for(var i=0,len=logItems.length;i<len;i++){logItems[i].serialize(items);}", "return items;}", "function setLogItems(items){var loggingReallyEnabled=loggingEnabled;loggingEnabled=true;for(var i=0,len=items.length;i<len;i++){switch(items[i][0]){case LogItem.serializedItemKeys.LOG_ENTRY:log(items[i][1],items[i][2]);break;case LogItem.serializedItemKeys.GROUP_START:group(items[i][1]);break;case LogItem.serializedItemKeys.GROUP_END:groupEnd();break;}}", "loggingEnabled=loggingReallyEnabled;}", "function log(logLevel,formattedMessage){if(loggingEnabled){var logEntry=new LogEntry(logLevel,formattedMessage);logEntries.push(logEntry);logEntriesAndSeparators.push(logEntry);logItems.push(logEntry);currentGroup.addChild(logEntry);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}", "logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}", "function renderQueuedLogItems(){logQueuedEventsTimer=null;var pruned=pruneLogEntries();var initiallyHasMatches=currentSearch?currentSearch.hasMatches():false;for(var i=0,len=logItems.length;i<len;i++){if(!logItems[i].rendered){logItems[i].render();logItems[i].appendToLog();if(currentSearch&&(logItems[i]instanceof LogEntry)){currentSearch.applyTo(logItems[i]);}}}", "if(currentSearch){if(pruned){if(currentSearch.hasVisibleMatches()){if(currentMatchIndex===null){setCurrentMatchIndex(0);}", "displayMatches();}else{displayNoMatches();}}else if(!initiallyHasMatches&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}}", "if(scrollToLatest){doScrollToLatest();}", "unrenderedLogItemsExist=false;}", "function pruneLogEntries(){if((maxMessages!==null)&&(logEntriesAndSeparators.length>maxMessages)){var numberToDelete=logEntriesAndSeparators.length-maxMessages;var prunedLogEntries=logEntriesAndSeparators.slice(0,numberToDelete);if(currentSearch){currentSearch.removeMatches(prunedLogEntries);}", "var group;for(var i=0;i<numberToDelete;i++){group=logEntriesAndSeparators[i].group;array_remove(logItems,logEntriesAndSeparators[i]);array_remove(logEntries,logEntriesAndSeparators[i]);logEntriesAndSeparators[i].remove(true,true);if(group.children.length===0&&group!==currentGroup&&group!==rootGroup){array_remove(logItems,group);group.remove(true,true);}}", "logEntriesAndSeparators=array_removeFromStart(logEntriesAndSeparators,numberToDelete);return true;}", "return false;}", 'function group(name,startExpanded){if(loggingEnabled){initiallyExpanded=(typeof startExpanded==="undefined")?true:Boolean(startExpanded);var newGroup=new Group(name,false,initiallyExpanded);currentGroup.addChild(newGroup);currentGroup=newGroup;logItems.push(newGroup);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}', "logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}", "function groupEnd(){currentGroup=(currentGroup===rootGroup)?rootGroup:currentGroup.group;}", "function mainPageReloaded(){currentGroup=rootGroup;var separator=new Separator();logEntriesAndSeparators.push(separator);logItems.push(separator);currentGroup.addChild(separator);}", "function closeWindow(){if(appender&&mainWindowExists()){appender.close(true);}else{window.close();}}", "function hide(){if(appender&&mainWindowExists()){appender.hide();}}", 'var mainWindow=window;var windowId="log4javascriptConsoleWindow_"+new Date().getTime()+"_"+(""+Math.random()).substr(2);function setMainWindow(win){mainWindow=win;mainWindow[windowId]=window;if(opener&&closeIfOpenerCloses){pollOpener();}}', "function pollOpener(){if(closeIfOpenerCloses){if(mainWindowExists()){setTimeout(pollOpener,500);}else{closeWindow();}}}", "function mainWindowExists(){try{return(mainWindow&&!mainWindow.closed&&mainWindow[windowId]==window);}catch(ex){}", "return false;}", 'var logLevels=["TRACE","DEBUG","INFO","WARN","ERROR","FATAL"];function getCheckBox(logLevel){return $("switch_"+logLevel);}', 'function getIeWrappedLogContainer(){return $("log_wrapped");}', 'function getIeUnwrappedLogContainer(){return $("log_unwrapped");}', "function applyFilters(){for(var i=0;i<logLevels.length;i++){if(getCheckBox(logLevels[i]).checked){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}", "updateSearchFromFilters();}", 'function toggleAllLevels(){var turnOn=$("switch_ALL").checked;for(var i=0;i<logLevels.length;i++){getCheckBox(logLevels[i]).checked=turnOn;if(turnOn){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}}', 'function checkAllLevels(){for(var i=0;i<logLevels.length;i++){if(!getCheckBox(logLevels[i]).checked){getCheckBox("ALL").checked=false;return;}}', 'getCheckBox("ALL").checked=true;}', "function clearLog(){rootGroup.clear();currentGroup=rootGroup;logEntries=[];logItems=[];logEntriesAndSeparators=[];doSearch();}", 'function toggleWrap(){var enable=$("wrap").checked;if(enable){addClass(logMainContainer,"wrap");}else{removeClass(logMainContainer,"wrap");}', "refreshCurrentMatch();}", "var searchTimer=null;function scheduleSearch(){try{clearTimeout(searchTimer);}catch(ex){}", "searchTimer=setTimeout(doSearch,500);}", "function Search(searchTerm,isRegex,searchRegex,isCaseSensitive){this.searchTerm=searchTerm;this.isRegex=isRegex;this.searchRegex=searchRegex;this.isCaseSensitive=isCaseSensitive;this.matches=[];}", "Search.prototype={hasMatches:function(){return this.matches.length>0;},hasVisibleMatches:function(){if(this.hasMatches()){for(var i=0;i<this.matches.length;i++){if(this.matches[i].isVisible()){return true;}}}", "return false;},match:function(logEntry){var entryText=String(logEntry.formattedMessage);var matchesSearch=false;if(this.isRegex){matchesSearch=this.searchRegex.test(entryText);}else if(this.isCaseSensitive){matchesSearch=(entryText.indexOf(this.searchTerm)>-1);}else{matchesSearch=(entryText.toLowerCase().indexOf(this.searchTerm.toLowerCase())>-1);}", "return matchesSearch;},getNextVisibleMatchIndex:function(){for(var i=currentMatchIndex+1;i<this.matches.length;i++){if(this.matches[i].isVisible()){return i;}}", "for(i=0;i<=currentMatchIndex;i++){if(this.matches[i].isVisible()){return i;}}", "return-1;},getPreviousVisibleMatchIndex:function(){for(var i=currentMatchIndex-1;i>=0;i--){if(this.matches[i].isVisible()){return i;}}", "for(var i=this.matches.length-1;i>=currentMatchIndex;i--){if(this.matches[i].isVisible()){return i;}}", 'return-1;},applyTo:function(logEntry){var doesMatch=this.match(logEntry);if(doesMatch){logEntry.group.expand();logEntry.setSearchMatch(true);var logEntryContent;var wrappedLogEntryContent;var searchTermReplacementStartTag="<span class=\\"searchterm\\">";var searchTermReplacementEndTag="<"+"/span>";var preTagName=isIe?"pre":"span";var preStartTag="<"+preTagName+" class=\\"pre\\">";var preEndTag="<"+"/"+preTagName+">";var startIndex=0;var searchIndex,matchedText,textBeforeMatch;if(this.isRegex){var flags=this.isCaseSensitive?"g":"gi";var capturingRegex=new RegExp("("+this.searchRegex.source+")",flags);var rnd=(""+Math.random()).substr(2);var startToken="%%s"+rnd+"%%";var endToken="%%e"+rnd+"%%";logEntryContent=logEntry.formattedMessage.replace(capturingRegex,startToken+"$1"+endToken);logEntryContent=escapeHtml(logEntryContent);var result;var searchString=logEntryContent;logEntryContent="";wrappedLogEntryContent="";while((searchIndex=searchString.indexOf(startToken,startIndex))>-1){var endTokenIndex=searchString.indexOf(endToken,searchIndex);matchedText=searchString.substring(searchIndex+startToken.length,endTokenIndex);textBeforeMatch=searchString.substring(startIndex,searchIndex);logEntryContent+=preStartTag+textBeforeMatch+preEndTag;logEntryContent+=searchTermReplacementStartTag+preStartTag+matchedText+', "preEndTag+searchTermReplacementEndTag;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+", "matchedText+searchTermReplacementEndTag;}", "startIndex=endTokenIndex+endToken.length;}", 'logEntryContent+=preStartTag+searchString.substr(startIndex)+preEndTag;if(isIe){wrappedLogEntryContent+=searchString.substr(startIndex);}}else{logEntryContent="";wrappedLogEntryContent="";var searchTermReplacementLength=searchTermReplacementStartTag.length+', "this.searchTerm.length+searchTermReplacementEndTag.length;var searchTermLength=this.searchTerm.length;var searchTermLowerCase=this.searchTerm.toLowerCase();var logTextLowerCase=logEntry.formattedMessage.toLowerCase();while((searchIndex=logTextLowerCase.indexOf(searchTermLowerCase,startIndex))>-1){matchedText=escapeHtml(logEntry.formattedMessage.substr(searchIndex,this.searchTerm.length));textBeforeMatch=escapeHtml(logEntry.formattedMessage.substring(startIndex,searchIndex));var searchTermReplacement=searchTermReplacementStartTag+", "preStartTag+matchedText+preEndTag+searchTermReplacementEndTag;logEntryContent+=preStartTag+textBeforeMatch+preEndTag+searchTermReplacement;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+", "matchedText+searchTermReplacementEndTag;}", "startIndex=searchIndex+searchTermLength;}", "var textAfterLastMatch=escapeHtml(logEntry.formattedMessage.substr(startIndex));logEntryContent+=preStartTag+textAfterLastMatch+preEndTag;if(isIe){wrappedLogEntryContent+=textAfterLastMatch;}}", "logEntry.setContent(logEntryContent,wrappedLogEntryContent);var logEntryMatches=logEntry.getSearchMatches();this.matches=this.matches.concat(logEntryMatches);}else{logEntry.setSearchMatch(false);logEntry.setContent(logEntry.formattedMessage,logEntry.formattedMessage);}", "return doesMatch;},removeMatches:function(logEntries){var matchesToRemoveCount=0;var currentMatchRemoved=false;var matchesToRemove=[];var i,iLen,j,jLen;for(i=0,iLen=this.matches.length;i<iLen;i++){for(j=0,jLen=logEntries.length;j<jLen;j++){if(this.matches[i].belongsTo(logEntries[j])){matchesToRemove.push(this.matches[i]);if(i===currentMatchIndex){currentMatchRemoved=true;}}}}", "var newMatch=currentMatchRemoved?null:this.matches[currentMatchIndex];if(currentMatchRemoved){for(i=currentMatchIndex,iLen=this.matches.length;i<iLen;i++){if(this.matches[i].isVisible()&&!array_contains(matchesToRemove,this.matches[i])){newMatch=this.matches[i];break;}}}", "for(i=0,iLen=matchesToRemove.length;i<iLen;i++){array_remove(this.matches,matchesToRemove[i]);matchesToRemove[i].remove();}", "if(this.hasVisibleMatches()){if(newMatch===null){setCurrentMatchIndex(0);}else{var newMatchIndex=0;for(i=0,iLen=this.matches.length;i<iLen;i++){if(newMatch===this.matches[i]){newMatchIndex=i;break;}}", "setCurrentMatchIndex(newMatchIndex);}}else{currentMatchIndex=null;displayNoMatches();}}};function getPageOffsetTop(el,container){var currentEl=el;var y=0;while(currentEl&&currentEl!=container){y+=currentEl.offsetTop;currentEl=currentEl.offsetParent;}", "return y;}", 'function scrollIntoView(el){var logContainer=logMainContainer;if(!$("wrap").checked){var logContainerLeft=logContainer.scrollLeft;var logContainerRight=logContainerLeft+logContainer.offsetWidth;var elLeft=el.offsetLeft;var elRight=elLeft+el.offsetWidth;if(elLeft<logContainerLeft||elRight>logContainerRight){logContainer.scrollLeft=elLeft-(logContainer.offsetWidth-el.offsetWidth)/2;}}', "var logContainerTop=logContainer.scrollTop;var logContainerBottom=logContainerTop+logContainer.offsetHeight;var elTop=getPageOffsetTop(el)-getToolBarsHeight();var elBottom=elTop+el.offsetHeight;if(elTop<logContainerTop||elBottom>logContainerBottom){logContainer.scrollTop=elTop-(logContainer.offsetHeight-el.offsetHeight)/2;}}", "function Match(logEntryLevel,spanInMainDiv,spanInUnwrappedPre,spanInWrappedDiv){this.logEntryLevel=logEntryLevel;this.spanInMainDiv=spanInMainDiv;if(isIe){this.spanInUnwrappedPre=spanInUnwrappedPre;this.spanInWrappedDiv=spanInWrappedDiv;}", "this.mainSpan=isIe?spanInUnwrappedPre:spanInMainDiv;}", 'Match.prototype={equals:function(match){return this.mainSpan===match.mainSpan;},setCurrent:function(){if(isIe){addClass(this.spanInUnwrappedPre,"currentmatch");addClass(this.spanInWrappedDiv,"currentmatch");var elementToScroll=$("wrap").checked?this.spanInWrappedDiv:this.spanInUnwrappedPre;scrollIntoView(elementToScroll);}else{addClass(this.spanInMainDiv,"currentmatch");scrollIntoView(this.spanInMainDiv);}},belongsTo:function(logEntry){if(isIe){return isDescendant(this.spanInUnwrappedPre,logEntry.unwrappedPre);}else{return isDescendant(this.spanInMainDiv,logEntry.mainDiv);}},setNotCurrent:function(){if(isIe){removeClass(this.spanInUnwrappedPre,"currentmatch");removeClass(this.spanInWrappedDiv,"currentmatch");}else{removeClass(this.spanInMainDiv,"currentmatch");}},isOrphan:function(){return isOrphan(this.mainSpan);},isVisible:function(){return getCheckBox(this.logEntryLevel).checked;},remove:function(){if(isIe){this.spanInUnwrappedPre=null;this.spanInWrappedDiv=null;}else{this.spanInMainDiv=null;}}};var currentSearch=null;var currentMatchIndex=null;function doSearch(){var searchBox=$("searchBox");var searchTerm=searchBox.value;var isRegex=$("searchRegex").checked;var isCaseSensitive=$("searchCaseSensitive").checked;var i;if(searchTerm===""){$("searchReset").disabled=true;$("searchNav").style.display="none";removeClass(document.body,"searching");removeClass(searchBox,"hasmatches");removeClass(searchBox,"nomatches");for(i=0;i<logEntries.length;i++){logEntries[i].clearSearch();logEntries[i].setContent(logEntries[i].formattedMessage,logEntries[i].formattedMessage);}', 'currentSearch=null;setLogContainerHeight();}else{$("searchReset").disabled=false;$("searchNav").style.display="block";var searchRegex;var regexValid;if(isRegex){try{searchRegex=isCaseSensitive?new RegExp(searchTerm,"g"):new RegExp(searchTerm,"gi");regexValid=true;replaceClass(searchBox,"validregex","invalidregex");searchBox.title="Valid regex";}catch(ex){regexValid=false;replaceClass(searchBox,"invalidregex","validregex");searchBox.title="Invalid regex: "+(ex.message?ex.message:(ex.description?ex.description:"unknown error"));return;}}else{searchBox.title="";removeClass(searchBox,"validregex");removeClass(searchBox,"invalidregex");}', 'addClass(document.body,"searching");currentSearch=new Search(searchTerm,isRegex,searchRegex,isCaseSensitive);for(i=0;i<logEntries.length;i++){currentSearch.applyTo(logEntries[i]);}', "setLogContainerHeight();if(currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}else{displayNoMatches();}}}", "function updateSearchFromFilters(){if(currentSearch){if(currentSearch.hasMatches()){if(currentMatchIndex===null){currentMatchIndex=0;}", "var currentMatch=currentSearch.matches[currentMatchIndex];if(currentMatch.isVisible()){displayMatches();setCurrentMatchIndex(currentMatchIndex);}else{currentMatch.setNotCurrent();var nextVisibleMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextVisibleMatchIndex>-1){setCurrentMatchIndex(nextVisibleMatchIndex);displayMatches();}else{displayNoMatches();}}}else{displayNoMatches();}}}", "function refreshCurrentMatch(){if(currentSearch&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(currentMatchIndex);}}", 'function displayMatches(){replaceClass($("searchBox"),"hasmatches","nomatches");$("searchBox").title=""+currentSearch.matches.length+" matches found";$("searchNav").style.display="block";setLogContainerHeight();}', 'function displayNoMatches(){replaceClass($("searchBox"),"nomatches","hasmatches");$("searchBox").title="No matches found";$("searchNav").style.display="none";setLogContainerHeight();}', 'function toggleSearchEnabled(enable){enable=(typeof enable=="undefined")?!$("searchDisable").checked:enable;$("searchBox").disabled=!enable;$("searchReset").disabled=!enable;$("searchRegex").disabled=!enable;$("searchNext").disabled=!enable;$("searchPrevious").disabled=!enable;$("searchCaseSensitive").disabled=!enable;$("searchNav").style.display=(enable&&($("searchBox").value!=="")&&currentSearch&&currentSearch.hasVisibleMatches())?"block":"none";if(enable){removeClass($("search"),"greyedout");addClass(document.body,"searching");if($("searchHighlight").checked){addClass(logMainContainer,"searchhighlight");}else{removeClass(logMainContainer,"searchhighlight");}', 'if($("searchFilter").checked){addClass(logMainContainer,"searchfilter");}else{removeClass(logMainContainer,"searchfilter");}', '$("searchDisable").checked=!enable;}else{addClass($("search"),"greyedout");removeClass(document.body,"searching");removeClass(logMainContainer,"searchhighlight");removeClass(logMainContainer,"searchfilter");}', "setLogContainerHeight();}", 'function toggleSearchFilter(){var enable=$("searchFilter").checked;if(enable){addClass(logMainContainer,"searchfilter");}else{removeClass(logMainContainer,"searchfilter");}', "refreshCurrentMatch();}", 'function toggleSearchHighlight(){var enable=$("searchHighlight").checked;if(enable){addClass(logMainContainer,"searchhighlight");}else{removeClass(logMainContainer,"searchhighlight");}}', 'function clearSearch(){$("searchBox").value="";doSearch();}', 'function searchNext(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var nextMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextMatchIndex>currentMatchIndex||confirm("Reached the end of the page. Start from the top?")){setCurrentMatchIndex(nextMatchIndex);}}}', 'function searchPrevious(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var previousMatchIndex=currentSearch.getPreviousVisibleMatchIndex();if(previousMatchIndex<currentMatchIndex||confirm("Reached the start of the page. Continue from the bottom?")){setCurrentMatchIndex(previousMatchIndex);}}}', "function setCurrentMatchIndex(index){currentMatchIndex=index;currentSearch.matches[currentMatchIndex].setCurrent();}", 'function addClass(el,cssClass){if(!hasClass(el,cssClass)){if(el.className){el.className+=" "+cssClass;}else{el.className=cssClass;}}}', 'function hasClass(el,cssClass){if(el.className){var classNames=el.className.split(" ");return array_contains(classNames,cssClass);}', "return false;}", 'function removeClass(el,cssClass){if(hasClass(el,cssClass)){var existingClasses=el.className.split(" ");var newClasses=[];for(var i=0,len=existingClasses.length;i<len;i++){if(existingClasses[i]!=cssClass){newClasses[newClasses.length]=existingClasses[i];}}', 'el.className=newClasses.join(" ");}}', "function replaceClass(el,newCssClass,oldCssClass){removeClass(el,oldCssClass);addClass(el,newCssClass);}", "function getElementsByClass(el,cssClass,tagName){var elements=el.getElementsByTagName(tagName);var matches=[];for(var i=0,len=elements.length;i<len;i++){if(hasClass(elements[i],cssClass)){matches.push(elements[i]);}}", "return matches;}", "function $(id){return document.getElementById(id);}", "function isDescendant(node,ancestorNode){while(node!=null){if(node===ancestorNode){return true;}", "node=node.parentNode;}", "return false;}", "function isOrphan(node){var currentNode=node;while(currentNode){if(currentNode==document.body){return false;}", "currentNode=currentNode.parentNode;}", "return true;}", 'function escapeHtml(str){return str.replace(/&/g,"&amp;").replace(/[<]/g,"&lt;").replace(/>/g,"&gt;");}', "function getWindowWidth(){if(window.innerWidth){return window.innerWidth;}else if(document.documentElement&&document.documentElement.clientWidth){return document.documentElement.clientWidth;}else if(document.body){return document.body.clientWidth;}", "return 0;}", "function getWindowHeight(){if(window.innerHeight){return window.innerHeight;}else if(document.documentElement&&document.documentElement.clientHeight){return document.documentElement.clientHeight;}else if(document.body){return document.body.clientHeight;}", "return 0;}", 'function getToolBarsHeight(){return $("switches").offsetHeight;}', 'function getChromeHeight(){var height=getToolBarsHeight();if(showCommandLine){height+=$("commandLine").offsetHeight;}', "return height;}", 'function setLogContainerHeight(){if(logMainContainer){var windowHeight=getWindowHeight();$("body").style.height=getWindowHeight()+"px";logMainContainer.style.height=""+', 'Math.max(0,windowHeight-getChromeHeight())+"px";}}', 'function setCommandInputWidth(){if(showCommandLine){$("command").style.width=""+Math.max(0,$("commandLineContainer").offsetWidth-', '($("evaluateButton").offsetWidth+13))+"px";}}', "window.onresize=function(){setCommandInputWidth();setLogContainerHeight();};if(!Array.prototype.push){Array.prototype.push=function(){for(var i=0,len=arguments.length;i<len;i++){this[this.length]=arguments[i];}", "return this.length;};}", "if(!Array.prototype.pop){Array.prototype.pop=function(){if(this.length>0){var val=this[this.length-1];this.length=this.length-1;return val;}};}", "if(!Array.prototype.shift){Array.prototype.shift=function(){if(this.length>0){var firstItem=this[0];for(var i=0,len=this.length-1;i<len;i++){this[i]=this[i+1];}", "this.length=this.length-1;return firstItem;}};}", "if(!Array.prototype.splice){Array.prototype.splice=function(startIndex,deleteCount){var itemsAfterDeleted=this.slice(startIndex+deleteCount);var itemsDeleted=this.slice(startIndex,startIndex+deleteCount);this.length=startIndex;var argumentsArray=[];for(var i=0,len=arguments.length;i<len;i++){argumentsArray[i]=arguments[i];}", "var itemsToAppend=(argumentsArray.length>2)?itemsAfterDeleted=argumentsArray.slice(2).concat(itemsAfterDeleted):itemsAfterDeleted;for(i=0,len=itemsToAppend.length;i<len;i++){this.push(itemsToAppend[i]);}", "return itemsDeleted;};}", "function array_remove(arr,val){var index=-1;for(var i=0,len=arr.length;i<len;i++){if(arr[i]===val){index=i;break;}}", "if(index>=0){arr.splice(index,1);return index;}else{return false;}}", "function array_removeFromStart(array,numberToRemove){if(Array.prototype.splice){array.splice(0,numberToRemove);}else{for(var i=numberToRemove,len=array.length;i<len;i++){array[i-numberToRemove]=array[i];}", "array.length=array.length-numberToRemove;}", "return array;}", "function array_contains(arr,val){for(var i=0,len=arr.length;i<len;i++){if(arr[i]==val){return true;}}", "return false;}", "function getErrorMessage(ex){if(ex.message){return ex.message;}else if(ex.description){return ex.description;}", 'return""+ex;}', "function moveCaretToEnd(input){if(input.setSelectionRange){input.focus();var length=input.value.length;input.setSelectionRange(length,length);}else if(input.createTextRange){var range=input.createTextRange();range.collapse(false);range.select();}", "input.focus();}", 'function stopPropagation(evt){if(evt.stopPropagation){evt.stopPropagation();}else if(typeof evt.cancelBubble!="undefined"){evt.cancelBubble=true;}}', "function getEvent(evt){return evt?evt:event;}", "function getTarget(evt){return evt.target?evt.target:evt.srcElement;}", 'function getRelatedTarget(evt){if(evt.relatedTarget){return evt.relatedTarget;}else if(evt.srcElement){switch(evt.type){case"mouseover":return evt.fromElement;case"mouseout":return evt.toElement;default:return evt.srcElement;}}}', "function cancelKeyEvent(evt){evt.returnValue=false;stopPropagation(evt);}", 'function evalCommandLine(){var expr=$("command").value;evalCommand(expr);$("command").value="";}', "function evalLastCommand(){if(lastCommand!=null){evalCommand(lastCommand);}}", 'var lastCommand=null;var commandHistory=[];var currentCommandIndex=0;function evalCommand(expr){if(appender){appender.evalCommandAndAppend(expr);}else{var prefix=">>> "+expr+"\\r\\n";try{log("INFO",prefix+eval(expr));}catch(ex){log("ERROR",prefix+"Error: "+getErrorMessage(ex));}}', "if(expr!=commandHistory[commandHistory.length-1]){commandHistory.push(expr);if(appender){appender.storeCommandHistory(commandHistory);}}", "currentCommandIndex=(expr==commandHistory[currentCommandIndex])?currentCommandIndex+1:commandHistory.length;lastCommand=expr;}", "//]\]>", "<\/script>", '<style type="text/css">', "body{background-color:white;color:black;padding:0;margin:0;font-family:tahoma,verdana,arial,helvetica,sans-serif;overflow:hidden}div#switchesContainer input{margin-bottom:0}div.toolbar{border-top:solid #ffffff 1px;border-bottom:solid #aca899 1px;background-color:#f1efe7;padding:3px 5px;font-size:68.75%}div.toolbar,div#search input{font-family:tahoma,verdana,arial,helvetica,sans-serif}div.toolbar input.button{padding:0 5px;font-size:100%}div.toolbar input.hidden{display:none}div#switches input#clearButton{margin-left:20px}div#levels label{font-weight:bold}div#levels label,div#options label{margin-right:5px}div#levels label#wrapLabel{font-weight:normal}div#search label{margin-right:10px}div#search label.searchboxlabel{margin-right:0}div#search input{font-size:100%}div#search input.validregex{color:green}div#search input.invalidregex{color:red}div#search input.nomatches{color:white;background-color:#ff6666}div#search input.nomatches{color:white;background-color:#ff6666}div#searchNav{display:none}div#commandLine{display:none}div#commandLine input#command{font-size:100%;font-family:Courier New,Courier}div#commandLine input#evaluateButton{}*.greyedout{color:gray !important;border-color:gray !important}*.greyedout *.alwaysenabled{color:black}*.unselectable{-khtml-user-select:none;-moz-user-select:none;user-select:none}div#log{font-family:Courier New,Courier;font-size:75%;width:100%;overflow:auto;clear:both;position:relative}div.group{border-color:#cccccc;border-style:solid;border-width:1px 0 1px 1px;overflow:visible}div.oldIe div.group,div.oldIe div.group *,div.oldIe *.logentry{height:1%}div.group div.groupheading span.expander{border:solid black 1px;font-family:Courier New,Courier;font-size:0.833em;background-color:#eeeeee;position:relative;top:-1px;color:black;padding:0 2px;cursor:pointer;cursor:hand;height:1%}div.group div.groupcontent{margin-left:10px;padding-bottom:2px;overflow:visible}div.group div.expanded{display:block}div.group div.collapsed{display:none}*.logentry{overflow:visible;display:none;white-space:pre}span.pre{white-space:pre}pre.unwrapped{display:inline !important}pre.unwrapped pre.pre,div.wrapped pre.pre{display:inline}div.wrapped pre.pre{white-space:normal}div.wrapped{display:none}body.searching *.logentry span.currentmatch{color:white !important;background-color:green !important}body.searching div.searchhighlight *.logentry span.searchterm{color:black;background-color:yellow}div.wrap *.logentry{white-space:normal !important;border-width:0 0 1px 0;border-color:#dddddd;border-style:dotted}div.wrap #log_wrapped,#log_unwrapped{display:block}div.wrap #log_unwrapped,#log_wrapped{display:none}div.wrap *.logentry span.pre{overflow:visible;white-space:normal}div.wrap *.logentry pre.unwrapped{display:none}div.wrap *.logentry span.wrapped{display:inline}div.searchfilter *.searchnonmatch{display:none !important}div#log *.TRACE,label#label_TRACE{color:#666666}div#log *.DEBUG,label#label_DEBUG{color:green}div#log *.INFO,label#label_INFO{color:#000099}div#log *.WARN,label#label_WARN{color:#999900}div#log *.ERROR,label#label_ERROR{color:red}div#log *.FATAL,label#label_FATAL{color:#660066}div.TRACE#log *.TRACE,div.DEBUG#log *.DEBUG,div.INFO#log *.INFO,div.WARN#log *.WARN,div.ERROR#log *.ERROR,div.FATAL#log *.FATAL{display:block}div#log div.separator{background-color:#cccccc;margin:5px 0;line-height:1px}", "<\/style>", "<\/head>", '<body id="body">', '<div id="switchesContainer">', '<div id="switches">', '<div id="levels" class="toolbar">', "Filters:", '<input type="checkbox" id="switch_TRACE" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide trace messages" /><label for="switch_TRACE" id="label_TRACE">trace<\/label>', '<input type="checkbox" id="switch_DEBUG" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide debug messages" /><label for="switch_DEBUG" id="label_DEBUG">debug<\/label>', '<input type="checkbox" id="switch_INFO" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide info messages" /><label for="switch_INFO" id="label_INFO">info<\/label>', '<input type="checkbox" id="switch_WARN" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide warn messages" /><label for="switch_WARN" id="label_WARN">warn<\/label>', '<input type="checkbox" id="switch_ERROR" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide error messages" /><label for="switch_ERROR" id="label_ERROR">error<\/label>', '<input type="checkbox" id="switch_FATAL" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide fatal messages" /><label for="switch_FATAL" id="label_FATAL">fatal<\/label>', '<input type="checkbox" id="switch_ALL" onclick="toggleAllLevels(); applyFilters()" checked="checked" title="Show/hide all messages" /><label for="switch_ALL" id="label_ALL">all<\/label>', "<\/div>", '<div id="search" class="toolbar">', '<label for="searchBox" class="searchboxlabel">Search:<\/label> <input type="text" id="searchBox" onclick="toggleSearchEnabled(true)" onkeyup="scheduleSearch()" size="20" />', '<input type="button" id="searchReset" disabled="disabled" value="Reset" onclick="clearSearch()" class="button" title="Reset the search" />', '<input type="checkbox" id="searchRegex" onclick="doSearch()" title="If checked, search is treated as a regular expression" /><label for="searchRegex">Regex<\/label>', '<input type="checkbox" id="searchCaseSensitive" onclick="doSearch()" title="If checked, search is case sensitive" /><label for="searchCaseSensitive">Match case<\/label>', '<input type="checkbox" id="searchDisable" onclick="toggleSearchEnabled()" title="Enable/disable search" /><label for="searchDisable" class="alwaysenabled">Disable<\/label>', '<div id="searchNav">', '<input type="button" id="searchNext" disabled="disabled" value="Next" onclick="searchNext()" class="button" title="Go to the next matching log entry" />', '<input type="button" id="searchPrevious" disabled="disabled" value="Previous" onclick="searchPrevious()" class="button" title="Go to the previous matching log entry" />', '<input type="checkbox" id="searchFilter" onclick="toggleSearchFilter()" title="If checked, non-matching log entries are filtered out" /><label for="searchFilter">Filter<\/label>', '<input type="checkbox" id="searchHighlight" onclick="toggleSearchHighlight()" title="Highlight matched search terms" /><label for="searchHighlight" class="alwaysenabled">Highlight all<\/label>', "<\/div>", "<\/div>", '<div id="options" class="toolbar">', "Options:", '<input type="checkbox" id="enableLogging" onclick="toggleLoggingEnabled()" checked="checked" title="Enable/disable logging" /><label for="enableLogging" id="enableLoggingLabel">Log<\/label>', '<input type="checkbox" id="wrap" onclick="toggleWrap()" title="Enable / disable word wrap" /><label for="wrap" id="wrapLabel">Wrap<\/label>', '<input type="checkbox" id="newestAtTop" onclick="toggleNewestAtTop()" title="If checked, causes newest messages to appear at the top" /><label for="newestAtTop" id="newestAtTopLabel">Newest at the top<\/label>', '<input type="checkbox" id="scrollToLatest" onclick="toggleScrollToLatest()" checked="checked" title="If checked, window automatically scrolls to a new message when it is added" /><label for="scrollToLatest" id="scrollToLatestLabel">Scroll to latest<\/label>', '<input type="button" id="clearButton" value="Clear" onclick="clearLog()" class="button" title="Clear all log messages"  />', '<input type="button" id="hideButton" value="Hide" onclick="hide()" class="hidden button" title="Hide the console" />', '<input type="button" id="closeButton" value="Close" onclick="closeWindow()" class="hidden button" title="Close the window" />', "<\/div>", "<\/div>", "<\/div>", '<div id="log" class="TRACE DEBUG INFO WARN ERROR FATAL"><\/div>', '<div id="commandLine" class="toolbar">', '<div id="commandLineContainer">', '<input type="text" id="command" title="Enter a JavaScript command here and hit return or press \'Evaluate\'" />', '<input type="button" id="evaluateButton" value="Evaluate" class="button" title="Evaluate the command" onclick="evalCommandLine()" />', "<\/div>", "<\/div>", "<\/body>", "<\/html>", ""]
                    },
                    v = [],
                    p;
                s = function() {};
                p = 1;
                s.prototype = new u;
                s.prototype.create = function(u, s, c, a, b, k, g, nt) {
                    function cr(n, t) {
                        this.loggingEvent = n;
                        this.levelName = n.level.name;
                        this.formattedMessage = t
                    }

                    function lr(n, t) {
                        this.name = n;
                        this.initiallyExpanded = t
                    }

                    function ar() {}
                    var ft = this,
                        ti = !1,
                        yt = !1,
                        ht = !1,
                        rt = !1,
                        dt = [],
                        ct = !0,
                        hr = p++,
                        ii, ri, ni, wi, bi, it, ki, bt, gi, nr, tr, si, ir, lt, hi, rr, vt, di, st;
                    a = d(a, this.defaults.initiallyMinimized);
                    c = d(c, this.defaults.lazyInit);
                    b = d(b, this.defaults.useDocumentWrite);
                    ii = this.defaults.newestMessageAtTop;
                    ri = this.defaults.scrollToLatestMessage;
                    k = k ? k : this.defaults.width;
                    g = g ? g : this.defaults.height;
                    var ui = this.defaults.maxMessages,
                        ei = this.defaults.showCommandLine,
                        ai = this.defaults.commandLineObjectExpansionDepth,
                        vi = this.defaults.showHideButton,
                        yi = this.defaults.showCloseButton,
                        yr = this.defaults.showLogEntryDeleteButtons;
                    this.setLayout(this.defaults.layout);
                    var pi, gt, oi, tt, pt, vr = u ? "InPageAppender" : "PopUpAppender",
                        wt = function(n) {
                            return yt ? (i(vr + ": configuration option '" + n + "' may not be set after the appender has been initialized"), !1) : !0
                        },
                        et = function() {
                            return ht && ct && !rt
                        };
                    if (this.isNewestMessageAtTop = function() {
                            return ii
                        }, this.setNewestMessageAtTop = function(n) {
                            ii = r(n);
                            et() && tt().setNewestAtTop(ii)
                        }, this.isScrollToLatestMessage = function() {
                            return ri
                        }, this.setScrollToLatestMessage = function(n) {
                            ri = r(n);
                            et() && tt().setScrollToLatest(ri)
                        }, this.getWidth = function() {
                            return k
                        }, this.setWidth = function(n) {
                            wt("width") && (k = l(n, k))
                        }, this.getHeight = function() {
                            return g
                        }, this.setHeight = function(n) {
                            wt("height") && (g = l(n, g))
                        }, this.getMaxMessages = function() {
                            return ui
                        }, this.setMaxMessages = function(n) {
                            ui = at(n, ui);
                            et() && tt().setMaxMessages(ui)
                        }, this.isShowCommandLine = function() {
                            return ei
                        }, this.setShowCommandLine = function(n) {
                            ei = r(n);
                            et() && tt().setShowCommandLine(ei)
                        }, this.isShowHideButton = function() {
                            return vi
                        }, this.setShowHideButton = function(n) {
                            vi = r(n);
                            et() && tt().setShowHideButton(vi)
                        }, this.isShowCloseButton = function() {
                            return yi
                        }, this.setShowCloseButton = function(n) {
                            yi = r(n);
                            et() && tt().setShowCloseButton(yi)
                        }, this.getCommandLineObjectExpansionDepth = function() {
                            return ai
                        }, this.setCommandLineObjectExpansionDepth = function(n) {
                            ai = at(n, ai)
                        }, ni = a, this.isInitiallyMinimized = function() {
                            return a
                        }, this.setInitiallyMinimized = function(n) {
                            wt("initiallyMinimized") && (a = r(n), ni = a)
                        }, this.isUseDocumentWrite = function() {
                            return b
                        }, this.setUseDocumentWrite = function(n) {
                            wt("useDocumentWrite") && (b = r(n))
                        }, cr.prototype.append = function() {
                            tt().log(this.levelName, this.formattedMessage)
                        }, lr.prototype.append = function() {
                            tt().group(this.name, this.initiallyExpanded)
                        }, ar.prototype.append = function() {
                            tt().groupEnd()
                        }, wi = function() {
                            oi();
                            ti ? rt && sr && gt() : pi();
                            oi() && bi()
                        }, this.append = function(n) {
                            if (ct) {
                                var t = ft.getLayout().formatWithException(n);
                                dt.push(new cr(n, t));
                                wi()
                            }
                        }, this.group = function(n, t) {
                            ct && (dt.push(new lr(n, t)), wi())
                        }, this.groupEnd = function() {
                            ct && (dt.push(new ar), wi())
                        }, bi = function() {
                            for (; dt.length > 0;) dt.shift().append();
                            nt && tt().focus()
                        }, this.setAddedToLogger = function(n) {
                            this.loggers.push(n);
                            h && !c && pi()
                        }, this.clear = function() {
                            et() && tt().clearLog();
                            dt.length = 0
                        }, this.focus = function() {
                            et() && tt().focus()
                        }, this.focusCommandLine = function() {
                            et() && tt().focusCommandLine()
                        }, this.focusSearch = function() {
                            et() && tt().focusSearch()
                        }, it = window, this.getCommandWindow = function() {
                            return it
                        }, this.setCommandWindow = function(n) {
                            it = n
                        }, this.executeLastCommand = function() {
                            et() && tt().evalLastCommand()
                        }, ki = new f("%m"), this.getCommandLayout = function() {
                            return ki
                        }, this.setCommandLayout = function(n) {
                            ki = n
                        }, this.evalCommandAndAppend = function(i) {
                            var f = {
                                    appendResult: !0,
                                    isError: !1
                                },
                                h = "",
                                e, r, c, s, u, a, l;
                            try {
                                for (!it.eval && it.execScript && it.execScript("null"), c = {}, r = 0, len = bt.length; r < len; r++) c[bt[r][0]] = bt[r][1];
                                for (s = [], u = function(n) {
                                        s.push([n, it[n]])
                                    }, u("appender"), it.appender = ft, u("commandReturnValue"), it.commandReturnValue = f, u("commandLineFunctionsHash"), it.commandLineFunctionsHash = c, a = function(n) {
                                        u(n);
                                        it[n] = function() {
                                            return this.commandLineFunctionsHash[n](ft, arguments, f)
                                        }
                                    }, r = 0, len = bt.length; r < len; r++) a(bt[r][0]);
                                for (it === window && it.execScript ? (u("evalExpr"), u("result"), window.evalExpr = i, it.execScript("window.result=eval(window.evalExpr);"), e = window.result) : e = it.eval(i), h = o(e) ? e : li(e, ai), r = 0, len = s.length; r < len; r++) it[s[r][0]] = s[r][1]
                            } catch (v) {
                                h = "Error evaluating command: " + y(v);
                                f.isError = !0
                            }
                            if (f.appendResult) {
                                l = ">>> " + i;
                                o(h) || (l += t + h);
                                var p = f.isError ? n.ERROR : n.INFO,
                                    w = new ot(null, new Date, p, [l], null),
                                    b = this.getLayout();
                                this.setLayout(ki);
                                this.append(w);
                                this.setLayout(b)
                            }
                        }, bt = v.concat([]), this.addCommandLineFunction = function(n, t) {
                            bt.push([n, t])
                        }, gi = "log4javascriptCommandHistory", this.storeCommandHistory = function(n) {
                            fr(gi, n.join(","))
                        }, nr = function(n) {
                            var i = w(),
                                t, r;
                            for (n.open(), t = 0, r = i.length; t < r; t++) n.writeln(i[t]);
                            n.close()
                        }, this.setEventTypes(["load", "unload"]), tr = function() {
                            var n = tt(),
                                t;
                            n.setAppender(ft);
                            n.setNewestAtTop(ii);
                            n.setScrollToLatest(ri);
                            n.setMaxMessages(ui);
                            n.setShowCommandLine(ei);
                            n.setShowHideButton(vi);
                            n.setShowCloseButton(yi);
                            n.setMainWindow(window);
                            t = er(gi);
                            t && (n.commandHistory = t.split(","), n.currentCommandIndex = n.commandHistory.length);
                            ft.dispatchEvent("load", {
                                win: n
                            })
                        }, this.unload = function() {
                            e.debug("unload " + this + ", caller: " + this.unload.caller);
                            rt || (e.debug("really doing unload " + this), rt = !0, ht = !1, yt = !1, ft.dispatchEvent("unload", {}))
                        }, si = function(n, t, r, u) {
                            function e() {
                                try {
                                    rt && clearInterval(f);
                                    n(tt()) && (clearInterval(f), r())
                                } catch (t) {
                                    clearInterval(f);
                                    ct = !1;
                                    i(u, t)
                                }
                            }
                            var f = setInterval(e, t)
                        }, ir = function() {
                            var n = document.domain != location.hostname;
                            return b ? "" : or() + "console.html" + (n ? "?log4javascript_domain=" + escape(document.domain) : "")
                        }, u) lt = null, hi = [], this.addCssProperty = function(n, t) {
                        wt("cssProperties") && hi.push([n, t])
                    }, rr = !1, di = fi + "_InPageAppender_" + hr, this.hide = function() {
                        ti && yt && (et() && tt().$("command").blur(), vt.style.display = "none", ni = !0)
                    }, this.show = function() {
                        ti && (yt ? (vt.style.display = "block", this.setShowCommandLine(ei), ni = !1) : rr || gt(!0))
                    }, this.isVisible = function() {
                        return !ni && !rt
                    }, this.close = function(n) {
                        rt || n && !confirm("This will permanently remove the console from the page. No more messages will be logged. Do you wish to continue?") || (vt.parentNode.removeChild(vt), this.unload())
                    }, pt = function() {
                        function f() {
                            try {
                                a || ft.show();
                                tr();
                                ht = !0;
                                bi()
                            } catch (n) {
                                ct = !1;
                                i(t, n)
                            }
                        }

                        function e() {
                            try {
                                var n = function(n) {
                                    return ut(n)
                                };
                                b && nr(tt().document);
                                n(tt()) ? f() : si(n, 100, f, t)
                            } catch (r) {
                                ct = !1;
                                i(t, r)
                            }
                        }
                        var t = "InPageAppender.open: unable to create console iframe",
                            n, o, s, u;
                        for (ni = !1, vt = lt.appendChild(document.createElement("div")), vt.style.width = k, vt.style.height = g, vt.style.border = "solid gray 1px", n = 0, o = hi.length; n < o; n++) vt.style[hi[n][0]] = hi[n][1];
                        s = b ? "" : " src='" + ir() + "'";
                        vt.innerHTML = "<iframe id='" + di + "' name='" + di + "' width='100%' height='100%' frameborder='0'" + s + " scrolling='no'><\/iframe>";
                        rt = !1;
                        u = function(n) {
                            try {
                                return r(n) && r(n.document)
                            } catch (t) {
                                return !1
                            }
                        };
                        u(tt()) ? e() : si(u, 100, e, t);
                        yt = !0
                    }, gt = function(n) {
                        if (n || !a) {
                            var t = function() {
                                if (s) try {
                                    var n = document.getElementById(s);
                                    n.nodeType == 1 && (lt = n);
                                    pt()
                                } catch (t) {
                                    i("InPageAppender.init: invalid container element '" + s + "' supplied", t)
                                } else lt = document.createElement("div"), lt.style.position = "fixed", lt.style.left = "0", lt.style.right = "0", lt.style.bottom = "0", document.body.appendChild(lt), ft.addCssProperty("borderWidth", "1px 0 0 0"), ft.addCssProperty("zIndex", 1e6), pt()
                            };
                            kt && s && s.appendChild ? (lt = s, pt()) : kt ? t() : log4javascript.addEventListener("load", t);
                            rr = !0
                        }
                    }, pi = function() {
                        gt();
                        ti = !0
                    }, tt = function() {
                        var n = window.frames[di];
                        if (n) return n
                    }, oi = function() {
                        return ct && !rt ? (yt && !ht && tt() && ut(tt()) && (ht = !0), ht) : !1
                    };
                    else {
                        var ci = ft.defaults.useOldPopUp,
                            ur = ft.defaults.complainAboutPopUpBlocking,
                            sr = this.defaults.reopenWhenClosed;
                        this.isUseOldPopUp = function() {
                            return ci
                        };
                        this.setUseOldPopUp = function(n) {
                            wt("useOldPopUp") && (ci = r(n))
                        };
                        this.isComplainAboutPopUpBlocking = function() {
                            return ur
                        };
                        this.setComplainAboutPopUpBlocking = function(n) {
                            wt("complainAboutPopUpBlocking") && (ur = r(n))
                        };
                        this.isFocusPopUp = function() {
                            return nt
                        };
                        this.setFocusPopUp = function(n) {
                            nt = r(n)
                        };
                        this.isReopenWhenClosed = function() {
                            return sr
                        };
                        this.setReopenWhenClosed = function(n) {
                            sr = r(n)
                        };
                        this.close = function() {
                            e.debug("close " + this);
                            try {
                                st.close();
                                this.unload()
                            } catch (n) {}
                        };
                        this.hide = function() {
                            e.debug("hide " + this);
                            et() && this.close()
                        };
                        this.show = function() {
                            e.debug("show " + this);
                            yt || pt()
                        };
                        this.isVisible = function() {
                            return oi()
                        };
                        pt = function() {
                            function f() {
                                tt().setCloseIfOpenerCloses(!ci || !b);
                                tr();
                                ht = !0;
                                bi();
                                si(o, 500, s, "PopUpAppender.checkPopUpClosed: error checking pop-up window")
                            }
                            var c = "width=" + k + ",height=" + g + ",status,resizable",
                                u = "",
                                n, t, o, s, h;
                            try {
                                n = window.frameElement;
                                n && (u = "_" + n.tagName + "_" + (n.name || n.id || ""))
                            } catch (a) {
                                u = "_inaccessibleParentFrame"
                            }
                            t = "PopUp_" + location.host.replace(/[^a-z0-9]/gi, "_") + "_" + hr + u;
                            ci && b || (t = t + "_" + fi);
                            o = function(n) {
                                if (rt) return !0;
                                try {
                                    return r(n) && n.closed
                                } catch (t) {}
                                return !1
                            };
                            s = function() {
                                rt || ft.unload()
                            };
                            try {
                                st = window.open(ir(), t, c);
                                rt = !1;
                                yt = !0;
                                st && st.document ? b && ci && ut(st) ? (st.mainPageReloaded(), f()) : (b && nr(st.document), h = function(n) {
                                    return r(n) && ut(n)
                                }, ut(st) ? f() : si(h, 100, f, "PopUpAppender.init: unable to create console window")) : (ct = !1, e.warn("PopUpAppender.init: pop-ups blocked, please unblock to use PopUpAppender"), ur && i("log4javascript: pop-up windows appear to be blocked. Please unblock them to use pop-up logging."))
                            } catch (l) {
                                i("PopUpAppender.init: error creating pop-up", l)
                            }
                        };
                        gt = function() {
                            a || pt()
                        };
                        pi = function() {
                            gt();
                            ti = !0
                        };
                        tt = function() {
                            return st
                        };
                        oi = function() {
                            if (ct && !o(st) && !rt) {
                                if (st.closed || ht && o(st.closed)) return ft.unload(), e.debug("PopUpAppender: pop-up closed"), !1;
                                !ht && ut(st) && (ht = !0)
                            }
                            return ct && ht && !rt
                        }
                    }
                    this.getConsoleWindow = tt
                };
                s.addGlobalCommandLineFunction = function(n, t) {
                    v.push([n, t])
                };
                a.prototype = new s;
                a.prototype.defaults = {
                    layout: new f("%d{HH:mm:ss} %-5p - %m{1}%n"),
                    initiallyMinimized: !1,
                    focusPopUp: !1,
                    lazyInit: !0,
                    useOldPopUp: !0,
                    complainAboutPopUpBlocking: !0,
                    newestMessageAtTop: !1,
                    scrollToLatestMessage: !0,
                    width: "600",
                    height: "400",
                    reopenWhenClosed: !1,
                    maxMessages: null,
                    showCommandLine: !0,
                    commandLineObjectExpansionDepth: 1,
                    showHideButton: !1,
                    showCloseButton: !0,
                    showLogEntryDeleteButtons: !0,
                    useDocumentWrite: !0
                };
                a.prototype.toString = function() {
                    return "PopUpAppender"
                };
                log4javascript.PopUpAppender = a;
                c.prototype = new s;
                c.prototype.defaults = {
                    layout: new f("%d{HH:mm:ss} %-5p - %m{1}%n"),
                    initiallyMinimized: !1,
                    lazyInit: !0,
                    newestMessageAtTop: !1,
                    scrollToLatestMessage: !0,
                    width: "100%",
                    height: "220px",
                    maxMessages: null,
                    showCommandLine: !0,
                    commandLineObjectExpansionDepth: 1,
                    showHideButton: !1,
                    showCloseButton: !1,
                    showLogEntryDeleteButtons: !0,
                    useDocumentWrite: !0
                };
                c.prototype.toString = function() {
                    return "InPageAppender"
                };
                log4javascript.InPageAppender = c;
                log4javascript.InlineAppender = c
            }(),
            function() {
                function u(n) {
                    var r = 0,
                        i, u, e, f;
                    for (i in n) r = Math.max(c(i).length, r);
                    u = [];
                    for (i in n) {
                        e = "  " + wi(c(i), r + 2);
                        try {
                            f = gt(c(n[i])).join(wi(t, r + 6))
                        } catch (o) {
                            f = "[Error obtaining property. Details: " + dt(o) + "]"
                        }
                        u.push(e + f)
                    }
                    return u.join(t)
                }

                function i(u, e, s, h, c) {
                    function ot(t) {
                        return t.nodeType == n.TEXT_NODE && /^[ \t\r\n]*$/.test(t.nodeValue)
                    }

                    function st(n) {
                        return n.toString().replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/"/g, "&quot;")
                    }

                    function ut(n) {
                        for (var u = n.style.cssText.split(";"), f = "", i, r, t = 0, e = u.length; t < e; t++) i = u[t].split(":"), r = [], /^\s*$/.test(i[0]) || r.push(ct(i[0]).toLowerCase() + ":" + ct(i[1])), f = r.join(";");
                        return f
                    }

                    function ht(n) {
                        if (n.prefix) return n.prefix;
                        if (n.outerHTML) {
                            var t = new RegExp("<([^:]+):" + n.tagName + "[^>]*>", "i");
                            if (t.test(n.outerHTML)) return RegExp.$1.toLowerCase()
                        }
                        return ""
                    }
                    var l, b, w, p, d, g, y, ft, nt, et, tt, it, rt, a, v;
                    if (e = typeof e == "undefined" ? !0 : !!e, typeof s != "string" && (s = ""), h = !!h, c = !!c, b = "<", w = ">", e && u.nodeType != n.DOCUMENT_FRAGMENT_NODE) switch (u.nodeType) {
                        case n.ELEMENT_NODE:
                            for (p = u.tagName.toLowerCase(), l = h ? t + s : "", l += b, d = ht(u), g = !!d, g && (l += d + ":"), l += p, a = 0, v = u.attributes.length; a < v; a++)(y = u.attributes[a], y.specified && y.nodeValue !== null && y.nodeName.toLowerCase() !== "style" && typeof y.nodeValue == "string" && y.nodeName.indexOf("_moz") !== 0) && (l += " " + y.nodeName.toLowerCase() + '="', l += st(y.nodeValue), l += '"');
                            if (u.style.cssText && (ft = ut(u), ft !== "" && (l += ' style="' + ut(u) + '"')), k(o, p) || g && !u.hasChildNodes()) l += "/" + w;
                            else {
                                for (l += w, nt = !(u.childNodes.length === 1 && u.childNodes[0].nodeType === n.TEXT_NODE), et = k(f, p), a = 0, v = u.childNodes.length; a < v; a++) l += i(u.childNodes[a], !0, s + r, nt, et);
                                tt = b + "/" + p + w;
                                l += nt ? t + s + tt : tt
                            }
                            return l;
                        case n.TEXT_NODE:
                            if (ot(u)) l = "";
                            else {
                                if (c) l = u.nodeValue;
                                else {
                                    for (it = gt(ct(u.nodeValue)), rt = [], a = 0, v = it.length; a < v; a++) rt[a] = ct(it[a]);
                                    l = rt.join(t + s)
                                }
                                h && (l = t + s + l)
                            }
                            return l;
                        case n.CDATA_SECTION_NODE:
                            return "<![CDATA[" + u.nodeValue + "]\]>" + t;
                        case n.DOCUMENT_NODE:
                            for (l = "", a = 0, v = u.childNodes.length; a < v; a++) l += i(u.childNodes[a], !0, s);
                            return l;
                        default:
                            return ""
                    } else {
                        for (l = "", a = 0, v = u.childNodes.length; a < v; a++) l += i(u.childNodes[a], !0, s + r);
                        return l
                    }
                }

                function h() {
                    s.addGlobalCommandLineFunction("$", function(n, t) {
                        return document.getElementById(t[0])
                    });
                    s.addGlobalCommandLineFunction("dir", function(n, i) {
                        for (var f = [], r = 0, e = i.length; r < e; r++) f[r] = u(i[r]);
                        return f.join(t + t)
                    });
                    s.addGlobalCommandLineFunction("dirxml", function(n, r) {
                        for (var f = [], o, u = 0, e = r.length; u < e; u++) o = n.getCommandWindow(), f[u] = i(r[u]);
                        return f.join(t + t)
                    });
                    s.addGlobalCommandLineFunction("cd", function(n, t, i) {
                        var r, u;
                        return t.length === 0 || t[0] === "" ? (r = window, u = "Command line set to run in main window") : t[0].window == t[0] ? (r = t[0], u = "Command line set to run in frame '" + t[0].name + "'") : (r = window.frames[t[0]], r ? u = "Command line set to run in frame '" + t[0] + "'" : (i.isError = !0, u = "Frame '" + t[0] + "' does not exist", r = n.getCommandWindow())), n.setCommandWindow(r), u
                    });
                    s.addGlobalCommandLineFunction("clear", function(n, t, i) {
                        i.appendResult = !1;
                        n.clear()
                    });
                    s.addGlobalCommandLineFunction("keys", function(n, t) {
                        var i = [],
                            r;
                        for (r in t[0]) i.push(r);
                        return i
                    });
                    s.addGlobalCommandLineFunction("values", function(n, t) {
                        var r = [],
                            i;
                        for (i in t[0]) try {
                            r.push(t[0][i])
                        } catch (u) {
                            e.warn("values(): Unable to obtain value for key " + i + ". Details: " + dt(u))
                        }
                        return r
                    });
                    s.addGlobalCommandLineFunction("expansionDepth", function(n, t, i) {
                        var r = parseInt(t[0], 10);
                        return isNaN(r) || r < 0 ? (i.isError = !0, "" + t[0] + " is not a valid expansion depth") : (n.setCommandLineObjectExpansionDepth(r), "Object expansion depth set to " + r)
                    })
                }

                function l() {
                    h()
                }
                var n = {
                        ELEMENT_NODE: 1,
                        ATTRIBUTE_NODE: 2,
                        TEXT_NODE: 3,
                        CDATA_SECTION_NODE: 4,
                        ENTITY_REFERENCE_NODE: 5,
                        ENTITY_NODE: 6,
                        PROCESSING_INSTRUCTION_NODE: 7,
                        COMMENT_NODE: 8,
                        DOCUMENT_NODE: 9,
                        DOCUMENT_TYPE_NODE: 10,
                        DOCUMENT_FRAGMENT_NODE: 11,
                        NOTATION_NODE: 12
                    },
                    f = ["script", "pre"],
                    o = ["br", "img", "hr", "param", "link", "area", "input", "col", "base", "meta"],
                    r = "  ";
                l()
            }(), log4javascript.setDocumentReady = function() {
                kt = !0;
                log4javascript.dispatchEvent("load", {})
            }, window.addEventListener ? window.addEventListener("load", log4javascript.setDocumentReady, !1) : window.attachEvent ? window.attachEvent("onload", log4javascript.setDocumentReady) : (ri = window.onload, window.onload = typeof window.onload != "function" ? log4javascript.setDocumentReady : function(n) {
                ri && ri(n);
                log4javascript.setDocumentReady()
            }), window.log4javascript = log4javascript, log4javascript
    }(), ! function(n, t) {
        "object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define(t) : n.ES6Promise = t()
    }(this, function() {
        "use strict";

        function ct(n) {
            var t = typeof n;
            return null !== n && ("object" === t || "function" === t)
        }

        function nt(n) {
            return "function" == typeof n
        }

        function lt(n) {
            g = n
        }

        function at(n) {
            u = n
        }

        function vt() {
            return function() {
                return process.nextTick(f)
            }
        }

        function yt() {
            return "undefined" != typeof d ? function() {
                d(f)
            } : y()
        }

        function pt() {
            var n = 0,
                i = new st(f),
                t = document.createTextNode("");
            return i.observe(t, {
                    characterData: !0
                }),
                function() {
                    t.data = n = ++n % 2
                }
        }

        function wt() {
            var n = new MessageChannel;
            return n.port1.onmessage = f,
                function() {
                    return n.port2.postMessage(0)
                }
        }

        function y() {
            var n = setTimeout;
            return function() {
                return n(f, 1)
            }
        }

        function f() {
            for (var t, i, n = 0; n < o; n += 2) t = s[n], i = s[n + 1], t(i), s[n] = void 0, s[n + 1] = void 0;
            o = 0
        }

        function bt() {
            try {
                var n = Function("return this")().require("vertx");
                return d = n.runOnLoop || n.runOnContext, yt()
            } catch (t) {
                return y()
            }
        }

        function p(n, t) {
            var f = this,
                i = new this.constructor(e),
                r, o;
            return void 0 === i[v] && ut(i), r = f._state, r ? (o = arguments[r - 1], u(function() {
                return rt(r, i, o, f._result)
            })) : b(f, i, n, t), i
        }

        function w(n) {
            var i = this,
                t;
            return n && "object" == typeof n && n.constructor === i ? n : (t = new i(e), l(t, n), t)
        }

        function e() {}

        function kt() {
            return new TypeError("You cannot resolve a promise with itself")
        }

        function dt() {
            return new TypeError("A promises callback cannot return that same promise.")
        }

        function tt(n) {
            try {
                return n.then
            } catch (t) {
                return r.error = t, r
            }
        }

        function gt(n, t, i, r) {
            try {
                n.call(t, i, r)
            } catch (u) {
                return u
            }
        }

        function ni(n, r, f) {
            u(function(n) {
                var u = !1,
                    e = gt(f, r, function(t) {
                        u || (u = !0, r !== t ? l(n, t) : i(n, t))
                    }, function(i) {
                        u || (u = !0, t(n, i))
                    }, "Settle: " + (n._label || " unknown promise"));
                !u && e && (u = !0, t(n, e))
            }, n)
        }

        function ti(n, r) {
            r._state === a ? i(n, r._result) : r._state === c ? t(n, r._result) : b(r, void 0, function(t) {
                return l(n, t)
            }, function(i) {
                return t(n, i)
            })
        }

        function it(n, u, f) {
            u.constructor === n.constructor && f === p && u.constructor.resolve === w ? ti(n, u) : f === r ? (t(n, r.error), r.error = null) : void 0 === f ? i(n, u) : nt(f) ? ni(n, u, f) : i(n, u)
        }

        function l(n, r) {
            n === r ? t(n, kt()) : ct(r) ? it(n, r, tt(r)) : i(n, r)
        }

        function ii(n) {
            n._onerror && n._onerror(n._result);
            k(n)
        }

        function i(n, t) {
            n._state === h && (n._result = t, n._state = a, 0 !== n._subscribers.length && u(k, n))
        }

        function t(n, t) {
            n._state === h && (n._state = c, n._result = t, u(ii, n))
        }

        function b(n, t, i, r) {
            var f = n._subscribers,
                e = f.length;
            n._onerror = null;
            f[e] = t;
            f[e + a] = i;
            f[e + c] = r;
            0 === e && n._state && u(k, n)
        }

        function k(n) {
            var t = n._subscribers,
                f = n._state;
            if (0 !== t.length) {
                for (var r = void 0, u = void 0, e = n._result, i = 0; i < t.length; i += 3) r = t[i], u = t[i + f], r ? rt(f, r, u, e) : u(e);
                n._subscribers.length = 0
            }
        }

        function ri(n, t) {
            try {
                return n(t)
            } catch (i) {
                return r.error = i, r
            }
        }

        function rt(n, u, f, e) {
            var v = nt(f),
                o = void 0,
                y = void 0,
                s = void 0,
                p = void 0;
            if (v) {
                if (o = ri(f, e), o === r ? (p = !0, y = o.error, o.error = null) : s = !0, u === o) return void t(u, dt())
            } else o = e, s = !0;
            u._state !== h || (v && s ? l(u, o) : p ? t(u, y) : n === a ? i(u, o) : n === c && t(u, o))
        }

        function ui(n, i) {
            try {
                i(function(t) {
                    l(n, t)
                }, function(i) {
                    t(n, i)
                })
            } catch (r) {
                t(n, r)
            }
        }

        function fi() {
            return ht++
        }

        function ut(n) {
            n[v] = ht++;
            n._state = void 0;
            n._result = void 0;
            n._subscribers = []
        }

        function ei() {
            return new Error("Array Methods must be provided an Array")
        }

        function oi(n) {
            return new bi(this, n).promise
        }

        function si(n) {
            var t = this;
            return new t(ft(n) ? function(i, r) {
                for (var f = n.length, u = 0; u < f; u++) t.resolve(n[u]).then(i, r)
            } : function(n, t) {
                return t(new TypeError("You must pass an array to race."))
            })
        }

        function hi(n) {
            var r = this,
                i = new r(e);
            return t(i, n), i
        }

        function ci() {
            throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");
        }

        function li() {
            throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
        }

        function ai() {
            var t = void 0,
                i, r;
            if ("undefined" != typeof global) t = global;
            else if ("undefined" != typeof self) t = self;
            else try {
                t = Function("return this")()
            } catch (u) {
                throw new Error("polyfill failed because global object is unavailable in this environment");
            }
            if (i = t.Promise, i) {
                r = null;
                try {
                    r = Object.prototype.toString.call(i.resolve())
                } catch (u) {}
                if ("[object Promise]" === r && !i.cast) return
            }
            t.Promise = n
        }
        var vi = Array.isArray ? Array.isArray : function(n) {
            return "[object Array]" === Object.prototype.toString.call(n)
        };
        var ft = vi,
            o = 0,
            d = void 0,
            g = void 0,
            u = function(n, t) {
                s[o] = n;
                s[o + 1] = t;
                o += 2;
                2 === o && (g ? g(f) : wi())
            },
            et = "undefined" != typeof window ? window : void 0,
            ot = et || {},
            st = ot.MutationObserver || ot.WebKitMutationObserver,
            yi = "undefined" == typeof self && "undefined" != typeof process && "[object process]" === {}.toString.call(process),
            pi = "undefined" != typeof Uint8ClampedArray && "undefined" != typeof importScripts && "undefined" != typeof MessageChannel,
            s = new Array(1e3),
            wi = yi ? vt() : st ? pt() : pi ? wt() : void 0 === et && "function" == typeof require ? bt() : y();
        var v = Math.random().toString(36).substring(2),
            h = void 0,
            a = 1,
            c = 2,
            r = {
                error: null
            },
            ht = 0,
            bi = function() {
                function r(n, r) {
                    this._instanceConstructor = n;
                    this.promise = new n(e);
                    this.promise[v] || ut(this.promise);
                    ft(r) ? (this.length = r.length, this._remaining = r.length, this._result = new Array(this.length), 0 === this.length ? i(this.promise, this._result) : (this.length = this.length || 0, this._enumerate(r), 0 === this._remaining && i(this.promise, this._result))) : t(this.promise, ei())
                }
                return r.prototype._enumerate = function(n) {
                    for (var t = 0; this._state === h && t < n.length; t++) this._eachEntry(n[t], t)
                }, r.prototype._eachEntry = function(t, i) {
                    var r = this._instanceConstructor,
                        o = r.resolve,
                        u, f;
                    o === w ? (u = tt(t), u === p && t._state !== h ? this._settledAt(t._state, i, t._result) : "function" != typeof u ? (this._remaining--, this._result[i] = t) : r === n ? (f = new r(e), it(f, t, u), this._willSettleAt(f, i)) : this._willSettleAt(new r(function(n) {
                        return n(t)
                    }), i)) : this._willSettleAt(o(t), i)
                }, r.prototype._settledAt = function(n, r, u) {
                    var f = this.promise;
                    f._state === h && (this._remaining--, n === c ? t(f, u) : this._result[r] = u);
                    0 === this._remaining && i(f, this._result)
                }, r.prototype._willSettleAt = function(n, t) {
                    var i = this;
                    b(n, void 0, function(n) {
                        return i._settledAt(a, t, n)
                    }, function(n) {
                        return i._settledAt(c, t, n)
                    })
                }, r
            }(),
            n = function() {
                function n(t) {
                    this[v] = fi();
                    this._result = this._state = void 0;
                    this._subscribers = [];
                    e !== t && ("function" != typeof t && ci(), this instanceof n ? ui(this, t) : li())
                }
                return n.prototype["catch"] = function(n) {
                    return this.then(null, n)
                }, n.prototype["finally"] = function(n) {
                    var t = this,
                        i = t.constructor;
                    return t.then(function(t) {
                        return i.resolve(n()).then(function() {
                            return t
                        })
                    }, function(t) {
                        return i.resolve(n()).then(function() {
                            throw t;
                        })
                    })
                }, n
            }();
        return n.prototype.then = p, n.all = oi, n.race = si, n.resolve = w, n.reject = hi, n._setScheduler = lt, n._setAsap = at, n._asap = u, n.polyfill = ai, n.Promise = n, n.polyfill(), n
    }), app = app || {}, function(n) {
        typeof define == "function" && define.amd ? define(["jquery"], n) : typeof exports == "object" ? n(require("jquery")) : n(jQuery)
    }(function(n) {
        function i(n) {
            return t.raw ? n : encodeURIComponent(n)
        }

        function f(n) {
            return t.raw ? n : decodeURIComponent(n)
        }

        function e(n) {
            return i(t.json ? JSON.stringify(n) : String(n))
        }

        function o(n) {
            n.indexOf('"') === 0 && (n = n.slice(1, -1).replace(/\\"/g, '"').replace(/\\\\/g, "\\"));
            try {
                return n = decodeURIComponent(n.replace(u, " ")), t.json ? JSON.parse(n) : n
            } catch (i) {
                return n
            }
        }

        function r(i, r) {
            var u = t.raw ? i : o(i);
            return n.isFunction(r) ? r(u) : u
        }
        var u = /\+/g,
            t = n.cookie = function(u, o, s) {
                var y, a, h, v, c, p;
                if (arguments.length > 1 && !n.isFunction(o)) return s = n.extend({}, t.defaults, s), typeof s.expires == "number" && (y = s.expires, a = s.expires = new Date, a.setTime(+a + y * 864e5)), document.cookie = [i(u), "=", e(o), s.expires ? "; expires=" + s.expires.toUTCString() : "", s.path ? "; path=" + s.path : "", s.domain ? "; domain=" + s.domain : "", s.secure ? "; secure" : ""].join("");
                for (h = u ? undefined : {}, v = document.cookie ? document.cookie.split("; ") : [], c = 0, p = v.length; c < p; c++) {
                    var w = v[c].split("="),
                        b = f(w.shift()),
                        l = w.join("=");
                    if (u && u === b) {
                        h = r(l, o);
                        break
                    }
                    u || (l = r(l)) === undefined || (h[b] = l)
                }
                return h
            };
        t.defaults = {};
        n.removeCookie = function(t, i) {
            return n.cookie(t) === undefined ? !1 : (n.cookie(t, "", n.extend({}, i, {
                expires: -1
            })), !n.cookie(t))
        }
    }), app.cookieData = function() {
        var t = function(n, t, i) {
                if (typeof n == "string") {
                    var r = $.cookie(n);
                    r = r !== undefined && r !== null && JSON.stringify(r) !== "{}" ? $.parseJSON(r) : {};
                    r[t] = i;
                    $.cookie(n, JSON.stringify(r), {
                        path: "/"
                    })
                }
            },
            i = function(n, t) {
                var i, r;
                typeof n == "string" && (i = $.cookie(n), i = i !== undefined && i !== null && JSON.stringify(i) !== "{}" ? $.parseJSON(i) : {}, t !== null && i[t] && delete i[t], r = JSON.stringify(i), i = r === "{}" ? null : r, $.cookie(n, i, {
                    path: "/"
                }))
            },
            r = function(n) {
                $.cookie(n, {}, {
                    path: "/"
                })
            },
            n = function(n) {
                var t = $.cookie(n),
                    i = t;
                if (t) {
                    try {
                        i = $.parseJSON(t)
                    } catch (r) {}
                    return i
                }
                return null
            },
            u = function(t, i, r) {
                var u = n(t),
                    f = !1;
                return r === undefined ? f = u && u[i] !== undefined ? !0 : !1 : u !== undefined && u[i] !== undefined && (f = u[i] === r ? !0 : !1), f
            };
        return $.cookie.json = !0, {
            add: t,
            remove: i,
            clear: r,
            contains: u,
            getData: n
        }
    }(), fakeStorage = function(n) {
        var t = {},
            i = {};
        Object.defineProperty(window, n, {
            get: function() {
                return i
            }
        });
        i.key = function(n) {
            var i = Object.keys(t)[n];
            return typeof i == "string" ? i : null
        };
        i.getItem = function(n) {
            return typeof t[n] == "string" ? t[n] : null
        };
        i.setItem = function(n, i) {
            t[n] = String(i)
        };
        i.removeItem = function(n) {
            delete t[n]
        };
        i.clear = function() {
            t = {}
        }
    }, (!navigator.cookieEnabled || !Modernizr.localstorage) && !(navigator.userAgent.indexOf("facebookexternalhit") >= 0) && !(navigator.userAgent.indexOf("Facebot") >= 0)) try {
        sessionStorage.setItem("sessionStorageTest", 1);
        sessionStorage.removeItem("sessionStorageTest")
    } catch (e) {
        fakeStorage("sessionStorage");
        fakeStorage("localStorage")
    }(function(n) {
        var t = function() {
            var u = {
                    val: {},
                    scrollDisabled: !1,
                    defaultVal: {
                        Id: 0,
                        Name: "All"
                    },
                    list: [],
                    children: null,
                    id: "Id",
                    dropdownKeyup: !1,
                    disablePageScroll: !0,
                    enableTabletNative: !1,
                    multiple: !1,
                    template: "<span data-Id='{{Id}}'>{{Name}}<\/span><ul class='dropdown'>{{#with defaultVal}}<li class='universalDropdownItem' data-Id='{{Id}}'>{{Name}}<\/li>{{/with}}{{#each items}}<li class='universalDropdownItem' data-Id='{{Id}}'>{{Name}} {{PropertyNumber}}<\/li>{{/each}}<\/ul><select class='dropdownSelect'>{{#with defaultVal}}<option value='{{Id}}'>{{Name}}<\/option>{{/with}}{{#each items}}<option value='{{Id}}'>{{Name}}<\/option>{{/each}}<\/select>",
                    onChange: function() {},
                    onOpen: function() {},
                    onClose: function() {}
                },
                i = function(t) {
                    var i = n(t),
                        r = i.data("dropdown"),
                        u = i.find("span[data-Id]"),
                        f = i.find("select.dropdownSelect");
                    r.val.Id !== u.data("Id") && i.find("span[data-Id]").text(r.val.Name).data("Id", r.val.Id);
                    r.val.Id !== f.val() && i.find("select.dropdownSelect").val(r.val.Id)
                },
                t = function(i) {
                    var r = i.data.element,
                        u = r.data("dropdown");
                    if (!o(i.data.element.get(0), i.target, i.data.element.get(0))) return i.data.element.removeClass("active").blur(), n(document).unbind("mousedown", t), u.onClose(), !1
                },
                f = function() {
                    var t = n(this),
                        i = t.data("dropdown");
                    i.dropdownKeyup
                },
                e = function(u) {
                    var h = n(u.target),
                        e = h.parent(),
                        o = n(this),
                        f = o.data("dropdown"),
                        y = h.hasClass("universalDropdown"),
                        c = o.hasClass("active"),
                        l = o.hasClass("disabled"),
                        w = w || /ipad|android|android 3.0|xoom|sch-i800|playbook|tablet|kindle|nexus/i.test(navigator.userAgent) && !(/mobile/i.test(navigator.userAgent) && /android/i.test(navigator.userAgent)),
                        a, p, v;
                    if (f.enableTabletNative && w) {
                        if (y && !c && !l && !h.hasClass("dropdownSelect") && !e.hasClass("dropdownSelect") || e.hasClass("universalDropdown") && !c && !l && !h.hasClass("dropdownSelect") && !e.hasClass("dropdownSelect")) {
                            s(e.find(".dropdownSelect"));
                            return
                        }
                    } else if ((!y || c || l) && (!e.hasClass("universalDropdown") || c || l)) {
                        if (y && c && !l || e.hasClass("universalDropdown") && c && !l) n(this).removeClass("active"), n(document).unbind("mousedown", t), r(null, f);
                        else if (h.hasClass("universalDropdownItem") || e.hasClass("universalDropdownItem")) {
                            if (a = h.attr("data-Id") || e.attr("data-Id"), a == f.defaultVal[f.id] ? f.val = f.defaultVal : n.each(f.list, function(t, i) {
                                    i[f.id] == a && (f.val = i);
                                    i[f.children] != null && n.each(i[f.children], function(n, t) {
                                        t.Id == a && (f.val = t)
                                    })
                                }), f.multiple) {
                                p = n(this);
                                v = [];
                                n.each(p.find("li input:checked"), function(n, t) {
                                    t.getAttribute("id") !== null && v.push(t.getAttribute("id"))
                                });
                                p.find("span[data-Id]").text(v.length > 0 ? v.join(", ") : "Please select all that apply");
                                return
                            }
                            o.dropdownClose();
                            o.data("dropdown", f);
                            i(this);
                            f.onChange(f.val);
                            n(this).trigger("change", f.val);
                            n(this).removeClass("active");
                            n(document).unbind("mousedown", t);
                            r(null, f)
                        }
                    } else {
                        o.addClass("active").focus();
                        f.onOpen();
                        n(this).trigger("open");
                        n(document).on("mousedown touchstart", {
                            element: o,
                            trigger: this
                        }, t);
                        return
                    }
                },
                o = function(n, t, i) {
                    if (n == t) return !0;
                    if (n.contains) return n.contains(t);
                    if (n.compareDocumentPosition) return !!(n.compareDocumentPosition(t) & 16);
                    for (var r = t.parentNode; r && r != i;) {
                        if (r == n) return !0;
                        r = r.parentNode
                    }
                    return !1
                },
                h = function() {
                    var u = n(this).parent(),
                        t = u.data("dropdown"),
                        i, r;
                    t.scrollDisabled || (i = n(window).scrollTop(), r = n(window).scrollLeft(), n("body").addClass("noScroll").css("top", -i).css("left", -r), t.scrollDisabled = !0)
                },
                r = function(t, i) {
                    var r = n(this).parent(),
                        i = i || r.data("dropdown");
                    n("body").removeClass("noScroll").removeAttr("style");
                    i.scrollDisabled = !1
                },
                s = function(n) {
                    if (document.createEvent) {
                        var t = document.createEvent("MouseEvents");
                        t.initMouseEvent("mousedown", !0, !0, window, 0, 0, 0, 0, 0, !1, !1, !1, !1, 0, null);
                        n[0].dispatchEvent(t)
                    } else n.fireEvent && n[0].fireEvent("onmousedown")
                };
            return {
                init: function(o) {
                    return typeof o.val == "string" && o.list && (n.each(o.list, function(n, t) {
                        return t.Id === o.val ? (o.val = t, !1) : !0
                    }), o.defaultVal && o.val === o.defaultVal.Id && (o.val = o.defaultVal)), o = n.extend({}, u, o), this.each(function() {
                        if (!n(this).data("dropdown")) {
                            o.el = this;
                            o.html = Handlebars.compile(o.template);
                            var u = n.extend({}, {
                                    defaultVal: o.defaultVal,
                                    items: o.list
                                }, o.val),
                                s = o.html(u);
                            n(this).data("dropdown", o).html(s).addClass("universalDropdown").attr("tabindex", 0).on("click", e).on("keyup", f);
                            o.disabled === !0 && n(this).el.addClass("disabled");
                            n(this).on("change", "select", function(u) {
                                var h, o, e, c;
                                u.stopPropagation();
                                var l = n(this),
                                    s = l.val(),
                                    f = l.parent().data("dropdown");
                                if (f.multiple) {
                                    h = n(this);
                                    o = [];
                                    n.each(this.selectedOptions, function(n, t) {
                                        o.push(t.value)
                                    });
                                    h.prev().prev().text(o.length > 0 ? o.join(", ") : "Please select all that apply");
                                    return
                                }
                                s == f.defaultVal[f.id] ? f.val = f.defaultVal : n.each(f.list, function(t, i) {
                                    i[f.id] == s && (f.val = i);
                                    i[f.children] != null && n.each(i[f.children], function(n, t) {
                                        t.Id == s && (f.val = t)
                                    })
                                });
                                e = n(this).closest(".dropdownWrapper");
                                c = e[0];
                                e.data("dropdown", f);
                                i(c);
                                f.onChange(f.val);
                                e.trigger("change", f.val);
                                e.removeClass("active");
                                n(document).unbind("mousedown", t);
                                r(null, f)
                            })
                        }
                    })
                },
                close: function() {
                    n(this).removeClass("active");
                    n(document).unbind("mousedown", t)
                },
                update: function(t) {
                    var i = n(this).data("dropdown"),
                        r, u;
                    return i && (typeof t.val == "string" && n.each(i.list, function(n, i) {
                        return i.Id === t.val ? (t.val = i, !1) : !0
                    }), t = n.extend({}, i, t), n(this).data("dropdown", t).removeClass("disabled"), r = n.extend({}, {
                        defaultVal: t.defaultVal,
                        items: t.list
                    }, t.val), u = t.html(r), n(this).html(u)), this
                },
                clear: function() {
                    var t = n(this).data("dropdown");
                    return t && (t.val = t.defaultVal, n(this).data("dropdown", t), i(this)), this
                },
                disable: function() {
                    return this.addClass("disabled"), this
                },
                enable: function() {
                    return this.removeClass("disabled"), this
                },
                getValue: function() {
                    var t = n(this).data("dropdown");
                    return t && t.val
                }
            }
        }();
        n.fn.extend({
            dropdown: t.init,
            dropdownDisable: t.disable,
            dropdownEnable: t.enable,
            dropdownUpdate: t.update,
            dropdownClear: t.clear,
            dropdownClose: t.close,
            dropdownGetValue: t.getValue
        })
    })(jQuery),
    function(n) {
        typeof n.fn.each2 == "undefined" && n.extend(n.fn, {
            each2: function(t) {
                for (var i = n([0]), r = -1, u = this.length; ++r < u && (i.context = i[0] = this[r]) && t.call(i[0], r, i) !== !1;);
                return this
            }
        })
    }(jQuery),
    function(n, t) {
        "use strict";

        function d(t) {
            var i = n(document.createTextNode(""));
            t.before(i);
            i.before(t);
            i.remove()
        }

        function h(n) {
            function t(n) {
                return dt[n] || n
            }
            return n.replace(/[^\u0000-\u007E]/g, t)
        }

        function e(n, t) {
            for (var i = 0, r = t.length; i < r; i = i + 1)
                if (f(n, t[i])) return i;
            return -1
        }

        function ct() {
            var t = n(kt),
                i;
            return t.appendTo(document.body), i = {
                width: t.width() - t[0].clientWidth,
                height: t.height() - t[0].clientHeight
            }, t.remove(), i
        }

        function f(n, i) {
            return n === i ? !0 : n === t || i === t ? !1 : n === null || i === null ? !1 : n.constructor === String ? n + "" == i + "" : i.constructor === String ? i + "" == n + "" : !1
        }

        function v(n, t, i) {
            var u, r, f;
            if (n === null || n.length < 1) return [];
            for (u = n.split(t), r = 0, f = u.length; r < f; r = r + 1) u[r] = i(u[r]);
            return u
        }

        function g(n) {
            return n.outerWidth(!1) - n.width()
        }

        function nt(i) {
            var r = "keyup-change-value";
            i.on("keydown", function() {
                n.data(i, r) === t && n.data(i, r, i.val())
            });
            i.on("keyup", function() {
                var u = n.data(i, r);
                u !== t && i.val() !== u && (n.removeData(i, r), i.trigger("keyup-change"))
            })
        }

        function lt(i) {
            i.on("mousemove", function(i) {
                var r = w;
                (r === t || r.x !== i.pageX || r.y !== i.pageY) && n(i.target).trigger("mousemove-filtered", i)
            })
        }

        function tt(n, i, r) {
            r = r || t;
            var u;
            return function() {
                var t = arguments;
                window.clearTimeout(u);
                u = window.setTimeout(function() {
                    i.apply(r, t)
                }, n)
            }
        }

        function at(n, t) {
            var i = tt(n, function(n) {
                t.trigger("scroll-debounced", n)
            });
            t.on("scroll", function(n) {
                e(n.target, t.get()) >= 0 && i(n)
            })
        }

        function vt(n) {
            n[0] !== document.activeElement && window.setTimeout(function() {
                var t = n[0],
                    r = n.val().length,
                    i, u;
                n.focus();
                u = t.offsetWidth > 0 || t.offsetHeight > 0;
                u && t === document.activeElement && (t.setSelectionRange ? t.setSelectionRange(r, r) : t.createTextRange && (i = t.createTextRange(), i.collapse(!1), i.select()))
            }, 0)
        }

        function yt(t) {
            var i, r, u;
            return t = n(t)[0], i = 0, r = 0, "selectionStart" in t ? (i = t.selectionStart, r = t.selectionEnd - i) : "selection" in document && (t.focus(), u = document.selection.createRange(), r = document.selection.createRange().text.length, u.moveStart("character", -t.value.length), i = u.text.length - r), {
                offset: i,
                length: r
            }
        }

        function r(n) {
            n.preventDefault()
        }

        function pt(n) {
            n.preventDefault();
            n.stopImmediatePropagation()
        }

        function wt(t) {
            if (!s) {
                var i = t[0].currentStyle || window.getComputedStyle(t[0], null);
                s = n(document.createElement("div")).css({
                    position: "absolute",
                    left: "-10000px",
                    top: "-10000px",
                    display: "none",
                    fontSize: i.fontSize,
                    fontFamily: i.fontFamily,
                    fontStyle: i.fontStyle,
                    fontWeight: i.fontWeight,
                    letterSpacing: i.letterSpacing,
                    textTransform: i.textTransform,
                    whiteSpace: "nowrap"
                });
                s.attr("class", "select2-sizer");
                n(document.body).append(s)
            }
            return s.text(t.val()), s.width()
        }

        function l(t, i, r) {
            var u, f = [],
                e;
            u = n.trim(t.attr("class"));
            u && (u = "" + u, n(u.split(/\s+/)).each2(function() {
                this.indexOf("select2-") === 0 && f.push(this)
            }));
            u = n.trim(i.attr("class"));
            u && (u = "" + u, n(u.split(/\s+/)).each2(function() {
                this.indexOf("select2-") !== 0 && (e = r(this), e && f.push(e))
            }));
            t.attr("class", f.join(" "))
        }

        function it(n, t, i, r) {
            var u = h(n.toUpperCase()).indexOf(h(t.toUpperCase())),
                f = t.length;
            if (u < 0) {
                i.push(r(n));
                return
            }
            i.push(r(n.substring(0, u)));
            i.push("<span class='select2-match'>");
            i.push(r(n.substring(u, u + f)));
            i.push("<\/span>");
            i.push(r(n.substring(u + f, n.length)))
        }

        function rt(n) {
            var t = {
                "\\": "&#92;",
                "&": "&amp;",
                "<": "&lt;",
                ">": "&gt;",
                '"': "&quot;",
                "'": "&#39;",
                "/": "&#47;"
            };
            return String(n).replace(/[&<>"'\/\\]/g, function(n) {
                return t[n]
            })
        }

        function ut(i) {
            var f, r = null,
                e = i.quietMillis || 100,
                o = i.url,
                u = this;
            return function(s) {
                window.clearTimeout(f);
                f = window.setTimeout(function() {
                    var e = i.data,
                        f = o,
                        c = i.transport || n.fn.select2.ajaxDefaults.transport,
                        l = {
                            type: i.type || "GET",
                            cache: i.cache || !1,
                            jsonpCallback: i.jsonpCallback || t,
                            dataType: i.dataType || "json"
                        },
                        h = n.extend({}, n.fn.select2.ajaxDefaults.params, l);
                    e = e ? e.call(u, s.term, s.page, s.context) : null;
                    f = typeof f == "function" ? f.call(u, s.term, s.page, s.context) : f;
                    r && typeof r.abort == "function" && r.abort();
                    i.params && (n.isFunction(i.params) ? n.extend(h, i.params.call(u)) : n.extend(h, i.params));
                    n.extend(h, {
                        url: f,
                        dataType: i.dataType,
                        data: e,
                        success: function(n) {
                            var t = i.results(n, s.page, s);
                            s.callback(t)
                        },
                        error: function(n, t, i) {
                            var r = {
                                hasError: !0,
                                jqXHR: n,
                                textStatus: t,
                                errorThrown: i
                            };
                            s.callback(r)
                        }
                    });
                    r = c.call(u, h)
                }, e)
            }
        }

        function ft(t) {
            var i = t,
                e, u, r = function(n) {
                    return "" + n.text
                },
                f;
            return n.isArray(i) && (u = i, i = {
                    results: u
                }), n.isFunction(i) === !1 && (u = i, i = function() {
                    return u
                }), f = i(), f.text && (r = f.text, n.isFunction(r) || (e = f.text, r = function(n) {
                    return n[e]
                })),
                function(t) {
                    var u = t.term,
                        e = {
                            results: []
                        },
                        f;
                    if (u === "") {
                        t.callback(i());
                        return
                    }
                    f = function(i, e) {
                        var o, s;
                        if (i = i[0], i.children) {
                            o = {};
                            for (s in i) i.hasOwnProperty(s) && (o[s] = i[s]);
                            o.children = [];
                            n(i.children).each2(function(n, t) {
                                f(t, o.children)
                            });
                            (o.children.length || t.matcher(u, r(o), i)) && e.push(o)
                        } else t.matcher(u, r(i), i) && e.push(i)
                    };
                    n(i().results).each2(function(n, t) {
                        f(t, e.results)
                    });
                    t.callback(e)
                }
        }

        function et(i) {
            var r = n.isFunction(i);
            return function(u) {
                var f = u.term,
                    e = {
                        results: []
                    },
                    o = r ? i(u) : i;
                n.isArray(o) && (n(o).each(function() {
                    var n = this.text !== t,
                        i = n ? this.text : this;
                    (f === "" || u.matcher(f, i)) && e.results.push(n ? this : {
                        id: this,
                        text: this
                    })
                }), u.callback(e))
            }
        }

        function o(t, i) {
            if (n.isFunction(t)) return !0;
            if (!t) return !1;
            if (typeof t == "string") return !0;
            throw new Error(i + " must be a string, function, or falsy value");
        }

        function u(t, i) {
            if (n.isFunction(t)) {
                var r = Array.prototype.slice.call(arguments, 2);
                return t.apply(i, r)
            }
            return t
        }

        function ot(t) {
            var i = 0;
            return n.each(t, function(n, t) {
                t.children ? i += ot(t.children) : i++
            }), i
        }

        function bt(n, i, r, u) {
            var a = n,
                c = !1,
                e, s, o, h, l;
            if (!u.createSearchChoice || !u.tokenSeparators || u.tokenSeparators.length < 1) return t;
            for (;;) {
                for (s = -1, o = 0, h = u.tokenSeparators.length; o < h; o++)
                    if (l = u.tokenSeparators[o], s = n.indexOf(l), s >= 0) break;
                if (s < 0) break;
                if (e = n.substring(0, s), n = n.substring(s + l.length), e.length > 0 && (e = u.createSearchChoice.call(this, e, i), e !== t && e !== null && u.id(e) !== t && u.id(e) !== null)) {
                    for (c = !1, o = 0, h = i.length; o < h; o++)
                        if (f(u.id(e), u.id(i[o]))) {
                            c = !0;
                            break
                        }
                    c || r(e)
                }
            }
            if (a !== n) return n
        }

        function y() {
            var t = this;
            n.each(arguments, function(n, i) {
                t[i].remove();
                t[i] = null
            })
        }

        function p(t, i) {
            var r = function() {};
            return r.prototype = new t, r.prototype.constructor = r, r.prototype.parent = t.prototype, r.prototype = n.extend(r.prototype, i), r
        }
        if (window.Select2 === t) {
            var a, st, ht, c, s, w = {
                    x: 0,
                    y: 0
                },
                b, k, i = {
                    TAB: 9,
                    ENTER: 13,
                    ESC: 27,
                    SPACE: 32,
                    LEFT: 37,
                    UP: 38,
                    RIGHT: 39,
                    DOWN: 40,
                    SHIFT: 16,
                    CTRL: 17,
                    ALT: 18,
                    PAGE_UP: 33,
                    PAGE_DOWN: 34,
                    HOME: 36,
                    END: 35,
                    BACKSPACE: 8,
                    DELETE: 46,
                    isArrow: function(n) {
                        n = n.which ? n.which : n;
                        switch (n) {
                            case i.LEFT:
                            case i.RIGHT:
                            case i.UP:
                            case i.DOWN:
                                return !0
                        }
                        return !1
                    },
                    isControl: function(n) {
                        var t = n.which;
                        switch (t) {
                            case i.SHIFT:
                            case i.CTRL:
                            case i.ALT:
                                return !0
                        }
                        return n.metaKey ? !0 : !1
                    },
                    isFunctionKey: function(n) {
                        return n = n.which ? n.which : n, n >= 112 && n <= 123
                    }
                },
                kt = "<div class='select2-measure-scrollbar'><\/div>",
                dt = {
                    "": "A",
                    "": "A",
                    "": "A",
                    "?": "A",
                    "": "A",
                    "": "A",
                    "": "A",
                    "": "A",
                    "": "A",
                    "": "A",
                    "": "A",
                    "": "A",
                    "": "A",
                    "": "A",
                    "": "A",
                    "": "A",
                    "": "A",
                    "": "A",
                    "": "A",
                    "": "A",
                    "": "A",
                    "": "A",
                    "": "A",
                    "?": "A",
                    "": "A",
                    "": "A",
                    "": "A",
                    "": "A",
                    "": "A",
                    "": "A",
                    "": "A",
                    "": "A",
                    "": "A",
                    "": "AA",
                    "": "AE",
                    "": "AE",
                    "": "AE",
                    "": "AO",
                    "": "AU",
                    "": "AV",
                    "": "AV",
                    "": "AY",
                    "": "B",
                    "": "B",
                    "": "B",
                    "": "B",
                    "": "B",
                    "": "B",
                    "": "B",
                    "?": "B",
                    "": "C",
                    "": "C",
                    "": "C",
                    "": "C",
                    "": "C",
                    "": "C",
                    "": "C",
                    "": "C",
                    "": "C",
                    "": "C",
                    "": "C",
                    "": "D",
                    "": "D",
                    "": "D",
                    "": "D",
                    "": "D",
                    "?": "D",
                    "": "D",
                    "": "D",
                    "?": "D",
                    "": "D",
                    "": "D",
                    "": "D",
                    "?": "D",
                    "": "DZ",
                    "": "DZ",
                    "": "Dz",
                    "": "Dz",
                    "": "E",
                    "": "E",
                    "": "E",
                    "": "E",
                    "": "E",
                    "": "E",
                    "": "E",
                    "": "E",
                    "": "E",
                    "": "E",
                    "": "E",
                    "": "E",
                    "": "E",
                    "": "E",
                    "": "E",
                    "": "E",
                    "": "E",
                    "": "E",
                    "": "E",
                    "": "E",
                    "": "E",
                    "": "E",
                    "": "E",
                    "": "E",
                    "": "E",
                    "": "E",
                    "": "E",
                    "?": "E",
                    "": "E",
                    "": "F",
                    "": "F",
                    "": "F",
                    "": "F",
                    "?": "F",
                    "": "G",
                    "": "G",
                    "": "G",
                    "": "G",
                    "": "G",
                    "": "G",
                    "": "G",
                    "": "G",
                    "": "G",
                    "": "G",
                    "": "G",
                    "": "G",
                    "?": "G",
                    "?": "G",
                    "": "H",
                    "": "H",
                    "": "H",
                    "": "H",
                    "": "H",
                    "": "H",
                    "": "H",
                    "": "H",
                    "": "H",
                    "": "H",
                    "": "H",
                    "": "H",
                    "?": "H",
                    "": "I",
                    "": "I",
                    "": "I",
                    "?": "I",
                    "": "I",
                    "": "I",
                    "": "I",
                    "": "I",
                    "": "I",
                    "?": "I",
                    "": "I",
                    "": "I",
                    "?": "I",
                    "": "I",
                    "": "I",
                    "": "I",
                    "": "I",
                    "": "I",
                    "": "I",
                    "": "J",
                    "": "J",
                    "": "J",
                    "": "J",
                    "": "K",
                    "": "K",
                    "": "K",
                    "": "K",
                    "": "K",
                    "": "K",
                    "": "K",
                    "": "K",
                    "": "K",
                    "?": "K",
                    "?": "K",
                    "?": "K",
                    "": "K",
                    "?": "L",
                    "": "L",
                    "": "L",
                    "": "L",
                    "": "L",
                    "": "L",
                    "": "L",
                    "": "L",
                    "": "L",
                    "": "L",
                    "?": "L",
                    "": "L",
                    "": "L",
                    "": "L",
                    "?": "L",
                    "?": "L",
                    "": "L",
                    "": "LJ",
                    "": "Lj",
                    "": "M",
                    "": "M",
                    "": "M",
                    "": "M",
                    "": "M",
                    "": "M",
                    "": "M",
                    "": "N",
                    "": "N",
                    "": "N",
                    "": "N",
                    "": "N",
                    "": "N",
                    "": "N",
                    "": "N",
                    "": "N",
                    "": "N",
                    "": "N",
                    "": "N",
                    "?": "N",
                    "?": "N",
                    "": "N",
                    "": "NJ",
                    "": "Nj",
                    "": "O",
                    "": "O",
                    "": "O",
                    "": "O",
                    "": "O",
                    "": "O",
                    "?": "O",
                    "": "O",
                    "": "O",
                    "": "O",
                    "": "O",
                    "": "O",
                    "": "O",
                    "": "O",
                    "?": "O",
                    "": "O",
                    "": "O",
                    "": "O",
                    "": "O",
                    "": "O",
                    "": "O",
                    "": "O",
                    "?": "O",
                    "": "O",
                    "": "O",
                    "": "O",
                    "": "O",
                    "": "O",
                    "": "O",
                    "": "O",
                    "": "O",
                    "": "O",
                    "": "O",
                    "": "O",
                    "": "O",
                    "": "O",
                    "": "O",
                    "": "O",
                    "": "O",
                    "": "O",
                    "?": "O",
                    "?": "O",
                    "": "OI",
                    "?": "OO",
                    "": "OU",
                    "": "P",
                    "": "P",
                    "": "P",
                    "": "P",
                    "": "P",
                    "": "P",
                    "??": "P",
                    "?": "P",
                    "?": "P",
                    "": "Q",
                    "": "Q",
                    "?": "Q",
                    "?": "Q",
                    "": "Q",
                    "": "R",
                    "": "R",
                    "": "R",
                    "": "R",
                    "": "R",
                    "?": "R",
                    "": "R",
                    "": "R",
                    "": "R",
                    "": "R",
                    "": "R",
                    "": "R",
                    "": "R",
                    "?": "R",
                    "": "R",
                    "": "R",
                    "": "S",
                    "": "S",
                    "": "S",
                    "": "S",
                    "": "S",
                    "": "S",
                    "": "S",
                    "": "S",
                    "": "S",
                    "": "S",
                    "": "S",
                    "": "S",
                    "": "S",
                    "": "S",
                    "": "S",
                    "": "S",
                    "": "T",
                    "": "T",
                    "": "T",
                    "": "T",
                    "": "T",
                    "": "T",
                    "": "T",
                    "": "T",
                    "": "T",
                    "": "T",
                    "": "T",
                    "": "T",
                    "": "T",
                    "": "T",
                    "": "TZ",
                    "": "U",
                    "": "U",
                    "": "U",
                    "": "U",
                    "": "U",
                    "": "U",
                    "": "U",
                    "": "U",
                    "": "U",
                    "": "U",
                    "": "U",
                    "": "U",
                    "": "U",
                    "": "U",
                    "": "U",
                    "": "U",
                    "": "U",
                    "": "U",
                    "": "U",
                    "": "U",
                    "": "U",
                    "": "U",
                    "": "U",
                    "": "U",
                    "": "U",
                    "": "U",
                    "": "U",
                    "": "U",
                    "": "U",
                    "": "U",
                    "": "U",
                    "": "U",
                    "": "U",
                    "": "V",
                    "": "V",
                    "": "V",
                    "": "V",
                    "": "V",
                    "?": "V",
                    "": "V",
                    "?": "VY",
                    "": "W",
                    "": "W",
                    "": "W",
                    "": "W",
                    "": "W",
                    "": "W",
                    "": "W",
                    "": "W",
                    "": "W",
                    "?": "X",
                    "": "X",
                    "": "X",
                    "": "X",
                    "": "Y",
                    "": "Y",
                    "": "Y",
                    "?": "Y",
                    "": "Y",
                    "": "Y",
                    "": "Y",
                    "": "Y",
                    "": "Y",
                    "": "Y",
                    "": "Y",
                    "": "Y",
                    "": "Y",
                    "": "Y",
                    "?": "Z",
                    "": "Z",
                    "": "Z",
                    "?": "Z",
                    "": "Z",
                    "": "Z",
                    "": "Z",
                    "": "Z",
                    "": "Z",
                    "": "Z",
                    "": "Z",
                    "": "Z",
                    "?": "Z",
                    "?": "a",
                    "?": "a",
                    "": "a",
                    "": "a",
                    "": "a",
                    "": "a",
                    "": "a",
                    "": "a",
                    "": "a",
                    "": "a",
                    "": "a",
                    "?": "a",
                    "": "a",
                    "": "a",
                    "": "a",
                    "": "a",
                    "": "a",
                    "": "a",
                    "": "a",
                    "": "a",
                    "": "a",
                    "": "a",
                    "": "a",
                    "": "a",
                    "": "a",
                    "?": "a",
                    "": "a",
                    "": "a",
                    "": "a",
                    "": "a",
                    "?": "a",
                    "": "a",
                    "": "a",
                    "?": "a",
                    "": "aa",
                    "": "ae",
                    "": "ae",
                    "": "ae",
                    "": "ao",
                    "": "au",
                    "": "av",
                    "": "av",
                    "": "ay",
                    "": "b",
                    "": "b",
                    "": "b",
                    "": "b",
                    "": "b",
                    "": "b",
                    "": "b",
                    "": "b",
                    "": "c",
                    "": "c",
                    "": "c",
                    "": "c",
                    "": "c",
                    "?": "c",
                    "": "c",
                    "": "c",
                    "": "c",
                    "": "c",
                    "": "c",
                    "": "c",
                    "": "d",
                    "": "d",
                    "": "d",
                    "?": "d",
                    "?": "d",
                    "": "d",
                    "": "d",
                    "?": "d",
                    "": "d",
                    "": "d",
                    "": "d",
                    "": "d",
                    "?": "d",
                    "": "dz",
                    "": "dz",
                    "": "e",
                    "": "e",
                    "": "e",
                    "": "e",
                    "": "e",
                    "?": "e",
                    "": "e",
                    "": "e",
                    "": "e",
                    "": "e",
                    "": "e",
                    "": "e",
                    "": "e",
                    "": "e",
                    "": "e",
                    "": "e",
                    "": "e",
                    "": "e",
                    "": "e",
                    "": "e",
                    "": "e",
                    "": "e",
                    "": "e",
                    "?": "e",
                    "": "e",
                    "": "e",
                    "": "e",
                    "": "e",
                    "": "e",
                    "?": "e",
                    "": "f",
                    "": "f",
                    "": "f",
                    "": "f",
                    "?": "f",
                    "": "g",
                    "": "g",
                    "": "g",
                    "?": "g",
                    "": "g",
                    "": "g",
                    "": "g",
                    "": "g",
                    "": "g",
                    "": "g",
                    "": "g",
                    "": "g",
                    "": "g",
                    "?": "g",
                    "": "h",
                    "": "h",
                    "": "h",
                    "": "h",
                    "": "h",
                    "": "h",
                    "": "h",
                    "": "h",
                    "": "h",
                    "": "h",
                    "": "h",
                    "": "h",
                    "": "h",
                    "": "h",
                    "": "hv",
                    "": "i",
                    "": "i",
                    "": "i",
                    "": "i",
                    "": "i",
                    "": "i",
                    "": "i",
                    "": "i",
                    "": "i",
                    "": "i",
                    "": "i",
                    "?": "i",
                    "": "i",
                    "": "i",
                    "": "i",
                    "": "i",
                    "": "i",
                    "": "i",
                    "": "i",
                    "": "j",
                    "": "j",
                    "": "j",
                    "": "j",
                    "": "j",
                    "": "k",
                    "": "k",
                    "": "k",
                    "": "k",
                    "": "k",
                    "": "k",
                    "": "k",
                    "": "k",
                    "": "k",
                    "??": "k",
                    "?": "k",
                    "?": "k",
                    "": "k",
                    "": "l",
                    "": "l",
                    "": "l",
                    "": "l",
                    "": "l",
                    "": "l",
                    "": "l",
                    "": "l",
                    "": "l",
                    "": "l",
                    "": "l",
                    "": "l",
                    "": "l",
                    "": "l",
                    "": "l",
                    "?": "l",
                    "?": "l",
                    "?": "l",
                    "": "lj",
                    "": "m",
                    "?": "m",
                    "": "m",
                    "?": "m",
                    "": "m",
                    "": "m",
                    "": "m",
                    "?": "n",
                    "": "n",
                    "": "n",
                    "": "n",
                    "": "n",
                    "": "n",
                    "": "n",
                    "": "n",
                    "": "n",
                    "": "n",
                    "": "n",
                    "": "n",
                    "": "n",
                    "": "n",
                    "": "n",
                    "": "n",
                    "": "nj",
                    "": "o",
                    "?": "o",
                    "": "o",
                    "": "o",
                    "": "o",
                    "": "o",
                    "": "o",
                    "": "o",
                    "": "o",
                    "": "o",
                    "?": "o",
                    "": "o",
                    "?": "o",
                    "?": "o",
                    "": "o",
                    "": "o",
                    "?": "o",
                    "": "o",
                    "": "o",
                    "": "o",
                    "": "o",
                    "?": "o",
                    "": "o",
                    "": "o",
                    "?": "o",
                    "?": "o",
                    "": "o",
                    "?": "o",
                    "": "o",
                    "": "o",
                    "": "o",
                    "": "o",
                    "?": "o",
                    "": "o",
                    "": "o",
                    "": "o",
                    "": "o",
                    "": "o",
                    "": "o",
                    "?": "o",
                    "??": "o",
                    "": "o",
                    "": "oi",
                    "": "ou",
                    "??": "oo",
                    "": "p",
                    "?": "p",
                    "": "p",
                    "": "p",
                    "": "p",
                    "": "p",
                    "?": "p",
                    "?": "p",
                    "?": "p",
                    "": "q",
                    "": "q",
                    "": "q",
                    "?": "q",
                    "?": "q",
                    "": "r",
                    "": "r",
                    "": "r",
                    "": "r",
                    "": "r",
                    "": "r",
                    "": "r",
                    "": "r",
                    "?": "r",
                    "": "r",
                    "": "r",
                    "?": "r",
                    "": "r",
                    "?": "r",
                    "": "r",
                    "": "r",
                    "": "s",
                    "": "s",
                    "": "s",
                    "": "s",
                    "": "s",
                    "?": "s",
                    "": "s",
                    "": "s",
                    "": "s",
                    "": "s",
                    "": "s",
                    "": "s",
                    "": "s",
                    "": "s",
                    "": "s",
                    "": "s",
                    "": "s",
                    "": "t",
                    "": "t",
                    "": "t",
                    "": "t",
                    "": "t",
                    "": "t",
                    "": "t",
                    "": "t",
                    "": "t",
                    "": "t",
                    "": "t",
                    "": "t",
                    "": "t",
                    "": "t",
                    "": "t",
                    "": "tz",
                    "": "u",
                    "": "u",
                    "": "u",
                    "": "u",
                    "": "u",
                    "": "u",
                    "": "u",
                    "": "u",
                    "": "u",
                    "": "u",
                    "": "u",
                    "": "u",
                    "": "u",
                    "": "u",
                    "": "u",
                    "": "u",
                    "": "u",
                    "": "u",
                    "": "u",
                    "": "u",
                    "": "u",
                    "": "u",
                    "": "u",
                    "": "u",
                    "": "u",
                    "": "u",
                    "": "u",
                    "": "u",
                    "": "u",
                    "": "u",
                    "": "u",
                    "": "u",
                    "": "u",
                    "": "v",
                    "": "v",
                    "": "v",
                    "": "v",
                    "": "v",
                    "?": "v",
                    "": "v",
                    "?": "vy",
                    "": "w",
                    "": "w",
                    "?": "w",
                    "": "w",
                    "": "w",
                    "": "w",
                    "": "w",
                    "": "w",
                    "": "w",
                    "": "w",
                    "": "x",
                    "": "x",
                    "": "x",
                    "?": "x",
                    "": "y",
                    "": "y",
                    "": "y",
                    "": "y",
                    "": "y",
                    "": "y",
                    "": "y",
                    "?": "y",
                    "": "y",
                    "": "y",
                    "": "y",
                    "": "y",
                    "": "y",
                    "?": "y",
                    "": "y",
                    "": "z",
                    "": "z",
                    "": "z",
                    "": "z",
                    "": "z",
                    "": "z",
                    "": "z",
                    "": "z",
                    "": "z",
                    "": "z",
                    "": "z",
                    "": "z",
                    "?": "z",
                    "": "",
                    "": "",
                    "": "",
                    "": "",
                    "": "",
                    "": "",
                    "": "",
                    "": "",
                    "?": "",
                    "": "",
                    "": "",
                    "": "",
                    "": "",
                    "": "",
                    "?": "",
                    "": "",
                    "?": "",
                    "": "",
                    "": "",
                    "": "",
                    "": ""
                };
            b = n(document);
            c = function() {
                var n = 1;
                return function() {
                    return n++
                }
            }();
            a = p(Object, {
                bind: function(n) {
                    var t = this;
                    return function() {
                        n.apply(t, arguments)
                    }
                },
                init: function(i) {
                    var f, e, o = ".select2-results",
                        s, h;
                    this.opts = i = this.prepareOpts(i);
                    this.id = i.id;
                    i.element.data("select2") !== t && i.element.data("select2") !== null && i.element.data("select2").destroy();
                    this.container = this.createContainer();
                    this.liveRegion = n(".select2-hidden-accessible");
                    this.liveRegion.length == 0 && (this.liveRegion = n("<span>", {
                        role: "status",
                        "aria-live": "polite"
                    }).addClass("select2-hidden-accessible").appendTo(document.body));
                    this.containerId = "s2id_" + (i.element.attr("id") || "autogen" + c());
                    this.containerEventName = this.containerId.replace(/([.])/g, "_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g, "\\$1");
                    this.container.attr("id", this.containerId);
                    this.container.attr("title", i.element.attr("title"));
                    this.body = n(document.body);
                    l(this.container, this.opts.element, this.opts.adaptContainerCssClass);
                    this.container.attr("style", i.element.attr("style"));
                    this.container.css(u(i.containerCss, this.opts.element));
                    this.container.addClass(u(i.containerCssClass, this.opts.element));
                    this.elementTabIndex = this.opts.element.attr("tabindex");
                    this.opts.element.data("select2", this).attr("tabindex", "-1").before(this.container).on("click.select2", r);
                    this.container.data("select2", this);
                    this.dropdown = this.container.find(".select2-drop");
                    l(this.dropdown, this.opts.element, this.opts.adaptDropdownCssClass);
                    this.dropdown.addClass(u(i.dropdownCssClass, this.opts.element));
                    this.dropdown.data("select2", this);
                    this.dropdown.on("click", r);
                    this.results = f = this.container.find(o);
                    this.search = e = this.container.find("input.select2-input");
                    this.queryCount = 0;
                    this.resultsPage = 0;
                    this.context = null;
                    this.initContainer();
                    this.container.on("click", r);
                    lt(this.results);
                    this.dropdown.on("mousemove-filtered", o, this.bind(this.highlightUnderEvent));
                    this.dropdown.on("touchstart touchmove touchend", o, this.bind(function(n) {
                        this._touchEvent = !0;
                        this.highlightUnderEvent(n)
                    }));
                    this.dropdown.on("touchmove", o, this.bind(this.touchMoved));
                    this.dropdown.on("touchstart touchend", o, this.bind(this.clearTouchMoved));
                    this.dropdown.on("click", this.bind(function() {
                        this._touchEvent && (this._touchEvent = !1, this.selectHighlighted())
                    }));
                    at(80, this.results);
                    this.dropdown.on("scroll-debounced", o, this.bind(this.loadMoreIfNeeded));
                    n(this.container).on("change", ".select2-input", function(n) {
                        n.stopPropagation()
                    });
                    n(this.dropdown).on("change", ".select2-input", function(n) {
                        n.stopPropagation()
                    });
                    n.fn.mousewheel && f.mousewheel(function(n, t, i, u) {
                        var e = f.scrollTop();
                        u > 0 && e - u <= 0 ? (f.scrollTop(0), r(n)) : u < 0 && f.get(0).scrollHeight - f.scrollTop() + u <= f.height() && (f.scrollTop(f.get(0).scrollHeight - f.height()), r(n))
                    });
                    nt(e);
                    e.on("keyup-change input paste", this.bind(this.updateResults));
                    e.on("focus", function() {
                        e.addClass("select2-focused")
                    });
                    e.on("blur", function() {
                        e.removeClass("select2-focused")
                    });
                    this.dropdown.on("mouseup", o, this.bind(function(t) {
                        n(t.target).closest(".select2-result-selectable").length > 0 && (this.highlightUnderEvent(t), this.selectHighlighted(t))
                    }));
                    this.dropdown.on("click mouseup mousedown touchstart touchend focusin", function(n) {
                        n.stopPropagation()
                    });
                    this.nextSearchTerm = t;
                    n.isFunction(this.opts.initSelection) && (this.initSelection(), this.monitorSource());
                    i.maximumInputLength !== null && this.search.attr("maxlength", i.maximumInputLength);
                    s = i.element.prop("disabled");
                    s === t && (s = !1);
                    this.enable(!s);
                    h = i.element.prop("readonly");
                    h === t && (h = !1);
                    this.readonly(h);
                    k = k || ct();
                    this.autofocus = i.element.prop("autofocus");
                    i.element.prop("autofocus", !1);
                    this.autofocus && this.focus();
                    this.search.attr("placeholder", i.searchInputPlaceholder)
                },
                destroy: function() {
                    var n = this.opts.element,
                        i = n.data("select2"),
                        r = this;
                    this.close();
                    n.length && n[0].detachEvent && r._sync && n.each(function() {
                        r._sync && this.detachEvent("onpropertychange", r._sync)
                    });
                    this.propertyObserver && (this.propertyObserver.disconnect(), this.propertyObserver = null);
                    this._sync = null;
                    i !== t && (i.container.remove(), i.liveRegion.remove(), i.dropdown.remove(), n.show().removeData("select2").off(".select2").prop("autofocus", this.autofocus || !1), this.elementTabIndex ? n.attr({
                        tabindex: this.elementTabIndex
                    }) : n.removeAttr("tabindex"), n.show());
                    y.call(this, "container", "liveRegion", "dropdown", "results", "search")
                },
                optionToData: function(n) {
                    return n.is("option") ? {
                        id: n.prop("value"),
                        text: n.text(),
                        element: n.get(),
                        css: n.attr("class"),
                        disabled: n.prop("disabled"),
                        locked: f(n.attr("locked"), "locked") || f(n.data("locked"), !0)
                    } : n.is("optgroup") ? {
                        text: n.attr("label"),
                        children: [],
                        element: n.get(),
                        css: n.attr("class")
                    } : void 0
                },
                prepareOpts: function(i) {
                    var e, o, s, r, u = this;
                    if (e = i.element, e.get(0).tagName.toLowerCase() === "select" && (this.select = o = i.element), o && n.each(["id", "multiple", "ajax", "query", "createSearchChoice", "initSelection", "data", "tags"], function() {
                            if (this in i) throw new Error("Option '" + this + "' is not allowed for Select2 when attached to a <select> element.");
                        }), i = n.extend({}, {
                            populateResults: function(r, f, e) {
                                var o, s = this.opts.id,
                                    h = this.liveRegion;
                                o = function(r, f, l) {
                                    var p, nt, v, tt, b, k, a, y, w, d, g;
                                    for (r = i.sortResults(r, f, e), g = [], p = 0, nt = r.length; p < nt; p = p + 1) v = r[p], b = v.disabled === !0, tt = !b && s(v) !== t, k = v.children && v.children.length > 0, a = n("<li><\/li>"), a.addClass("select2-results-dept-" + l), a.addClass("select2-result"), a.addClass(tt ? "select2-result-selectable" : "select2-result-unselectable"), b && a.addClass("select2-disabled"), k && a.addClass("select2-result-with-children"), a.addClass(u.opts.formatResultCssClass(v)), a.attr("role", "presentation"), y = n(document.createElement("div")), y.addClass("select2-result-label"), y.attr("id", "select2-result-label-" + c()), y.attr("role", "option"), d = i.formatResult(v, y, e, u.opts.escapeMarkup), d !== t && (y.html(d), a.append(y)), k && (w = n("<ul><\/ul>"), w.addClass("select2-result-sub"), o(v.children, w, l + 1), a.append(w)), a.data("select2-data", v), g.push(a[0]);
                                    f.append(g);
                                    h.text(i.formatMatches(r.length))
                                };
                                o(f, r, 0)
                            }
                        }, n.fn.select2.defaults, i), typeof i.id != "function" && (s = i.id, i.id = function(n) {
                            return n[s]
                        }), n.isArray(i.element.data("select2Tags"))) {
                        if ("tags" in i) throw "tags specified as both an attribute 'data-select2-tags' and in options of Select2 " + i.element.attr("id");
                        i.tags = i.element.data("select2Tags")
                    }
                    if (o ? (i.query = this.bind(function(n) {
                            var o = {
                                    results: [],
                                    more: !1
                                },
                                s = n.term,
                                i, r, f;
                            f = function(t, i) {
                                var r;
                                t.is("option") ? n.matcher(s, t.text(), t) && i.push(u.optionToData(t)) : t.is("optgroup") && (r = u.optionToData(t), t.children().each2(function(n, t) {
                                    f(t, r.children)
                                }), r.children.length > 0 && i.push(r))
                            };
                            i = e.children();
                            this.getPlaceholder() !== t && i.length > 0 && (r = this.getPlaceholderOption(), r && (i = i.not(r)));
                            i.each2(function(n, t) {
                                f(t, o.results)
                            });
                            n.callback(o)
                        }), i.id = function(n) {
                            return n.id
                        }) : "query" in i || ("ajax" in i ? (r = i.element.data("ajax-url"), r && r.length > 0 && (i.ajax.url = r), i.query = ut.call(i.element, i.ajax)) : "data" in i ? i.query = ft(i.data) : "tags" in i && (i.query = et(i.tags), i.createSearchChoice === t && (i.createSearchChoice = function(t) {
                            return {
                                id: n.trim(t),
                                text: n.trim(t)
                            }
                        }), i.initSelection === t && (i.initSelection = function(t, r) {
                            var u = [];
                            n(v(t.val(), i.separator, i.transformVal)).each(function() {
                                var r = {
                                        id: this,
                                        text: this
                                    },
                                    t = i.tags;
                                n.isFunction(t) && (t = t());
                                n(t).each(function() {
                                    if (f(this.id, r.id)) return r = this, !1
                                });
                                u.push(r)
                            });
                            r(u)
                        }))), typeof i.query != "function") throw "query function not defined for Select2 " + i.element.attr("id");
                    if (i.createSearchChoicePosition === "top") i.createSearchChoicePosition = function(n, t) {
                        n.unshift(t)
                    };
                    else if (i.createSearchChoicePosition === "bottom") i.createSearchChoicePosition = function(n, t) {
                        n.push(t)
                    };
                    else if (typeof i.createSearchChoicePosition != "function") throw "invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";
                    return i
                },
                monitorSource: function() {
                    var i = this.opts.element,
                        r, f = this;
                    i.on("change.select2", this.bind(function() {
                        this.opts.element.data("select2-change-triggered") !== !0 && this.initSelection()
                    }));
                    this._sync = this.bind(function() {
                        var r = i.prop("disabled"),
                            n;
                        r === t && (r = !1);
                        this.enable(!r);
                        n = i.prop("readonly");
                        n === t && (n = !1);
                        this.readonly(n);
                        this.container && (l(this.container, this.opts.element, this.opts.adaptContainerCssClass), this.container.addClass(u(this.opts.containerCssClass, this.opts.element)));
                        this.dropdown && (l(this.dropdown, this.opts.element, this.opts.adaptDropdownCssClass), this.dropdown.addClass(u(this.opts.dropdownCssClass, this.opts.element)))
                    });
                    i.length && i[0].attachEvent && i.each(function() {
                        this.attachEvent("onpropertychange", f._sync)
                    });
                    r = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;
                    r !== t && (this.propertyObserver && (delete this.propertyObserver, this.propertyObserver = null), this.propertyObserver = new r(function(t) {
                        n.each(t, f._sync)
                    }), this.propertyObserver.observe(i.get(0), {
                        attributes: !0,
                        subtree: !1
                    }))
                },
                triggerSelect: function(t) {
                    var i = n.Event("select2-selecting", {
                        val: this.id(t),
                        object: t,
                        choice: t
                    });
                    return this.opts.element.trigger(i), !i.isDefaultPrevented()
                },
                triggerChange: function(t) {
                    t = t || {};
                    t = n.extend({}, t, {
                        type: "change",
                        val: this.val()
                    });
                    this.opts.element.data("select2-change-triggered", !0);
                    this.opts.element.trigger(t);
                    this.opts.element.data("select2-change-triggered", !1);
                    this.opts.element.click();
                    this.opts.blurOnChange && this.opts.element.blur()
                },
                isInterfaceEnabled: function() {
                    return this.enabledInterface === !0
                },
                enableInterface: function() {
                    var n = this._enabled && !this._readonly,
                        t = !n;
                    return n === this.enabledInterface ? !1 : (this.container.toggleClass("select2-container-disabled", t), this.close(), this.enabledInterface = n, !0)
                },
                enable: function(n) {
                    (n === t && (n = !0), this._enabled !== n) && (this._enabled = n, this.opts.element.prop("disabled", !n), this.enableInterface())
                },
                disable: function() {
                    this.enable(!1)
                },
                readonly: function(n) {
                    (n === t && (n = !1), this._readonly !== n) && (this._readonly = n, this.opts.element.prop("readonly", n), this.enableInterface())
                },
                opened: function() {
                    return this.container ? this.container.hasClass("select2-dropdown-open") : !1
                },
                positionDropdown: function() {
                    var t = this.dropdown,
                        c = this.container,
                        i = c.offset(),
                        v = c.outerHeight(!1),
                        o = c.outerWidth(!1),
                        s = t.outerHeight(!1),
                        e = n(window),
                        b = e.width(),
                        d = e.height(),
                        y = e.scrollLeft() + b,
                        g = e.scrollTop() + d,
                        l = i.top + v,
                        h = i.left,
                        tt = l + s <= g,
                        it = i.top - s >= e.scrollTop(),
                        r = t.outerWidth(!1),
                        rt = function() {
                            return h + r <= y
                        },
                        ut = function() {
                            return i.left + y + c.outerWidth(!1) > r
                        },
                        ft = t.hasClass("select2-drop-above"),
                        p, a, nt, f, w;
                    ft ? (a = !0, !it && tt && (nt = !0, a = !1)) : a = !1;
                    nt && (t.hide(), i = this.container.offset(), v = this.container.outerHeight(!1), o = this.container.outerWidth(!1), s = t.outerHeight(!1), y = e.scrollLeft() + b, g = e.scrollTop() + d, l = i.top + v, h = i.left, r = t.outerWidth(!1), t.show(), this.focusSearch());
                    this.opts.dropdownAutoWidth ? (w = n(".select2-results", t)[0], t.addClass("select2-drop-auto-width"), t.css("width", ""), r = t.outerWidth(!1) + (w.scrollHeight === w.clientHeight ? 0 : k.width), r > o ? o = r : r = o, s = t.outerHeight(!1)) : this.container.removeClass("select2-drop-auto-width");
                    this.body.css("position") !== "static" && (p = this.body.offset(), l -= p.top, h -= p.left);
                    !rt() && ut() && (h = i.left + this.container.outerWidth(!1) - r);
                    f = {
                        left: h,
                        width: o
                    };
                    a ? (f.top = i.top - s, f.bottom = "auto", this.container.addClass("select2-drop-above"), t.addClass("select2-drop-above")) : (f.top = l, f.bottom = "auto", this.container.removeClass("select2-drop-above"), t.removeClass("select2-drop-above"));
                    f = n.extend(f, u(this.opts.dropdownCss, this.opts.element));
                    t.css(f)
                },
                shouldOpen: function() {
                    var t;
                    return this.opened() ? !1 : this._enabled === !1 || this._readonly === !0 ? !1 : (t = n.Event("select2-opening"), this.opts.element.trigger(t), !t.isDefaultPrevented())
                },
                clearDropdownAlignmentPreference: function() {
                    this.container.removeClass("select2-drop-above");
                    this.dropdown.removeClass("select2-drop-above")
                },
                open: function() {
                    if (!this.shouldOpen()) return !1;
                    this.opening();
                    b.on("mousemove.select2Event", function(n) {
                        w.x = n.pageX;
                        w.y = n.pageY
                    });
                    return !0
                },
                opening: function() {
                    var i = this.containerEventName,
                        u = "scroll." + i,
                        f = "resize." + i,
                        e = "orientationchange." + i,
                        t, r;
                    if (this.container.addClass("select2-dropdown-open").addClass("select2-container-active"), this.clearDropdownAlignmentPreference(), this.dropdown[0] !== this.body.children().last()[0] && this.dropdown.detach().appendTo(this.body), t = n("#select2-drop-mask"), t.length === 0) {
                        t = n(document.createElement("div"));
                        t.attr("id", "select2-drop-mask").attr("class", "select2-drop-mask");
                        t.hide();
                        t.appendTo(this.body);
                        t.on("mousedown touchstart click", function(i) {
                            d(t);
                            var u = n("#select2-drop"),
                                r;
                            u.length > 0 && (r = u.data("select2"), r.opts.selectOnBlur && r.selectHighlighted({
                                noFocus: !0
                            }), r.close(), i.preventDefault(), i.stopPropagation())
                        })
                    }
                    this.dropdown.prev()[0] !== t[0] && this.dropdown.before(t);
                    n("#select2-drop").removeAttr("id");
                    this.dropdown.attr("id", "select2-drop");
                    t.show();
                    this.positionDropdown();
                    this.dropdown.show();
                    this.positionDropdown();
                    this.dropdown.addClass("select2-drop-active");
                    r = this;
                    this.container.parents().add(window).each(function() {
                        n(this).on(f + " " + u + " " + e, function() {
                            r.opened() && r.positionDropdown()
                        })
                    })
                },
                close: function() {
                    if (this.opened()) {
                        var t = this.containerEventName,
                            i = "scroll." + t,
                            r = "resize." + t,
                            u = "orientationchange." + t;
                        this.container.parents().add(window).each(function() {
                            n(this).off(i).off(r).off(u)
                        });
                        this.clearDropdownAlignmentPreference();
                        n("#select2-drop-mask").hide();
                        this.dropdown.removeAttr("id");
                        this.dropdown.hide();
                        this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active");
                        this.results.empty();
                        b.off("mousemove.select2Event");
                        this.clearSearch();
                        this.search.removeClass("select2-active");
                        this.opts.element.trigger(n.Event("select2-close"))
                    }
                },
                externalSearch: function(n) {
                    this.open();
                    this.search.val(n);
                    this.updateResults(!1)
                },
                clearSearch: function() {},
                getMaximumSelectionSize: function() {
                    return u(this.opts.maximumSelectionSize, this.opts.element)
                },
                ensureHighlightVisible: function() {
                    var t = this.results,
                        e, i, r, u, o, s, f, h;
                    if (i = this.highlight(), !(i < 0)) {
                        if (i == 0) {
                            t.scrollTop(0);
                            return
                        }
                        e = this.findHighlightableChoices().find(".select2-result-label");
                        r = n(e[i]);
                        h = (r.offset() || {}).top || 0;
                        u = h + r.outerHeight(!0);
                        i === e.length - 1 && (f = t.find("li.select2-more-results"), f.length > 0 && (u = f.offset().top + f.outerHeight(!0)));
                        o = t.offset().top + t.outerHeight(!1);
                        u > o && t.scrollTop(t.scrollTop() + (u - o));
                        s = h - t.offset().top;
                        s < 0 && r.css("display") != "none" && t.scrollTop(t.scrollTop() + s)
                    }
                },
                findHighlightableChoices: function() {
                    return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")
                },
                moveHighlight: function(t) {
                    for (var u = this.findHighlightableChoices(), i = this.highlight(), r; i > -1 && i < u.length;)
                        if (i += t, r = n(u[i]), r.hasClass("select2-result-selectable") && !r.hasClass("select2-disabled") && !r.hasClass("select2-selected")) {
                            this.highlight(i);
                            break
                        }
                },
                highlight: function(t) {
                    var i = this.findHighlightableChoices(),
                        r, u;
                    if (arguments.length === 0) return e(i.filter(".select2-highlighted")[0], i.get());
                    t >= i.length && (t = i.length - 1);
                    t < 0 && (t = 0);
                    this.removeHighlight();
                    r = n(i[t]);
                    r.addClass("select2-highlighted");
                    this.search.attr("aria-activedescendant", r.find(".select2-result-label").attr("id"));
                    this.ensureHighlightVisible();
                    this.liveRegion.text(r.text());
                    u = r.data("select2-data");
                    u && this.opts.element.trigger({
                        type: "select2-highlight",
                        val: this.id(u),
                        choice: u
                    })
                },
                removeHighlight: function() {
                    this.results.find(".select2-highlighted").removeClass("select2-highlighted")
                },
                touchMoved: function() {
                    this._touchMoved = !0
                },
                clearTouchMoved: function() {
                    this._touchMoved = !1
                },
                countSelectableResults: function() {
                    return this.findHighlightableChoices().length
                },
                highlightUnderEvent: function(t) {
                    var i = n(t.target).closest(".select2-result-selectable"),
                        r;
                    i.length > 0 && !i.is(".select2-highlighted") ? (r = this.findHighlightableChoices(), this.highlight(r.index(i))) : i.length == 0 && this.removeHighlight()
                },
                loadMoreIfNeeded: function() {
                    var t = this.results,
                        i = t.find("li.select2-more-results"),
                        f, r = this.resultsPage + 1,
                        n = this,
                        e = this.search.val(),
                        o = this.context;
                    i.length !== 0 && (f = i.offset().top - t.offset().top - t.height(), f <= this.opts.loadMorePadding && (i.addClass("select2-active"), this.opts.query({
                        element: this.opts.element,
                        term: e,
                        page: r,
                        context: o,
                        matcher: this.opts.matcher,
                        callback: this.bind(function(f) {
                            n.opened() && (n.opts.populateResults.call(this, t, f.results, {
                                term: e,
                                page: r,
                                context: o
                            }), n.postprocessResults(f, !1, !1), f.more === !0 ? (i.detach().appendTo(t).html(n.opts.escapeMarkup(u(n.opts.formatLoadMore, n.opts.element, r + 1))), window.setTimeout(function() {
                                n.loadMoreIfNeeded()
                            }, 10)) : i.remove(), n.positionDropdown(), n.resultsPage = r, n.context = f.context, this.opts.element.trigger({
                                type: "select2-loaded",
                                items: f
                            }))
                        })
                    })))
                },
                tokenize: function() {},
                updateResults: function(i) {
                    function y() {
                        e.removeClass("select2-active");
                        s.positionDropdown();
                        c.find(".select2-no-results,.select2-selection-limit,.select2-searching").length ? s.liveRegion.text(c.text()) : s.liveRegion.text(s.opts.formatMatches(c.find('.select2-result-selectable:not(".select2-selected")').length))
                    }

                    function h(n) {
                        c.html(n);
                        y()
                    }
                    var e = this.search,
                        c = this.results,
                        r = this.opts,
                        v, s = this,
                        l, p = e.val(),
                        w = n.data(this.container, "select2-last-term"),
                        b, a;
                    if ((i === !0 || !w || !f(p, w)) && (n.data(this.container, "select2-last-term", p), i === !0 || this.showSearchInput !== !1 && this.opened())) {
                        if (b = ++this.queryCount, a = this.getMaximumSelectionSize(), a >= 1 && (v = this.data(), n.isArray(v) && v.length >= a && o(r.formatSelectionTooBig, "formatSelectionTooBig"))) {
                            h("<li class='select2-selection-limit'>" + u(r.formatSelectionTooBig, r.element, a) + "<\/li>");
                            return
                        }
                        if (e.val().length < r.minimumInputLength) {
                            o(r.formatInputTooShort, "formatInputTooShort") ? h("<li class='select2-no-results'>" + u(r.formatInputTooShort, r.element, e.val(), r.minimumInputLength) + "<\/li>") : h("");
                            i && this.showSearch && this.showSearch(!0);
                            return
                        }
                        if (r.maximumInputLength && e.val().length > r.maximumInputLength) {
                            o(r.formatInputTooLong, "formatInputTooLong") ? h("<li class='select2-no-results'>" + u(r.formatInputTooLong, r.element, e.val(), r.maximumInputLength) + "<\/li>") : h("");
                            return
                        }
                        r.formatSearching && this.findHighlightableChoices().length === 0 && h("<li class='select2-searching'>" + u(r.formatSearching, r.element) + "<\/li>");
                        e.addClass("select2-active");
                        this.removeHighlight();
                        l = this.tokenize();
                        l != t && l != null && e.val(l);
                        this.resultsPage = 1;
                        r.query({
                            element: r.element,
                            term: e.val(),
                            page: this.resultsPage,
                            context: null,
                            matcher: r.matcher,
                            callback: this.bind(function(l) {
                                var a;
                                if (b == this.queryCount) {
                                    if (!this.opened()) {
                                        this.search.removeClass("select2-active");
                                        return
                                    }
                                    if (l.hasError !== t && o(r.formatAjaxError, "formatAjaxError")) {
                                        h("<li class='select2-ajax-error'>" + u(r.formatAjaxError, r.element, l.jqXHR, l.textStatus, l.errorThrown) + "<\/li>");
                                        return
                                    }
                                    if (this.context = l.context === t ? null : l.context, this.opts.createSearchChoice && e.val() !== "" && (a = this.opts.createSearchChoice.call(s, e.val(), l.results), a !== t && a !== null && s.id(a) !== t && s.id(a) !== null && n(l.results).filter(function() {
                                            return f(s.id(this), s.id(a))
                                        }).length === 0 && this.opts.createSearchChoicePosition(l.results, a)), l.results.length === 0 && o(r.formatNoMatches, "formatNoMatches")) {
                                        h("<li class='select2-no-results'>" + u(r.formatNoMatches, r.element, e.val()) + "<\/li>");
                                        return
                                    }
                                    c.empty();
                                    s.opts.populateResults.call(this, c, l.results, {
                                        term: e.val(),
                                        page: this.resultsPage,
                                        context: null
                                    });
                                    l.more === !0 && o(r.formatLoadMore, "formatLoadMore") && (c.append("<li class='select2-more-results'>" + r.escapeMarkup(u(r.formatLoadMore, r.element, this.resultsPage)) + "<\/li>"), window.setTimeout(function() {
                                        s.loadMoreIfNeeded()
                                    }, 10));
                                    this.postprocessResults(l, i);
                                    y();
                                    this.opts.element.trigger({
                                        type: "select2-loaded",
                                        items: l
                                    })
                                }
                            })
                        })
                    }
                },
                cancel: function() {
                    this.close()
                },
                blur: function() {
                    this.opts.selectOnBlur && this.selectHighlighted({
                        noFocus: !0
                    });
                    this.close();
                    this.container.removeClass("select2-container-active");
                    this.search[0] === document.activeElement && this.search.blur();
                    this.clearSearch();
                    this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")
                },
                focusSearch: function() {
                    vt(this.search)
                },
                selectHighlighted: function(n) {
                    if (this._touchMoved) {
                        this.clearTouchMoved();
                        return
                    }
                    var i = this.highlight(),
                        r = this.results.find(".select2-highlighted"),
                        t = r.closest(".select2-result").data("select2-data");
                    if (t) {
                        this.highlight(i);
                        this.onSelect(t, n)
                    } else n && n.noFocus && this.close()
                },
                getPlaceholder: function() {
                    var n;
                    return this.opts.element.attr("placeholder") || this.opts.element.attr("data-placeholder") || this.opts.element.data("placeholder") || this.opts.placeholder || ((n = this.getPlaceholderOption()) !== t ? n.text() : t)
                },
                getPlaceholderOption: function() {
                    if (this.select) {
                        var i = this.select.children("option").first();
                        if (this.opts.placeholderOption !== t) return this.opts.placeholderOption === "first" && i || typeof this.opts.placeholderOption == "function" && this.opts.placeholderOption(this.select);
                        if (n.trim(i.text()) === "" && i.val() === "") return i
                    }
                },
                initContainerWidth: function() {
                    function r() {
                        var i, f, u, r, e, o;
                        if (this.opts.width === "off") return null;
                        if (this.opts.width === "element") return this.opts.element.outerWidth(!1) === 0 ? "auto" : this.opts.element.outerWidth(!1) + "px";
                        if (this.opts.width === "copy" || this.opts.width === "resolve") {
                            if (i = this.opts.element.attr("style"), i !== t)
                                for (f = i.split(";"), r = 0, e = f.length; r < e; r = r + 1)
                                    if (o = f[r].replace(/\s/g, ""), u = o.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i), u !== null && u.length >= 1) return u[1];
                            return this.opts.width === "resolve" ? (i = this.opts.element.css("width"), i.indexOf("%") > 0) ? i : this.opts.element.outerWidth(!1) === 0 ? "auto" : this.opts.element.outerWidth(!1) + "px" : null
                        }
                        return n.isFunction(this.opts.width) ? this.opts.width() : this.opts.width
                    }
                    var i = r.call(this);
                    i !== null && this.container.css("width", i)
                }
            });
            st = p(a, {
                createContainer: function() {
                    return n(document.createElement("div")).attr({
                        "class": "select2-container"
                    }).html("<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>   <span class='select2-chosen'>&#160;<\/span><abbr class='select2-search-choice-close'><\/abbr>   <span class='select2-arrow' role='presentation'><b role='presentation'><\/b><\/span><\/a><label for='' class='select2-offscreen'><\/label><input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' /><div class='select2-drop select2-display-none'>   <div class='select2-search'>       <label for='' class='select2-offscreen'><\/label>       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'       aria-autocomplete='list' />   <\/div>   <ul class='select2-results' role='listbox'>   <\/ul><\/div>")
                },
                enableInterface: function() {
                    this.parent.enableInterface.apply(this, arguments) && this.focusser.prop("disabled", !this.isInterfaceEnabled())
                },
                opening: function() {
                    var i, r, u;
                    this.opts.minimumResultsForSearch >= 0 && this.showSearch(!0);
                    this.parent.opening.apply(this, arguments);
                    this.showSearchInput !== !1 && this.search.val(this.focusser.val());
                    this.opts.shouldFocusInput(this) && (this.search.focus(), i = this.search.get(0), i.createTextRange ? (r = i.createTextRange(), r.collapse(!1), r.select()) : i.setSelectionRange && (u = this.search.val().length, i.setSelectionRange(u, u)));
                    this.search.val() === "" && this.nextSearchTerm != t && (this.search.val(this.nextSearchTerm), this.search.select());
                    this.focusser.prop("disabled", !0).val("");
                    this.updateResults(!0);
                    this.opts.element.trigger(n.Event("select2-open"))
                },
                close: function() {
                    this.opened() && (this.parent.close.apply(this, arguments), this.focusser.prop("disabled", !1), this.opts.shouldFocusInput(this) && this.focusser.focus())
                },
                focus: function() {
                    this.opened() ? this.close() : (this.focusser.prop("disabled", !1), this.opts.shouldFocusInput(this) && this.focusser.focus())
                },
                isFocused: function() {
                    return this.container.hasClass("select2-container-active")
                },
                cancel: function() {
                    this.parent.cancel.apply(this, arguments);
                    this.focusser.prop("disabled", !1);
                    this.opts.shouldFocusInput(this) && this.focusser.focus()
                },
                destroy: function() {
                    n("label[for='" + this.focusser.attr("id") + "']").attr("for", this.opts.element.attr("id"));
                    this.parent.destroy.apply(this, arguments);
                    y.call(this, "selection", "focusser")
                },
                initContainer: function() {
                    var t, e = this.container,
                        s = this.dropdown,
                        u = c(),
                        f, o;
                    this.opts.minimumResultsForSearch < 0 ? this.showSearch(!1) : this.showSearch(!0);
                    this.selection = t = e.find(".select2-choice");
                    this.focusser = e.find(".select2-focusser");
                    t.find(".select2-chosen").attr("id", "select2-chosen-" + u);
                    this.focusser.attr("aria-labelledby", "select2-chosen-" + u);
                    this.results.attr("id", "select2-results-" + u);
                    this.search.attr("aria-owns", "select2-results-" + u);
                    this.focusser.attr("id", "s2id_autogen" + u);
                    f = n("label[for='" + this.opts.element.attr("id") + "']");
                    this.opts.element.focus(this.bind(function() {
                        this.focus()
                    }));
                    this.focusser.prev().text(f.text()).attr("for", this.focusser.attr("id"));
                    o = this.opts.element.attr("title");
                    this.opts.element.attr("title", o || f.text());
                    this.focusser.attr("tabindex", this.elementTabIndex);
                    this.search.attr("id", this.focusser.attr("id") + "_search");
                    this.search.prev().text(n("label[for='" + this.focusser.attr("id") + "']").text()).attr("for", this.search.attr("id"));
                    this.search.on("keydown", this.bind(function(n) {
                        if (this.isInterfaceEnabled() && 229 != n.keyCode) {
                            if (n.which === i.PAGE_UP || n.which === i.PAGE_DOWN) {
                                r(n);
                                return
                            }
                            switch (n.which) {
                                case i.UP:
                                case i.DOWN:
                                    this.moveHighlight(n.which === i.UP ? -1 : 1);
                                    r(n);
                                    return;
                                case i.ENTER:
                                    this.selectHighlighted();
                                    r(n);
                                    return;
                                case i.TAB:
                                    this.selectHighlighted({
                                        noFocus: !0
                                    });
                                    return;
                                case i.ESC:
                                    this.cancel(n);
                                    r(n);
                                    return
                            }
                        }
                    }));
                    this.search.on("blur", this.bind(function() {
                        document.activeElement === this.body.get(0) && window.setTimeout(this.bind(function() {
                            this.opened() && this.search.focus()
                        }), 0)
                    }));
                    this.focusser.on("keydown", this.bind(function(n) {
                        if (this.isInterfaceEnabled() && n.which !== i.TAB && !i.isControl(n) && !i.isFunctionKey(n) && n.which !== i.ESC) {
                            if (this.opts.openOnEnter === !1 && n.which === i.ENTER) {
                                r(n);
                                return
                            }
                            if (this.container.next().data("target") != "multiple-bar" && (n.which == i.DOWN || n.which == i.UP || n.which == i.ENTER && this.opts.openOnEnter)) {
                                if (n.altKey || n.ctrlKey || n.shiftKey || n.metaKey) return;
                                this.open();
                                r(n);
                                return
                            }
                            if (n.which == i.DELETE || n.which == i.BACKSPACE) {
                                this.opts.allowClear && this.clear();
                                r(n);
                                return
                            }
                        }
                    }));
                    nt(this.focusser);
                    this.focusser.on("keyup-change input", this.bind(function(n) {
                        if (this.opts.minimumResultsForSearch >= 0) {
                            if (n.stopPropagation(), this.opened()) return;
                            this.open()
                        }
                    }));
                    t.on("mousedown touchstart", "abbr", this.bind(function(n) {
                        this.isInterfaceEnabled() && (this.clear(), pt(n), this.close(), this.selection && this.selection.focus())
                    }));
                    t.on("mousedown touchstart", this.bind(function(i) {
                        d(t);
                        this.container.hasClass("select2-container-active") || this.opts.element.trigger(n.Event("select2-focus"));
                        this.opened() ? this.close() : this.isInterfaceEnabled() && this.open();
                        r(i)
                    }));
                    s.on("mousedown touchstart", this.bind(function() {
                        this.opts.shouldFocusInput(this) && this.search.focus()
                    }));
                    t.on("focus", this.bind(function(n) {
                        r(n)
                    }));
                    this.focusser.on("focus", this.bind(function() {
                        this.container.hasClass("select2-container-active") || this.opts.element.trigger(n.Event("select2-focus"));
                        this.container.addClass("select2-container-active")
                    })).on("blur", this.bind(function() {
                        this.opened() || (this.container.removeClass("select2-container-active"), this.opts.element.trigger(n.Event("select2-blur")))
                    }));
                    this.search.on("focus", this.bind(function() {
                        this.container.hasClass("select2-container-active") || this.opts.element.trigger(n.Event("select2-focus"));
                        this.container.addClass("select2-container-active")
                    }));
                    this.initContainerWidth();
                    this.opts.element.hide();
                    this.setPlaceholder()
                },
                clear: function(t) {
                    var i = this.selection.data("select2-data"),
                        r, u;
                    if (i) {
                        if (r = n.Event("select2-clearing"), this.opts.element.trigger(r), r.isDefaultPrevented()) return;
                        u = this.getPlaceholderOption();
                        this.opts.element.val(u ? u.val() : "");
                        this.selection.find(".select2-chosen").empty();
                        this.selection.removeData("select2-data");
                        this.setPlaceholder();
                        t !== !1 && (this.opts.element.trigger({
                            type: "select2-removed",
                            val: this.id(i),
                            choice: i
                        }), this.triggerChange({
                            removed: i
                        }))
                    }
                },
                initSelection: function() {
                    var n;
                    this.isPlaceholderOptionSelected() ? (this.updateSelection(null), this.close(), this.setPlaceholder()) : (n = this, this.opts.initSelection.call(null, this.opts.element, function(i) {
                        i !== t && i !== null && (n.updateSelection(i), n.close(), n.setPlaceholder(), n.nextSearchTerm = n.opts.nextSearchTerm(i, n.search.val()))
                    }))
                },
                isPlaceholderOptionSelected: function() {
                    var n;
                    return this.getPlaceholder() === t ? !1 : (n = this.getPlaceholderOption()) !== t && n.prop("selected") || this.opts.element.val() === "" || this.opts.element.val() === t || this.opts.element.val() === null
                },
                prepareOpts: function() {
                    var t = this.parent.prepareOpts.apply(this, arguments),
                        i = this;
                    return t.element.get(0).tagName.toLowerCase() === "select" ? t.initSelection = function(n, t) {
                        var r = n.find("option").filter(function() {
                            return this.selected && !this.disabled
                        });
                        t(i.optionToData(r))
                    } : "data" in t && (t.initSelection = t.initSelection || function(i, r) {
                        var e = i.val(),
                            u = null;
                        t.query({
                            matcher: function(n, i, r) {
                                var o = f(e, t.id(r));
                                return o && (u = r), o
                            },
                            callback: n.isFunction(r) ? function() {
                                r(u)
                            } : n.noop
                        })
                    }), t
                },
                getPlaceholder: function() {
                    return this.select && this.getPlaceholderOption() === t ? t : this.parent.getPlaceholder.apply(this, arguments)
                },
                setPlaceholder: function() {
                    var n = this.getPlaceholder();
                    if (this.isPlaceholderOptionSelected() && n !== t) {
                        if (this.select && this.getPlaceholderOption() === t) return;
                        this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(n));
                        this.selection.addClass("select2-default");
                        this.container.removeClass("select2-allowclear")
                    }
                },
                postprocessResults: function(n, t, i) {
                    var r = 0,
                        e = this,
                        u;
                    this.findHighlightableChoices().each2(function(n, t) {
                        if (f(e.id(t.data("select2-data")), e.opts.element.val())) return r = n, !1
                    });
                    i !== !1 && (t === !0 && r >= 0 ? this.highlight(r) : this.highlight(0));
                    t === !0 && (u = this.opts.minimumResultsForSearch, u >= 0 && this.showSearch(ot(n.results) >= u))
                },
                showSearch: function(t) {
                    this.showSearchInput !== t && (this.showSearchInput = t, this.dropdown.find(".select2-search").toggleClass("select2-search-hidden", !t), this.dropdown.find(".select2-search").toggleClass("select2-offscreen", !t), n(this.dropdown, this.container).toggleClass("select2-with-searchbox", t))
                },
                onSelect: function(n, t) {
                    if (this.triggerSelect(n)) {
                        var i = this.opts.element.val(),
                            r = this.data();
                        this.opts.element.val(this.id(n));
                        this.updateSelection(n);
                        this.opts.element.trigger({
                            type: "select2-selected",
                            val: this.id(n),
                            choice: n
                        });
                        this.nextSearchTerm = this.opts.nextSearchTerm(n, this.search.val());
                        this.close();
                        t && t.noFocus || !this.opts.shouldFocusInput(this) || this.focusser.focus();
                        f(i, this.id(n)) || this.triggerChange({
                            added: n,
                            removed: r
                        })
                    }
                },
                updateSelection: function(n) {
                    var i = this.selection.find(".select2-chosen"),
                        r, u;
                    this.selection.data("select2-data", n);
                    i.empty();
                    n !== null && (r = this.opts.formatSelection(n, i, this.opts.escapeMarkup));
                    r !== t && i.append(r);
                    u = this.opts.formatSelectionCssClass(n, i);
                    u !== t && i.addClass(u);
                    this.selection.removeClass("select2-default");
                    this.opts.allowClear && this.getPlaceholder() !== t && this.container.addClass("select2-allowclear")
                },
                val: function() {
                    var i, r = !1,
                        u = null,
                        n = this,
                        f = this.data();
                    if (arguments.length === 0) return this.opts.element.val();
                    if (i = arguments[0], arguments.length > 1 && (r = arguments[1]), this.select) this.select.val(i).find("option").filter(function() {
                        return this.selected
                    }).each2(function(t, i) {
                        return u = n.optionToData(i), !1
                    }), this.updateSelection(u), this.setPlaceholder(), r && this.triggerChange({
                        added: u,
                        removed: f
                    });
                    else {
                        if (!i && i !== 0) {
                            this.clear(r);
                            return
                        }
                        if (this.opts.initSelection === t) throw new Error("cannot call val() if initSelection() is not defined");
                        this.opts.element.val(i);
                        this.opts.initSelection(this.opts.element, function(t) {
                            n.opts.element.val(t ? n.id(t) : "");
                            n.updateSelection(t);
                            n.setPlaceholder();
                            r && n.triggerChange({
                                added: t,
                                removed: f
                            })
                        })
                    }
                },
                clearSearch: function() {
                    this.search.val("");
                    this.focusser.val("")
                },
                data: function(n) {
                    var i, r = !1;
                    if (arguments.length === 0) return i = this.selection.data("select2-data"), i == t && (i = null), i;
                    arguments.length > 1 && (r = arguments[1]);
                    n ? (i = this.data(), this.opts.element.val(n ? this.id(n) : ""), this.updateSelection(n), r && this.triggerChange({
                        added: n,
                        removed: i
                    })) : this.clear(r)
                }
            });
            ht = p(a, {
                createContainer: function() {
                    return n(document.createElement("div")).attr({
                        "class": "select2-container select2-container-multi"
                    }).html("<ul class='select2-choices'>  <li class='select2-search-field'>    <label for='' class='select2-offscreen'><\/label>    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>  <\/li><\/ul><div class='select2-drop select2-drop-multi select2-display-none'>   <ul class='select2-results'>   <\/ul><\/div>")
                },
                prepareOpts: function() {
                    var t = this.parent.prepareOpts.apply(this, arguments),
                        i = this;
                    return t.element.get(0).tagName.toLowerCase() === "select" ? t.initSelection = function(n, t) {
                        var r = [];
                        n.find("option").filter(function() {
                            return this.selected && !this.disabled
                        }).each2(function(n, t) {
                            r.push(i.optionToData(t))
                        });
                        t(r)
                    } : "data" in t && (t.initSelection = t.initSelection || function(i, r) {
                        var e = v(i.val(), t.separator, t.transformVal),
                            u = [];
                        t.query({
                            matcher: function(i, r, o) {
                                var s = n.grep(e, function(n) {
                                    return f(n, t.id(o))
                                }).length;
                                return s && u.push(o), s
                            },
                            callback: n.isFunction(r) ? function() {
                                for (var s, n, i, h = [], o = 0; o < e.length; o++)
                                    for (s = e[o], n = 0; n < u.length; n++)
                                        if (i = u[n], f(s, t.id(i))) {
                                            h.push(i);
                                            u.splice(n, 1);
                                            break
                                        }
                                r(h)
                            } : n.noop
                        })
                    }), t
                },
                selectChoice: function(n) {
                    var t = this.container.find(".select2-search-choice-focus");
                    t.length && n && n[0] == t[0] || (t.length && this.opts.element.trigger("choice-deselected", t), t.removeClass("select2-search-choice-focus"), n && n.length && (this.close(), n.addClass("select2-search-choice-focus"), this.opts.element.trigger("choice-selected", n)))
                },
                destroy: function() {
                    n("label[for='" + this.search.attr("id") + "']").attr("for", this.opts.element.attr("id"));
                    this.parent.destroy.apply(this, arguments);
                    y.call(this, "searchContainer", "selection")
                },
                initContainer: function() {
                    var t = ".select2-choices",
                        u, f;
                    this.searchContainer = this.container.find(".select2-search-field");
                    this.selection = u = this.container.find(t);
                    f = this;
                    this.selection.on("click", ".select2-container:not(.select2-container-disabled) .select2-search-choice:not(.select2-locked)", function() {
                        f.search[0].focus();
                        f.selectChoice(n(this))
                    });
                    this.search.attr("id", "s2id_autogen" + c());
                    this.search.prev().text(n("label[for='" + this.opts.element.attr("id") + "']").text()).attr("for", this.search.attr("id"));
                    this.opts.element.focus(this.bind(function() {
                        this.focus()
                    }));
                    this.search.on("input paste", this.bind(function() {
                        this.search.attr("placeholder") && this.search.val().length == 0 || this.isInterfaceEnabled() && (this.opened() || this.open())
                    }));
                    this.search.attr("tabindex", this.elementTabIndex);
                    this.keydowns = 0;
                    this.search.on("keydown", this.bind(function(n) {
                        var t;
                        if (this.isInterfaceEnabled()) {
                            ++this.keydowns;
                            var f = u.find(".select2-search-choice-focus"),
                                o = f.prev(".select2-search-choice:not(.select2-locked)"),
                                e = f.next(".select2-search-choice:not(.select2-locked)"),
                                s = yt(this.search);
                            if (f.length && (n.which == i.LEFT || n.which == i.RIGHT || n.which == i.BACKSPACE || n.which == i.DELETE || n.which == i.ENTER)) {
                                t = f;
                                n.which == i.LEFT && o.length ? t = o : n.which == i.RIGHT ? t = e.length ? e : null : n.which === i.BACKSPACE ? this.unselect(f.first()) && (this.search.width(10), t = o.length ? o : e) : n.which == i.DELETE ? this.unselect(f.first()) && (this.search.width(10), t = e.length ? e : null) : n.which == i.ENTER && (t = null);
                                this.selectChoice(t);
                                r(n);
                                t && t.length || this.open();
                                return
                            }
                            if ((n.which !== i.BACKSPACE || this.keydowns != 1) && n.which != i.LEFT || s.offset != 0 || s.length) this.selectChoice(null);
                            else {
                                this.selectChoice(u.find(".select2-search-choice:not(.select2-locked)").last());
                                r(n);
                                return
                            }
                            if (this.opened()) switch (n.which) {
                                case i.UP:
                                case i.DOWN:
                                    this.moveHighlight(n.which === i.UP ? -1 : 1);
                                    r(n);
                                    return;
                                case i.ENTER:
                                    this.selectHighlighted();
                                    r(n);
                                    return;
                                case i.TAB:
                                    this.selectHighlighted({
                                        noFocus: !0
                                    });
                                    this.close();
                                    return;
                                case i.ESC:
                                    this.cancel(n);
                                    r(n);
                                    return
                            }
                            if (n.which !== i.TAB && !i.isControl(n) && !i.isFunctionKey(n) && n.which !== i.BACKSPACE && n.which !== i.ESC) {
                                if (n.which === i.ENTER) {
                                    if (this.opts.openOnEnter === !1) return;
                                    if (n.altKey || n.ctrlKey || n.shiftKey || n.metaKey) return
                                }
                                this.open();
                                (n.which === i.PAGE_UP || n.which === i.PAGE_DOWN) && r(n);
                                n.which === i.ENTER && r(n)
                            }
                        }
                    }));
                    this.search.on("keyup", this.bind(function() {
                        this.keydowns = 0;
                        this.resizeSearch()
                    }));
                    this.search.on("blur", this.bind(function(t) {
                        this.container.removeClass("select2-container-active");
                        this.search.removeClass("select2-focused");
                        this.selectChoice(null);
                        this.opened() || this.clearSearch();
                        t.stopImmediatePropagation();
                        this.opts.element.trigger(n.Event("select2-blur"))
                    }));
                    this.container.on("click", t, this.bind(function(t) {
                        this.isInterfaceEnabled() && (n(t.target).closest(".select2-search-choice").length > 0 || (this.selectChoice(null), this.clearPlaceholder(), this.container.hasClass("select2-container-active") || this.opts.element.trigger(n.Event("select2-focus")), this.open(), this.focusSearch(), t.preventDefault()))
                    }));
                    this.container.on("focus", t, this.bind(function() {
                        this.isInterfaceEnabled() && (this.container.hasClass("select2-container-active") || this.opts.element.trigger(n.Event("select2-focus")), this.container.addClass("select2-container-active"), this.dropdown.addClass("select2-drop-active"), this.clearPlaceholder())
                    }));
                    this.initContainerWidth();
                    this.opts.element.hide();
                    this.clearSearch()
                },
                enableInterface: function() {
                    this.parent.enableInterface.apply(this, arguments) && this.search.prop("disabled", !this.isInterfaceEnabled())
                },
                initSelection: function() {
                    var n;
                    this.opts.element.val() === "" && this.opts.element.text() === "" && (this.updateSelection([]), this.close(), this.clearSearch());
                    (this.select || this.opts.element.val() !== "") && (n = this, this.opts.initSelection.call(null, this.opts.element, function(i) {
                        i !== t && i !== null && (n.updateSelection(i), n.close(), n.clearSearch())
                    }))
                },
                clearSearch: function() {
                    var n = this.getPlaceholder(),
                        i = this.getMaxSearchWidth();
                    n !== t && this.getVal().length === 0 && this.search.hasClass("select2-focused") === !1 ? (this.search.val(n).addClass("select2-default"), this.search.width(i > 0 ? i : this.container.css("width"))) : this.search.val("").width(10)
                },
                clearPlaceholder: function() {
                    this.search.hasClass("select2-default") && this.search.val("").removeClass("select2-default")
                },
                opening: function() {
                    this.clearPlaceholder();
                    this.resizeSearch();
                    this.parent.opening.apply(this, arguments);
                    this.focusSearch();
                    this.search.val() === "" && this.nextSearchTerm != t && (this.search.val(this.nextSearchTerm), this.search.select());
                    this.updateResults(!0);
                    this.opts.shouldFocusInput(this) && this.search.focus();
                    this.opts.element.trigger(n.Event("select2-open"))
                },
                close: function() {
                    this.opened() && this.parent.close.apply(this, arguments)
                },
                focus: function() {
                    this.close();
                    this.search.focus()
                },
                isFocused: function() {
                    return this.search.hasClass("select2-focused")
                },
                updateSelection: function(t) {
                    var r = [],
                        u = [],
                        i = this;
                    n(t).each(function() {
                        e(i.id(this), r) < 0 && (r.push(i.id(this)), u.push(this))
                    });
                    t = u;
                    this.selection.find(".select2-search-choice").remove();
                    n(t).each(function() {
                        i.addSelectedChoice(this)
                    });
                    i.postprocessResults()
                },
                tokenize: function() {
                    var n = this.search.val();
                    n = this.opts.tokenizer.call(this, n, this.data(), this.bind(this.onSelect), this.opts);
                    n != null && n != t && (this.search.val(n), n.length > 0 && this.open())
                },
                onSelect: function(n, i) {
                    this.triggerSelect(n) && n.text !== "" && (this.addSelectedChoice(n), this.opts.element.trigger({
                        type: "selected",
                        val: this.id(n),
                        choice: n
                    }), this.nextSearchTerm = this.opts.nextSearchTerm(n, this.search.val()), this.clearSearch(), this.updateResults(), (this.select || !this.opts.closeOnSelect) && this.postprocessResults(n, !1, this.opts.closeOnSelect === !0), this.opts.closeOnSelect ? (this.close(), this.search.width(10)) : this.countSelectableResults() > 0 ? (this.search.width(10), this.resizeSearch(), this.getMaximumSelectionSize() > 0 && this.val().length >= this.getMaximumSelectionSize() ? this.updateResults(!0) : this.nextSearchTerm != t && (this.search.val(this.nextSearchTerm), this.updateResults(), this.search.select()), this.positionDropdown()) : (this.close(), this.search.width(10)), this.triggerChange({
                        added: n
                    }), i && i.noFocus || this.focusSearch())
                },
                cancel: function() {
                    this.close();
                    this.focusSearch()
                },
                addSelectedChoice: function(i) {
                    var o = !i.locked,
                        h = n("<li class='select2-search-choice'>    <div><\/div>    <a href='#' class='select2-search-choice-close' tabindex='-1'><\/a><\/li>"),
                        c = n("<li class='select2-search-choice select2-locked'><div><\/div><\/li>"),
                        u = o ? h : c,
                        l = this.id(i),
                        s = this.getVal(),
                        f, e;
                    if (f = this.opts.formatSelection(i, u.find("div"), this.opts.escapeMarkup), f != t && u.find("div").replaceWith(n("<div><\/div>").html(f)), e = this.opts.formatSelectionCssClass(i, u.find("div")), e != t && u.addClass(e), o) u.find(".select2-search-choice-close").on("mousedown", r).on("click dblclick", this.bind(function(t) {
                        this.isInterfaceEnabled() && (this.unselect(n(t.target)), this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"), r(t), this.close(), this.focusSearch())
                    })).on("focus", this.bind(function() {
                        this.isInterfaceEnabled() && (this.container.addClass("select2-container-active"), this.dropdown.addClass("select2-drop-active"))
                    }));
                    u.data("select2-data", i);
                    u.insertBefore(this.searchContainer);
                    s.push(l);
                    this.setVal(s)
                },
                unselect: function(t) {
                    var u = this.getVal(),
                        i, f, r;
                    if (t = t.closest(".select2-search-choice"), t.length === 0) throw "Invalid argument: " + t + ". Must be .select2-search-choice";
                    if (i = t.data("select2-data"), i) {
                        if (r = n.Event("select2-removing"), r.val = this.id(i), r.choice = i, this.opts.element.trigger(r), r.isDefaultPrevented()) return !1;
                        while ((f = e(this.id(i), u)) >= 0) u.splice(f, 1), this.setVal(u), this.select && this.postprocessResults();
                        return t.remove(), this.opts.element.trigger({
                            type: "select2-removed",
                            val: this.id(i),
                            choice: i
                        }), this.triggerChange({
                            removed: i
                        }), !0
                    }
                },
                postprocessResults: function(n, t, i) {
                    var s = this.getVal(),
                        f = this.results.find(".select2-result"),
                        h = this.results.find(".select2-result-with-children"),
                        r = this;
                    f.each2(function(n, t) {
                        var i = r.id(t.data("select2-data"));
                        e(i, s) >= 0 && (t.addClass("select2-selected"), t.find(".select2-result-selectable").addClass("select2-selected"))
                    });
                    h.each2(function(n, t) {
                        t.is(".select2-result-selectable") || t.find(".select2-result-selectable:not(.select2-selected)").length !== 0 || t.addClass("select2-selected")
                    });
                    this.highlight() == -1 && i !== !1 && this.opts.closeOnSelect === !0 && r.highlight(0);
                    !this.opts.createSearchChoice && !f.filter(".select2-result:not(.select2-selected)").length > 0 && (n && (!n || n.more || this.results.find(".select2-no-results").length !== 0) || o(r.opts.formatNoMatches, "formatNoMatches") && this.results.append("<li class='select2-no-results'>" + u(r.opts.formatNoMatches, r.opts.element, r.search.val()) + "<\/li>"))
                },
                getMaxSearchWidth: function() {
                    return this.selection.width() - g(this.search)
                },
                resizeSearch: function() {
                    var i, u, t, f, n, r = g(this.search);
                    i = wt(this.search) + 10;
                    u = this.search.offset().left;
                    t = this.selection.width();
                    f = this.selection.offset().left;
                    n = t - (u - f) - r;
                    n < i && (n = t - r);
                    n < 40 && (n = t - r);
                    n <= 0 && (n = i);
                    this.search.width(Math.floor(n))
                },
                getVal: function() {
                    var n;
                    return this.select ? (n = this.select.val(), n === null ? [] : n) : (n = this.opts.element.val(), v(n, this.opts.separator, this.opts.transformVal))
                },
                setVal: function(t) {
                    var i;
                    this.select ? this.select.val(t) : (i = [], n(t).each(function() {
                        e(this, i) < 0 && i.push(this)
                    }), this.opts.element.val(i.length === 0 ? "" : i.join(this.opts.separator)))
                },
                buildChangeDetails: function(n, t) {
                    for (var i, t = t.slice(0), n = n.slice(0), r = 0; r < t.length; r++)
                        for (i = 0; i < n.length; i++) f(this.opts.id(t[r]), this.opts.id(n[i])) && (t.splice(r, 1), r > 0 && r--, n.splice(i, 1), i--);
                    return {
                        added: t,
                        removed: n
                    }
                },
                val: function(i, r) {
                    var f, u = this;
                    if (arguments.length === 0) return this.getVal();
                    if (f = this.data(), f.length || (f = []), !i && i !== 0) {
                        this.opts.element.val("");
                        this.updateSelection([]);
                        this.clearSearch();
                        r && this.triggerChange({
                            added: this.data(),
                            removed: f
                        });
                        return
                    }
                    if (this.setVal(i), this.select) this.opts.initSelection(this.select, this.bind(this.updateSelection)), r && this.triggerChange(this.buildChangeDetails(f, this.data()));
                    else {
                        if (this.opts.initSelection === t) throw new Error("val() cannot be called if initSelection() is not defined");
                        this.opts.initSelection(this.opts.element, function(t) {
                            var i = n.map(t, u.id);
                            u.setVal(i);
                            u.updateSelection(t);
                            u.clearSearch();
                            r && u.triggerChange(u.buildChangeDetails(f, u.data()))
                        })
                    }
                    this.clearSearch()
                },
                onSortStart: function() {
                    if (this.select) throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");
                    this.search.width(0);
                    this.searchContainer.hide()
                },
                onSortEnd: function() {
                    var t = [],
                        i = this;
                    this.searchContainer.show();
                    this.searchContainer.appendTo(this.searchContainer.parent());
                    this.resizeSearch();
                    this.selection.find(".select2-search-choice").each(function() {
                        t.push(i.opts.id(n(this).data("select2-data")))
                    });
                    this.setVal(t);
                    this.triggerChange()
                },
                data: function(t, i) {
                    var f = this,
                        r, u;
                    if (arguments.length === 0) return this.selection.children(".select2-search-choice").map(function() {
                        return n(this).data("select2-data")
                    }).get();
                    u = this.data();
                    t || (t = []);
                    r = n.map(t, function(n) {
                        return f.opts.id(n)
                    });
                    this.setVal(r);
                    this.updateSelection(t);
                    this.clearSearch();
                    i && this.triggerChange(this.buildChangeDetails(u, this.data()))
                }
            });
            n.fn.select2 = function() {
                var i = Array.prototype.slice.call(arguments, 0),
                    r, u, f, o, s, c = ["val", "destroy", "opened", "open", "close", "focus", "isFocused", "container", "dropdown", "onSortStart", "onSortEnd", "enable", "disable", "readonly", "positionDropdown", "data", "search"],
                    l = ["opened", "isFocused", "container", "dropdown"],
                    a = ["val", "data"],
                    h = {
                        search: "externalSearch"
                    };
                return this.each(function() {
                    if (i.length === 0 || typeof i[0] == "object") r = i.length === 0 ? {} : n.extend({}, i[0]), r.element = n(this), r.element.get(0).tagName.toLowerCase() === "select" ? s = r.element.prop("multiple") : (s = r.multiple || !1, "tags" in r && (r.multiple = s = !0)), u = s ? new window.Select2["class"].multi : new window.Select2["class"].single, u.init(r);
                    else if (typeof i[0] == "string") {
                        if (e(i[0], c) < 0) throw "Unknown method: " + i[0];
                        if (o = t, u = n(this).data("select2"), u === t) return;
                        if (f = i[0], f === "container" ? o = u.container : f === "dropdown" ? o = u.dropdown : (h[f] && (f = h[f]), o = u[f].apply(u, i.slice(1))), e(i[0], l) >= 0 || e(i[0], a) >= 0 && i.length == 1) return !1
                    } else throw "Invalid arguments to select2 plugin: " + i;
                }), o === t ? this : o
            };
            n.fn.select2.defaults = {
                width: "copy",
                loadMorePadding: 0,
                closeOnSelect: !0,
                openOnEnter: !0,
                containerCss: {},
                dropdownCss: {},
                containerCssClass: "",
                dropdownCssClass: "",
                formatResult: function(n, t, i, r) {
                    var u = [];
                    return it(this.text(n), i.term, u, r), u.join("")
                },
                transformVal: function(t) {
                    return n.trim(t)
                },
                formatSelection: function(n, i, r) {
                    return n ? r(this.text(n)) : t
                },
                sortResults: function(n) {
                    return n
                },
                formatResultCssClass: function(n) {
                    return n.css
                },
                formatSelectionCssClass: function() {
                    return t
                },
                minimumResultsForSearch: 0,
                minimumInputLength: 0,
                maximumInputLength: null,
                maximumSelectionSize: 0,
                id: function(n) {
                    return n == t ? null : n.id
                },
                text: function(t) {
                    return t && this.data && this.data.text ? n.isFunction(this.data.text) ? this.data.text(t) : t[this.data.text] : t.text
                },
                matcher: function(n, t) {
                    return h("" + t).toUpperCase().indexOf(h("" + n).toUpperCase()) >= 0
                },
                separator: ",",
                tokenSeparators: [],
                tokenizer: bt,
                escapeMarkup: rt,
                blurOnChange: !1,
                selectOnBlur: !1,
                adaptContainerCssClass: function(n) {
                    return n
                },
                adaptDropdownCssClass: function() {
                    return null
                },
                nextSearchTerm: function() {
                    return t
                },
                searchInputPlaceholder: "",
                createSearchChoicePosition: "top",
                shouldFocusInput: function(n) {
                    var t = "ontouchstart" in window || navigator.msMaxTouchPoints > 0;
                    return t ? n.opts.minimumResultsForSearch < 0 ? !1 : !0 : !0
                }
            };
            n.fn.select2.locales = [];
            n.fn.select2.locales.en = {
                formatMatches: function(n) {
                    return n === 1 ? "One result is available, press enter to select it." : n + " results are available, use up and down arrow keys to navigate."
                },
                formatNoMatches: function() {
                    return "No matches found"
                },
                formatAjaxError: function() {
                    return "Loading failed"
                },
                formatInputTooShort: function(n, t) {
                    var i = t - n.length;
                    return "Please enter " + i + " or more character" + (i == 1 ? "" : "s")
                },
                formatInputTooLong: function(n, t) {
                    var i = n.length - t;
                    return "Please delete " + i + " character" + (i == 1 ? "" : "s")
                },
                formatSelectionTooBig: function(n) {
                    return "You can only select " + n + " item" + (n == 1 ? "" : "s")
                },
                formatLoadMore: function() {
                    return "Loading more results"
                },
                formatSearching: function() {
                    return "Searching"
                }
            };
            n.extend(n.fn.select2.defaults, n.fn.select2.locales.en);
            n.fn.select2.ajaxDefaults = {
                transport: n.ajax,
                params: {
                    type: "GET",
                    cache: !1,
                    dataType: "json"
                }
            };
            window.Select2 = {
                query: {
                    ajax: ut,
                    local: ft,
                    tags: et
                },
                util: {
                    debounce: tt,
                    markMatch: it,
                    escapeMarkup: rt,
                    stripDiacritics: h
                },
                "class": {
                    abstract: a,
                    single: st,
                    multi: ht
                }
            }
        }
    }(jQuery),
    function(n) {
        typeof define == "function" && define.amd ? define(["jquery"], n) : typeof exports == "object" ? n(require("jquery")) : n(jQuery)
    }(function(n) {
        function i() {
            var c = this._type,
                o = arguments.length,
                f = window[c],
                r = arguments,
                u = r[0],
                e, t, h, i, s;
            if (o < 1) throw new Error("Minimum 1 argument must be given");
            else {
                if (n.isArray(u)) {
                    t = {};
                    for (i in u) {
                        e = u[i];
                        try {
                            t[e] = JSON.parse(f.getItem(e))
                        } catch (l) {
                            t[e] = f.getItem(e)
                        }
                    }
                    return t
                }
                if (o == 1) try {
                    return JSON.parse(f.getItem(u))
                } catch (l) {
                    return f.getItem(u)
                } else {
                    try {
                        t = JSON.parse(f.getItem(u))
                    } catch (l) {
                        throw new ReferenceError(u + " is not defined in this storage");
                    }
                    for (i = 1; i < o - 1; i++)
                        if (t = t[r[i]], t === undefined) throw new ReferenceError([].slice.call(r, 1, i + 1).join(".") + " is not defined in this storage");
                    if (n.isArray(r[i])) {
                        h = t;
                        t = {};
                        for (s in r[i]) t[r[i][s]] = h[r[i][s]];
                        return t
                    }
                    return t[r[i]]
                }
            }
        }

        function u() {
            var l = this._type,
                s = arguments.length,
                f = window[l],
                e = arguments,
                u = e[0],
                o = e[1],
                r, h = isNaN(o) ? {} : [],
                c, i, t;
            if (s < 1 || !n.isPlainObject(u) && s < 2) throw new Error("Minimum 2 arguments must be given or first parameter must be an object");
            else {
                if (n.isPlainObject(u)) {
                    for (t in u) r = u[t], n.isPlainObject(r) || this.alwaysUseJson ? f.setItem(t, JSON.stringify(r)) : f.setItem(t, r);
                    return u
                }
                if (s == 2) return typeof o == "object" || this.alwaysUseJson ? f.setItem(u, JSON.stringify(o)) : f.setItem(u, o), o;
                try {
                    i = f.getItem(u);
                    i != null && (h = JSON.parse(i))
                } catch (a) {}
                for (i = h, t = 1; t < s - 2; t++) r = e[t], c = isNaN(e[t + 1]) ? "object" : "array", i[r] && (c != "object" || n.isPlainObject(i[r])) && (c != "array" || n.isArray(i[r])) || (i[r] = c == "array" ? [] : {}), i = i[r];
                return i[e[t]] = e[t + 1], f.setItem(u, JSON.stringify(h)), h
            }
        }

        function h() {
            var h = this._type,
                e = arguments.length,
                f = window[h],
                i = arguments,
                r = i[0],
                o, u, t, s;
            if (e < 1) throw new Error("Minimum 1 argument must be given");
            else {
                if (n.isArray(r)) {
                    for (t in r) f.removeItem(r[t]);
                    return !0
                }
                if (e == 1) return f.removeItem(r), !0;
                try {
                    o = u = JSON.parse(f.getItem(r))
                } catch (c) {
                    throw new ReferenceError(r + " is not defined in this storage");
                }
                for (t = 1; t < e - 1; t++)
                    if (u = u[i[t]], u === undefined) throw new ReferenceError([].slice.call(i, 1, t).join(".") + " is not defined in this storage");
                if (n.isArray(i[t]))
                    for (s in i[t]) delete u[i[t][s]];
                else delete u[i[t]];
                return f.setItem(r, JSON.stringify(o)), !0
            }
        }

        function v(t) {
            var r = f.call(this),
                i;
            for (i in r) h.call(this, r[i]);
            if (t)
                for (i in n.namespaceStorages) a(i)
        }

        function c() {
            var e = arguments.length,
                o = arguments,
                u = o[0],
                r, t;
            if (e == 0) return f.call(this).length == 0;
            if (n.isArray(u)) {
                for (t = 0; t < u.length; t++)
                    if (!c.call(this, u[t])) return !1;
                return !0
            }
            try {
                r = i.apply(this, arguments);
                n.isArray(o[e - 1]) || (r = {
                    totest: r
                });
                for (t in r)
                    if (!(n.isPlainObject(r[t]) && n.isEmptyObject(r[t]) || n.isArray(r[t]) && !r[t].length || !r[t])) return !1;
                return !0
            } catch (s) {
                return !0
            }
        }

        function l() {
            var f = arguments.length,
                e = arguments,
                u = e[0],
                r, t;
            if (f < 1) throw new Error("Minimum 1 argument must be given");
            if (n.isArray(u)) {
                for (t = 0; t < u.length; t++)
                    if (!l.call(this, u[t])) return !1;
                return !0
            }
            try {
                r = i.apply(this, arguments);
                n.isArray(e[f - 1]) || (r = {
                    totest: r
                });
                for (t in r)
                    if (!(r[t] !== undefined && r[t] !== null)) return !1;
                return !0
            } catch (o) {
                return !1
            }
        }

        function f() {
            var f = this._type,
                e = arguments.length,
                o = window[f],
                s = arguments,
                t = [],
                n = {},
                r, u;
            if (n = e > 0 ? i.apply(this, s) : o, n && n._cookie)
                for (r in Cookies.get()) r != "" && t.push(r.replace(n._prefix, ""));
            else
                for (u in n) n.hasOwnProperty(u) && t.push(u);
            return t
        }

        function a(t) {
            if (!t || typeof t != "string") throw new Error("First parameter must be a string");
            e ? (window.localStorage.getItem(t) || window.localStorage.setItem(t, "{}"), window.sessionStorage.getItem(t) || window.sessionStorage.setItem(t, "{}")) : (window.localCookieStorage.getItem(t) || window.localCookieStorage.setItem(t, "{}"), window.sessionCookieStorage.getItem(t) || window.sessionCookieStorage.setItem(t, "{}"));
            var i = {
                localStorage: n.extend({}, n.localStorage, {
                    _ns: t
                }),
                sessionStorage: n.extend({}, n.sessionStorage, {
                    _ns: t
                })
            };
            return typeof Cookies != "undefined" && (window.cookieStorage.getItem(t) || window.cookieStorage.setItem(t, "{}"), i.cookieStorage = n.extend({}, n.cookieStorage, {
                _ns: t
            })), n.namespaceStorages[t] = i, i
        }

        function y(n) {
            var t = "jsapi";
            try {
                return window[n] ? (window[n].setItem(t, t), window[n].removeItem(t), !0) : !1
            } catch (i) {
                return !1
            }
        }
        var o = "ls_",
            s = "ss_",
            e = y("localStorage"),
            t = {
                _type: "",
                _ns: "",
                _callMethod: function(n, t) {
                    var i = [],
                        t = Array.prototype.slice.call(t),
                        r = t[0];
                    return this._ns && i.push(this._ns), typeof r == "string" && r.indexOf(".") !== -1 && (t.shift(), [].unshift.apply(t, r.split("."))), [].push.apply(i, t), n.apply(this, i)
                },
                alwaysUseJson: !1,
                get: function() {
                    return this._callMethod(i, arguments)
                },
                set: function() {
                    var f = arguments.length,
                        e = arguments,
                        t = e[0],
                        i, r;
                    if (f < 1 || !n.isPlainObject(t) && f < 2) throw new Error("Minimum 2 arguments must be given or first parameter must be an object");
                    if (n.isPlainObject(t) && this._ns) {
                        for (i in t) this._callMethod(u, [i, t[i]]);
                        return t
                    }
                    return r = this._callMethod(u, e), this._ns ? r[t.split(".")[0]] : r
                },
                remove: function() {
                    if (arguments.length < 1) throw new Error("Minimum 1 argument must be given");
                    return this._callMethod(h, arguments)
                },
                removeAll: function(n) {
                    return this._ns ? (this._callMethod(u, [{}]), !0) : this._callMethod(v, [n])
                },
                isEmpty: function() {
                    return this._callMethod(c, arguments)
                },
                isSet: function() {
                    if (arguments.length < 1) throw new Error("Minimum 1 argument must be given");
                    return this._callMethod(l, arguments)
                },
                keys: function() {
                    return this._callMethod(f, arguments)
                }
            },
            r;
        typeof Cookies != "undefined" && (window.name || (window.name = Math.floor(Math.random() * 1e8)), r = {
            _cookie: !0,
            _prefix: "",
            _expires: null,
            _path: null,
            _domain: null,
            setItem: function(n, t) {
                Cookies.set(this._prefix + n, t, {
                    expires: this._expires,
                    path: this._path,
                    domain: this._domain
                })
            },
            getItem: function(n) {
                return Cookies.get(this._prefix + n)
            },
            removeItem: function(n) {
                return Cookies.remove(this._prefix + n, {
                    path: this._path
                })
            },
            clear: function() {
                for (var n in Cookies.get()) n != "" && (!this._prefix && n.indexOf(o) === -1 && n.indexOf(s) === -1 || this._prefix && n.indexOf(this._prefix) === 0) && Cookies.remove(n)
            },
            setExpires: function(n) {
                return this._expires = n, this
            },
            setPath: function(n) {
                return this._path = n, this
            },
            setDomain: function(n) {
                return this._domain = n, this
            },
            setConf: function(n) {
                return n.path && (this._path = n.path), n.domain && (this._domain = n.domain), n.expires && (this._expires = n.expires), this
            },
            setDefaultConf: function() {
                this._path = this._domain = this._expires = null
            }
        }, e || (window.localCookieStorage = n.extend({}, r, {
            _prefix: o,
            _expires: 3650
        }), window.sessionCookieStorage = n.extend({}, r, {
            _prefix: s + window.name + "_"
        })), window.cookieStorage = n.extend({}, r), n.cookieStorage = n.extend({}, t, {
            _type: "cookieStorage",
            setExpires: function(n) {
                return window.cookieStorage.setExpires(n), this
            },
            setPath: function(n) {
                return window.cookieStorage.setPath(n), this
            },
            setDomain: function(n) {
                return window.cookieStorage.setDomain(n), this
            },
            setConf: function(n) {
                return window.cookieStorage.setConf(n), this
            },
            setDefaultConf: function() {
                return window.cookieStorage.setDefaultConf(), this
            }
        }));
        n.initNamespaceStorage = function(n) {
            return a(n)
        };
        e ? (n.localStorage = n.extend({}, t, {
            _type: "localStorage"
        }), n.sessionStorage = n.extend({}, t, {
            _type: "sessionStorage"
        })) : (n.localStorage = n.extend({}, t, {
            _type: "localCookieStorage"
        }), n.sessionStorage = n.extend({}, t, {
            _type: "sessionCookieStorage"
        }));
        n.namespaceStorages = {};
        n.removeAllStorages = function(t) {
            n.localStorage.removeAll(t);
            n.sessionStorage.removeAll(t);
            n.cookieStorage && n.cookieStorage.removeAll(t);
            t || (n.namespaceStorages = {})
        };
        n.alwaysUseJsonInStorage = function(i) {
            t.alwaysUseJson = i;
            n.localStorage.alwaysUseJson = i;
            n.sessionStorage.alwaysUseJson = i;
            n.cookieStorage && (n.cookieStorage.alwaysUseJson = i)
        }
    });
try {
    ___espfdos_value = $.cookie("___espfdos");
    ___espfdos = [];
    typeof ___espfdos_value != "undefined" && ___espfdos_value.length > 0 && (___espfdos = ___espfdos_value.split(","))
} catch (err) {
    console.log(err)
}
var Cache = function() {
        "use strict";
        var n = function(n, t) {
            this.cachedPromiseProvider = n;
            this.invalidateOnFail = !t && function() {
                this.invalidate()
            };
            this.cachedPromise = {}
        };
        return function(n) {
            var t = function(n) {
                    return Array.prototype.slice.call(n).map(function(n) {
                        return '"' + n + '"'
                    }).join(",")
                },
                i = function(n, t) {
                    this.hasValue() || (this.invalidateOnFail && (n = n.fail(this.invalidateOnFail.bind(this))), this.cachedPromise[t] = n)
                };
            n.hasValue = function(n) {
                return !!this.cachedPromise[n]
            };
            n.value = function() {
                var n = t.call(this, arguments),
                    r;
                return this.hasValue(n) ? this.cachedPromise[n] : (r = this.cachedPromiseProvider.apply(this, arguments), this.invalidateOnFail && r.state() === "rejected" || i.call(this, r, n), this.cachedPromise[n] || r)
            };
            n.invalidate = function() {
                arguments.length > 0 && (this.cachedPromise[t(arguments)] = null);
                this.cachedPromise = {}
            };
            n.promise = function() {
                return this.value().promise()
            };
            n.state = function() {
                return this.hasValue() ? this.value().state() : "pending"
            };
            n.then = function() {
                return this.value().then.apply(this, arguments)
            };
            n.done = function() {
                return this.value().done.apply(this, arguments)
            };
            n.fail = function() {
                return this.value().fail.apply(this, arguments)
            };
            n.always = function() {
                return this.value().always.apply(this, arguments)
            };
            n.progress = function() {
                return this.value().progress.apply(this, arguments)
            }
        }(n.prototype), {
            LazyPromise: n
        }
    }(),
    Controllers = function() {
        var n = function(n, t, i, r) {
            this.log = n;
            this.form = t;
            this.promiseProvider = i;
            this.events = r;
            this.events.onValidationFailed = this.events.onValidationFailed || function() {};
            this.events.onSubmitting = this.events.onSubmitting || function() {};
            this.events.onSubmit = this.events.onSubmit || function() {};
            this.events.onSubmitted = this.events.onSubmitted || function() {};
            this.events.onSubmitFailed = this.events.onSubmitFailed || function() {}
        };
        return function(n) {
            n._onSubmit = function() {
                try {
                    this.promiseProvider().resolve().promise().then(this.events.onSubmitting.bind(this)).then(this.events.onSubmit.bind(this)).then(this.events.onSubmitted.bind(this)).fail(this.events.onSubmitFailed.bind(this))
                } catch (n) {
                    this.log.fatal("Unhandled exception in form.submit event", n)
                } finally {
                    return !1
                }
            };
            n._onValidationFail = function() {
                var n = [];
                $.each(this.form.parsley().fields, function(t, i) {
                    n = n.concat(window.ParsleyUI.getErrorsMessages(i))
                });
                try {
                    this.events.onValidationFailed.call(this, n)
                } catch (t) {
                    this.log.fatal("Unhandled exception in form.parsley:form:submit event", t)
                }
                return !1
            };
            n.initialize = function() {
                this.form.parsley() && this.form.parsley().subscribe && this.form.parsley().subscribe("parsley:form:error", n._onValidationFail.bind(this));
                this.form.submit(n._onSubmit.bind(this))
            }
        }(n.prototype), {
            FormController: n
        }
    }(),
    Events = function() {
        "use strict";
        var t = function(n, t) {
                for (var r = this, i = 0; i < n.length; ++i) r = r.then(t.bind(this, n[i]));
                return r
            },
            n = function(n, t) {
                this.log = n;
                this.promiseProvider = t;
                this.events = {}
            };
        return function(n) {
            n.watch = function(n, t) {
                var i = this.events[n];
                i || (this.events[n] = [], i = this.events[n]);
                this.log.debug("Registering callback for " + n);
                i.push(t)
            };
            n.emit = function(n, i) {
                var r = this.events[n];
                return r ? (this.log.debug("Notifying " + r.length + " listeners for " + n), t.call(this.promiseProvider().resolve().promise(), r, function(n) {
                    return n(i)
                })) : this.promiseProvider().resolve().promise()
            }
        }(n.prototype), {
            Service: n
        }
    }(),
    Routing = function() {
        "use strict";
        var i = function(n) {
                for (var t = 0; t < this.length; ++t)
                    if (n(this[t])) return t;
                return -1
            },
            n = function(n) {
                for (var t = this.length - 1; t >= 0; --t)
                    if (n(this[t])) return this[t];
                return null
            },
            t = function(n, t, i, r, u) {
                this.log = n;
                this.promiseProvider = t;
                this.storageService = i;
                this.eventService = r;
                this.queryStringEncoder = u;
                this.navigateEvent = "Routing.Navigate";
                this.historyPath = "history"
            };
        return function(t) {
            var r = function() {
                    return this.storageService.get(this.historyPath) || []
                },
                f = function(n) {
                    var t = r.call(this);
                    t.push(n);
                    this.storageService.set(this.historyPath, t)
                },
                e = function() {
                    var n = r.call(this);
                    n.pop();
                    this.storageService.set(this.historyPath, n)
                },
                o = function(n) {
                    var t = r.call(this),
                        u = i.call(t, function(t) {
                            return t.href == n.href
                        });
                    u < 0 || n.pathname === "/" || (t.splice(u, t.length), this.storageService.set(this.historyPath, t))
                },
                s = function(n) {
                    return {
                        href: n.location.href,
                        protocol: n.location.protocol,
                        host: n.location.host,
                        pathname: n.location.pathname,
                        search: n.location.search,
                        hash: n.location.hash
                    }
                },
                u = function(n, t, i) {
                    var u = t || t === "",
                        f = i || i === "",
                        r = n;
                    return u && (typeof t != "string" && (t = this.queryStringEncoder(t)), t !== "" && (r += "?" + t)), f && (typeof i != "string" && (i = this.queryStringEncoder(i)), r += "#" + i), r
                },
                h = function(n, t, i) {
                    var r = t || t === "",
                        f = i || i === "",
                        e = (n.origin || "") + (n.pathname || "");
                    return r || (t = n.search.length > 0 ? n.search.substr(1) : null), f || (i += n.hash.length > 0 ? n.hash.substr(1) : null), u.call(this, e, t, i)
                },
                c = function(n, t, i) {
                    return typeof n == "string" ? u.call(this, n, t, i) : h.call(this, n, t, i)
                };
            t.watchOnNavigate = function(n) {
                this.eventService.watch(this.navigateEvent, n)
            };
            t.push = function(n) {
                var t = s(n);
                o.call(this, t);
                f.call(this, t)
            };
            t.popLastPage = function() {
                e.call(this)
            };
            t.current = function() {
                var n = r.call(this);
                if (n.length === 0) throw new Error("No pages has been pushed to history");
                return n[n.length - 1]
            };
            t.goBack = function(t, i) {
                var u = r.call(this),
                    f;
                if (u.length === 0) throw new Error("No pages has been pushed to history");
                if (u.pop(), f = n.call(u, function(n) {
                        return !i || !i(n)
                    }), f) return this.navigate(f.href);
                if (t) return this.navigate("/");
                throw new Error("No page to go back to");
            };
            t.replace = function(n) {
                var t = r.call(this);
                t.pop();
                this.storageService.set(this.historyPath, t);
                this.push(n)
            };
            t.getPreviousPage = function(t) {
                var u = r.call(this),
                    i, f;
                return u.pop(), i = n.call(u, function(n) {
                    return !t || !t(n)
                }), f = i ? i.href : "", f
            };
            t.navigate = function(n, t, i) {
                var r = c.call(this, n, t, i);
                this.log.info("Navigating", r);
                window.location.assign(r);
                this.eventService.emit(this.navigateEvent, {
                    url: r,
                    destination: n,
                    params: t,
                    fragment: i
                })
            }
        }(t.prototype), {
            Service: t
        }
    }(),
    mix = mix || {};
mix.TrackablePromise || (mix.TrackablePromise = function() {}, function(n) {
    n.track = function() {
        return this
    }
}(mix.TrackablePromise.prototype));
var Authentication = function() {
        "use strict";
        var h = function(n) {
                for (var t in this) this.hasOwnProperty(t) && n(this[t], t)
            },
            s = function(n, t, i, r, u, f, e) {
                this.log = n;
                this.repository = t;
                this.promiseProvider = i;
                this.storageService = r;
                this.eventService = u;
                this.extendService = f;
                this.ajaxService = e;
                this.signInEvent = "Authentication.SignIn";
                this.signUpEvent = "Authentication.SignUp";
                this.signOutEvent = "Authentication.SignOut";
                this.unauthorizedEvent = "Authentication.Unauthorized";
                this.forbiddenEvent = "Authentication.Forbidden";
                this.completeAccountCanceledEvent = "Authentication.completeAccountCanceled";
                this.completeAccountReadyEvent = "Authentication.completeAccountReady";
                this.userTokenPath = "userToken"
            },
            t, i, o, r, u, f, n, e;
        return function(n) {
                var c = function(n) {
                        var i = {},
                            r = n.localAccessToken,
                            u, f, e, t;
                        if (r && (i.localAccessToken = {
                                tokenType: r.token_type || "bearer",
                                token: r.token,
                                expires: r.expires
                            }, u = r.refresh_token, u && (i.localAccessToken.refreshToken = {
                                tokenType: u.token_type || "refresh",
                                token: u.token,
                                expires: u.expires
                            })), f = n.externalAccessTokens, f)
                            for (i.externalAccessTokens = [], e = 0; e < f.length; e++) t = f[e], i.externalAccessTokens.push({
                                provider: t.loginProvider,
                                token: t.accessToken,
                                applicationId: t.externalApplicationId,
                                userId: t.externalUserId,
                                issued: t.issuedUtc,
                                expires: t.expireUtc
                            });
                        return i
                    },
                    l = function(n) {
                        var t = {},
                            i = {
                                tokenType: n.token_type || "bearer",
                                token: n.access_token,
                                expires: n.expires
                            },
                            r = {
                                tokeType: n.refresh_token_type || "refresh",
                                token: n.refresh_token,
                                expires: n.refresh_token_expires
                            };
                        return i.refreshToken = r, t.localAccessToken = i, t
                    },
                    u = function(n) {
                        var t = moment().add(2, "m"),
                            i = moment(n.expires);
                        return t.isAfter(i)
                    },
                    o = function(n) {
                        return n.externalAccessTokens && n.externalAccessTokens[0] ? n.externalAccessTokens[0].provider.toLowerCase() : "local"
                    },
                    i = function() {
                        return this.storageService.get(this.userTokenPath)
                    },
                    e = function() {
                        this.storageService.remove(this.userTokenPath)
                    },
                    r = function(n) {
                        return this.storageService.set(this.userTokenPath, c(n)), n
                    },
                    a = function(n) {
                        var t = i.call(this),
                            r = l(n);
                        return t.localAccessToken = r.localAccessToken, this.storageService.set(this.userTokenPath, t), n
                    },
                    t, v = function(n, i) {
                        if (t) return t;
                        if (t = $.Deferred(), n) {
                            if (u.call(this, n)) return this.log.error("Refresh token expired"), t.reject(401), t;
                            this.repository.refreshUserToken(n.token, i).then(a.bind(this), function() {
                                t.reject(401)
                            }).then(t.resolve.bind(this))
                        } else this.log.error("Refresh token not available"), t.reject(401);
                        return t
                    },
                    f = function() {
                        var n = i.call(this);
                        return n ? u.call(this, n.localAccessToken) ? (this.log.info("User token expired"), v.call(this, n.localAccessToken.refreshToken, o.call(this, n)).then(i.bind(this))) : this.promiseProvider().resolve(n).promise() : (this.log.error("User not signed in"), this.promiseProvider().reject(401).promise())
                    },
                    y = function(n) {
                        return {
                            Authorization: n.tokenType + " " + n.token
                        }
                    },
                    s = function(n, t, i) {
                        var r = this.extendService(t, {
                            headers: y.call(this, i.localAccessToken)
                        });
                        return this.ajaxService(n, r)
                    },
                    h = function(n) {
                        return (n === 400 || n.status === 400 && n.responseJSON && ("" + n.responseJSON.error).toLowerCase() === "invalid_grant") && this.eventService.emit(this.unauthorizedEvent), (n === 401 || n.status === 401) && this.eventService.emit(this.unauthorizedEvent), (n === 403 || n.status === 403) && this.eventService.emit(this.forbiddenEvent), this.promiseProvider().rejectWith(this, arguments).promise()
                    };
                n.watchOnSignIn = function(n) {
                    this.eventService.watch(this.signInEvent, n)
                };
                n.watchOnSignUp = function(n) {
                    this.eventService.watch(this.signUpEvent, n)
                };
                n.watchOnSignOut = function(n) {
                    this.eventService.watch(this.signOutEvent, n)
                };
                n.watchOnUnauthorized = function(n) {
                    this.eventService.watch(this.unauthorizedEvent, n)
                };
                n.watchOnForbidden = function(n) {
                    this.eventService.watch(this.forbiddenEvent, n)
                };
                n.watchOnCompleteAccountCanceledEvent = function(n) {
                    this.eventService.watch(this.completeAccountCanceledEvent, n)
                };
                n.triggerOnCompleteAccountCanceledEvent = function() {
                    this.eventService.emit(this.completeAccountCanceledEvent)
                };
                n.watchOnCompleteAccountReady = function(n) {
                    this.eventService.watch(this.completeAccountReadyEvent, n)
                };
                n.triggerOnCompleteAccountReady = function() {
                    this.eventService.emit(this.completeAccountReadyEvent)
                };
                n.isAuthenticated = function() {
                    var t = i.call(this),
                        n;
                    return t ? (n = t.localAccessToken, !n) ? !1 : n.token && !u(n) ? !0 : n.token && u(n) && n.refreshToken && n.refreshToken.token && !u(n.refreshToken) ? !0 : !1 : !1
                };
                n.isAnonymous = function() {
                    return !this.storageService.isSet(this.userTokenPath)
                };
                n.getAuthority = function() {
                    var n = i.call(this);
                    return n ? o.call(this, n) : null
                };
                n.signOutThisDevice = function() {
                    var n = i.call(this);
                    return !n || !this.isAuthenticated() ? this.promiseProvider().resolve().promise() : this.repository.signOut(n.localAccessToken).then(e.bind(this)).done(this.log.info.bind(this.log, "SignOut successful")).fail(this.log.error.bind(this.log, "SignOut failed")).then(this.eventService.emit.bind(this.eventService, this.signOutEvent))
                };
                n.signOutAllDevices = function() {
                    var n = i.call(this);
                    return n ? this.repository.signOutAllDevices(n.localAccessToken).then(e.bind(this)).done(this.log.info.bind(this.log, "SignOutAllDevices successful")).fail(this.log.error.bind(this.log, "SignOutAllDevices failed")).then(this.eventService.emit.bind(this.eventService, this.signOutEvent)) : this.promiseProvider().resolve().promise()
                };
                n.signUp = function(n, t, i) {
                    return this.signOutThisDevice().then(this.repository.signUp.bind(this.repository, n, t, i)).then(r.bind(this)).done(this.log.info.bind(this.log, "SignUp successful")).fail(this.log.error.bind(this.log, "SignUp failed")).then(this.eventService.emit.bind(this.eventService, this.signUpEvent))
                };
                n.signIn = function(n, t) {
                    return this.signOutThisDevice().then(e.bind(this)).then(this.repository.signIn.bind(this.repository, n, t)).then(r.bind(this)).done(this.log.info.bind(this.log, "SignIn successful")).fail(this.log.error.bind(this.log, "SignIn failed")).then(this.eventService.emit.bind(this.eventService, this.signInEvent))
                };
                n.forgotPassword = function(n) {
                    return this.repository.forgotPassword(n).done(this.log.info.bind(this.log, "ForgotPassword succesful")).fail(this.log.error.bind(this.log, "ForgotPassword failed"))
                };
                n.setPassword = function(n) {
                    var t = deparam(location.search.substring(1)).t;
                    return this.repository.setPassword(t, n).done(this.log.info.bind(this.log, "setPassword succesful")).fail(this.log.error.bind(this.log, "setPassword failed"))
                };
                n.verifyAccount = function() {
                    var n = deparam(location.search.substring(1)).t;
                    return this.repository.verifyAccount(n).done(this.log.info.bind(this.log, "verifyAccount succesful")).fail(this.log.error.bind(this.log, "verifyAccount failed"))
                };
                n.initiateExternalSignIn = function(n) {
                    return this.signOutThisDevice().then(this.repository.initiateExternalSignIn(n))
                };
                n.completeExternalSignIn = function(n, t) {
                    return this.repository.completeExternalSignIn(n, t).then(r.bind(this)).done(this.log.info.bind(this.log, "External SignIn successful")).fail(this.log.error.bind(this.log, "External SignIn failed")).then(this.eventService.emit.bind(this.eventService, this.signInEvent))
                };
                n.completeExternalSignUp = function(n, t, i, u, f) {
                    return this.repository.completeExternalSignUp(n, t, i, u, f).then(r.bind(this)).done(this.log.info.bind(this.log, "External SignUp successful")).fail(this.log.error.bind(this.log, "External SignUp failed")).then(this.eventService.emit.bind(this.eventService, this.signUpEvent))
                };
                n.changePassword = function(n, t, i) {
                    return f.call(this).then(function(r) {
                        return this.repository.changePassword(r.localAccessToken.token, n, t, i)
                    }.bind(this)).then(null, h.bind(this)).then(r.bind(this)).done(this.log.info.bind(this.log, "Password change request successful")).fail(this.log.error.bind(this.log, "Password change request failed")).then(this.eventService.emit.bind(this.eventService, this.signInEvent))
                };
                n.shouldAccountBeCompleted = function() {
                    var n = deparam(location.search.substring(1)).t;
                    return this.repository.getUserInfoFromUrlToken(n).then(function(t) {
                        return t.isAccountCompleted ? !1 : {
                            user: t,
                            token: n
                        }
                    }, function() {
                        return !1
                    })
                };
                n.resendVerificationEmail = function(n) {
                    return this.repository.resendVerificationEmail(n).done(this.log.info.bind(this.log, "resendVerificationEmail succesful")).fail(this.log.error.bind(this.log, "resendVerificationEmail failed"))
                };
                n.completeAccount = function(n) {
                    var t = deparam(location.search.substring(1)).t;
                    return this.repository.completeUserAccount(n, t).then(r.bind(this)).done(this.log.info.bind(this.log, "Complete account successful")).fail(this.log.error.bind(this.log, "Complete account  failed")).then(this.eventService.emit.bind(this.eventService, this.signInEvent))
                };
                n.signInIfToken = function(n) {
                    if (!this.isAuthenticated()) {
                        var t = this;
                        this.hasUrlToken() ? this.shouldAccountBeCompleted().then(function(n) {
                            n ? t.showCompleteAccount(n.user, n.token) : t.showSignIn()
                        }, function() {
                            t.showSignIn()
                        }) : n && t.showSignIn()
                    }
                };
                n.showSignIn = function() {
                    app.login.openLoginView()
                };
                n.showCompleteAccount = function(n) {
                    app.login.openCompleteAccountView(n)
                };
                n.ajax = function(n, t) {
                    return f.call(this).then(s.bind(this, n, t)).then(null, h.bind(this))
                };
                n.unhandledAjax = function(n, t) {
                    return f.call(this).then(s.bind(this, n, t))
                };
                n.hasUrlToken = function() {
                    return !!deparam(location.search.substring(1)).t
                };
                n.getUserToken = function() {
                    return f.call(this)
                }
            }(s.prototype), t = function(n, t, i, r, u, f, e) {
                Controllers.FormController.call(this, n, t, i, r(e, {
                    onSubmit: this.onSubmit
                }));
                this.authenticationService = u;
                this.fields = f
            }, t.prototype = Object.create(Controllers.FormController.prototype), t.prototype.constructor = t,
            function(n) {
                var t = function(n) {
                    var t = n.attr("type");
                    return t === "checkbox" ? n.prop("checked") : n.val()
                };
                n.onSubmit = function() {
                    return this.authenticationService.signUp(this.fields.username.val(), this.fields.password.val(), this.fields.profile.reduce(function(n, i) {
                        return n[i.attr("name")] = t(i), n
                    }, {})).promise(new mix.TrackablePromise).track("click", {
                        Id: "797472",
                        Label: "Submit Button",
                        "Page Section": "Main",
                        "Action Type": "Form",
                        "Form Sub Category": "Account",
                        "Form Type": "Signup",
                        "Validation Error": !1
                    }, {
                        "Error Message": "Signup Failed"
                    }).fail(function(n) {
                        mix.page({
                            Id: "723886",
                            Label: "Form Error",
                            "Action Type": "Form",
                            "Form Sub Category": "OR",
                            "Form Type": "Signup",
                            "Validation Error": !1,
                            "Error Message": n,
                            "Previous Page": routingService.getPreviousPage()
                        })
                    })
                }
            }(t.prototype), i = function(n, t, i, r, u, f, e) {
                Controllers.FormController.call(this, n, t, i, r(e, {
                    onSubmit: this.onSubmit
                }));
                this.authenticationService = u;
                this.fields = f
            }, i.prototype = Object.create(Controllers.FormController.prototype), i.prototype.constructor = i,
            function(n) {
                n.onSubmit = function() {
                    return this.authenticationService.signIn(this.fields.username.val(), this.fields.password.val()).promise(new mix.TrackablePromise).track("click", {
                        Id: "797472",
                        Label: "Submit Button",
                        "Page Section": "Main",
                        "Action Type": "Form",
                        "Form Sub Category": "Account",
                        "Form Type": "Login",
                        "Validation Error": !1
                    }, {
                        "Error Message": "Invalid email or password."
                    }).fail(function(n) {
                        mix.page({
                            Id: "723886",
                            Label: "Form Error",
                            "Action Type": "Form",
                            "Form Sub Category": "OR",
                            "Form Type": "Login",
                            "Validation Error": !1,
                            "Error Message": n,
                            "Previous Page": routingService.getPreviousPage()
                        })
                    })
                }
            }(i.prototype), o = function(n, t) {
                this.authenticationService = n;
                this.externalAuthenticationTriggers = t
            },
            function(n) {
                n.initialize = function() {
                    h.call(this.externalAuthenticationTriggers, function(n, t) {
                        n.click(function() {
                            return this.authenticationService.initiateExternalSignIn(t).promise(new mix.TrackablePromise).track({
                                Id: "900002",
                                Label: "Facebook Login/Signup",
                                "Page Section": "Main",
                                "Action Type": "Form",
                                "Form Sub Category": "Account",
                                "Form Type": "Login",
                                "Validation Error": !1
                            }, {
                                "Error Message": "Facebook log in failed"
                            }).fail(function(n) {
                                mix.page({
                                    Id: "723886",
                                    Label: "Form Error",
                                    "Action Type": "Form",
                                    "Form Sub Category": "OR",
                                    "Form Type": "Login",
                                    "Validation Error": !1,
                                    "Error Message": n,
                                    "Previous Page": routingService.getPreviousPage()
                                })
                            })
                        }.bind(this))
                    }.bind(this))
                }
            }(o.prototype), r = function(n, t, i, r, u, f, e, o) {
                Controllers.FormController.call(this, n, t, i, r(o, {
                    onSubmit: this.onSubmit
                }));
                this.authenticationService = u;
                this.params = deparam(f);
                this.fields = e;
                this.events.onSigningIn = this.events.onSigningIn || function() {};
                this.events.onSignedIn = this.events.onSignedIn || function() {};
                this.events.onSignInFailed = this.events.onSignInFailed || function() {}
            }, r.prototype = Object.create(Controllers.FormController.prototype), r.prototype.constructor = r,
            function(n) {
                n.onSubmit = function() {
                    return this.authenticationService.completeExternalSignUp(this.fields.email.val() || this.params.external_user_name, this.params.external_access_token, this.params.provider, this.fields.isSpecialOfferOptin.prop("checked"), this.fields.password.val() || null).promise(new mix.TrackablePromise).track({
                        Id: "900004",
                        Label: "Signup with Facebook",
                        "Page Section": "Main",
                        "Action Type": "Form",
                        "Form Sub Category": "Account",
                        "Form Type": "Signup",
                        "Validation Error": !1
                    }, {
                        "Error Message": "Facebook signup failed"
                    }).fail(function(n) {
                        mix.page({
                            Id: "723886",
                            Label: "Form Error",
                            "Action Type": "Form",
                            "Form Sub Category": "OR",
                            "Form Type": "Signup",
                            "Validation Error": !1,
                            "Error Message": n,
                            "Previous Page": routingService.getPreviousPage()
                        })
                    })
                };
                n.completeExternalSignin = function() {
                    var n = this.promiseProvider().resolve().promise();
                    return this.params.has_external_account ? n.then(this.events.onSigningIn.bind(this)).then(function() {
                        return this.authenticationService.completeExternalSignIn(this.params.external_access_token, this.params.provider).promise(new mix.TrackablePromise).track({
                            Id: "900003",
                            Label: "Log in with Facebook",
                            "Page Section": "Main",
                            "Action Type": "Form",
                            "Form Sub Category": "Account",
                            "Form Type": "Login",
                            "Validation Error": !1
                        }, {
                            "Error Message": "Facebook log in failed"
                        }).fail(function(n) {
                            mix.page({
                                Id: "723886",
                                Label: "Form Error",
                                "Action Type": "Form",
                                "Form Sub Category": "OR",
                                "Form Type": "Login",
                                "Validation Error": !1,
                                "Error Message": n,
                                "Previous Page": routingService.getPreviousPage()
                            })
                        })
                    }.bind(this)).then(this.events.onSignedIn.bind(this)).fail(this.events.onSignInFailed.bind(this)) : n
                }
            }(r.prototype), u = function(n, t, i, r, u, f, e, o) {
                Controllers.FormController.call(this, n, t, i, r(o, {
                    onSubmit: this.onSubmit
                }));
                this.authenticationService = u;
                this.identityService = f;
                this.fields = e
            }, u.prototype = Object.create(Controllers.FormController.prototype), u.prototype.constructor = u,
            function(n) {
                n.onSubmit = function() {
                    return this.authenticationService.changePassword(this.identityService.username(), this.fields.currentPassword.val(), this.fields.newPassword.val()).promise(new mix.TrackablePromise).track({
                        Id: "797472",
                        Label: "Submit Button",
                        "Page Section": "Main",
                        "Action Type": "Form",
                        "Form Sub Category": "Account",
                        "Form Type": "Change Password",
                        "Validation Error": !1
                    }, {
                        "Error Message": "Password change failed"
                    }).fail(function(n) {
                        mix.page({
                            Id: "723886",
                            Label: "Form Error",
                            "Action Type": "Form",
                            "Form Sub Category": "OR",
                            "Form Type": "Change Password",
                            "Validation Error": !1,
                            "Error Message": n,
                            "Previous Page": routingService.getPreviousPage()
                        })
                    })
                }
            }(u.prototype), f = function(n, t, i, r, u, f, e) {
                Controllers.FormController.call(this, n, t, i, r(e, {
                    onSubmit: this.onSubmit
                }));
                this.authenticationService = u;
                this.fields = f
            }, f.prototype = Object.create(Controllers.FormController.prototype), f.prototype.constructor = f,
            function(n) {
                var i = function(n) {
                        var t = n.attr("type");
                        return t === "checkbox" ? n.prop("checked") : n.val()
                    },
                    t;
                n.onSubmit = function() {
                    var n = {
                        FirstName: this.fields.firstname.val(),
                        LastName: this.fields.lastname.val(),
                        Email: this.fields.username.val(),
                        Password: this.fields.password.val()
                    };
                    return this.fields.isSpecialOfferOptin && (n.IsSpecialOfferOptin = i(this.fields.isSpecialOfferOptin)), this.authenticationService.completeAccount(n)
                };
                t = n.initialize;
                n.initialize = function() {
                    t.call(this);
                    var i = this;
                    this.form.off("submit");
                    this.form.on("submit", function(t) {
                        t.preventDefault();
                        i.form.parsley().validate() && n._onSubmit.call(i)
                    })
                }
            }(f.prototype), n = function(n, t, i, r, u, f, e) {
                Controllers.FormController.call(this, n, t, i, e);
                this.authenticationService = u;
                this.fields = f
            }, n.prototype = Object.create(Controllers.FormController.prototype), n.prototype.constructor = n,
            function(n) {
                var t = n.initialize;
                n.initialize = function() {
                    t.call(this);
                    var i = this;
                    this.form.off("submit");
                    this.form.on("submit", function(t) {
                        t.preventDefault();
                        i.form.parsley().validate() && n._onSubmit.call(i)
                    })
                }
            }(n.prototype), e = function(t, i, r, u, f, e, o) {
                n.call(this, t, i, r, u, f, e, o)
            }, e.prototype = Object.create(n.prototype), e.prototype.constructor = e, {
                Service: s,
                SignUpController: t,
                SignInController: i,
                ExternalAuthoritiesController: o,
                ExternalAuthenticationController: r,
                ChangePasswordController: u,
                CompleteAccountController: f,
                ForgotPasswordController: e,
                ResetPasswordController: n
            }
    }(),
    Identity = function() {
        "use strict";
        var i = function(n, t, i, r, u) {
                this.log = n;
                this.repository = t;
                this.promiseProvider = i;
                this.storageService = r;
                this.eventService = u;
                this.identifiedEvent = "Identity.Identified";
                this.anonymizedEvent = "Identity.Anonymized";
                this.updatedEvent = "Identity.Updated";
                this.identityPath = "identity"
            },
            t, n;
        return function(n) {
                var r = function(n) {
                        this.storageService.set(this.identityPath, n)
                    },
                    i = function() {
                        return this.storageService.get(this.identityPath) || {}
                    },
                    u = function() {
                        this.storageService.remove(this.identityPath)
                    },
                    f = function(n) {
                        return {
                            username: n.userName,
                            externalUserName: n.externalUserName,
                            dateCreated: n.dateCreated,
                            trackingId: n.trackingId,
                            crmuid: n.legacyCrmUsers && n.legacyCrmUsers[0],
                            firstName: n.firstName,
                            lastName: n.lastName,
                            email: n.email,
                            phone: n.phone,
                            address: n.address,
                            city: n.city,
                            country: n.country,
                            state: n.state,
                            postalCode: n.postalCode,
                            isSpecialOfferOptin: n.isSpecialOfferOptin,
                            verified: n.verified
                        }
                    },
                    t = function(n, t, u) {
                        var f = i.call(this),
                            e;
                        if (typeof u == "undefined") return f[n];
                        if (typeof u !== t) throw new TypeError("Expected " + t + " value");
                        return e = f[n], f[n] = u, r.call(this, f), this.eventService.emit(this.updatedEvent, f).then(function() {
                            return e
                        })
                    };
                n.watchOnIdentified = function(n) {
                    this.eventService.watch(this.identifiedEvent, n)
                };
                n.watchOnAnonimized = function(n) {
                    this.eventService.watch(this.anonymizedEvent, n)
                };
                n.watchOnUpdated = function(n) {
                    this.eventService.watch(this.updatedEvent, n)
                };
                n.isIdentified = function() {
                    return this.storageService.isSet(this.identityPath)
                };
                n.isAnonymous = function() {
                    return !this.isIdentified()
                };
                n.initializeFromAnonymous = function() {
                    return u.call(this), this.log.info("Switched identity to anonymous"), this.eventService.emit(this.anonymizedEvent)
                };
                n.initializeFromAuthenticationResponse = function(n) {
                    var t = f.call(this, n.userProfile);
                    return u.call(this), r.call(this, t), this.log.info("Switched identity to identified"), this.eventService.emit(this.identifiedEvent, t)
                };
                n.initializeFromRemoteProfile = function() {
                    return this.repository.getCurrentProfile().then(this.initializeFromAuthenticationResponse.bind(this))
                };
                n.saveIdentityToRemoteProfile = function() {
                    var n = i.call(this);
                    return n ? this.repository.setCurrentProfile(n).done(this.log.info.bind(this.log, "Saved identity to remote profile successful")).fail(this.log.error.bind(this.log, "Saved identity to remote profile failed")) : this.promiseProvider().reject().promise()
                };
                n.setEmailNotifications = function(n) {
                    return this.repository.setEmailNotifications(n).done(this.log.info.bind(this.log, "Email notifications changed successfully")).fail(this.log.error.bind(this.log, "Email notifications change failed"))
                };
                n.identity = function() {
                    return i.call(this)
                };
                n.username = function() {
                    return t.call(this, "username", "string") || ""
                };
                n.externalUsername = function() {
                    return t.call(this, "externalUsername", "string") || ""
                };
                n.dateCreated = function() {
                    return t.call(this, "dateCreated", "string") || ""
                };
                n.trackingId = function() {
                    return t.call(this, "trackingId", "string") || ""
                };
                n.crmuid = function(n) {
                    return t.call(this, "crmuid", "string", n) || ""
                };
                n.firstName = function(n) {
                    return t.call(this, "firstName", "string", n) || ""
                };
                n.lastName = function(n) {
                    return t.call(this, "lastName", "string", n) || ""
                };
                n.fullName = function() {
                    return (this.firstName() + " " + this.lastName()).trim()
                };
                n.email = function(n) {
                    return t.call(this, "email", "string", n) || ""
                };
                n.phone = function(n) {
                    return t.call(this, "phone", "string", n) || ""
                };
                n.address = function(n) {
                    return t.call(this, "address", "string", n) || ""
                };
                n.city = function(n) {
                    return t.call(this, "city", "string", n) || ""
                };
                n.country = function(n) {
                    return t.call(this, "country", "string", n) || ""
                };
                n.state = function(n) {
                    return t.call(this, "state", "string", n) || ""
                };
                n.postalCode = function(n) {
                    return t.call(this, "postalCode", "string", n) || ""
                };
                n.isSpecialOfferOptin = function(n) {
                    return t.call(this, "isSpecialOfferOptin", "boolean", n) || !1
                };
                n.verified = function(n) {
                    return t.call(this, "verified", "string", n) || ""
                }
            }(i.prototype), t = function(n, t, i) {
                this.log = n;
                this.storageService = t;
                this.domService = i;
                this.prefillingInfoPath = "prefillingInfo";
                this.initializationSourcePath = "initializationSource";
                this.fieldsProviders = function() {
                    var n = {
                            selector: 'input[data-prefill]:not(input[data-prefill="country"]):not(input.hasDatepicker), textarea[data-prefill]',
                            get: function(n) {
                                return n.val()
                            },
                            set: function(n, t) {
                                n.val(t)
                            },
                            track: function(t, i) {
                                t.on("blur", i.bind(this, n, t))
                            }
                        },
                        t = {
                            selector: "select[data-prefill]",
                            get: function(n) {
                                return n.val()
                            },
                            set: function(n, t) {
                                n.val(t)
                            },
                            track: function(n, i) {
                                n.on("change", i.bind(this, t, n))
                            }
                        },
                        i = {
                            selector: "div[data-prefill].dropdownWrapper",
                            get: function(n) {
                                return n.dropdownGetValue()
                            },
                            set: function(n, t) {
                                n.dropdownUpdate({
                                    val: t
                                })
                            },
                            track: function(n, t) {
                                n.on("change", t.bind(this, i, n))
                            }
                        },
                        r = {
                            selector: 'input[data-prefill="country"]',
                            get: function(n) {
                                return n.intlTelInput("getSelectedCountryData").iso2
                            },
                            set: function(n, t) {
                                n.intlTelInput("selectCountry", t)
                            },
                            track: function(n, t) {
                                n.on("change", t.bind(this, r, n))
                            }
                        },
                        u = {
                            selector: "input[data-prefill].hasDatepicker",
                            get: function(n) {
                                return n.datepicker("getDate")
                            },
                            set: function(n, t) {
                                n.datepicker("setDate", t && new Date(t))
                            },
                            track: function(n, t) {
                                n.on("select", t.bind(this, u, n))
                            }
                        },
                        f = {
                            selector: "div[data-prefill].availability-choices-wrapper",
                            get: function(n) {
                                return n.DatePickerGetDate()[0]
                            },
                            set: function(n, t) {
                                n.DatePickerSetDate(t, !0)
                            },
                            track: function(n, t) {
                                n.on("select", t.bind(this, f, n))
                            }
                        },
                        e = {
                            selector: "div[data-prefill].ui-slider",
                            get: function(n) {
                                return n.slider("values")
                            },
                            set: function(n, t) {
                                t[1] == null && (t = [0, t[0]]);
                                n.slider("values", t);
                                var i = $(n.find(".ui-slider-handle")[0]),
                                    r = $(n.find(".ui-slider-handle")[1]),
                                    f = n.slider("option"),
                                    e = f.max,
                                    u = e === n.slider("values")[1] ? n.slider("values")[1] + "+/nt" : n.slider("values")[1] + "/nt";
                                if (n.slider("values")[0] != f.min) i.html("<div class='sliderPrice Min'>$" + n.slider("values")[0] + "/nt<\/div>"), i.next(".Min").remove();
                                else {
                                    if (i.next(".Min").hasClass("fixed")) {
                                        if (i.next(".Min").text("$" + n.slider("values")[0] + "/nt"), n.slider("values")[1] != f.max) r.html("<div class='sliderPrice Max'>$" + u + "<\/div>"), r.next(".Max").remove();
                                        else {
                                            if (r.next(".Max").hasClass("fixed")) {
                                                r.next(".Max").text("$" + u);
                                                return
                                            }
                                            r.after("<div class='sliderPrice fixed Max'>$" + u + "<\/div>");
                                            r.html("")
                                        }
                                        return
                                    }
                                    i.after("<div class='sliderPrice fixed Min'>$" + n.slider("values")[0] + "/nt<\/div>");
                                    i.html("")
                                }
                                if (n.slider("values")[1] != f.max) r.html("<div class='sliderPrice Max'>$" + u + "<\/div>"), r.next(".Max").remove();
                                else {
                                    if (r.next(".Max").hasClass("fixed")) {
                                        if (r.next(".Max").text("$" + u), n.slider("values")[0] != f.min) i.html("<div class='sliderPrice Min'>$" + n.slider("values")[0] + "/nt<\/div>"), i.next(".Min").remove();
                                        else {
                                            if (i.next(".Min").hasClass("fixed")) {
                                                i.next(".Min").text("$" + n.slider("values")[0] + "/nt");
                                                return
                                            }
                                            i.after("<div class='sliderPrice fixed Min'>$" + n.slider("values")[0] + "/nt<\/div>");
                                            i.html("")
                                        }
                                        return
                                    }
                                    r.after("<div class='sliderPrice fixed Max'>$" + u + "<\/div>");
                                    r.html("")
                                }
                            },
                            track: function(n, t) {
                                n.on("slidestop", t.bind(this, e, n))
                            }
                        };
                    return {
                        inputs: n,
                        nativeDropdowns: t,
                        jqueryDropdowns: i,
                        countrySelectors: r,
                        jqueryUiDatePickers: u,
                        jqueryUiSlider: e,
                        jqueryFoxRunDatePickers: f
                    }
                }()
            },
            function(n) {
                var e = function(n) {
                        this.storageService.set(this.prefillingInfoPath, n)
                    },
                    t = function() {
                        return this.storageService.get(this.prefillingInfoPath) || {}
                    },
                    o = function() {
                        this.storageService.remove(this.prefillingInfoPath)
                    },
                    s = function(n, t) {
                        for (var i in t)
                            if (t.hasOwnProperty(i) && t[i] !== n[i]) return !0;
                        return !1
                    },
                    i = function(n) {
                        var r = t.call(this),
                            u = s.call(this, r, n),
                            i;
                        if (!u) return !1;
                        for (i in n) n.hasOwnProperty(i) && (r[i] = n[i]);
                        return e.call(this, r), !0
                    },
                    h = function(n) {
                        var e = t.call(this),
                            i = n.split(" "),
                            u, r, f;
                        if (i.length === 1) return e[i[0]];
                        if (i.length > 1) {
                            for (u = [], r = 0; r < i.length; r++) i[r] !== "" && (f = e[i[r]], f && u.push(f));
                            return u.length === 0 ? undefined : u
                        }
                        return undefined
                    },
                    c = function(n, t) {
                        var i = n.split(" "),
                            u = {},
                            r;
                        if (i.length === 1) u[i[0]] = t;
                        else if (i.length > 1)
                            for (r = 0; r < i.length; r++) i[r] !== "" && (u[i[r]] = t[r]);
                        return u
                    },
                    l = function(n, i) {
                        var r = n.split(" "),
                            f, e, u;
                        if (r.length === 1) return i;
                        if (r.length > 1) {
                            for (f = [], e = t.call(this), u = 0; u < r.length; u++) f.push(e[r[u]]);
                            return f
                        }
                        return undefined
                    },
                    a = function(n, t) {
                        for (var r, u, f, i = 0; i < n.length; i++) {
                            r = this.domService(n[i]);
                            for (u in this.fieldsProviders)
                                if (this.fieldsProviders.hasOwnProperty(u) && (f = this.fieldsProviders[u], r.is(f.selector))) {
                                    t.call(this, r, f);
                                    break
                                }
                        }
                    },
                    r = function(n, t) {
                        var r, u, f, i;
                        for (r in this.fieldsProviders)
                            if (this.fieldsProviders.hasOwnProperty(r))
                                for (u = this.fieldsProviders[r], f = n.find(u.selector), i = 0; i < f.length; i++) t.call(this, this.domService(f[i]), u)
                    },
                    v = function(n, t, i, r) {
                        if (t.attr("id") !== i.attr("id")) {
                            var u = l.call(this, i.attr("data-prefill"), n);
                            this.log.debug("Updating related field", u, i);
                            r.set.call(this, i, u)
                        }
                    },
                    u = function(n, t) {
                        var i, r;
                        for (i in n) n.hasOwnProperty(i) && (r = this.domService("[data-prefill~=" + i + "]"), a.call(this, r, v.bind(this, n[i], t)))
                    },
                    y = function(n, t) {
                        var f = t.attr("data-prefill"),
                            r, e;
                        if (!f) {
                            this.log.error("Tracking field without data-prefill tag", t);
                            return
                        }
                        if (r = c.call(this, f, n.get.call(this, t)), typeof r == "undefined") {
                            this.log.error("Failed to import field values", t);
                            return
                        }(this.log.debug("Updating pre-filling info", f, r, t), e = i.call(this, r), e) && u.call(this, r, t)
                    },
                    f = function(n) {
                        var t, i;
                        for (t in this.fieldsProviders)
                            if (this.fieldsProviders.hasOwnProperty(t) && (i = this.fieldsProviders[t], n.is(i.selector))) return i;
                        return null
                    };
                n.initializeFromAnonymous = function() {
                    var n = this.storageService.get(this.initializationSourcePath);
                    n !== "anonymous" && (o.call(this), this.prefillAllForms(), this.storageService.set(this.initializationSourcePath, "anonymous"), this.log.info("Cleared pre-filling info"))
                };
                n.initializeFromIdentity = function(n) {
                    var t = this.storageService.get(this.initializationSourcePath);
                    t !== "identity" && (i.call(this, n), this.prefillAllForms(), this.storageService.set(this.initializationSourcePath, "identity"), this.log.info("Updated pre-filling identity fields with current identity"))
                };
                n.prefillAllForms = function() {
                    for (var t = this.domService("form[data-prefill]"), n = 0; n < t.length; ++n) this.prefillForm(this.domService(t[n]))
                };
                n.prefillForm = function(n) {
                    this.log.debug("Pre-filling form", n);
                    r.call(this, n, this.prefillField.bind(this))
                };
                n.prefillField = function(n) {
                    var t = arguments[1],
                        i = n.attr("data-prefill"),
                        r;
                    if (!i) {
                        this.log.info("No pre-filling property specified", n);
                        return
                    }
                    if (r = h.call(this, i), typeof r == "undefined") {
                        this.log.debug("No pre-filling data available", i, n);
                        return
                    }
                    if (t || (t = f.call(this, n)), !t) {
                        this.log.error("No pre-filling provider available", i, n);
                        return
                    }
                    this.log.debug("Pre-filling field", r, n);
                    t.set.call(this, n, r)
                };
                n.trackAllForms = function() {
                    for (var t = this.domService("form[data-prefill]"), n = 0; n < t.length; ++n) this.trackForm(this.domService(t[n]))
                };
                n.trackForm = function(n) {
                    this.log.debug("Tracking form for prefilling", n);
                    r.call(this, n, this.trackField.bind(this))
                };
                n.trackField = function(n) {
                    var t = arguments[1],
                        i = n.attr("data-prefill");
                    if (!i) {
                        this.log.info("No pre-filling property specified", n);
                        return
                    }
                    if (t || (t = f.call(this, n)), !t) {
                        this.log.error("No pre-filling provider available", i, n);
                        return
                    }
                    this.log.debug("Tracking fields for prefilling", i, n);
                    t.track.call(this, n, y.bind(this))
                };
                n.refreshFields = function(n) {
                    u.call(this, n, $("body"))
                }
            }(t.prototype), n = function(n, t, i, r, u, f, e) {
                Controllers.FormController.call(this, n, t, i, r(e, {
                    onSubmit: this.onSubmit
                }));
                this.identityService = u;
                this.fields = f
            }, n.prototype = Object.create(Controllers.FormController.prototype), n.prototype.constructor = n,
            function(n) {
                n.onSubmit = function() {
                    return this.fields.firstName && this.identityService.firstName(this.fields.firstName.val()), this.fields.lastName && this.identityService.lastName(this.fields.lastName.val()), this.fields.phone && this.identityService.phone(this.fields.phone.val()), this.fields.address && this.identityService.address(this.fields.address.val()), this.fields.city && this.identityService.city(this.fields.city.val()), this.fields.country && this.identityService.country(this.fields.country.dropdownGetValue && this.fields.country.dropdownGetValue().Id), this.fields.state && this.identityService.state(this.fields.state.dropdownGetValue && this.fields.state.dropdownGetValue().Id), this.fields.postalCode && this.identityService.postalCode(this.fields.postalCode.val()), this.fields.isSpecialOfferOptin && this.identityService.isSpecialOfferOptin(this.fields.isSpecialOfferOptin.prop("checked")), this.identityService.saveIdentityToRemoteProfile().promise(new mix.TrackablePromise).track("click", {
                        Id: "900006",
                        Label: "User Profile Changed",
                        "Page Section": "Header",
                        "Action Type": "Form"
                    }, {
                        "Error Message": "Updating Profile Failed"
                    })
                }
            }(n.prototype), {
                Service: i,
                PrefillingService: t,
                AccountController: n
            }
    }(),
    Favorites = function() {
        "use strict";
        var n = function(n, t) {
                for (var r = this, i = 0; i < n.length; ++i) r = r.then(t.bind(this, n[i]));
                return r
            },
            t = function(n, t, i, r, u, f, e) {
                this.log = n;
                this.repository = t;
                this.promiseProvider = i;
                this.anonymousStorageService = r;
                this.identifiedStorageService = u;
                this.eventService = f;
                this.identityService = e;
                this.favoritesPath = "favorites";
                this.initializedEvent = "Favorites.Initialized";
                this.changedEvent = "Favorites.Changed"
            };
        return function(t) {
            var r = function() {
                    return this.anonymousStorageService.get(this.favoritesPath) || []
                },
                u = function() {
                    return this.identifiedStorageService.get(this.favoritesPath) || []
                },
                e = function(n) {
                    this.anonymousStorageService.set(this.favoritesPath, n)
                },
                f = function(n) {
                    this.identifiedStorageService.set(this.favoritesPath, n)
                },
                h = function() {
                    this.anonymousStorageService.remove(this.favoritesPath)
                },
                c = function() {
                    this.identifiedStorageService.remove(this.favoritesPath)
                },
                o = function(n) {
                    return this.eventService.emit(this.initializedEvent, n)
                },
                i = function(n) {
                    return this.eventService.emit(this.changedEvent, n)
                },
                l = function(n, t) {
                    return n.indexOf(t) >= 0 ? (this.log.info("Skipping adding anonymous favorite. Duplicate.", t), this.promiseProvider().resolve(t).promise()) : (n.push(t), e.call(this, n), this.log.info("Added anonymous favorite", t), this.promiseProvider().resolve(t).promise())
                },
                s = function(n, t) {
                    return n.indexOf(t) >= 0 ? (this.log.info("Skipping adding identified favorite. Duplicate.", t), this.promiseProvider().resolve(t).promise()) : this.repository.addProperty(t).then(function() {
                        return n.push(t), f.call(this, n), t
                    }.bind(this)).done(this.log.info.bind(this.log, "Added identified favorite")).fail(this.log.error.bind(this.log, "Failed to add identified favorite", t))
                },
                a = function(n, t, i) {
                    return n.splice(i, 1), e.call(this, n), this.log.info("Removed anonymous favorite", t), this.promiseProvider().resolve(t).promise()
                },
                v = function(n, t, i) {
                    return this.repository.removeProperty(t).then(function() {
                        return n.splice(i, 1), f.call(this, n), t
                    }.bind(this)).done(this.log.info.bind(this.log, "Removed identified favorite")).fail(this.log.error.bind(this.log, "Failed to remove identified favorite", t))
                },
                y = function() {
                    var t = r.call(this),
                        i = u.call(this);
                    return this.log.info("Updating " + t.length + " anonymous favorites to identified favorites"), n.call(this.promiseProvider().resolve().promise(), t, s.bind(this, i)).then(h.bind(this))
                };
            t.watchOnInitialized = function(n) {
                this.eventService.watch(this.initializedEvent, n)
            };
            t.watchOnChanged = function(n) {
                this.eventService.watch(this.changedEvent, n)
            };
            t.initializeFromAnonymous = function() {
                return c.call(this), this.log.debug("Cleared identified favorites cache"), o.call(this).then(i.bind(this))
            };
            t.initializeFromPropertyList = function(n) {
                if (Object.prototype.toString.call(n) !== "[object Array]") return this.promiseProvider().reject(n).promise();
                var t = n.map(function(n) {
                    return n.propertyId
                });
                return f.call(this, t), this.log.info("FavoriteService : Initialized with " + t.length + " items."), y.call(this).then(o.bind(this)).then(i.bind(this))
            };
            t.initializeFromRemoteProfile = function() {
                return this.repository.getProperties().then(this.initializeFromPropertyList.bind(this)).done(this.log.info.bind(this.log, "Loaded remote favorites")).fail(this.log.error.bind(this.log, "Failed to load remote favorites"))
            };
            t.add = function(n) {
                var t = r.call(this),
                    f = u.call(this),
                    e = t.indexOf(n),
                    o = f.indexOf(n);
                if (e !== -1 || o !== -1) return this.log.warn("Trying to add item " + n + " which is already a favorite"), this.promiseProvider().resolve(n).promise();
                if (this.identityService.isAnonymous()) return l.call(this, t, n).then(i.bind(this));
                if (this.identityService.isIdentified()) return s.call(this, f, n).then(i.bind(this));
                throw new Error("Unsupported identity state");
            };
            t.remove = function(n) {
                var t = r.call(this),
                    f = u.call(this),
                    e = t.indexOf(n),
                    o = f.indexOf(n);
                return e !== -1 ? a.call(this, t, n, e).then(i.bind(this)) : o !== -1 ? v.call(this, f, n, o).then(i.bind(this)) : (this.log.warn("Trying to remove item " + n + " which is not a favorite"), this.promiseProvider().reject(n).promise())
            };
            t.removeMultiple = function(t) {
                return n.call(this.promiseProvider().resolve().promise(), t, this.remove.bind(this)).then(i.bind(this, t))
            };
            t.favorites = function() {
                if (this.identityService.isAnonymous()) return r.call(this);
                if (this.identityService.isIdentified()) return u.call(this);
                throw new Error("Unsupported identity state");
            }
        }(t.prototype), {
            Service: t
        }
    }(),
    GroupList = function() {
        "use strict";
        var n = function(n, t, i, r, u, f) {
            this.log = n;
            this.repository = t;
            this.promiseProvider = i;
            this.storageService = r;
            this.authenticationService = u;
            this.eventService = f;
            this.groupListPath = "grouplist";
            this.listIdPath = "listId";
            this.cachePath = "cache";
            this.cacheLifespan = 10
        };
        return function(n) {
            function i(n) {
                var t = _.countBy(n, function(n) {
                    return n.vote ? "likesCount" : "dislikesCount"
                });
                return {
                    votes: n,
                    likesCount: t.likesCount || 0,
                    dislikesCount: t.dislikesCount || 0
                }
            }

            function r(n) {
                var i = new RegExp("[\\?&]" + n + "=([^&#]*)"),
                    r = location.search.toLowerCase(),
                    t = i.exec(r);
                return t === null ? "" : decodeURIComponent(t[1].replace(/\+/g, " "))
            }
            var t = function(n, t, i) {
                if (Modernizr.sessionstorage) {
                    var u = this.cacheLifespan * 6e4,
                        r = this.storageService.get(n),
                        f = this;
                    return i === !0 || !r || r.timestamp + u <= (new Date).getTime() ? t().then(function(t) {
                        return f.storageService.set(n, {
                            timestamp: (new Date).getTime(),
                            data: t
                        }), t
                    }) : this.promiseProvider().resolve(r.data)
                }
                return t()
            };
            n.clearCache = function() {
                this.storageService.removeAll()
            };
            n.getList = function(n, t) {
                var i = $.Deferred();
                return this.getLists(t).then(function(t) {
                    var r = _.find(t, {
                        id: n
                    });
                    r ? i.resolve(r) : i.reject()
                }).fail(function() {
                    i.reject()
                }), i
            };
            n.getLists = function(n) {
                return this.authenticationService.isAuthenticated() ? t.call(this, "getLists", _.partial(this.repository.getLists), n).then(function(n) {
                    return n.data
                }) : this.promiseProvider().resolve([])
            };
            n.getProperties = function(n) {
                return this.authenticationService.isAuthenticated() ? t.call(this, "getProperties_" + n, _.partial(this.repository.getProperties, n)).then(function(n) {
                    var t = n.data;
                    return _.sortBy(t, function(n) {
                        return n.myVote != undefined
                    })
                }) : this.promiseProvider().resolve([])
            };
            n.voteUp = function(n) {
                var t = this;
                return this.authenticationService.isAuthenticated() ? this.repository.voteUp(n).then(function(n) {
                    return t.storageService.remove("getProperties_" + n.listId), i(n.votes)
                }) : this.promiseProvider().reject()
            };
            n.voteDown = function(n) {
                var t = this;
                return this.authenticationService.isAuthenticated() ? this.repository.voteDown(n).then(function(n) {
                    return t.storageService.remove("getProperties_" + n.listId), i(n.votes)
                }) : this.promiseProvider().reject()
            };
            n.getProperty = function(n, t) {
                return this.getProperties(t).then(function(t) {
                    return _.find(t, function(t) {
                        return t.id == n
                    })
                })
            };
            n.isThereAnyGroup = function() {
                return this.getLists().then(function(n) {
                    return n.length > 0
                })
            };
            n.getListId = function() {
                var n = r("glid");
                return _.isNumber(n) || (n = parseInt(n)), n
            };
            n.getAccessCode = function() {
                return r("accode")
            };
            n.getListIdNewest = function() {
                return groupListService.getLists().then(function(n) {
                    return n.length > 0 ? _.sortBy(n, function(n) {
                        return new Date(n.sharedDate)
                    }).reverse()[0].id : null
                })
            };
            n.storeGroupListId = function() {
                var n = this,
                    t = this.getListId();
                t && n.storageService.set(n.listIdPath, t)
            };
            n.clearGroupListId = function() {
                this.storageService.remove(this.listIdPath)
            };
            n.getGroupListId = function() {
                return this.storageService.get(this.listIdPath)
            };
            n.getOrJoinList = function(n, t) {
                var r = this,
                    i;
                return t ? r.joinList(n, t) : (i = $.Deferred(), r.getList(n).then(function(n) {
                    i.resolve(n)
                }).fail(function() {
                    r.getList(n, !0).then(function(n) {
                        i.resolve(n);
                        r.eventService.emit("GroupList.Refresh")
                    }).fail(function() {
                        i.reject()
                    })
                }), i)
            };
            n.joinList = function(n, i) {
                var u = this,
                    r = $.Deferred();
                return t.call(u, "getLists", _.partial(u.repository.joinList, n, i), !0).then(function(t) {
                    var i = _.find(t.data, {
                        id: n
                    });
                    i ? r.resolve(i) : r.reject()
                }), r
            };
            n.showSharedAnotherAccountModal = $.noop;
            n.displayGroup = $.noop;
            n.loadPage = function() {
                var n = this,
                    t = this.getListId(),
                    i = this.getAccessCode();
                n.getOrJoinList(t, i).then(function(i) {
                    return n.GetPropertiesAndDisplayGroup.call(n, i, t)
                }).fail(function() {
                    n.storeGroupListId();
                    n.showSharedAnotherAccountModal()
                })
            };
            n.GetPropertiesAndDisplayGroup = function(n, t) {
                var i = this;
                return i.getProperties(t).then(function(t) {
                    i.displayGroup(n, t)
                }).fail(function() {})
            };
            n.initPage = function() {
                var n = this;
                authenticationService.isAuthenticated() ? n.loadPage() : (n.getAccessCode() && n.eventService.watch("Header.loginReady", function() {
                    $("#group-list-login-message").removeClass("hidden")
                }), authenticationService.signInIfToken(!0))
            }
        }(n.prototype), {
            Service: n
        }
    }(),
    Trips = function() {
        "use strict";
        var n = function(n, t, i, r, u) {
            this.log = n;
            this.repository = t;
            this.promiseProvider = i;
            this.storageService = r;
            this.eventService = u;
            this.tripsCountStorageKey = "tripscount";
            this.upcomingTripDetailsListStorageKey = "upcomingtripdetailslist";
            this.upcomingTripStorageKey = "upcomingtrip";
            var f = this;
            this.eventService.watch("Authentication.SignOut", function() {
                f.storageService.remove(f.tripsCountStorageKey)
            })
        };
        return function(n) {
            var i = function(n) {
                    n.BookingStatus == "Confirmed" ? n.RedirectUrl = n.IsPaidOnAirbnb === !0 && n.AirbnbReservationDetails && n.AirbnbReservationDetails.ConfirmationCode ? AIRBNB_BASEURL + "reservation/receipt?code=" + n.AirbnbReservationDetails.ConfirmationCode : "/YourBookings?id=" + n.BookingId : authenticationService.getUserToken().then(function(t) {
                        n.RedirectUrl = BOOKINGCONNECTION + "/mytrip/" + n.SugarLeadId + "/?token=" + t.localAccessToken.token
                    })
                },
                t = function(n) {
                    $.each(n, function(t) {
                        var r = n[t];
                        i(r);
                        r.IsBookingUnconfirmed = r.BookingStatus === "Unconfirmed";
                        r.IsBookingConfirmed = r.BookingStatus === "Confirmed";
                        r.RegionName = r.Regions[3].Name + ", " + r.Regions[2].Name + ", " + r.Regions[1].Name
                    })
                };
            n.getDetails = function(n, t, r) {
                return $.when(this.repository.getTripDetails(n, t, r), this.repository.getTermsAndConditions(n, t)).then(function(n, t) {
                    if (n && Array.isArray(n) && n.length > 0) {
                        var r = n[0];
                        return i(r), r.TermsAndConditions && Array.isArray(r.TermsAndConditions) && r.TermsAndConditions.length > 0 && (r.TermsAndConditions = t[0].TermsAndConditions), r
                    }
                    return null
                })
            };
            n.getUpcomingTrip = function() {
                return this.repository.getTrips().then(function(n) {
                    return n && n.length ? (t(n), n.sort(function(n, t) {
                        return n.CheckInDate < t.CheckInDate ? -1 : n.CheckInDate > t.CheckInDate ? 1 : 0
                    }), n) : !1
                })
            };
            n.getUpcomingTripCache = function(n) {
                var t = this;
                return n !== !0 && this.storageService.isSet(this.upcomingTripStorageKey) ? this.promiseProvider().resolve(this.storageService.get(this.upcomingTripStorageKey)).promise() : this.repository.getTrips().then(function(n) {
                    return n && t.storageService.set(t.upcomingTripStorageKey, n), n
                })
            };
            n.getUpcomingTripDetailsList = function(n) {
                return this.repository.getUpcomingTripDetailsList(n).then(function(n) {
                    return t(n), n.sort(function(n, t) {
                        return n.CheckInDate < t.CheckInDate ? -1 : n.CheckInDate > t.CheckInDate ? 1 : 0
                    }), n
                })
            };
            n.getUpcomingTripDetailsListCache = function(n) {
                var t = this;
                return n !== !0 && this.storageService.isSet(this.upcomingTripDetailsListStorageKey) ? this.promiseProvider().resolve(this.storageService.get(this.upcomingTripDetailsListStorageKey)).promise() : this.repository.getUpcomingTripDetailsList().then(function(n) {
                    return n && t.storageService.set(t.upcomingTripDetailsListStorageKey, n), n
                })
            };
            n.getPastTripDetailsList = function(n) {
                return this.repository.getPastTripDetailsList(n).then(function(n) {
                    return t(n), n.sort(function(n, t) {
                        return n.CheckInDate > t.CheckInDate ? -1 : n.CheckInDate < t.CheckInDate ? 1 : 0
                    }), n
                })
            };
            n.getTripsCount = function() {
                return this.repository.getTripsCount().then(function(n) {
                    return n
                })
            };
            n.getTripsCountCache = function(n) {
                var t = this;
                return n !== !0 && this.storageService.isSet(this.tripsCountStorageKey) ? this.promiseProvider().resolve(this.storageService.get(this.tripsCountStorageKey)).promise() : this.repository.getTripsCount().then(function(n) {
                    return n && n.upcoming != null && n.past != null && t.storageService.set(t.tripsCountStorageKey, {
                        upcoming: n.upcoming,
                        past: n.past
                    }), n
                })
            };
            n.getItinerary = function(n) {
                return this.repository.getItinerary(n).then(function(n) {
                    return n
                })
            }
        }(n.prototype), {
            Service: n
        }
    }(),
    DestinationGuides = function() {
        "use strict";
        var n = function(n, t, i) {
                this.log = n;
                this.repository = t;
                this.promiseProvider = i
            },
            t = function(n) {
                var t = this,
                    i;
                $.extend(!0, t, n);
                t.FullImageUrl = null;
                t.ImageUrl && t.ImageUrl.indexOf(".") && (i = t.ImageUrl.lastIndexOf("."), t.FullImageUrl = "//static.luxuryretreats.com/images/activities/@2x/" + [t.ImageUrl.slice(0, i), t.ImageUrl.slice(i)].join(""))
            },
            i = function(n) {
                var t = this;
                $.extend(!0, t, n)
            },
            r = function(n) {
                var t = this;
                $.extend(!0, t, n);
                t.PriceRatingStr = function() {
                    return "$".repeat(t.PriceRating)
                }
            },
            u = function(n) {
                var u = this;
                $.extend(!0, u, n);
                n && (n.Activities && (u.Activities = $.map(n.Activities, function(n) {
                    return new t(n)
                })), n.PointOfInterests && (u.PointOfInterests = $.map(n.PointOfInterests, function(n) {
                    return new i(n)
                })), n.Restaurants && (u.Restaurants = $.map(n.Restaurants, function(n) {
                    return new r(n)
                })));
                u.ShowTravelInformation = function() {
                    return u.TravelDocuments != null || u.Visas != null || u.AirportTaxes != null || u.DutyAllowance != null
                };
                u.PriceRatingStr = function() {
                    return "$".repeat(u.PriceRating)
                }
            };
        return function(n) {
            n.getDestinationGuide = function(n) {
                return this.repository.getDestinationGuide(n).then(function(n) {
                    var t = n.Data[0];
                    return new u(t)
                })
            };
            n.getDestinationGuideImageUrls = function(n) {
                return this.repository.getDestinationGuideImageUrls(n).then(function(n) {
                    return n.Data[0]
                })
            }
        }(n.prototype), {
            Service: n
        }
    }(),
    Essentials = function() {
        "use strict";
        var n = function(n, t, i) {
            this.log = n;
            this.repository = t;
            this.promiseProvider = i
        };
        return function(n) {
            n.getEssentials = function(n) {
                return this.repository.getEssentials(n).then(function(n) {
                    return n
                })
            };
            n.getOrCreateEssentials = function(n) {
                return this.repository.getOrCreateEssentials(n).then(function(n) {
                    return n
                })
            };
            n.patchEssentials = function(n) {
                return this.repository.patchEssentials(n).then(function(n) {
                    return n
                })
            };
            n.getProvisioningPackages = function() {
                return this.repository.getProvisioningPackages().then(function(n) {
                    return $.each(n, function(n, t) {
                        t.Id = n
                    }), n
                })
            }
        }(n.prototype), {
            Service: n
        }
    }(),
    UrlHelper = function() {
        var t = /^https?:(.*)$/,
            n = function(n) {
                var i = t.exec(n);
                return i ? i[1] : n
            },
            i = function() {
                Handlebars.registerHelper("RemoveProtocol", function(t) {
                    return n(t)
                })
            };
        return {
            RemoveProtocol: n,
            RegisterHandlebars: i
        }
    }();
$(document).ready(function() {
    UrlHelper.RegisterHandlebars()
});
var Geo = function() {
        "use strict";
        var n = function(n, t, i) {
                return t[n] < i[n] ? -1 : t[n] > i[n] ? 1 : 0
            },
            i = function(t) {
                var i, r, u;
                try {
                    t.geonames.sort(n.bind(this, "countryName"));
                    for (i in t.geonames) {
                        r = t.geonames[i];
                        switch (r.countryCode) {
                            case "CA":
                                u = r;
                                t.geonames.splice(i, 1);
                                t.geonames.unshift(u);
                                break;
                            case "US":
                                u = r;
                                t.geonames.splice(i, 1);
                                t.geonames.unshift(u);
                                break;
                            case "AX":
                                t.geonames.splice(i, 1)
                        }
                    }
                    return console.log(t.geonames.length), t.geonames.map(function(n) {
                        return {
                            Id: n.countryCode,
                            Name: n.countryName
                        }
                    })
                } catch (f) {
                    console.error(f.message)
                }
            },
            r = function(t) {
                try {
                    return t.geonames.sort(n.bind(this, "name")), t.geonames.map(function(n) {
                        return {
                            Id: n.name,
                            Name: n.name
                        }
                    })
                } catch (i) {
                    console.error(i.message)
                }
            },
            t = function(n, t) {
                this.log = n;
                this.repository = t;
                this.cache = {
                    countryInfo: new Cache.LazyPromise(function() {
                        return this.repository.getCountryInfo()
                    }.bind(this)),
                    dropdownCountries: new Cache.LazyPromise(function() {
                        return this.cache.countryInfo.then(i)
                    }.bind(this)),
                    dropdownStates: new Cache.LazyPromise(function(n) {
                        return this.repository.searchByCountry(n).then(r)
                    }.bind(this))
                }
            };
        return function(n) {
            n.getCountryInfo = function() {
                return this.cache.countryInfo
            };
            n.getDropdownCountries = function() {
                return this.cache.dropdownCountries
            };
            n.getDropdownStates = function(n) {
                return this.cache.dropdownStates.value(n)
            }
        }(t.prototype), {
            Service: t
        }
    }(),
    MessageBus = function() {
        function n() {
            this.eventListeners = {};
            window.addEventListener("storage", this._messageReceived.bind(this))
        }
        return n.prototype.on = function(n, t) {
            return typeof t != "function" && this, this.eventListeners[n] || (this.eventListeners[n] = []), this.eventListeners[n].push(t), this
        }, n.prototype.unbind = function(n, t) {
            return !t || !this.eventListeners[n] ? this : (this.eventListeners[n] = _.filter(this.eventListeners[n], function(n) {
                return n !== t
            }), this)
        }, n.prototype.broadcast = function(n, t) {
            return localStorage.setItem("message_bus", JSON.stringify({
                key: n,
                value: t
            })), localStorage.removeItem("message_bus"), this
        }, n.prototype.setSessionStorage = function(n, t) {
            return t || (t = sessionStorage[n]), this.broadcast("setSessionStorage", {
                path: n,
                data: t
            })
        }, n.prototype.removeSessionStorage = function(n) {
            return this.broadcast("removeSessionStorage", {
                path: n
            })
        }, n.prototype._messageReceived = function(n) {
            if (n.key === "message_bus") {
                var t = JSON.parse(n.newValue);
                t && t.key && (t.key === "setSessionStorage" ? sessionStorage.setItem(t.value.path, t.value.data) : t.key === "removeSessionStorage" && sessionStorage.removeItem(t.value.path), this.eventListeners[t.key] && this.eventListeners[t.key].forEach(function(n) {
                    n(t.value)
                }))
            }
        }, n
    }(),
    messageBus = new MessageBus,
    SharedSessionStorage = function() {
        function n(n, t) {
            this.namespace = n;
            this.namespaceStorage = $.initNamespaceStorage(n).sessionStorage;
            this.messageBus = t || window.messageBus
        }
        return n.prototype.get = function(n) {
            return this.namespaceStorage.isSet(n) ? this.namespaceStorage.get(n) : undefined
        }, n.prototype.set = function(n, t) {
            var i = this.namespaceStorage.set(n, t);
            return this._triggerChange(), i
        }, n.prototype.remove = function(n) {
            var t = this.namespaceStorage.remove(n);
            return this._triggerChange(), t
        }, n.prototype.removeAll = function(n) {
            var t = this.namespaceStorage.removeAll(n);
            return this._triggerChange(!0), t
        }, n.prototype.isEmpty = function(n) {
            return this.namespaceStorage.isEmpty(n)
        }, n.prototype.isSet = function(n) {
            return this.namespaceStorage.isSet(n)
        }, n.prototype.keys = function(n) {
            return this.namespaceStorage.keys(n)
        }, n.prototype._triggerChange = function(n) {
            n && n === !0 ? this.messageBus.removeSessionStorage(this.namespace) : this.messageBus.setSessionStorage(this.namespace, sessionStorage[this.namespace])
        }, n
    }(),
    tryParseValue = function(n) {
        if (n.toLowerCase() === "true") return !0;
        if (n.toLowerCase() === "false") return !1;
        var t = parseFloat(n);
        return isNaN(t) ? n : t
    },
    getOptimizelyExperimentId = function() {
        var t = "",
            n, i;
        try {
            if (n = optimizely.get("state").getVariationMap(), n) {
                typeof n == "string" && (n = JSON.parse(n));
                for (i in n) n.hasOwnProperty(i) && (t += i + ":" + n[i].id + ",");
                t = t.slice(0, -1)
            }
        } catch (r) {}
        return t
    },
    deparam = function(n) {
        for (var t = {}, f = n.split("&"), o, r = 0; r < f.length; r++) {
            var e = f[r].split("="),
                i = decodeURIComponent(e[0]),
                u = tryParseValue(decodeURIComponent(e[1]));
            if (typeof t[i] == "undefined") {
                t[i] = u;
                continue
            }
            if (Object.prototype.toString.call(t[i]) === "[object Array]") {
                t[i].push(u);
                continue
            }
            o = [t[i], u];
            t[i] = o
        }
        return t
    },
    log = log4javascript.getLogger();
log.addAppender(new log4javascript.BrowserConsoleAppender);
log4javascript.setShowStackTraces(!0);
LogPrefixer = function(n, t) {
        this.logger = n;
        this.prefix = t + " |"
    },
    function(n) {
        n.debug = function() {
            this.logger.debug.bind(this.logger, this.prefix).apply(this.logger, arguments)
        };
        n.info = function() {
            this.logger.info.bind(this.logger, this.prefix).apply(this.logger, arguments)
        };
        n.warn = function() {
            this.logger.warn.bind(this.logger, this.prefix).apply(this.logger, arguments)
        };
        n.error = function() {
            this.logger.error.bind(this.logger, this.prefix).apply(this.logger, arguments)
        };
        n.fatal = function() {
            this.logger.fatal.bind(this.logger, this.prefix).apply(this.logger, arguments)
        }
    }(LogPrefixer.prototype);
initLog = new LogPrefixer(log, "Application Initialization");
initLog.info("Start");
initLog.debug("Events service");
eventService = new Events.Service(new LogPrefixer(log, "EventService"), $.Deferred);
initLog.debug("Routing service");
routingService = new Routing.Service(new LogPrefixer(log, "RoutingService"), $.Deferred, $.initNamespaceStorage("lri.routing").sessionStorage, eventService, $.param);
initLog.debug("Authentication repository");
authenticationRepository = function() {
    var t = new LogPrefixer(log, "AuthenticationRepository"),
        n = authenticatedRequestsProtocol + AUTHCONNECTION,
        i = "1398719173725670",
        r = {
            local: "ZGQwZTNhNGY4MzM2NGYyNTkyYjFiYzUwZjgzMDc2MjE6a2V5",
            facebook: "MTM5ODcxOTE3MzcyNTY3MDprZXk="
        };
    n.indexOf("test") >= 0 && t.warn("Using test server");
    var d = function() {
            var n = "External-Access-Token",
                t = ".luxuryretreats.com",
                i = function() {
                    var i = "; " + document.cookie,
                        t = i.split("; " + n + "=");
                    if (t.length == 2) return t.pop().split(";").shift()
                },
                r = function() {
                    document.cookie = n + "=; path=/; expires=Thu, 01 Jan 1970 00:00:00 UTC; domain=" + t
                };
            return {
                setHeader: function(t) {
                    var u = i();
                    return u && (r(), t[n] = u), t
                }
            }
        }(),
        u = function(i, r, u) {
            return t.debug("signUp", i), $.ajax(n + "api/WebUser/SignUp", {
                dataType: "json",
                type: "POST",
                contentType: "application/json; charset=utf-8",
                xhrFields: {
                    withCredentials: !0
                },
                data: JSON.stringify({
                    UserName: i,
                    Password: r,
                    FirstName: u.firstname,
                    LastName: u.lastname,
                    IsSpecialOfferOptin: u.specialOfferOptin,
                    Email: i
                })
            })
        },
        f = function(i, r) {
            return t.debug("signIn", i), $.ajax(n + "api/WebUser/SignIn", {
                dataType: "json",
                xhrFields: {
                    withCredentials: !0
                },
                type: "POST",
                data: {
                    userName: i,
                    password: r
                }
            })
        },
        e = function(i) {
            return t.debug("signOutAllDevices"), $.ajax(n + "api/WebUser/SignOutAllDevices", {
                type: "POST",
                xhrFields: {
                    withCredentials: !0
                },
                headers: {
                    Authorization: "bearer " + i
                }
            })
        },
        o = function(i) {
            return t.debug("signOut"), $.ajax(n + "api/WebUser/SignOut", {
                type: "POST",
                xhrFields: {
                    withCredentials: !0
                },
                headers: {
                    Authorization: "bearer " + i.token
                }
            })
        },
        s = function(i, u) {
            return t.debug("refreshUserToken"), $.ajax(n + "token", {
                dataType: "json",
                type: "POST",
                headers: {
                    Authorization: "basic " + r[u]
                },
                data: {
                    refresh_token: i,
                    grant_type: "refresh_token",
                    client_id: "dd0e3a4f83364f2592b1bc50f8307621"
                }
            })
        },
        h = function(r) {
            t.debug("initiateExternalSignIn");
            var u = window.location.protocol + "//" + window.location.host;
            return routingService.navigate(n + "api/ExternalWebUser/GetRedirectUri", {
                provider: r,
                response_type: "token",
                client_id: i,
                redirect_uri: u + "/externalAuthentication",
                error_uri: u + "/login"
            })
        },
        c = function(i, r) {
            return t.debug("completeExternalSignIn"), $.ajax(n + "api/ExternalWebUser/SignIn", {
                dataType: "json",
                type: "GET",
                xhrFields: {
                    withCredentials: !0
                },
                data: {
                    externalAccessToken: i,
                    provider: r
                }
            })
        },
        l = function(i, r, u, f, e) {
            return t.debug("completeExternalSignUp"), $.ajax(n + "api/ExternalWebUser/SignUp", {
                dataType: "json",
                type: "POST",
                contentType: "application/json; charset=utf-8",
                xhrFields: {
                    withCredentials: !0
                },
                data: JSON.stringify({
                    username: i,
                    password: e,
                    externalAccessToken: r,
                    provider: u,
                    isSpecialOfferOptin: f,
                    primaryEmail: i
                })
            })
        },
        a = function(i, r, u, f) {
            return t.debug("changePassword"), $.ajax(n + "api/WebUser/ChangePassword", {
                dataType: "json",
                type: "POST",
                contentType: "application/json; charset=utf-8",
                headers: {
                    Authorization: "bearer " + i
                },
                data: JSON.stringify({
                    username: r,
                    oldPassword: u,
                    newPassword: f
                })
            })
        },
        v = function(i) {
            return t.debug("forgotPassword"), $.ajax(n + "api/webuser/RequestResetPassword", {
                dataType: "json",
                type: "POST",
                contentType: "application/json; charset=utf-8",
                data: JSON.stringify(i)
            })
        },
        y = function(i, r) {
            return t.debug("setPassword"), $.ajax(n + "/api/webuser/SetPassword", {
                dataType: "json",
                type: "POST",
                contentType: "application/json; charset=utf-8",
                headers: {
                    Authorization: "bearer " + i
                },
                data: JSON.stringify(r)
            })
        },
        p = function(i) {
            return t.debug("verifyAccount"), $.ajax(n + "/api/webuser/VerifyAccount", {
                dataType: "json",
                type: "POST",
                contentType: "application/json; charset=utf-8",
                headers: {
                    Authorization: "bearer " + i
                }
            })
        },
        w = function(t) {
            return $.ajax(n + "/api/webuser/IsAccountCompleted", {
                headers: {
                    Authorization: "bearer " + t
                }
            })
        },
        b = function(t) {
            return $.ajax(n + "api/webuser/ResendVerifyAccountEmail", {
                type: "POST",
                contentType: "application/json",
                data: JSON.stringify(t)
            })
        },
        k = function(t, i) {
            return $.ajax(n + "/api/webuser/CompleteAccount", {
                dataType: "json",
                type: "POST",
                contentType: "application/json; charset=utf-8",
                headers: {
                    Authorization: "bearer " + i
                },
                data: JSON.stringify(t)
            })
        };
    return {
        signUp: u,
        signIn: f,
        signOutAllDevices: e,
        signOut: o,
        refreshUserToken: s,
        initiateExternalSignIn: h,
        completeExternalSignIn: c,
        completeExternalSignUp: l,
        changePassword: a,
        forgotPassword: v,
        setPassword: y,
        verifyAccount: p,
        getUserInfoFromUrlToken: w,
        completeUserAccount: k,
        resendVerificationEmail: b
    }
}();
initLog.debug("Authentication service");
authenticationService = new Authentication.Service(new LogPrefixer(log, "AuthenticationService"), authenticationRepository, $.Deferred, $.initNamespaceStorage("lri.authentication").localStorage, eventService, $.extend, $.ajax);
initLog.debug("Identity repository");
identityRepository = function() {
    var n = new LogPrefixer(log, "IdentityRepository"),
        t = authenticatedRequestsProtocol + AUTHCONNECTION;
    t.indexOf("test") >= 0 && n.warn("Using test server");
    var i = function() {
            return n.debug("getCurrentProfile"), authenticationService.ajax(t + "api/WebUser/GetProfile")
        },
        r = function(i) {
            return n.debug("setCurrentProfile"), i.externalUserName || (i.externalUserName = i.username), authenticationService.ajax(t + "api/WebUser/UpdateProfile", {
                type: "POST",
                contentType: "application/json; charset=utf-8",
                data: JSON.stringify(i)
            })
        },
        u = function(i) {
            return n.debug("getCurrentProfile"), authenticationService.ajax(t + "/api/webuser/EmailNotifications/" + i, {
                type: "POST"
            })
        };
    return {
        getCurrentProfile: i,
        setCurrentProfile: r,
        setEmailNotifications: u
    }
}();
initLog.debug("Identity service");
identityService = new Identity.Service(new LogPrefixer(log, "IdentityService"), identityRepository, $.Deferred, $.initNamespaceStorage("lri.authentication").localStorage, eventService);
initLog.debug("Prefilling service");
prefillingService = new Identity.PrefillingService(new LogPrefixer(log, "PrefillingService"), new SharedSessionStorage("lri.prefilling"), $);
initLog.debug("Favorites repository");
favoritesRepository = function() {
    var n = new LogPrefixer(log, "FavoriteRepository"),
        t = SERVICECONNNECTION;
    t.indexOf("test") >= 0 && n.warn("Using test server");
    var i = function() {
            return n.debug("getProperties"), authenticationService.ajax(t + "/wapi/WebUser/profile/GetProperties")
        },
        r = function(i) {
            return n.debug("addProperty"), authenticationService.ajax(t + "/wapi/WebUser/profile/AddProperty", {
                type: "POST",
                contentType: "application/json; charset=utf-8",
                data: JSON.stringify({
                    PropertyId: i
                })
            })
        },
        u = function(i) {
            return n.debug("removeProperty"), authenticationService.ajax(t + "/wapi/webuser/profile/removeproperty", {
                type: "POST",
                contentType: "application/json; charset=utf-8",
                data: JSON.stringify({
                    PropertyId: i
                })
            })
        };
    return {
        getProperties: i,
        addProperty: r,
        removeProperty: u
    }
}();
initLog.debug("Favorites service");
favoriteService = new Favorites.Service(new LogPrefixer(log, "FavoriteService"), favoritesRepository, $.Deferred, new SharedSessionStorage("lri.favorites"), $.initNamespaceStorage("lri.favorites").localStorage, eventService, identityService);
initLog.debug("Group list repository");
groupListRepository = function() {
    var t = new LogPrefixer(log, "GroupListRepository"),
        n = SERVICECONNNECTION;
    n.indexOf("test") >= 0 && t.warn("Using test server");
    var i = function() {
            return authenticationService.unhandledAjax(n + "/wapi/webuser/profile/favorites/lists", {
                cache: !1
            })
        },
        r = function(t, i) {
            return authenticationService.unhandledAjax(n + "/wapi/webuser/profile/favorites/lists/" + t + "/join/" + i, {
                cache: !1,
                method: "post"
            })
        },
        u = function(t) {
            return authenticationService.unhandledAjax(n + "/wapi/webuser/profile/favorites?listId=" + t, {
                cache: !1
            })
        },
        f = function(t) {
            return authenticationService.unhandledAjax(n + "/api/webuser/profile/favorites/" + t + "/voteup", {
                method: "post",
                cache: !1
            })
        },
        e = function(t) {
            return authenticationService.unhandledAjax(n + "/api/webuser/profile/favorites/" + t + "/votedown", {
                method: "post",
                cache: !1
            })
        },
        o = function(t) {
            return authenticationService.unhandledAjax(n + "/api/webuser/profile/favorites/lists/" + t, {
                cache: !1
            })
        };
    return {
        getLists: i,
        getList: o,
        getProperties: u,
        voteUp: f,
        voteDown: e,
        joinList: r
    }
}();
initLog.debug("Group list service");
groupListService = new GroupList.Service(new LogPrefixer(log, "GroupListService"), groupListRepository, $.Deferred, $.initNamespaceStorage("lri.groupList").sessionStorage, authenticationService, eventService);
initLog.debug("Page Identification repository");
pageIdentificationRepository = function() {
    var i = new LogPrefixer(log, "PageIdentificationRepository"),
        n = $("input[name=pageId]"),
        t, r = function() {
            $.sessionStorage.get("previousPageId") != null && (this.pageId = $.sessionStorage.get("previousPageId"), $.sessionStorage.remove("previousPageId"))
        },
        u = function(t) {
            n.val(t);
            this.pageId = parseInt(n.val())
        },
        f = function() {
            i.debug("initPageId");
            t = parseInt(n.val())
        };
    return f(), {
        pageId: t,
        catchPreviousPageId: r,
        setPageId: u
    }
}();
initLog.debug("Trips repository");
tripsRepository = function() {
    var t = new LogPrefixer(log, "TripRepository"),
        n = BOOKINGENGINE;
    n.indexOf("test") >= 0 && t.warn("Using test server");
    var i = function() {
            return t.debug("getTrips"), authenticationService.ajax(n + "/api/bookings")
        },
        r = function(i, r, u) {
            return t.debug("getTripDetails"), u = u ? "/setViewed/true" : "", i ? authenticationService.ajax(n + "/api/bookings/" + i + u) : r ? authenticationService.ajax(n + "/api/bookings/rid/" + r + u) : null
        },
        u = function(i, r) {
            return t.debug("getTermsAndConditions"), i ? authenticationService.ajax(n + "/api/termsandconditions/" + i) : r ? authenticationService.ajax(n + "/api/termsandconditions/rid/" + r) : null
        };
    return getUpcomingTripDetailsList = function(i) {
        return t.debug("getUpcomingTripList"), i = i ? "/setViewed/true" : "", authenticationService.ajax(n + "/api/bookings/upcoming" + i)
    }, getPastTripDetailsList = function(i) {
        return t.debug("getUpcomingTripList"), i = i ? "/setViewed/true" : "", authenticationService.ajax(n + "/api/bookings/past" + i)
    }, getTripsCount = function() {
        return t.debug("getTripsCount"), authenticationService.ajax(n + "/api/bookings/count")
    }, getItinerary = function(n) {
        return authenticationService.ajax(MYTRIPS_BASEURL + "/api/itinerary/html/request/" + n, {
            method: "GET"
        })
    }, {
        getTrips: i,
        getTripDetails: r,
        getUpcomingTripDetailsList: getUpcomingTripDetailsList,
        getPastTripDetailsList: getPastTripDetailsList,
        getTripsCount: getTripsCount,
        getTermsAndConditions: u,
        getItinerary: getItinerary
    }
}();
initLog.debug("Trips service");
tripService = new Trips.Service(new LogPrefixer(log, "TripService"), tripsRepository, $.Deferred, $.initNamespaceStorage("lri.trips").sessionStorage, eventService);
initLog.debug("Essentials repository");
essentialsRepository = function() {
    var t = new LogPrefixer(log, "EssentialsRepository"),
        n = MYTRIPS_BASEURL,
        i = function(i) {
            return t.debug("getEssentials"), i instanceof Array ? authenticationService.ajax(n + "/api/essentials/list", {
                contentType: "application/json",
                dataType: "json",
                method: "POST",
                data: JSON.stringify(i)
            }) : authenticationService.ajax(n + "/api/essentials/" + i)
        },
        r = function(i) {
            t.debug("getOrCreateEssentials");
            var r = {
                contentType: "application/json",
                dataType: "json",
                method: "POST",
                data: JSON.stringify(i)
            };
            return i instanceof Array ? authenticationService.ajax(n + "/api/essentials/list/GetOrCreate", r) : authenticationService.ajax(n + "/api/essentials/GetOrCreate", r)
        },
        u = function(i) {
            return t.debug("patchEssentials"), authenticationService.ajax(n + "/api/essentials/" + i.CRMRequestId, {
                contentType: "application/json",
                dataType: "json",
                method: "PATCH",
                data: JSON.stringify(i)
            })
        },
        f = function() {
            return t.debug("getProvisioningPackages"), authenticationService.ajax(n + "/api/essentials/prestockingpackages/")
        };
    return {
        getEssentials: i,
        getOrCreateEssentials: r,
        patchEssentials: u,
        getProvisioningPackages: f
    }
}();
initLog.debug("Essentials service");
essentialsService = new Essentials.Service(new LogPrefixer(log, "EssentialsService"), essentialsRepository, $.Deferred);
initLog.debug("DestinationGuides repository");
destinationGuidesRepository = function() {
    var n = new LogPrefixer(log, "DestinationGuidesRepository"),
        t = SERVICECONNNECTION,
        i = function(i) {
            return n.debug("getDestinationGuide"), $.getJSON(t + "/SearchEngine.svc/GetDestinationGuide_GET", {
                regionId: i
            })
        },
        r = function(i) {
            return n.debug("getDestinationGuideImageUrls"), $.getJSON(t + "/SearchEngine.svc/GetDestinationGuideImageUrls_GET", {
                args: JSON.stringify(i)
            })
        };
    return {
        getDestinationGuide: i,
        getDestinationGuideImageUrls: r
    }
}();
initLog.debug("DestinationGuides service");
destinationGuidesService = new DestinationGuides.Service(new LogPrefixer(log, "DestinationGuidesService"), destinationGuidesRepository, $.Deferred);
initLog.debug("Geo repository");
var geoRepository = function() {
        var n = new LogPrefixer(log, "GeoRepository"),
            t = "//secure.geonames.net/",
            i = "310744a2e0f1ae321028da90235b914fe63dcdd3",
            r = "luxuryretreats_prod",
            u = function() {
                return n.debug("getCountryInfo"), $("#accountContainer").addClass("hidden"), $("#accountSpinner").removeClass("hidden"), $.ajax({
                    type: "GET",
                    dataType: "json",
                    url: t + "countryInfoJSON?token=" + i + "&username=" + r
                })
            },
            f = function(u) {
                return n.debug("searchByCountry", u), $.ajax({
                    type: "GET",
                    dataType: "json",
                    url: t + "searchJSON?token=" + i + "&username=" + r,
                    data: {
                        country: u,
                        featureCode: "ADM1"
                    }
                })
            };
        return {
            getCountryInfo: u,
            searchByCountry: f
        }
    }(),
    geoService = new Geo.Service(new LogPrefixer(log, "GeoService"), geoRepository),
    inquiryForm = null;
typeof InquiryForm != "undefined" && (inquiryForm = new InquiryForm);
authenticatedRequestsProtocol !== "https" && initLog.warn("Using unencrypted protocol for authenticated ajax requests");
routingService.push(window);
$(window).on("hashchange", function() {
    routingService.push(window)
});
$(window).on("pageshow", function(n) {
    n.originalEvent.persisted && routingService.push(window)
});
initLog.info("End");
initLog = null,
    function() {
        var n = function() {
            var t = "",
                n;
            identityService.isIdentified() && (n = authenticationService.getAuthority(), n && n != null && (t = n.toLowerCase() == "local" ? "email" : n));
            dataLayer.push({
                loginStatus: t
            })
        };
        identityService.watchOnIdentified(function() {
            n()
        });
        authenticationService.watchOnSignOut(function() {
            n()
        });
        n()
    }(),
    function() {
        window.ParsleyValidator.addValidator("lrpassword", function(n) {
            return /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,24}$/.test(n)
        }).addMessage("en", "lrpassword", "Poor")
    }(),
    function() {
        window.ParsleyValidator.addValidator("cnic", function(n) {
            return /^((\+\d{1,3}(-| )?\(?\d\)?(-| )?\d{1,5})|(\(?\d{2,6}\)?))(-| )?(\d{3,4})(-| )?(\d{4})(( x| ext)\d{1,5}){0,1}$/.test(n)
        }).addMessage("en", "cnic", "This value should be a valid phone number.")
    }();
var BrowsingHistoryService = function() {
        function n(n) {
            this._platformId = parseInt(n);
            this.insert = this.insert.bind(this);
            this.get = this.get.bind(this);
            this.getAndClearJsonString = this.getAndClearJsonString.bind(this)
        }
        n.prototype.insert = function(n, r, u, f, e) {
            var o, h, s, c;
            n !== undefined && n !== null && (n = parseInt(n), u = u && u !== null ? parseInt(u) : undefined, o = {
                Timestamp: new Date,
                PlatformId: this._platformId,
                PageId: n,
                VillaId: u,
                RegionName: e
            }, h = t(r), h && !isNaN(h.RegionId) && (o.RegionId = h.RegionId, o.RegionLevel = h.RegionLevel), f && $.extend(o, {
                CheckIn: f.CheckIn,
                CheckOut: f.CheckOut,
                MinPrice: f.MinPrice,
                MaxPrice: f.MaxPrice,
                Guests: f.Guests,
                LargeGroups: f.LargeGroups,
                Beachfront: f.Beachfront,
                Ski: f.Ski,
                CityLife: f.CityLife,
                Honeymoon: f.Honeymoon,
                Promotion: f.Promotion,
                InstantBook: f.InstantBook
            }), i(o), s = this.get() || [], s.push(o), s.length > 100 && s.splice(0, s.length - 100), c = JSON.stringify(s), localStorage.setItem("browsingHistory", c))
        };
        n.prototype.get = function() {
            var n = this.getJsonString();
            return n !== undefined ? JSON.parse(n) : undefined
        };
        n.prototype.getJsonString = function() {
            if (localStorage) {
                var n = localStorage.getItem("browsingHistory");
                if (n !== null) return n
            }
            return undefined
        };
        n.prototype.getAndClearJsonString = function() {
            if (localStorage) {
                var n = localStorage.getItem("browsingHistory");
                if (n !== null) return localStorage.removeItem("browsingHistory"), n
            }
            return undefined
        };
        n.prototype.clear = function() {
            localStorage && localStorage.browsingHistory && localStorage.removeItem("browsingHistory")
        };
        var t = function(n) {
                if (n !== undefined && n !== null && n.length > 0) {
                    var t = n.split("|");
                    if (t.length > 0) return {
                        RegionId: parseInt(t[t.length - 1]),
                        RegionLevel: t.length
                    }
                }
                return undefined
            },
            i = function(n) {
                var r, i, t;
                if (n !== undefined && n !== null)
                    for (r = Object.getOwnPropertyNames(n), i = 0; i < r.length; i++) t = r[i], (n[t] === null || n[t] === undefined || n[t] === !1) && delete n[t]
            };
        return n
    }(),
    browsingHistoryService = new BrowsingHistoryService(PLATFORMID),
    RegionPhoneService = function() {
        function n() {
            this.getPhoneNumber = this.getPhoneNumber.bind(this);
            this.updatePhoneNumber = this.updatePhoneNumber.bind(this)
        }
        return n.prototype.getPhoneNumber = function(n) {
            return $.ajax({
                type: "POST",
                url: SERVICECONNNECTION + "/SearchEngine.svc/GetRegionPhoneNumber",
                contentType: "application/json",
                data: JSON.stringify(n)
            }).then(function(n) {
                return n && n.Data && n.Data.length > 0 ? n.Data[0] : null
            }, function(n) {
                console.log(n)
            })
        }, n.prototype.updatePhoneNumber = function(n, t, i) {
            return this.getPhoneNumber(n).then(function(n) {
                return n && t && (i && (n = n.split("-").join(i)), t.html(n)), n
            })
        }, n
    }(),
    regionPhoneService = new RegionPhoneService,
    IpInfoService = function() {
        function n() {
            this.getIpInfo = this.getIpInfo.bind(this);
            this.isNorthAmerica = this.isNorthAmerica.bind(this);
            this.countryCodes = {
                NorthAmerica: ["US", "CA"]
            }
        }
        return n.prototype.getIpInfo = function() {
            return $.ajax({
                type: "GET",
                url: "//api.ipinfodb.com/v3/ip-country/?key=e871cc2937fa35d0babb7e955555e7d89caab2e18a7a9c16f84b864ac5250d2b&format=json",
                crossDomain: !0
            }).then(function(n) {
                return n ? n : null
            }, function(n) {
                console.log(n)
            })
        }, n.prototype.isNorthAmerica = function() {
            var n = this;
            return this.getIpInfo().then(function(t) {
                return t && t.statusCode && t.statusCode == "OK" ? n.countryCodes.NorthAmerica.indexOf(t.countryCode) >= 0 : null
            })
        }, n
    }(),
    ipInfoService = new IpInfoService,
    EmailSubscription = function() {
        "use strict";

        function n() {
            this.helpers = new t("email_subscriptions");
            this.getIsEmailSubscribedValue = this.getIsEmailSubscribedValue.bind(this);
            this.update = this.update.bind(this);
            this.subscribe = this.subscribe.bind(this);
            this.unsubscribe = this.unsubscribe.bind(this);
            this.isSubscribed = this.isSubscribed.bind(this)
        }
        n.prototype.getIsEmailSubscribedValue = function(n, t, i) {
            var r = this.update(n, t);
            return r && r.hasChanged === !1 ? null : (app.dataLayer.event(i, "marketing", t), t)
        };
        n.prototype.update = function(n, t) {
            var i = this.helpers.findOne(n);
            if (i) {
                if (i.isSubscribed === t) return $.extend(i, {
                    hasChanged: !1
                });
                i.isSubscribed = t
            } else i = this.helpers.createOne(n, t);
            return this.helpers.saveCache(), $.extend(i, {
                hasChanged: !0
            })
        };
        n.prototype.subscribe = function(n) {
            return this.update(n, !0)
        };
        n.prototype.unsubscribe = function(n) {
            return this.update(n, !1)
        };
        n.prototype.isSubscribed = function(n) {
            var t = this.helpers.findOne(n);
            return t && t.isSubscribed === !0
        };
        var t = function() {
            function n(n) {
                this.cacheKey = n;
                this.cache = [];
                this.findIndex = this.findIndex.bind(this);
                this.findOne = this.findOne.bind(this);
                this.createOne = this.createOne.bind(this);
                this.saveCache = this.saveCache.bind(this);
                this.loadCache = this.loadCache.bind(this)
            }
            return n.prototype.findIndex = function(n) {
                for (var t = 0; t < this.cache.length; t++)
                    if (this.cache[t].email === n) return t;
                return -1
            }, n.prototype.findOne = function(n) {
                var t = this.findIndex(n);
                return t >= 0 ? $.extend(this.cache[t], {
                    index: t
                }) : undefined
            }, n.prototype.createOne = function(n, t) {
                var i = {
                        email: n,
                        isSubscribed: t
                    },
                    r = this.cache.push(i) - 1;
                return $.extend(i, {
                    index: r
                })
            }, n.prototype.saveCache = function() {}, n.prototype.loadCache = function() {
                this.cache = []
            }, n
        }();
        return n
    }(),
    emailSubscription = new EmailSubscription,
    StatsRepository = function() {
        "use strict";

        function n() {
            this.getNumberOfGuests = this.getNumberOfGuests.bind(this);
            this.getNumberOfOpenRequests = this.getNumberOfOpenRequests.bind(this);
            this.getRegionStats = this.getRegionStats.bind(this)
        }
        return n.prototype.getNumberOfGuests = function() {
            return this.getNumberOfOpenRequests().then(function(n) {
                return n.NumberOfOpenRequests.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",")
            })
        }, n.prototype.getNumberOfOpenRequests = function() {
            return $.ajax({
                type: "GET",
                url: SERVICECONNNECTION + "/SearchEngine.svc/GetNumberOfOpenRequests"
            }).then(function(n) {
                return n && n.Data && n.Data.length > 0 ? n.Data[0] : null
            }, function(n) {
                console.log(n)
            })
        }, n.prototype.getRegionStats = function(n) {
            return $.ajax({
                type: "POST",
                url: SERVICECONNNECTION + "/SearchEngine.svc/GetRegionStats",
                contentType: "application/json",
                data: JSON.stringify(n)
            }).then(function(n) {
                return n && n.Data && n.Data.length > 0 ? n.Data[0] : null
            }, function(n) {
                console.log(n)
            })
        }, n
    }(),
    statsRepository = new StatsRepository,
    TrackingManager = function() {
        function n() {
            this.helpers = new t;
            this.init = this.init.bind(this);
            this.initByElement = this.initByElement.bind(this);
            this.initByEvent = this.initByEvent.bind(this);
            this.pushEvent = this.pushEvent.bind(this);
            this.pushEventData = this.pushEventData.bind(this);
            this._bindAndTriggerEvent = this._bindAndTriggerEvent.bind(this)
        }
        n.prototype.init = function(n) {
            var t = this;
            n.byEvents && $.each(n.byEvents, function(i, r) {
                n.data && (r.initialData = typeof n.data == "function" ? n.data : $.extend({}, n.data));
                t.initByEvent(r)
            });
            n.byElements && $.each(n.byElements, function(i, r) {
                n.data && (r.initialData = typeof n.data == "function" ? n.data : $.extend({}, n.data));
                t.initByElement(r)
            })
        };
        n.prototype.initByElement = function(n) {
            var t = this,
                i = n.selector instanceof Array ? n.selector : [n.selector];
            $.each(i, function(i, r) {
                $.each(n.events, function(i, u) {
                    t._bindAndTriggerEvent(r, u.eventType, n.initialData, n.data, u.data, u.validate || n.validate)
                })
            })
        };
        n.prototype.initByEvent = function(n) {
            var t = this;
            $.each(n.elements, function(i, r) {
                var u = r.selector instanceof Array ? r.selector : [r.selector];
                $.each(u, function(i, u) {
                    t._bindAndTriggerEvent(u, n.eventType, n.initialData, n.data, r.data, r.validate || n.validate)
                })
            })
        };
        n.prototype.pushEventData = function(n) {
            var t = this.helpers.cleanObject({
                event: "UAevent",
                eventCategory: n.category,
                eventAction: n.action,
                eventLabel: n.label
            });
            dataLayer.push(t)
        };
        n.prototype.pushEvent = function(n, t, i) {
            this.pushEventData({
                category: n,
                action: t,
                label: i
            })
        };
        n.prototype._bindAndTriggerEvent = function(n, t, i, r, u, f) {
            var e = this;
            e.helpers.bindEvent(n, t, function(n, o) {
                var s = !0,
                    h;
                f && typeof f == "function" && (s = f({
                    target: n,
                    eventType: t,
                    eventArg: o
                }));
                s === !0 && (h = e.helpers.getEventData(n, o, t, i, r, u), e.pushEventData(h))
            })
        };
        var t = function() {
            function n() {}
            return n.prototype.bindEvent = function(n, t, i) {
                if (t.toLowerCase().indexOf("parsley") >= 0) {
                    t = t.substring(t.indexOf(":") + 1);
                    window.Parsley.on(t, function(t) {
                        t.$element.is($(n)) && i(this, t)
                    })
                } else if (t.toLowerCase() === "scroll" && n.toLowerCase() === "window") $(window).scroll(function(n) {
                    i(this, n)
                });
                else if (t.toLowerCase() === "scroll" && n.toLowerCase() === "section") $("section").scroll(function(n) {
                    i(this, n)
                });
                else $(document).on(t, n, function(n) {
                    i(this, n)
                })
            }, n.prototype.getEventData = function(n, t, i, r, u, f) {
                var s = $(n),
                    o = {
                        target: n,
                        eventType: i,
                        eventArg: t
                    },
                    e = $.extend({}, typeof r == "function" ? r(o) : r, typeof u == "function" ? u(o) : u, typeof f == "function" ? f(o) : f);
                return $.each(Object.getOwnPropertyNames(e), function(n, t) {
                    var i = e[t];
                    typeof i == "function" ? e[t] = i(o) : i === "$VALUE" ? e[t] = s.val() : i === "$TEXT" ? e[t] = s.text() : i === "$HTML" && (e[t] = s.html())
                }), e
            }, n.prototype.isInViewport = function(n) {
                var r = $(n),
                    u = $(window),
                    t, i;
                return r.is(":hidden") ? !1 : (t = {
                    top: u.scrollTop(),
                    left: u.scrollLeft()
                }, t.right = t.left + u.width(), t.bottom = t.top + u.height(), i = r.offset(), i.right = i.left + r.outerWidth(), i.bottom = i.top + r.outerHeight() / 2, !(t.right < i.left || t.left > i.right || t.bottom < i.bottom || t.top > i.top))
            }, n.prototype.findParentByClass = function(n, t, i) {
                for (var f = i ? $(i) : $(document), r = $(n).parent(), u = 25; !r.is(f) && u > 0;) {
                    if (r.hasClass(t)) return r;
                    r = r.parent();
                    u = u - 1
                }
            }, n.prototype.parsleyValidationData = function() {
                return {
                    action: function(n) {
                        var t = n.eventArg.validationResult === !0;
                        return t ? "submit_success" : "submit_invalid"
                    },
                    label: function(n) {
                        if (n.eventArg.validationResult === !0) return undefined;
                        var t = [];
                        return $.each(n.eventArg.fields, function(n, i) {
                            i.isValid() || t.push($(i.$element).attr("id") || $(i.$element).attr("name"))
                        }), t.join(";")
                    }
                }
            }, n.prototype.cleanObject = function(n) {
                for (var r = Object.getOwnPropertyNames(n), i, t = 0; t < r.length; t++) i = r[t], (n[i] === null || n[i] === undefined) && (n[i] = "");
                return n
            }, n
        }();
        return n
    }(),
    app = app || {};
app.tracking = {
    manager: new TrackingManager,
    desktop: {},
    mobile: {}
};
searchService = function() {
    "use strict";

    function s(n) {
        if (!n) return $.Deferred().resolve({});
        if (_.isArray(n) && (n = n.toString()), app.allRegions) {
            var t = _.find(app.allRegions, {
                RegionId: n
            });
            if (t) return $.Deferred().resolve(t)
        }
        return h(n)
    }

    function h(n) {
        return r[n] ? t[n] : (r[n] = !0, t[n] = $.ajax({
            url: SERVICECONNNECTION + "/SearchEngine.svc/GetRegion",
            dataType: "json",
            contentType: "application/json",
            method: "POST",
            data: JSON.stringify({
                RegionId: n
            })
        }).then(function(i) {
            var u = i.Data[0];
            return u ? (u.Id = u.RegionId, u.RecordType = "region", u.NormalizedPath = u.NormalizedPath.toLowerCase(), app.allRegions || (app.allRegions = []), app.allRegions.push(u), u) : (r[n] = !1, delete t[n], null)
        }), t[n])
    }

    function c(n) {
        return $.ajax({
            url: SERVICECONNNECTION + "/SearchEngine.svc/GetPropertyGeneralInfo",
            dataType: "json",
            contentType: "application/json",
            method: "POST",
            data: JSON.stringify({
                PropertyId: n
            })
        }).then(function(t) {
            var i = t.Data[0];
            return {
                Id: n,
                Name: i.PropertyName,
                NormalizedPath: i.NormalizedUrl,
                RegionName: i.RegionName,
                RecordType: "property"
            }
        })
    }

    function l(t) {
        return n ? $.Deferred().resolve(n) : e ? u : (app.allRegions ? (n = app.allRegions, o(n), u = $.Deferred().resolve(n)) : (e = !0, u = $.getJSON(SERVICECONNNECTION + "/SearchEngine.svc/GetAllRegions_GET", {
            maxLevel: t
        }).then(function(t) {
            return e = !1, $.each(t.Data, function(n, t) {
                t.NormalizedPath = t.NormalizedPath.toLowerCase()
            }), n = t.Data, o(n), n
        })), u)
    }

    function o(n) {
        _.each(n, function(n) {
            n.Id = n.RegionId;
            n.RegionPath = n.RegionName;
            n.RecordType || (n.RecordType = "region")
        });
        _.each(_.where(n, {
            RegionLevel: 1
        }), function(t) {
            var i = _.where(n, {
                ParentRegionId: t.RegionId
            });
            t.subRegions = _.sortBy(_.uniq(i, !1, "RegionId"), function(n) {
                return n.RegionName
            })
        })
    }

    function a(n) {
        var i, r, t;
        return n.RecordType == "property" ? (i = n.RegionName.split("|").reverse()[0], n.Name + ", " + i) : n.RecordType == "region" ? (r = n.RegionPath || n.RegionName, t = r.split("|").reverse(), t.length > 1 ? t.slice(0, t.length - 1).join(", ") : t.toString()) : n.fullName || n.Name
    }

    function v(n) {
        if (!n) return $.Deferred().resolve([]);
        if (app.allRegions) {
            var t = _.where(app.allRegions, {
                ParentRegionId: n
            });
            if (t.length > 0) return $.Deferred().resolve(t)
        }
        return y(n)
    }

    function y(n) {
        return f[n] ? i[n] : (f[n] = !0, i[n] = $.getJSON(SERVICECONNNECTION + "/SearchEngine.svc/GetSubRegions_GET", {
            parentRegionId: n
        }).then(function(t) {
            var r = _.sortBy(t.Data, function(n) {
                    return n.Name
                }),
                u;
            return _.each(r, function(n) {
                n.Id = n.RegionId;
                n.RecordType = "region";
                n.NormalizedPath = n.NormalizedPath.toLowerCase()
            }), app.allRegions || (app.allRegions = []), app.allRegions = _.union(app.allRegions, r), u = _.where(app.allRegions, {
                RegionId: n
            }), _.each(u, function(n) {
                n.subRegions = r
            }), f[n] = !1, delete i[n], r
        }), i[n])
    }
    var t, r, i, f;
    console.log("20170711531");
    t = {};
    r = {};
    var n = null,
        e = !1,
        u = null;
    return i = {}, f = {}, {
        getRegion: s,
        getProperty: c,
        getSubRegions: v,
        getRegionsList: l,
        getFullName: a
    }
}();
$(document).ready(function() {
    var n = deparam(location.search.substring(1)).show;
    n && (history.replaceState(null, document.title, location.href.split("?")[0]), app.modal ? app.modal.show($("#" + n)) : $("#" + n).modal())
});
app = app || {};
mix = mix || {};
app.ipLocation = function() {
    function t() {
        return sessionStorage.userLocation ? $.Deferred().resolve(JSON.parse(sessionStorage.userLocation)).promise() : $.ajax({
            url: "//ipinfo.io/",
            data: {
                token: "1bd0f5f9b65495"
            },
            dataType: "jsonp"
        }).done(function(n) {
            sessionStorage.userLocation = JSON.stringify(n)
        })
    }
    var n;
    return {
        getInstance: function() {
            return n || (n = t()), n
        }
    }
}();
mix.sessionConstants = function() {
    return sessionStorage.sessionConstants && JSON.parse(sessionStorage.sessionConstants)["LRI Session ID"] != "" ? $.Deferred().resolve(JSON.parse(sessionStorage.sessionConstants)).promise() : app.ipLocation.getInstance().then(function(n) {
        var t = {};
        return t["LRI Session ID"] = $("#sessionId").val(), n.ip && (t["IP Address"] = n.ip, t.Traffic = n.ip === internalIPaddress ? "Internal" : "External"), sessionStorage.sessionConstants = JSON.stringify(t), t
    })
};
mix.pageConstants = function() {
    var n = {},
        o = $("#villaId"),
        u, f, e, t, i, r;
    o.length && (n["Villa ID"] = o.val());
    var l = $("#villaRegion1"),
        s = $("#villaRegion2"),
        h = $("#villaRegion3"),
        c = $("#villaRegion4");
    return s.length && h.length && c.length && (n["Region 1 Name"] = l.val(), n["Region 2 Name"] = s.val(), n["Region 3 Name"] = h.val(), n["Region 4 Name"] = c.val()), u = $("#villaPromotion"), u.length && (n.Promotion = u.val()), f = $("#bookingType"), f.length && (n["Booking Type"] = f.val() ? "IB" : "NIB"), e = $("#villaName"), e.length && (n["Villa Name"] = e.val()), t = $("body").attr("id"), t && t.length && (n["Page Type"] = t), i = routingService.getPreviousPage(), i && i.length && (n["Previous Page"] = i), r = $("#villaRegionId"), r && r.length && (n["Region ID"] = r.val()), n["Platform Type"] = window.innerWidth > 1100 ? "Desktop Web" : "Tablet Web", n["Event Time Stamp"] = moment().format("MM|DD|YYYY h:mm A"), n
}();
mix.extractVillaInfo = function(n) {
    var t = {},
        i = /([A-Za-z-]+)\/([A-Za-z-]+)\/([A-Za-z-]+)\/([A-Za-z-]+)\/([A-Za-z0-9-]+)-([0-9]+)/;
    return i.test(n) && (parts = i.exec(n), t["Region 1 Name"] = parts[1], t["Region 2 Name"] = parts[2], t["Region 3 Name"] = parts[3], t["Region 4 Name"] = parts[4], t["Villa Name"] = parts[5], t["Villa ID"] = parts[6]), t
};
mix.pageVariables = function() {
    var i = new Date,
        n = mix.pageProperties || {},
        t;
    return n["Previous Page"] && (t = mix.extractVillaInfo(n["Previous Page"]), n = $.extend({}, n, t)),
        function() {
            return n["Time on Page"] = function() {
                return Math.abs(new Date - i) / 1e3
            }(), n
        }
}();
mix.trackAndCallback = function(n, t, i) {
    var r = !1,
        u = {
            event: n,
            properties: $.extend({}, mix.pageConstants, i),
            eventListen: t
        };
    sessionStorage || (r = !0);
    r ? app.cookieData.add("mixTrackCallback", "event", JSON.stringify(u)) : sessionStorage.mixTrackCallback = JSON.stringify(u)
};
mix.handlePosponedTracking = function() {
    var t = !1,
        n;
    if (sessionStorage || (t = !0), t ? (n = app.cookieData.getData("mixTrackCallback"), n = n && n.event ? JSON.parse(n.event) : undefined, app.cookieData.clear("mixTrackCallback")) : (n = sessionStorage.mixTrackCallback, n = n ? JSON.parse(n) : undefined, delete sessionStorage.mixTrackCallback), n) $(document).one(n.eventListen, function(t, i) {
        mix.click($.extend({}, n.properties, i))
    })
};
mix.click = function(n, t) {
    function i(n) {
        for (var t = new Date; new Date - t <= n;);
    }
    return mix.sessionConstants().done(function(r) {
        if (r.Traffic !== "Internal" || !mpExcludeInternalTraffic) {
            var u = $.extend({}, mix.pageConstants, r, mix.pageVariables(), n);
            typeof t == "boolean" && i(300)
        }
    })
};
mix.page = function(n) {
    return mix.sessionConstants().done(function(t) {
        if (t.Traffic !== "Internal" || !mpExcludeInternalTraffic) var i = $.extend({}, mix.pageConstants, t, mix.pageVariables(), n)
    })
};
mix.focus = function(n) {
    return mix.sessionConstants().done(function(t) {
        if (t.Traffic !== "Internal" || !mpExcludeInternalTraffic) var i = $.extend({}, mix.pageConstants, t, mix.pageVariables(), n)
    })
};
mix.blur = function(n) {
    return mix.sessionConstants().done(function(t) {
        if (t.Traffic !== "Internal" || !mpExcludeInternalTraffic) var i = $.extend({}, mix.pageConstants, t, mix.pageVariables(), n)
    })
};
jQuery && (mix.TrackablePromise = function() {}, function(n) {
        n.track = function(n, t, i) {
            function r() {
                return mix[n]($.extend(t, i)).then($.Deferred().rejectWith(this, arguments).promise, $.Deferred().rejectWith(this, arguments).promise)
            }
            return (i = i || {}, typeof mix[n] != "function") ? this : this.then(mix[n].bind(mix, t), r.bind(this))
        }
    }(mix.TrackablePromise.prototype)),
    function() {
        (mix.handlePosponedTracking(), mix.pageConstants["Page Type"] != "Search") && mix.page({
            Label: mix.pageConstants["Page Type"]
        })
    }();
Number.prototype.YYYYMMDDtoDate || (Number.prototype.YYYYMMDDtoDate = function() {
    var n = this.toString(),
        t = parseInt(n.slice(0, 4)),
        i = parseInt(n.slice(4, 6)) - 1,
        r = parseInt(n.slice(6, 8));
    return new Date(t, i, r)
});
Date.prototype.DateToYYYMMDD || (Date.prototype.DateToYYYMMDD = function() {
    var n = this,
        t = n.getFullYear() + "",
        i = (n.getMonth() + 1).toString().length === 1 ? "0" + (n.getMonth() + 1).toString() : (n.getMonth() + 1).toString(),
        r = n.getDate().toString().length === 1 ? "0" + n.getDate().toString() : n.getDate().toString();
    return parseInt(t + i + r)
});
String.prototype.YYYYMMDDtoDate || (String.prototype.YYYYMMDDtoDate = function() {
    var n = parseInt(this.slice(0, 4)),
        t = parseInt(this.slice(4, 6)) - 1,
        i = parseInt(this.slice(6, 8));
    return new Date(n, t, i)
});
var DEVICE_PLATFORMS = {
        WEB: 1,
        IPAD: 2,
        MOBILE: 3
    },
    MOBILE_SCREEN_WIDTH_MAXIMUM = 760,
    WEBACTIVITY = {
        IB: 1,
        NIB: 2,
        VILLAINQUIRY: 3,
        INQUIRY: 4
    },
    HEADER_FORM = {
        GUEST: 1,
        BUSINESS: 2,
        OWNER: 3
    },
    pageId = pageId || $("body").attr("id"),
    isTablet = /ipad|android|android 3.0|xoom|sch-i800|playbook|tablet|kindle|nexus/i.test(navigator.userAgent) && !(/mobile/i.test(navigator.userAgent) && /android/i.test(navigator.userAgent));
log.info("Application running");
authenticationService.watchOnSignIn(identityService.initializeFromAuthenticationResponse.bind(identityService));
authenticationService.watchOnSignIn(favoriteService.initializeFromRemoteProfile.bind(favoriteService));
authenticationService.watchOnSignIn(function() {});
authenticationService.watchOnSignUp(identityService.initializeFromAuthenticationResponse.bind(identityService));
authenticationService.watchOnSignUp(favoriteService.initializeFromRemoteProfile.bind(favoriteService));
authenticationService.watchOnSignUp(function(n) {
    var t = n.userProfile.trackingId
});
authenticationService.watchOnSignOut(identityService.initializeFromAnonymous.bind(identityService));
authenticationService.watchOnSignOut(function() {});
authenticationService.watchOnUnauthorized(function() {
    return authenticationService.signOutThisDevice().then(routingService.navigate.bind(routingService, "/", null, "login"))
});
authenticationService.watchOnForbidden(routingService.navigate.bind(routingService, "/"));
identityService.watchOnAnonimized(favoriteService.initializeFromAnonymous.bind(favoriteService));
identityService.watchOnAnonimized(function() {
    app.login.onLogout()
});
identityService.watchOnAnonimized(prefillingService.initializeFromAnonymous.bind(prefillingService));
identityService.watchOnAnonimized(groupListService.clearCache.bind(groupListService));
identityService.watchOnIdentified(function() {});
identityService.watchOnIdentified(function(n) {
    app.login.onLogin(n.firstName)
});
identityService.watchOnIdentified(prefillingService.initializeFromIdentity.bind(prefillingService));
identityService.watchOnUpdated(function(n) {
    app.login.updateHeader(n.firstName)
});
identityService.watchOnUpdated(prefillingService.initializeFromIdentity.bind(prefillingService));
favoriteService.watchOnChanged(function() {
    var t, i, n, r, u;
    if (app.header.updateHeaderWishlist(), t = favoriteService.favorites(), t.length == 0) $(".villaFavourite.active").removeClass("active");
    else
        for (i = $(".villaFavourite"), n = 0; n < i.length; n++) r = $(i[n]), u = parseInt(r.attr("data-villaid")), t.indexOf(u) > -1 && r.addClass("active")
});
authenticationService.watchOnCompleteAccountReady(function() {
    var t = $("#submitSignupBtn"),
        l = $("#submitBtnSpinner"),
        i = $("#submitBtnText"),
        r = $("#facebookAuthoritySignupBtn"),
        n = $("#membershipMessage"),
        u = function() {
            n.removeClass("success error");
            n.text("");
            n.hide()
        },
        f = function(t, i) {
            u();
            n.addClass(t);
            n.text(i);
            n.show()
        },
        e = function() {
            u();
            r.prop("disabled", !0);
            t.addClass("loading");
            i.hide()
        },
        o = function() {
            function n(n) {
                return $.ajax({
                    type: "POST",
                    url: "/content/newslettersendemail",
                    data: JSON.stringify(n),
                    contentType: "application/json; charset=utf-8"
                })
            }
            if (identityService.isSpecialOfferOptin()) {
                var t = {
                    email: identityService.email(),
                    firstName: identityService.firstName(),
                    lastName: identityService.lastName()
                };
                n(t).fail(n.bind(this, t))
            }
            $(".hideOnSignUpSuccess").hide();
            $("#showOnSignUpSuccess").show();
            setTimeout(function() {
                app.login.closeAllLoginViews()
            }, 2e3)
        },
        s = function(n) {
            if (n && n.responseJSON) switch (n.responseJSON.message) {
                case "user_exists":
                    return "This email is already associated to an existing account."
            }
            return "An error occurred while signing up. Try again later."
        },
        h = function(n) {
            $("#signupView").parsley().reset();
            var u = s(n);
            log.error(u);
            f("error", u);
            t.removeClass("loading");
            i.show();
            r.prop("disabled", !1)
        },
        c = new Authentication.CompleteAccountController(log, $("#signupView"), $.Deferred, $.extend, authenticationService, {
            firstname: $("#signupFirstName"),
            lastname: $("#signupLastName"),
            username: $("#signupEmail"),
            password: $("#signupPassword"),
            isSpecialOfferOptin: $("#specialOfferOptin")
        }, {
            onValidationFailed: function(n) {
                app.login.showPasswordTooltip(n)
            },
            onSubmitting: e,
            onSubmitted: o,
            onSubmitFailed: h
        });
    c.initialize();
    $("#signupFirstName").focus()
});
authenticationService.watchOnCompleteAccountCanceledEvent(routingService.navigate.bind(routingService, "/"));
eventService.watch("Header.loginCanceled", routingService.navigate.bind(routingService, "/"));
$(window).on("hashchange", function() {
    $("html").hasClass("loggedIn") || (window.location.hash.indexOf("#login") >= 0 && app.login.openLoginView(), window.location.hash.indexOf("#signup") >= 0 && app.login.openSignUpView(), window.location.hash.indexOf("#forgotpassword") >= 0 && app.login.openForgotPasswordView(), window.location.hash.indexOf("#resetpassword") >= 0 && app.login.openResetPasswordView(), window.location.hash.indexOf("#verifyaccount") >= 0 && app.login.openVerifyAccountView(), window.location.hash === "" && app.login.closeAllLoginViews())
});
closeDropDowns = function() {
    isTablet || ($("#select2-drop-mask:visible").length && $("#select2-drop-mask").click(), $(".dropdownWrapper.active").length && $(".dropdownWrapper").removeClass("active"))
};
$(window).on("scroll", function() {
    closeDropDowns()
});
$("section").on("scroll", function() {
    closeDropDowns()
});
$(document).ready(function() {
    window.setTimeout(function() {
        if (authenticationService.isAuthenticated() && identityService.isIdentified()) {
            favoriteService.initializeFromRemoteProfile();
            prefillingService.initializeFromIdentity(identityService.identity());
            var n = identityService.firstName();
            app.login.onLogin(n);
            app.login.updateHeader(n)
        } else identityService.isIdentified() ? (authenticationService.signOutThisDevice(), prefillingService.initializeFromAnonymous()) : window.location.hash.indexOf("#verifyaccount") == -1 && window.location.hash.indexOf("#resetpassword") == -1 && window.location.hash.indexOf("#forgotpassword") == -1 && authenticationService.signInIfToken();
        identityService.isAnonymous() ? ($("#headerLoginSpinner").addClass("hidden"), $("#login").removeClass("hidden")) : ($("#headerLoginSpinner").addClass("hidden"), $("#profile").removeClass("hidden"))
    }, 100);
    prefillingService.prefillAllForms();
    prefillingService.trackAllForms(),
        function() {
            if (identityService.isIdentified()) {
                var n = document.referrer.indexOf(BOOKINGENGINE) >= 0;
                tripService.getTripsCountCache(n)
            }
        }()
});
$(window).bind("pageshow", function(n) {
    n.originalEvent.persisted && window.location.reload()
});
$(document).ready(function() {
    app.tracking.desktop.global();
    app.tracking.desktop.login()
});
app = app || {};
app.foundUs = function() {
    var u = [],
        o = [],
        c = function(n, t, i, r, u, f) {
            var e = new Date,
                o;
            e.setTime(e.getTime());
            i && (i = i * 864e5);
            o = new Date(e.getTime() + i);
            n == "lritrack" && $.removeCookie(n, {
                path: "/"
            });
            document.cookie = n + "=" + escape(t) + (i ? ";expires=" + o.toGMTString() : "") + (r ? ";path=" + r : "") + (u ? ";domain=" + u : "") + (f ? ";secure" : "")
        },
        i = function(n, t) {
            var r, i, f, e, s;
            for (n.replace("#", "&"), r = n.split("&"), i = 0; i < r.length; i++) f = r[i].indexOf("="), f > 0 && (e = r[i].substring(0, f), s = r[i].substring(f + 1), t == "referal" ? o[e.toLowerCase()] = s : u[e.toLowerCase()] = s)
        },
        t = function(n, t) {
            var i = new RegExp(n, "i");
            return i.test(t)
        },
        f = function(n, t, i) {
            var r = new RegExp(n, "i");
            return t.replace(r, i)
        },
        p = function(n) {
            return n.match(/:\/\/(.[^/]+)/)[1]
        },
        l = function(n) {
            var t = n.replace("http://", "").replace("https://", "").split("/"),
                i = t[0];
            return t[0].indexOf(":") != -1 && (i = t[0].split(":")[0]), i
        },
        h = function(n, i) {
            var r = "." + i + ".";
            return t(r, n)
        },
        r = function(n) {
            var i = n,
                t = "";
            return n.indexOf("?") != -1 ? t = n.substring(0, n.indexOf("?") + 1) : n.indexOf("#") != -1 && (t = n.substring(0, n.indexOf("#") + 1)), t != "" && (i = n.replace(t, "")), i
        },
        n = function() {
            return o.q != undefined ? o.q : ""
        },
        a = function() {
            return o.p != undefined ? o.p : ""
        },
        e = function(n) {
            return n == null || n == undefined ? "" : n
        },
        s = function() {
            var o = e(u.src),
                v = e(u.utm_source),
                b = e(u.utm_medium),
                y = e(u.utm_campaign),
                k = e(u.utm_content),
                w = e(u.ggkey),
                i = "",
                r = "",
                p = l(document.referrer),
                s;
            t("^(paid|dbmk|prtn|socm|disp|prnt|mnul)", o.toLowerCase()) ? (i = o, r = n()) : t("^LRI_NewsLetter_", o) ? (s = f("^LRI_NewsLetter_", o, ""), i = "DBMK_NEWS_" + s, r = "") : t("^LRI_", o) ? (s = f("^LRI_", o, ""), i = "DBMK_CMPG_" + s, r = "") : b.toLowerCase() == "cpc" ? v.toLowerCase() == "na" || v.toLowerCase() == "google_na" ? (i = "paid_ggna_" + y, r = n()) : v.toLowerCase() == "google_uk" ? (i = "paid_gguk_" + y, r = n()) : v.toLowerCase() == "google_inter" || v.toLowerCase() == "inter" ? (i = "paid_gint_" + y, r = n()) : v.toLowerCase() == "google" || v.toLowerCase() == "google_" ? (i = "paid_gg00_" + y, r = n()) : v.toLowerCase() == "msn" || v.toLowerCase() == "msn_" || v.toLowerCase() == "yahoo" ? (i = "paid_msnt_" + y, r = n()) : (i = "paid_0000_" + y, r = n()) : t("^(google_uk|ppc_uk)_", o) ? (s = f("^(google_uk|ppc_uk)_", o, ""), i = "paid_gguk_" + s, r = n()) : t("^ppc_na_", o) ? (s = f("^ppc_na_", o, ""), i = "paid_ggna_" + s, r = n()) : t("^ppc_in_", o) ? (s = f("^ppc_in_", o, ""), i = "paid_gint_" + s, r = n()) : t("^(ppc_google_|google_ppc_|Google-Adwords-)", o) ? (s = f("^(ppc_google_|google_ppc_|Google-Adwords-)", o, ""), i = "paid_gg00_" + s, r = n()) : t("^ppc_msn_", o) || o.toLowerCase() == "msn" ? (s = f("^ppc_msn_", o, ""), s == "msn" && (s = ""), i = "paid_msnt_" + s, r = n()) : t(".*ppc", o) ? (i = "paid_0000_", r = n()) : w != "" ? (i = "paid_gg00_" + w, r = n()) : k.toLowerCase() == "villanames" ? (i = "paid_gg00_villanames", r = n()) : h(p, "google") ? (i = "srch_goog_", r = n()) : h(p, "yahoo") ? (i = "srch_yaho_", r = a()) : h(p, "bing") ? (i = "srch_bing_", r = n()) : t("^strg_", o) ? (i = o, r = "") : t("AFFL_LINK", o) && (i = o, r = "");
            i != "" ? c("lritrack", i + "|" + r, "365", "/", ".luxuryretreats.com", "") : document.cookie.indexOf("lritrack") < 0 && c("lritrack", "(LRI)", "365", "/", ".luxuryretreats.com", "")
        },
        v = function() {
            var e = document.location.hostname,
                t = window.location.search.substring(1),
                n = document.referrer,
                o = document.location.pathname,
                u = document.location.href,
                f = u.slice(u.length - 4, u.length);
            f == "v=vp" ? (i(r(t), "query"), i(r(n), "referal"), s()) : f == "v=vq" ? (i(r(t), "query"), i(r(n), "referal"), s()) : e != l(n) ? (i(r(t), "query"), i(r(n), "referal"), s()) : o.indexOf("mobileenquiry") > -1 && n.indexOf("request-form-on-homepage-opens") > -1 && (i(r(t), "query"), i(r(n), "referal"), s())
        },
        y = function() {
            var n = $.cookie("lritrack"),
                t = {
                    HowYouFoundUs: "",
                    FoundUsKeywords: ""
                },
                i;
            return n && n.indexOf("|") >= 0 ? (i = n.split("|"), t.HowYouFoundUs = i[0], t.FoundUsKeywords = i[1]) : t.HowYouFoundUs = n, t
        };
    return v(), {
        get: y
    }
}();
var app = app || {},
    websiteVersion = websiteVersion || "",
    getParameterByName = function(n) {
        n = n.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
        var i = new RegExp("[\\?&]" + n + "=([^&#]*)"),
            t = i.exec(location.search);
        return t === null ? "" : decodeURIComponent(t[1].replace(/\+/g, " "))
    },
    queryParamEmail = getParameterByName("cluid");
app.dataLayer = function() {
    var n = function(n, t, i, r) {
            r = r || {};
            dataLayer.push($.extend({
                event: "UAevent",
                eventCategory: n,
                eventAction: t,
                eventLabel: i
            }, r))
        },
        t = function(n) {
            dataLayer.push({
                userID: n
            })
        },
        i = function(n, t) {
            dataLayer.push({
                event: "sendVirtualPageView",
                virtualTitle: n,
                virtualPath: t
            })
        },
        r = function(n, t) {
            dataLayer.push({
                event: "LRIVisitor",
                etEmail: t,
                first_name: n
            })
        },
        u = function(n) {
            dataLayer.push({
                event: "LRIEmail",
                etEmail: n
            })
        },
        f = function(n) {
            dataLayer.push({
                event: "websiteVersion",
                siteVersion: n
            })
        },
        e = function(n) {
            var i = new Date,
                f = sessionID + "_" + i.getFullYear() + "-" + (i.getMonth() + 1) + "-" + i.getDate() + "T" + i.getHours() + ":" + i.getMinutes() + ":" + i.getSeconds() + "." + i.getMilliseconds(),
                r = {
                    event: "trackInquiry",
                    transactionId: f
                },
                u = n ? n.length : 0,
                t;
            if (u > 0)
                for (t = 0; t < u || t < 5; t++) r["productId" + (t + 1)] = "" + n[t] + "", r["productPrice" + (t + 1)] = 0, r["productQty" + (t + 1)] = 1;
            else r.productId1 = 0, r.productPrice1 = 0, r.productQty1 = 1;
            dataLayer.push(r)
        },
        o = function(n) {
            var r = new Date,
                s = sessionID + "_" + r.getFullYear() + "-" + (r.getMonth() + 1) + "-" + r.getDate() + "T" + r.getHours() + ":" + r.getMinutes() + ":" + r.getSeconds() + "." + r.getMilliseconds(),
                t = {
                    event: "trackConfInquiry",
                    transactionId: s
                },
                u = n ? n.length : 0,
                i;
            if (u > 0) {
                for (i = 0; i < u && i < 5; i++) t["productId" + (i + 1)] = "" + n[i] + "", t["productPrice" + (i + 1)] = 0, t["productQty" + (i + 1)] = 1;
                var f = $("#villaRegion2"),
                    e = $("#villaRegion3"),
                    o = $("#villaRegion4");
                f && (t.region2 = f.val());
                e && (t.region3 = e.val());
                o && (t.region4 = o.val())
            } else t.productId1 = 0, t.productPrice1 = 0, t.productQty1 = 1;
            dataLayer.push(t)
        },
        s = function(n) {
            var i = {
                    event: "trackVillaListing"
                },
                r = n ? n.length : 0,
                t;
            if (r > 0)
                for (t = 0; t < r && t < 3; t++) i["productId" + (t + 1)] = n[t].PropertyId;
            dataLayer.push(i)
        };
    return {
        event: n,
        virtualPage: i,
        email: r,
        queryEmail: u,
        websiteVersion: f,
        criteoInquiry: e,
        criteoSuccessInquiry: o,
        criteoVillaListing: s,
        trackCrmClientId: t
    }
}();
queryParamEmail && app.dataLayer.queryEmail(queryParamEmail);
typeof JSON != "object" && (JSON = {}),
    function() {
        "use strict";

        function i(n) {
            return n < 10 ? "0" + n : n
        }

        function f(n) {
            return o.lastIndex = 0, o.test(n) ? '"' + n.replace(o, function(n) {
                var t = s[n];
                return typeof t == "string" ? t : "\\u" + ("0000" + n.charCodeAt(0).toString(16)).slice(-4)
            }) + '"' : '"' + n + '"'
        }

        function r(i, e) {
            var s, l, h, a, v = n,
                c, o = e[i];
            o && typeof o == "object" && typeof o.toJSON == "function" && (o = o.toJSON(i));
            typeof t == "function" && (o = t.call(e, i, o));
            switch (typeof o) {
                case "string":
                    return f(o);
                case "number":
                    return isFinite(o) ? String(o) : "null";
                case "boolean":
                case "null":
                    return String(o);
                case "object":
                    if (!o) return "null";
                    if (n += u, c = [], Object.prototype.toString.apply(o) === "[object Array]") {
                        for (a = o.length, s = 0; s < a; s += 1) c[s] = r(s, o) || "null";
                        return h = c.length === 0 ? "[]" : n ? "[\n" + n + c.join(",\n" + n) + "\n" + v + "]" : "[" + c.join(",") + "]", n = v, h
                    }
                    if (t && typeof t == "object")
                        for (a = t.length, s = 0; s < a; s += 1) typeof t[s] == "string" && (l = t[s], h = r(l, o), h && c.push(f(l) + (n ? ": " : ":") + h));
                    else
                        for (l in o) Object.prototype.hasOwnProperty.call(o, l) && (h = r(l, o), h && c.push(f(l) + (n ? ": " : ":") + h));
                    return h = c.length === 0 ? "{}" : n ? "{\n" + n + c.join(",\n" + n) + "\n" + v + "}" : "{" + c.join(",") + "}", n = v, h
            }
        }
        typeof Date.prototype.toJSON != "function" && (Date.prototype.toJSON = function() {
            return isFinite(this.valueOf()) ? this.getUTCFullYear() + "-" + i(this.getUTCMonth() + 1) + "-" + i(this.getUTCDate()) + "T" + i(this.getUTCHours()) + ":" + i(this.getUTCMinutes()) + ":" + i(this.getUTCSeconds()) + "Z" : null
        }, String.prototype.toJSON = Number.prototype.toJSON = Boolean.prototype.toJSON = function() {
            return this.valueOf()
        });
        var e = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
            o = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
            n, u, s = {
                "\b": "\\b",
                "\t": "\\t",
                "\n": "\\n",
                "\f": "\\f",
                "\r": "\\r",
                '"': '\\"',
                "\\": "\\\\"
            },
            t;
        typeof JSON.stringify != "function" && (JSON.stringify = function(i, f, e) {
            var o;
            if (n = "", u = "", typeof e == "number")
                for (o = 0; o < e; o += 1) u += " ";
            else typeof e == "string" && (u = e);
            if (t = f, !f || typeof f == "function" || typeof f == "object" && typeof f.length == "number") return r("", {
                "": i
            });
            throw new Error("JSON.stringify");
        });
        typeof JSON.parse != "function" && (JSON.parse = function(text, reviver) {
            function walk(n, t) {
                var r, u, i = n[t];
                if (i && typeof i == "object")
                    for (r in i) Object.prototype.hasOwnProperty.call(i, r) && (u = walk(i, r), u !== undefined ? i[r] = u : delete i[r]);
                return reviver.call(n, t, i)
            }
            var j;
            if (text = String(text), e.lastIndex = 0, e.test(text) && (text = text.replace(e, function(n) {
                    return "\\u" + ("0000" + n.charCodeAt(0).toString(16)).slice(-4)
                })), /^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, "@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, ""))) return j = eval("(" + text + ")"), typeof reviver == "function" ? walk({
                "": j
            }, "") : j;
            throw new SyntaxError("JSON.parse");
        })
    }(),
    function(n, t) {
        "use strict";
        var i = n.History = n.History || {},
            r = n.jQuery;
        if (typeof i.Adapter != "undefined") throw new Error("History.js Adapter has already been loaded...");
        i.Adapter = {
            bind: function(n, t, i) {
                r(n).bind(t, i)
            },
            trigger: function(n, t, i) {
                r(n).trigger(t, i)
            },
            extractEventData: function(n, i, r) {
                return i && i.originalEvent && i.originalEvent[n] || r && r[n] || t
            },
            onDomLoad: function(n) {
                r(n)
            }
        };
        typeof i.init != "undefined" && i.init()
    }(window),
    function(n) {
        "use strict";
        var i = n.document,
            u = n.setTimeout || u,
            f = n.clearTimeout || f,
            r = n.setInterval || r,
            t = n.History = n.History || {};
        if (typeof t.initHtml4 != "undefined") throw new Error("History.js HTML4 Support has already been loaded...");
        t.initHtml4 = function() {
            if (typeof t.initHtml4.initialized != "undefined") return !1;
            t.initHtml4.initialized = !0;
            t.enabled = !0;
            t.savedHashes = [];
            t.isLastHash = function(n) {
                var r = t.getHashByIndex(),
                    i;
                return i = n === r, i
            };
            t.isHashEqual = function(n, t) {
                return n = encodeURIComponent(n).replace(/%25/g, "%"), t = encodeURIComponent(t).replace(/%25/g, "%"), n === t
            };
            t.saveHash = function(n) {
                return t.isLastHash(n) ? !1 : (t.savedHashes.push(n), !0)
            };
            t.getHashByIndex = function(n) {
                var i = null;
                return i = typeof n == "undefined" ? t.savedHashes[t.savedHashes.length - 1] : n < 0 ? t.savedHashes[t.savedHashes.length + n] : t.savedHashes[n], i
            };
            t.discardedHashes = {};
            t.discardedStates = {};
            t.discardState = function(n, i, r) {
                var f = t.getHashByState(n),
                    u;
                return u = {
                    discardedState: n,
                    backState: r,
                    forwardState: i
                }, t.discardedStates[f] = u, !0
            };
            t.discardHash = function(n, i, r) {
                var u = {
                    discardedHash: n,
                    backState: r,
                    forwardState: i
                };
                return t.discardedHashes[n] = u, !0
            };
            t.discardedState = function(n) {
                var r = t.getHashByState(n),
                    i;
                return i = t.discardedStates[r] || !1, i
            };
            t.discardedHash = function(n) {
                return t.discardedHashes[n] || !1
            };
            t.recycleState = function(n) {
                var i = t.getHashByState(n);
                return t.discardedState(n) && delete t.discardedStates[i], !0
            };
            t.emulated.hashChange && (t.hashChangeInit = function() {
                t.checkerFunction = null;
                var f = "",
                    s, u, e, o, h = Boolean(t.getHash());
                return t.isInternetExplorer() ? (s = "historyjs-iframe", u = i.createElement("iframe"), u.setAttribute("id", s), u.setAttribute("src", "#"), u.style.display = "none", i.body.appendChild(u), u.contentWindow.document.open(), u.contentWindow.document.close(), e = "", o = !1, t.checkerFunction = function() {
                    if (o) return !1;
                    o = !0;
                    var r = t.getHash(),
                        i = t.getHash(u.contentWindow.document);
                    return r !== f ? (f = r, i !== r && (e = i = r, u.contentWindow.document.open(), u.contentWindow.document.close(), u.contentWindow.document.location.hash = t.escapeHash(r)), t.Adapter.trigger(n, "hashchange")) : i !== e && (e = i, h && i === "" ? t.back() : t.setHash(i, !1)), o = !1, !0
                }) : t.checkerFunction = function() {
                    var i = t.getHash() || "";
                    return i !== f && (f = i, t.Adapter.trigger(n, "hashchange")), !0
                }, t.intervalList.push(r(t.checkerFunction, t.options.hashChangeInterval)), !0
            }, t.Adapter.onDomLoad(t.hashChangeInit));
            t.emulated.pushState && (t.onHashChange = function(i) {
                var e = i && i.newURL || t.getLocationHref(),
                    u = t.getHashByUrl(e),
                    r = null,
                    o = null,
                    f;
                return t.isLastHash(u) ? (t.busy(!1), !1) : (t.doubleCheckComplete(), t.saveHash(u), u && t.isTraditionalAnchor(u) ? (t.Adapter.trigger(n, "anchorchange"), t.busy(!1), !1) : (r = t.extractState(t.getFullUrl(u || t.getLocationHref()), !0), t.isLastSavedState(r) ? (t.busy(!1), !1) : (o = t.getHashByState(r), f = t.discardedState(r), f ? (t.getHashByIndex(-2) === t.getHashByState(f.forwardState) ? t.back(!1) : t.forward(!1), !1) : (t.pushState(r.data, r.title, encodeURI(r.url), !1), !0))))
            }, t.Adapter.bind(n, "hashchange", t.onHashChange), t.pushState = function(i, r, u, f) {
                if (u = encodeURI(u).replace(/%25/g, "%"), t.getHashByUrl(u)) throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");
                if (f !== !1 && t.busy()) return t.pushQueue({
                    scope: t,
                    callback: t.pushState,
                    args: arguments,
                    queue: f
                }), !1;
                t.busy(!0);
                var e = t.createStateObject(i, r, u),
                    o = t.getHashByState(e),
                    s = t.getState(!1),
                    h = t.getHashByState(s),
                    c = t.getHash(),
                    l = t.expectedStateId == e.id;
                return t.storeState(e), t.expectedStateId = e.id, t.recycleState(e), t.setTitle(e), o === h ? (t.busy(!1), !1) : (t.saveState(e), l || t.Adapter.trigger(n, "statechange"), !t.isHashEqual(o, c) && !t.isHashEqual(o, t.getShortUrl(t.getLocationHref())) && t.setHash(o, !1), t.busy(!1), !0)
            }, t.replaceState = function(i, r, u, f) {
                if (u = encodeURI(u).replace(/%25/g, "%"), t.getHashByUrl(u)) throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");
                if (f !== !1 && t.busy()) return t.pushQueue({
                    scope: t,
                    callback: t.replaceState,
                    args: arguments,
                    queue: f
                }), !1;
                t.busy(!0);
                var e = t.createStateObject(i, r, u),
                    s = t.getHashByState(e),
                    o = t.getState(!1),
                    h = t.getHashByState(o),
                    c = t.getStateByIndex(-2);
                return t.discardState(o, e, c), s === h ? (t.storeState(e), t.expectedStateId = e.id, t.recycleState(e), t.setTitle(e), t.saveState(e), t.Adapter.trigger(n, "statechange"), t.busy(!1)) : t.pushState(e.data, e.title, e.url, !1), !0
            });
            t.emulated.pushState && t.getHash() && !t.emulated.hashChange && t.Adapter.onDomLoad(function() {
                t.Adapter.trigger(n, "hashchange")
            })
        };
        typeof t.init != "undefined" && t.init()
    }(window),
    function(n, t) {
        "use strict";
        var e = n.console || t,
            r = n.document,
            o = n.navigator,
            f = !1,
            h = n.setTimeout,
            c = n.clearTimeout,
            l = n.setInterval,
            a = n.clearInterval,
            u = n.JSON,
            v = n.alert,
            i = n.History = n.History || {},
            s = n.history;
        try {
            f = n.sessionStorage;
            f.setItem("TEST", "1");
            f.removeItem("TEST")
        } catch (y) {
            f = !1
        }
        if (u.stringify = u.stringify || u.encode, u.parse = u.parse || u.decode, typeof i.init != "undefined") throw new Error("History.js Core has already been loaded...");
        i.init = function() {
            return typeof i.Adapter == "undefined" ? !1 : (typeof i.initCore != "undefined" && i.initCore(), typeof i.initHtml4 != "undefined" && i.initHtml4(), !0)
        };
        i.initCore = function() {
            if (typeof i.initCore.initialized != "undefined") return !1;
            if (i.initCore.initialized = !0, i.options = i.options || {}, i.options.hashChangeInterval = i.options.hashChangeInterval || 100, i.options.safariPollInterval = i.options.safariPollInterval || 500, i.options.doubleCheckInterval = i.options.doubleCheckInterval || 500, i.options.disableSuid = i.options.disableSuid || !1, i.options.storeInterval = i.options.storeInterval || 1e3, i.options.busyDelay = i.options.busyDelay || 250, i.options.debug = i.options.debug || !1, i.options.initialTitle = i.options.initialTitle || r.title, i.options.html4Mode = i.options.html4Mode || !1, i.options.delayInit = i.options.delayInit || !1, i.intervalList = [], i.clearAllIntervals = function() {
                    var n, t = i.intervalList;
                    if (typeof t != "undefined" && t !== null) {
                        for (n = 0; n < t.length; n++) a(t[n]);
                        i.intervalList = null
                    }
                }, i.debug = function() {
                    (i.options.debug || !1) && i.log.apply(i, arguments)
                }, i.log = function() {
                    var s = typeof e != "undefined" && typeof e.log != "undefined" && typeof e.log.apply != "undefined",
                        t = r.getElementById("log"),
                        n, f, h, o, i;
                    for (s ? (o = Array.prototype.slice.call(arguments), n = o.shift(), typeof e.debug != "undefined" ? e.debug.apply(e, [n, o]) : e.log.apply(e, [n, o])) : n = "\n" + arguments[0] + "\n", f = 1, h = arguments.length; f < h; ++f) {
                        if (i = arguments[f], typeof i == "object" && typeof u != "undefined") try {
                            i = u.stringify(i)
                        } catch (c) {}
                        n += "\n" + i + "\n"
                    }
                    return t ? (t.value += n + "\n-----\n", t.scrollTop = t.scrollHeight - t.clientHeight) : s || v(n), !0
                }, i.getInternetExplorerMajorVersion = function() {
                    return i.getInternetExplorerMajorVersion.cached = typeof i.getInternetExplorerMajorVersion.cached != "undefined" ? i.getInternetExplorerMajorVersion.cached : function() {
                        for (var n = 3, t = r.createElement("div"), i = t.getElementsByTagName("i");
                            (t.innerHTML = "<!--[if gt IE " + ++n + "]><i><\/i><![endif]-->") && i[0];);
                        return n > 4 ? n : !1
                    }()
                }, i.isInternetExplorer = function() {
                    return i.isInternetExplorer.cached = typeof i.isInternetExplorer.cached != "undefined" ? i.isInternetExplorer.cached : Boolean(i.getInternetExplorerMajorVersion())
                }, i.emulated = i.options.html4Mode ? {
                    pushState: !0,
                    hashChange: !0
                } : {
                    pushState: !Boolean(n.history && n.history.pushState && n.history.replaceState && !/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(o.userAgent) && !/AppleWebKit\/5([0-2]|3[0-2])/i.test(o.userAgent)),
                    hashChange: Boolean(!("onhashchange" in n || "onhashchange" in r) || i.isInternetExplorer() && i.getInternetExplorerMajorVersion() < 8)
                }, i.enabled = !i.emulated.pushState, i.bugs = {
                    setHash: Boolean(!i.emulated.pushState && o.vendor === "Apple Computer, Inc." && /AppleWebKit\/5([0-2]|3[0-3])/.test(o.userAgent)),
                    safariPoll: Boolean(!i.emulated.pushState && o.vendor === "Apple Computer, Inc." && /AppleWebKit\/5([0-2]|3[0-3])/.test(o.userAgent)),
                    ieDoubleCheck: Boolean(i.isInternetExplorer() && i.getInternetExplorerMajorVersion() < 8),
                    hashEscape: Boolean(i.isInternetExplorer() && i.getInternetExplorerMajorVersion() < 7)
                }, i.isEmptyObject = function(n) {
                    for (var t in n)
                        if (n.hasOwnProperty(t)) return !1;
                    return !0
                }, i.cloneObject = function(n) {
                    var i, t;
                    return n ? (i = u.stringify(n), t = u.parse(i)) : t = {}, t
                }, i.getRootUrl = function() {
                    var n = r.location.protocol + "//" + (r.location.hostname || r.location.host);
                    return (r.location.port || !1) && (n += ":" + r.location.port), n += "/", n
                }, i.getBaseHref = function() {
                    var t = r.getElementsByTagName("base"),
                        i = null,
                        n = "";
                    return t.length === 1 && (i = t[0], n = i.href.replace(/[^\/]+$/, "")), n = n.replace(/\/+$/, ""), n && (n += "/"), n
                }, i.getBaseUrl = function() {
                    return i.getBaseHref() || i.getBasePageUrl() || i.getRootUrl()
                }, i.getPageUrl = function() {
                    var t = i.getState(!1, !1),
                        r = (t || {}).url || i.getLocationHref(),
                        n;
                    return n = r.replace(/\/+$/, "").replace(/[^\/]+$/, function(n) {
                        return /\./.test(n) ? n : n + "/"
                    }), n
                }, i.getBasePageUrl = function() {
                    return i.getLocationHref().replace(/[#\?].*/, "").replace(/[^\/]+$/, function(n) {
                        return /[^\/]$/.test(n) ? "" : n
                    }).replace(/\/+$/, "") + "/"
                }, i.getFullUrl = function(n, t) {
                    var u = n,
                        r = n.substring(0, 1);
                    return t = typeof t == "undefined" ? !0 : t, /[a-z]+\:\/\//.test(n) || (u = r === "/" ? i.getRootUrl() + n.replace(/^\/+/, "") : r === "#" ? i.getPageUrl().replace(/#.*/, "") + n : r === "?" ? i.getPageUrl().replace(/[\?#].*/, "") + n : t ? i.getBaseUrl() + n.replace(/^(\.\/)+/, "") : i.getBasePageUrl() + n.replace(/^(\.\/)+/, "")), u.replace(/\#$/, "")
                }, i.getShortUrl = function(n) {
                    var t = n,
                        r = i.getBaseUrl(),
                        u = i.getRootUrl();
                    return i.emulated.pushState && (t = t.replace(r, "")), t = t.replace(u, "/"), i.isTraditionalAnchor(t) && (t = "./" + t), t = t.replace(/^(\.\/)+/g, "./").replace(/\#$/, ""), t
                }, i.getLocationHref = function(n) {
                    return n = n || r, n.URL === n.location.href ? n.location.href : n.location.href === decodeURIComponent(n.URL) ? n.URL : n.location.hash && decodeURIComponent(n.location.href.replace(/^[^#]+/, "")) === n.location.hash ? n.location.href : n.URL.indexOf("#") == -1 && n.location.href.indexOf("#") != -1 ? n.location.href : n.URL || n.location.href
                }, i.store = {}, i.idToState = i.idToState || {}, i.stateToId = i.stateToId || {}, i.urlToId = i.urlToId || {}, i.storedStates = i.storedStates || [], i.savedStates = i.savedStates || [], i.normalizeStore = function() {
                    i.store.idToState = i.store.idToState || {};
                    i.store.urlToId = i.store.urlToId || {};
                    i.store.stateToId = i.store.stateToId || {}
                }, i.getState = function(n, t) {
                    typeof n == "undefined" && (n = !0);
                    typeof t == "undefined" && (t = !0);
                    var r = i.getLastSavedState();
                    return !r && t && (r = i.createStateObject()), n && (r = i.cloneObject(r), r.url = r.cleanUrl || r.url), r
                }, i.getIdByState = function(n) {
                    var t = i.extractId(n.url),
                        r;
                    if (!t)
                        if (r = i.getStateString(n), typeof i.stateToId[r] != "undefined") t = i.stateToId[r];
                        else if (typeof i.store.stateToId[r] != "undefined") t = i.store.stateToId[r];
                    else {
                        for (;;)
                            if (t = (new Date).getTime() + String(Math.random()).replace(/\D/g, ""), typeof i.idToState[t] == "undefined" && typeof i.store.idToState[t] == "undefined") break;
                        i.stateToId[r] = t;
                        i.idToState[t] = n
                    }
                    return t
                }, i.normalizeState = function(n) {
                    var t, r;
                    return (n && typeof n == "object" || (n = {}), typeof n.normalized != "undefined") ? n : (n.data && typeof n.data == "object" || (n.data = {}), t = {}, t.normalized = !0, t.title = n.title || "", t.url = i.getFullUrl(n.url ? n.url : i.getLocationHref()), t.hash = i.getShortUrl(t.url), t.data = i.cloneObject(n.data), t.id = i.getIdByState(t), t.cleanUrl = t.url.replace(/\??\&_suid.*/, ""), t.url = t.cleanUrl, r = !i.isEmptyObject(t.data), (t.title || r) && i.options.disableSuid !== !0 && (t.hash = i.getShortUrl(t.url).replace(/\??\&_suid.*/, ""), /\?/.test(t.hash) || (t.hash += "?"), t.hash += "&_suid=" + t.id), t.hashedUrl = i.getFullUrl(t.hash), (i.emulated.pushState || i.bugs.safariPoll) && i.hasUrlDuplicate(t) && (t.url = t.hashedUrl), t)
                }, i.createStateObject = function(n, t, r) {
                    var u = {
                        data: n,
                        title: t,
                        url: r
                    };
                    return u = i.normalizeState(u), u
                }, i.getStateById = function(n) {
                    return n = String(n), i.idToState[n] || i.store.idToState[n] || t
                }, i.getStateString = function(n) {
                    var t, r, f;
                    return t = i.normalizeState(n), r = {
                        data: t.data,
                        title: n.title,
                        url: n.url
                    }, f = u.stringify(r), f
                }, i.getStateId = function(n) {
                    var t, r;
                    return t = i.normalizeState(n), r = t.id, r
                }, i.getHashByState = function(n) {
                    var t, r;
                    return t = i.normalizeState(n), r = t.hash, r
                }, i.extractId = function(n) {
                    var i, t, u, r;
                    return r = n.indexOf("#") != -1 ? n.split("#")[0] : n, t = /(.*)\&_suid=([0-9]+)$/.exec(r), u = t ? t[1] || n : n, i = t ? String(t[2] || "") : "", i || !1
                }, i.isTraditionalAnchor = function(n) {
                    return !/[\/\?\.]/.test(n)
                }, i.extractState = function(n, t) {
                    var r = null,
                        u, f;
                    return t = t || !1, u = i.extractId(n), u && (r = i.getStateById(u)), r || (f = i.getFullUrl(n), u = i.getIdByUrl(f) || !1, u && (r = i.getStateById(u)), !r && t && !i.isTraditionalAnchor(n) && (r = i.createStateObject(null, null, f))), r
                }, i.getIdByUrl = function(n) {
                    return i.urlToId[n] || i.store.urlToId[n] || t
                }, i.getLastSavedState = function() {
                    return i.savedStates[i.savedStates.length - 1] || t
                }, i.getLastStoredState = function() {
                    return i.storedStates[i.storedStates.length - 1] || t
                }, i.hasUrlDuplicate = function(n) {
                    var r = !1,
                        t;
                    return t = i.extractState(n.url), r = t && t.id !== n.id, r
                }, i.storeState = function(n) {
                    return i.urlToId[n.url] = n.id, i.storedStates.push(i.cloneObject(n)), n
                }, i.isLastSavedState = function(n) {
                    var t = !1,
                        r, u, f;
                    return i.savedStates.length && (r = n.id, u = i.getLastSavedState(), f = u.id, t = r === f), t
                }, i.saveState = function(n) {
                    return i.isLastSavedState(n) ? !1 : (i.savedStates.push(i.cloneObject(n)), !0)
                }, i.getStateByIndex = function(n) {
                    var t = null;
                    return t = typeof n == "undefined" ? i.savedStates[i.savedStates.length - 1] : n < 0 ? i.savedStates[i.savedStates.length + n] : i.savedStates[n], t
                }, i.getCurrentIndex = function() {
                    var n = null;
                    return n = i.savedStates.length < 1 ? 0 : i.savedStates.length - 1, n
                }, i.getHash = function(n) {
                    var r = i.getLocationHref(n),
                        t;
                    return t = i.getHashByUrl(r), t
                }, i.unescapeHash = function(n) {
                    var t = i.normalizeHash(n);
                    return t = decodeURIComponent(t), t
                }, i.normalizeHash = function(n) {
                    return n.replace(/[^#]*#/, "").replace(/#.*/, "")
                }, i.setHash = function(n, t) {
                    var u, f;
                    return t !== !1 && i.busy() ? (i.pushQueue({
                        scope: i,
                        callback: i.setHash,
                        args: arguments,
                        queue: t
                    }), !1) : (i.busy(!0), u = i.extractState(n, !0), u && !i.emulated.pushState ? i.pushState(u.data, u.title, u.url, !1) : i.getHash() !== n && (i.bugs.setHash ? (f = i.getPageUrl(), i.pushState(null, null, f + "#" + n, !1)) : r.location.hash = n), i)
                }, i.escapeHash = function(t) {
                    var r = i.normalizeHash(t);
                    return r = n.encodeURIComponent(r), i.bugs.hashEscape || (r = r.replace(/\%21/g, "!").replace(/\%26/g, "&").replace(/\%3D/g, "=").replace(/\%3F/g, "?")), r
                }, i.getHashByUrl = function(n) {
                    var t = String(n).replace(/([^#]*)#?([^#]*)#?(.*)/, "$2");
                    return t = i.unescapeHash(t), t
                }, i.setTitle = function(n) {
                    var t = n.title,
                        u;
                    t || (u = i.getStateByIndex(0), u && u.url === n.url && (t = u.title || i.options.initialTitle));
                    try {
                        r.getElementsByTagName("title")[0].innerHTML = t.replace("<", "&lt;").replace(">", "&gt;").replace(" & ", " &amp; ")
                    } catch (f) {}
                    return r.title = t, i
                }, i.queues = [], i.busy = function(n) {
                    if (typeof n != "undefined" ? i.busy.flag = n : typeof i.busy.flag == "undefined" && (i.busy.flag = !1), !i.busy.flag) {
                        c(i.busy.timeout);
                        var t = function() {
                            var n, r, u;
                            if (!i.busy.flag)
                                for (n = i.queues.length - 1; n >= 0; --n)(r = i.queues[n], r.length !== 0) && (u = r.shift(), i.fireQueueItem(u), i.busy.timeout = h(t, i.options.busyDelay))
                        };
                        i.busy.timeout = h(t, i.options.busyDelay)
                    }
                    return i.busy.flag
                }, i.busy.flag = !1, i.fireQueueItem = function(n) {
                    return n.callback.apply(n.scope || i, n.args || [])
                }, i.pushQueue = function(n) {
                    return i.queues[n.queue || 0] = i.queues[n.queue || 0] || [], i.queues[n.queue || 0].push(n), i
                }, i.queue = function(n, t) {
                    return typeof n == "function" && (n = {
                        callback: n
                    }), typeof t != "undefined" && (n.queue = t), i.busy() ? i.pushQueue(n) : i.fireQueueItem(n), i
                }, i.clearQueue = function() {
                    return i.busy.flag = !1, i.queues = [], i
                }, i.stateChanged = !1, i.doubleChecker = !1, i.doubleCheckComplete = function() {
                    return i.stateChanged = !0, i.doubleCheckClear(), i
                }, i.doubleCheckClear = function() {
                    return i.doubleChecker && (c(i.doubleChecker), i.doubleChecker = !1), i
                }, i.doubleCheck = function(n) {
                    return i.stateChanged = !1, i.doubleCheckClear(), i.bugs.ieDoubleCheck && (i.doubleChecker = h(function() {
                        return i.doubleCheckClear(), i.stateChanged || n(), !0
                    }, i.options.doubleCheckInterval)), i
                }, i.safariStatePoll = function() {
                    var r = i.extractState(i.getLocationHref()),
                        t;
                    if (!i.isLastSavedState(r)) return t = r, t || (t = i.createStateObject()), i.Adapter.trigger(n, "popstate"), i
                }, i.back = function(n) {
                    return n !== !1 && i.busy() ? (i.pushQueue({
                        scope: i,
                        callback: i.back,
                        args: arguments,
                        queue: n
                    }), !1) : (i.busy(!0), i.doubleCheck(function() {
                        i.back(!1)
                    }), s.go(-1), !0)
                }, i.forward = function(n) {
                    return n !== !1 && i.busy() ? (i.pushQueue({
                        scope: i,
                        callback: i.forward,
                        args: arguments,
                        queue: n
                    }), !1) : (i.busy(!0), i.doubleCheck(function() {
                        i.forward(!1)
                    }), s.go(1), !0)
                }, i.go = function(n, t) {
                    var r;
                    if (n > 0)
                        for (r = 1; r <= n; ++r) i.forward(t);
                    else {
                        if (!(n < 0)) throw new Error("History.go: History.go requires a positive or negative integer passed.");
                        for (r = -1; r >= n; --r) i.back(t)
                    }
                    return i
                }, i.emulated.pushState) {
                var y = function() {};
                i.pushState = i.pushState || y;
                i.replaceState = i.replaceState || y
            } else i.onPopState = function(t, r) {
                var e = !1,
                    u = !1,
                    o, f;
                return i.doubleCheckComplete(), o = i.getHash(), o ? (f = i.extractState(o || i.getLocationHref(), !0), f ? i.replaceState(f.data, f.title, f.url, !1) : (i.Adapter.trigger(n, "anchorchange"), i.busy(!1)), i.expectedStateId = !1, !1) : (e = i.Adapter.extractEventData("state", t, r) || !1, u = e ? i.getStateById(e) : i.expectedStateId ? i.getStateById(i.expectedStateId) : i.extractState(i.getLocationHref()), u || (u = i.createStateObject(null, null, i.getLocationHref())), i.expectedStateId = !1, i.isLastSavedState(u) ? (i.busy(!1), !1) : (i.storeState(u), i.saveState(u), i.setTitle(u), i.Adapter.trigger(n, "statechange"), i.busy(!1), !0))
            }, i.Adapter.bind(n, "popstate", i.onPopState), i.pushState = function(t, r, u, f) {
                if (i.getHashByUrl(u) && i.emulated.pushState) throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");
                if (f !== !1 && i.busy()) return i.pushQueue({
                    scope: i,
                    callback: i.pushState,
                    args: arguments,
                    queue: f
                }), !1;
                i.busy(!0);
                var e = i.createStateObject(t, r, u);
                return i.isLastSavedState(e) ? i.busy(!1) : (i.storeState(e), i.expectedStateId = e.id, s.pushState(e.id, e.title, e.url), i.Adapter.trigger(n, "popstate")), !0
            }, i.replaceState = function(t, r, u, f) {
                if (i.getHashByUrl(u) && i.emulated.pushState) throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");
                if (f !== !1 && i.busy()) return i.pushQueue({
                    scope: i,
                    callback: i.replaceState,
                    args: arguments,
                    queue: f
                }), !1;
                i.busy(!0);
                var e = i.createStateObject(t, r, u);
                return i.isLastSavedState(e) ? i.busy(!1) : (i.storeState(e), i.expectedStateId = e.id, s.replaceState(e.id, e.title, e.url), i.Adapter.trigger(n, "popstate")), !0
            };
            if (f) {
                try {
                    i.store = u.parse(f.getItem("History.store")) || {}
                } catch (p) {
                    i.store = {}
                }
                i.normalizeStore()
            } else i.store = {}, i.normalizeStore();
            i.Adapter.bind(n, "unload", i.clearAllIntervals);
            i.saveState(i.storeState(i.extractState(i.getLocationHref(), !0)));
            f && (i.onUnload = function() {
                var n, t, r;
                try {
                    n = u.parse(f.getItem("History.store")) || {}
                } catch (o) {
                    n = {}
                }
                n.idToState = n.idToState || {};
                n.urlToId = n.urlToId || {};
                n.stateToId = n.stateToId || {};
                for (t in i.idToState) i.idToState.hasOwnProperty(t) && (n.idToState[t] = i.idToState[t]);
                for (t in i.urlToId) i.urlToId.hasOwnProperty(t) && (n.urlToId[t] = i.urlToId[t]);
                for (t in i.stateToId) i.stateToId.hasOwnProperty(t) && (n.stateToId[t] = i.stateToId[t]);
                i.store = n;
                i.normalizeStore();
                r = u.stringify(n);
                try {
                    f.setItem("History.store", r)
                } catch (e) {
                    if (e.code !== DOMException.QUOTA_EXCEEDED_ERR) throw e;
                    f.length && (f.removeItem("History.store"), f.setItem("History.store", r))
                }
            }, i.intervalList.push(l(i.onUnload, i.options.storeInterval)), i.Adapter.bind(n, "beforeunload", i.onUnload), i.Adapter.bind(n, "unload", i.onUnload));
            i.emulated.pushState || (i.bugs.safariPoll && i.intervalList.push(l(i.safariStatePoll, i.options.safariPollInterval)), (o.vendor === "Apple Computer, Inc." || (o.appCodeName || "") === "Mozilla") && (i.Adapter.bind(n, "hashchange", function() {
                i.Adapter.trigger(n, "popstate")
            }), i.getHash() && i.Adapter.onDomLoad(function() {
                i.Adapter.trigger(n, "hashchange")
            })))
        };
        i.options && i.options.delayInit || i.init()
    }(window);
app = app || {};
app.searchNavigation = function(n) {
    var i, r, f, e = $.Deferred(),
        t = {
            RegionIds: [],
            CheckIn: null,
            CheckOut: null,
            Polygon: null,
            guests: 0,
            Currencyid: 1,
            lowerPrice: null,
            upperPrice: null,
            pricePerWhat: null,
            sortBy: null,
            HasBeach: !1,
            IsUnderPromotion: !1,
            LargeGroups: !1,
            HasSki: !1,
            CityLife: !1,
            Honeymoon: !1,
            displayMode: null,
            groupId: null
        },
        h = function(n) {
            var i, t;
            for (i in n) t = c(i.toLowerCase()), i.toLowerCase() == "regionids" && t ? (t = t.split(","), n.RegionIds = t) : i.toLocaleLowerCase() == "polygon" && t ? n[i] = JSON.parse(t) : t && (n[i] = t)
        },
        c = function(n) {
            var t, i, r, u;
            return n = n.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]"), n === "regionids" && (i = $("#regionIds"), i.length && (t = i.val() === "All" ? "" : i.val())), t === undefined ? (r = new RegExp("[\\?&]" + n + "=([^&#]*)"), u = location.search.toLowerCase(), t = r.exec(u), t === null ? "" : decodeURIComponent(t[1].replace(/\+/g, " "))) : t
        },
        l = function(n) {
            o(n, !0)
        },
        o = function(n, t) {
            var i, f, e;
            r instanceof Function && r(n);
            i = u(n);
            sessionStorage.searchURL = i;
            history.state && history.state.noRefresh && (f = history.state, e = u(f), delete f.noRefresh, history.replaceState(f, document.title, e));
            n.noRefresh = !1;
            history && history.pushState && (t ? history.replaceState(n, document.title, i) : history.pushState(n, document.title, i))
        },
        a = function(n) {
            n instanceof Function && (i = n)
        },
        u = function(n) {
            var u = "/vacation-rentals",
                i = "?",
                r = "",
                t, e;
            for (t in n) n.hasOwnProperty(t) && t != "Currencyid" && t != "noRefresh" && n[t] && (t.toLowerCase() == "polygon" ? i += r + t + "=" + encodeURIComponent(JSON.stringify(n[t]).replace(/\\/g, "")) : t.toLowerCase() == "regionids" ? (e = _.find(f, {
                RegionId: n[t][0]
            }), u = e.NormalizedPath) : i += r + t + "=" + encodeURIComponent(n[t]), r = "&");
            return u + (i == "?" ? "" : i)
        },
        v = function(n) {
            r = n
        },
        s = function(n) {
            for (var t in n) n.hasOwnProperty(t) && (n[t] === "true" || n[t] === "false") && (n[t] = n[t] === "true" ? !0 : !1)
        },
        y = function(n) {
            var r = !0,
                u = document.location.pathname + document.location.search,
                f = sessionStorage.searchURL;
            return t = $.extend(t, n), h(t), s(t), parseInt(sessionStorage.searchScrollTop) && u === f && (r = !1), window.onpopstate = function(n) {
                var t = n.state;
                s(t);
                n.state && r && i instanceof Function && i(t);
                r = !0
            }, t
        };
    return $.when(n.getRegionsList(2)).done(function(n) {
        f = n;
        e.resolve({
            init: y,
            save: o,
            replace: l,
            onPreviousUrl: a,
            onBeforeSaving: v,
            serializeToUrl: u
        })
    }), e.promise()
}(searchService);
app.searchController = function(n) {
    function c(n) {
        var o = i.querySchema,
            r, u, f, e;
        i.queryChanged = !1;
        n.CheckIn !== undefined && n.CheckOut !== undefined && (r = n.CheckIn ? n.CheckIn.YYYYMMDDtoDate() : null, u = n.CheckOut ? n.CheckOut.YYYYMMDDtoDate() : null, prefillingService.storageService.set(prefillingService.prefillingInfoPath + ".checkIn", r), prefillingService.storageService.set(prefillingService.prefillingInfoPath + ".checkOut", u), prefillingService.refreshFields({
            checkIn: r,
            checkOut: u
        }));
        (n.lowerPrice !== undefined || n.upperPrice !== undefined) && (f = n.lowerPrice ? n.lowerPrice : 0, e = n.upperPrice ? n.upperPrice : 5e3, prefillingService.storageService.set(prefillingService.prefillingInfoPath + ".lowerPrice", f), prefillingService.storageService.set(prefillingService.prefillingInfoPath + ".upperPrice", e), prefillingService.refreshFields({
            lowerPrice: f,
            upperPrice: e
        }));
        $.each(n, function(n, r) {
            var u;
            o.hasOwnProperty(n) && (u = o[n], t[n] = r, i.queryChanged = !0)
        })
    }

    function d(t) {
        var u = "/vacation-rentals",
            f = "?",
            r = "";
        return $.each(t, function(t, e) {
            if (t != "Currencyid" && t != "noRefresh")
                if (t.toLowerCase() == "polygon" && e !== null) f += r + t + "=" + encodeURIComponent(JSON.stringify(e).replace(/\\/g, "")), r = "&";
                else if (t.toLowerCase() == "collections") {
                var o = 0,
                    s = [];
                $.each(e, function(n, t) {
                    t === !0 && (s.push(n), o++)
                });
                o > 0 && (f += r + t + "=" + encodeURIComponent(s.join(",")), r = "&")
            } else t.toLowerCase() == "regionids" ? e.length >= 1 && e.toString() !== "" && n.getRegion(e.toString()).then(function(n) {
                n && (u = n.NormalizedPath, u[0] != "/" && (u = "/" + u))
            }) : t != "RegionName" && i.querySchema[t].defaultValue !== e && (f += r + t + "=" + encodeURIComponent(e), r = "&")
        }), u + (f === "?" ? "" : f)
    }

    function l(n, t) {
        var u = i.querySchema,
            f = n || location.search,
            r = {};
        $.each(u, function(n, i) {
            var v, u, o, y, l, s, e, h, a, c;
            if (t && t.ignore)
                for (l = 0; l < t.ignore.length; l++)
                    if (n.toLowerCase() === t.ignore[l].toLowerCase()) return;
            if (y = new RegExp("[\\?&]" + n + "=([^&#]*)"), v = y.exec(f), v && (u = decodeURIComponent(v[1].replace(/\+/g, " "))), s = prefillingService.storageService, n == "CheckIn" ? (e = prefillingService.prefillingInfoPath + ".checkIn", o = s.isSet(e) ? s.get(e) : null, o && (o = new Date(o).DateToYYYMMDD())) : n == "CheckOut" && (e = prefillingService.prefillingInfoPath + ".checkOut", o = s.isSet(e) ? s.get(e) : null, o && (o = new Date(o).DateToYYYMMDD())), n == "lowerPrice" ? (e = prefillingService.prefillingInfoPath + ".lowerPrice", o = s.isSet(e) ? s.get(e) : 0) : n == "upperPrice" && (e = prefillingService.prefillingInfoPath + ".upperPrice", o = s.isSet(e) ? s.get(e) : 0), o !== undefined && t && (t.overrideValuesFromStorage ? u = o : t.getDefaultValuesFromStorage && u === undefined && (u = o)), n == "guests" && u < 1 && (u = 1), n == "upperPrice" && u === 5e3 && (u = 0), u)
                if (i.type === "Array") u = u.split(","), r[n] = u;
                else if (i.type === "Object")
                if (n === "collections") {
                    if (h = u.split(","), t && t.ignoreCollectionItems)
                        for (a = 0; a < t.ignoreCollectionItems.length; a++)
                            for (c = 0; c < h.length; c++) t.ignoreCollectionItems[a].toLowerCase() === h[c].toLowerCase() && h.splice(c, 1);
                    u = {};
                    $.each(h, function(n, t) {
                        u[t] = !0
                    });
                    r[n] = u
                } else r[n] = JSON.parse(u);
            else r[n] = i.type === "Number" ? parseInt(u) : u
        });
        c(r)
    }

    function g(n) {
        var u = {
                ClientSideRequest: "true"
            },
            s = $.Deferred(),
            p = SERVICECONNNECTION + "/SearchEngine.svc/GetProperties",
            h, e, a;
        if ($.each(t, function(n, t) {
                i.querySchema[n] && i.querySchema[n].requestParameter && (u[n] = t)
            }), nt(u), u.SortOrder = t.sortBy, (_.isNumber(t.lowerPrice) || _.isNumber(t.upperPrice)) && (u.nightlyRateStart = t.lowerPrice || 0, u.nightlyRateEnd = t.upperPrice || 2147483647), u.Page = (n || 0) + 1, h = _.max(_.map(r, function(n) {
                if (n.getPageSize) return n.getPageSize()
            })), isNaN(parseInt(h)) || (u.RecordsPerPage = h), e = JSON.stringify(u), f && o == e) return f;
        if (f = s, o = e, t.CheckOut && t.CheckIn) {
            var c = t.CheckIn.toString(),
                v = new Date(c.substring(0, 4), c.substring(4, 6) - 1, c.substring(6, 8)),
                l = t.CheckOut.toString(),
                y = new Date(l.substring(0, 4), l.substring(4, 6) - 1, l.substring(6, 8));
            a = Math.floor((y - v) / 864e5)
        }
        return function(n) {
            var t = function() {
                return $.ajax({
                    url: SERVICECONNNECTION + "/SearchEngine.svc/GetProperties",
                    dataType: "json",
                    contentType: "application/json",
                    method: "POST",
                    data: n.data,
                    success: function(n) {
                        n.Data && _.each(n.Data, function(n) {
                            n.NumberNights = a
                        });
                        s.resolve(n)
                    },
                    error: function() {
                        n.retryCount -= 1;
                        n.retryCount > 0 && setTimeout(function() {
                            t()
                        }, n.retryAfter || 0)
                    },
                    complete: function() {
                        f = null;
                        o = null
                    }
                })
            };
            return t()
        }({
            data: e,
            retryCount: 3,
            retryAfter: 1e3
        }), s.promise()
    }

    function nt(n) {
        var i = t.collections;
        n.IsCityRegion = !!i.CityLife;
        n.IsSkiRegion = !!i.HasSki;
        n.hasBeachFront = !!i.HasBeach;
        n.IsHoneymoon = !!i.Honeymoon;
        n.hasPromo = !!i.IsUnderPromotion;
        n.IsLargeGroups = !!i.LargeGroups;
        n.NewVillas = !!i.NewVillas;
        n.IsSunRegion = !!i.IsSunRegion;
        n.IsInstantBook = !!i.InstantBook
    }

    function tt(n) {
        var t = n.Data || [];
        t.length && $.each(t, function(n, t) {
            t.NormalizedUrl = t.NormalizedUrl.toLowerCase();
            t.RegionNormalizedPath = t.RegionNormalizedPath.toLowerCase()
        });
        try {
            sessionStorage.searchResults = JSON.stringify(t)
        } catch (i) {}
        return $(document).trigger("searchResults", {
            "Results Count": n.DataCount
        }), app.dataLayer.criteoVillaListing(t), n.Data = t, n
    }

    function a(n) {
        $.each(r, function(i, r) {
            if (r.update) {
                var u = {
                    regionIds: t.RegionIds,
                    query: t
                };
                n && (u.data = n.Data, u.dataCount = n.DataCount);
                r.update(u)
            }
        })
    }

    function v(n) {
        return g(n).then(function(n) {
            return tt(n)
        })
    }

    function s(i, r) {
        var f = n.getRegion(t.RegionIds);
        $.when(app.searchbar, f).done(function(n) {
            var f = d(t),
                e;
            try {
                e = it(f, t, r);
                e && (f = e)
            } catch (o) {
                console.warn("Additional QS params could not be added")
            }
            sessionStorage.searchURL = f;
            i === "replace" ? (u = !0, History.replaceState(t, document.title, f)) : i !== "none" && (u = !0, History.pushState(t, document.title, f));
            n.initBrowsingHistory(t)
        })
    }

    function it(n, t, i) {
        var u, o, f, a, r, e, c;
        try {
            if (u = location.search, o = "NA", !u || u.length < 2) return "";
            while (u.substring(0, 1) == "?") u = u.substring(1);
            u = u.replace("#", "&");
            var h = u.split("&"),
                s = [],
                l = -1,
                v = "",
                y = "";
            for (f = 0; f < h.length; f++) l = h[f].indexOf("="), l > 0 ? (v = h[f].substring(0, l), y = h[f].substring(l + 1), v == "page" ? o = y : s[v] = y) : s[h[f]] = "";
            a = Object.keys(t);
            a = $.map(a, function(n) {
                return n.toLowerCase()
            });
            r = "";
            for (e in s) $.inArray(e.toLowerCase(), a) < 0 && (r += s[e] && s[e].length > 0 ? e + "=" + s[e] + "&" : e + "&");
            if (c = n.indexOf("?"), o != "NA" && i != !0 && (c >= 0 ? (n.length > c + 1 && (o += "&"), n = n.replace("?", "?page=" + o)) : (n += "?page=" + o, c = n.indexOf("?"))), r.length > 1) r = r.substr(0, r.length - 1);
            else return n;
            return !n || n.length < 1 ? "?" + r : c >= 0 ? n.substr(n.length - 1) == "&" ? n + r : n + "&" + r : n + "?" + r
        } catch (p) {
            return null
        }
    }

    function rt(n) {
        var r = document.location.pathname + document.location.search;
        i = $.extend({}, p, n);
        $.each(i.querySchema, function(n, i) {
            t[n] = i.initValue !== undefined ? i.initValue : i.defaultValue
        });
        window.sessionStorage && window.sessionStorage.getItem("searchURL") && l(sessionStorage.searchURL, {
            ignore: ["Polygon", "RegionIds"],
            ignoreCollectionItems: ["newvillas"],
            overrideValuesFromStorage: !0
        });
        i.urlHistory && (l(null, {
            getDefaultValuesFromStorage: !0
        }), History.Adapter.bind(window, "statechange", function() {
            var i = History.getState(),
                n;
            i !== null && (!u && e instanceof Function && (t = i.data, n = e(t), (n === undefined || n === !0) && y(t, "none")), u = !1)
        }));
        i.queryChanged = !0
    }

    function y(n, u) {
        var f = !1,
            e;
        (n !== undefined && (c(n), f = !0), i.queryChanged) && (sessionStorage.queryParameters = JSON.stringify(t), s(u, f), $.each(r, function(n, t) {
            t.showLoading && t.showLoading()
        }), e = _.some(_.map(r, function(n) {
            return n.willPullResults ? n.willPullResults() : !1
        })), e ? a() : setTimeout(function() {
            v().then(a)
        }, 0))
    }

    function ut(n) {
        w.push(n)
    }

    function ft(n) {
        b.push(n)
    }

    function et(n) {
        r.push(n);
        n.attachSearchController && n.attachSearchController(this)
    }

    function ot(n) {
        s(n, !0)
    }

    function st(n) {
        n instanceof Function && (e = n)
    }

    function ht(n) {
        onBeforeSavingCallback = n
    }

    function ct() {
        return $.extend({}, t)
    }
    var h = $.Deferred(),
        p = {
            querySchema: {},
            urlHistory: !0,
            queryChanged: !1
        },
        t = {},
        u = !0,
        w = [],
        b = [],
        r = [],
        i, e, k, f = null,
        o = null;
    return $.when(n.getRegionsList()).done(function(n) {
        k = n;
        h.resolve({
            init: rt,
            updateResults: y,
            getQuery: ct,
            attachFilter: ut,
            attachSorter: ft,
            attachDisplay: et,
            save: s,
            replace: ot,
            onPreviousUrl: st,
            onBeforeSaving: ht,
            requestNextPage: v
        })
    }), h.promise()
}(searchService);
app = app || {};
app.searchbar = function(n) {
    var l = $.Deferred(),
        f = [],
        a = [],
        v = "",
        r, t = !1,
        i, e = {},
        u = {
            home: 1,
            search: 8
        },
        w = [{
            Typo: "BVI",
            Name: "British Virgin Islands"
        }, {
            Typo: "Los Cabos",
            Name: "Cabo San Lucas"
        }, {
            Typo: "LA",
            Name: "California - Los Angeles"
        }, {
            Typo: "L.A.",
            Name: "California - Los Angeles"
        }, {
            Typo: "Napa & Sonoma",
            Name: "California - Napa and Sonoma"
        }, {
            Typo: "Capetown",
            Name: "Cape Town"
        }, {
            Typo: "Cape-town",
            Name: "Cape Town"
        }, {
            Typo: "DR",
            Name: "Dominican Republic"
        }, {
            Typo: "D.R.",
            Name: "Dominican Republic"
        }, {
            Typo: "The DR",
            Name: "Dominican Republic"
        }, {
            Typo: "The Dominican",
            Name: "Dominican Republic"
        }, {
            Typo: "NYC",
            Name: "New York"
        }, {
            Typo: "N.Y.C",
            Name: "New York"
        }, {
            Typo: "Manhattan",
            Name: "New York"
        }, {
            Typo: "PV",
            Name: "Puerto Vallarta"
        }, {
            Typo: "P.V.",
            Name: "Puerto Vallarta"
        }, {
            Typo: "Punta de Mita",
            Name: "Punta Mita"
        }, {
            Typo: "PM",
            Name: "Punta Mita"
        }, {
            Typo: "P.M.",
            Name: "Punta Mita"
        }, {
            Typo: "RM",
            Name: "Riviera Maya"
        }, {
            Typo: "R.M",
            Name: "Riviera Maya"
        }, {
            Typo: "Mayan Riviera",
            Name: "Riviera Maya"
        }, {
            Typo: "R.M.",
            Name: "Riviera Maya"
        }, {
            Typo: "R. M",
            Name: "Riviera Maya"
        }, {
            Typo: "R. M.",
            Name: "Riviera Maya"
        }, {
            Typo: "St.Anton",
            Name: "St. Anton"
        }, {
            Typo: "St Anton",
            Name: "St. Anton"
        }, {
            Typo: "St-Anton",
            Name: "St. Anton"
        }, {
            Typo: "Saint Anton",
            Name: "St. Anton"
        }, {
            Typo: "Saint-Anton",
            Name: "St. Anton"
        }, {
            Typo: "St.Barts",
            Name: "St. Barts"
        }, {
            Typo: "St.Barthelemy",
            Name: "St. Barts"
        }, {
            Typo: "St.Barths",
            Name: "St. Barts"
        }, {
            Typo: "St.Bart's",
            Name: "St. Barts"
        }, {
            Typo: "St.Barth's",
            Name: "St. Barts"
        }, {
            Typo: "St. Bathelemy",
            Name: "St. Barts"
        }, {
            Typo: "St. Barths",
            Name: "St. Barts"
        }, {
            Typo: "St. Bart's",
            Name: "St. Barts"
        }, {
            Typo: "St. Barth's",
            Name: "St. Barts"
        }, {
            Typo: "St-Barts",
            Name: "St. Barts"
        }, {
            Typo: "St-Barthelemy",
            Name: "St. Barts"
        }, {
            Typo: "St-Barths",
            Name: "St. Barts"
        }, {
            Typo: "St-Bart's",
            Name: "St. Barts"
        }, {
            Typo: "St-Barth's",
            Name: "St. Barts"
        }, {
            Typo: "St Barts",
            Name: "St. Barts"
        }, {
            Typo: "St Barthelemy",
            Name: "St. Barts"
        }, {
            Typo: "St Barths",
            Name: "St. Barts"
        }, {
            Typo: "St Bart's",
            Name: "St. Barts"
        }, {
            Typo: "St Barth's",
            Name: "St. Barts"
        }, {
            Typo: "Saint Barts",
            Name: "St. Barts"
        }, {
            Typo: "Saint Barthelemy",
            Name: "St. Barts"
        }, {
            Typo: "Saint Barths",
            Name: "St. Barts"
        }, {
            Typo: "Saint Bart's",
            Name: "St. Barts"
        }, {
            Typo: "Saint Barth's",
            Name: "St. Barts"
        }, {
            Typo: "Saint-Barts",
            Name: "St. Barts"
        }, {
            Typo: "Saint-Barthelemy",
            Name: "St. Barts"
        }, {
            Typo: "Saint-Barths",
            Name: "St. Barts"
        }, {
            Typo: "Saint-Bart's",
            Name: "St. Barts"
        }, {
            Typo: "Saint-Barth's",
            Name: "St. Barts"
        }, {
            Typo: "St Croix",
            Name: "St. Croix"
        }, {
            Typo: "St.Croix",
            Name: "St. Croix"
        }, {
            Typo: "St-Croix",
            Name: "St. Croix"
        }, {
            Typo: "Saint-Croix",
            Name: "St. Croix"
        }, {
            Typo: "Saint Croix",
            Name: "St. Croix"
        }, {
            Typo: "St.Helena",
            Name: "St. Helena"
        }, {
            Typo: "St Helena",
            Name: "St. Helena"
        }, {
            Typo: "St-Helena",
            Name: "St. Helena"
        }, {
            Typo: "Saint Helena",
            Name: "St. Helena"
        }, {
            Typo: "Saint-Helena",
            Name: "St. Helena"
        }, {
            Typo: "St. Helena",
            Name: "St. Helena"
        }, {
            Typo: "St.James",
            Name: "St. James"
        }, {
            Typo: "St James",
            Name: "St. James"
        }, {
            Typo: "St-James",
            Name: "St. James"
        }, {
            Typo: "Saint James",
            Name: "St. James"
        }, {
            Typo: "Saint-James",
            Name: "St. James"
        }, {
            Typo: "St John",
            Name: "St. John"
        }, {
            Typo: "St.John",
            Name: "St. John"
        }, {
            Typo: "St-John",
            Name: "St. John"
        }, {
            Typo: "Saint John",
            Name: "St. John"
        }, {
            Typo: "Saint-John",
            Name: "St. John"
        }, {
            Typo: "St Lucia",
            Name: "St. Lucia"
        }, {
            Typo: "St.Lucia",
            Name: "St. Lucia"
        }, {
            Typo: "St-Lucia",
            Name: "St. Lucia"
        }, {
            Typo: "Saint Lucia",
            Name: "St. Lucia"
        }, {
            Typo: "Saint-Lucia",
            Name: "St. Lucia"
        }, {
            Typo: "St Martin",
            Name: "St. Martin"
        }, {
            Typo: "St.Martin",
            Name: "St. Martin"
        }, {
            Typo: "St-Martin",
            Name: "St. Martin"
        }, {
            Typo: "Saint Martin",
            Name: "St. Martin"
        }, {
            Typo: "Saint-Martin",
            Name: "St. Martin"
        }, {
            Typo: "St.Maarten",
            Name: "St. Martin"
        }, {
            Typo: "St. Maarten",
            Name: "St. Martin"
        }, {
            Typo: "St Maarten",
            Name: "St. Martin"
        }, {
            Typo: "St-Maarten",
            Name: "St. Martin"
        }, {
            Typo: "Saint Maarten",
            Name: "St. Martin"
        }, {
            Typo: "Saint-Maarten",
            Name: "St. Martin"
        }, {
            Typo: "St.Michael",
            Name: "St. Michael"
        }, {
            Typo: "St Michael",
            Name: "St. Michael"
        }, {
            Typo: "St-Michael",
            Name: "St. Michael"
        }, {
            Typo: "Saint Michael",
            Name: "St. Michael"
        }, {
            Typo: "Saint-Michael",
            Name: "St. Michael"
        }, {
            Typo: "St. Michael",
            Name: "St. Michael"
        }, {
            Typo: "St.Peter",
            Name: "St. Peter"
        }, {
            Typo: "St Peter",
            Name: "St. Peter"
        }, {
            Typo: "St-Peter",
            Name: "St. Peter"
        }, {
            Typo: "Saint Peter",
            Name: "St. Peter"
        }, {
            Typo: "Saint-Peter",
            Name: "St. Peter"
        }, {
            Typo: "St.Raphael",
            Name: "St. Raphael area"
        }, {
            Typo: "St Raphael",
            Name: "St. Raphael area"
        }, {
            Typo: "St-Raphael",
            Name: "St. Raphael area"
        }, {
            Typo: "Saint Raphael",
            Name: "St. Raphael area"
        }, {
            Typo: "Saint-Raphael",
            Name: "St. Raphael area"
        }, {
            Typo: "St. Raphael",
            Name: "St. Raphael area"
        }, {
            Typo: "St Thomas",
            Name: "St. Thomas"
        }, {
            Typo: "St.Thomas",
            Name: "St. Thomas"
        }, {
            Typo: "St-Thomas",
            Name: "St. Thomas"
        }, {
            Typo: "Saint Thomas",
            Name: "St. Thomas"
        }, {
            Typo: "Saint-Thomas",
            Name: "St. Thomas"
        }, {
            Typo: "St. Thomas",
            Name: "St. Thomas"
        }, {
            Typo: "St Tropez",
            Name: "St. Tropez area"
        }, {
            Typo: "St.Tropez",
            Name: "St. Tropez area"
        }, {
            Typo: "St-Tropez",
            Name: "St. Tropez area"
        }, {
            Typo: "Saint-Tropez",
            Name: "St. Tropez area"
        }, {
            Typo: "Saint Tropez",
            Name: "St. Tropez area"
        }, {
            Typo: "St. Tropez",
            Name: "St. Tropez area"
        }, {
            Typo: "St. Jean",
            Name: "Saint Jean"
        }, {
            Typo: "St.Jean",
            Name: "Saint Jean"
        }, {
            Typo: "St-Jean",
            Name: "Saint Jean"
        }, {
            Typo: "Saint-Jean",
            Name: "Saint Jean"
        }, {
            Typo: "St Jean",
            Name: "Saint Jean"
        }, {
            Typo: "Turks & Caicos",
            Name: "Turks and Caicos"
        }, {
            Typo: "Turks Caicos",
            Name: "Turks and Caicos"
        }, {
            Typo: "USVI",
            Name: "United States Virgin Islands"
        }],
        o = app.topRegions != undefined ? app.topRegions.splice(0, 5) : [],
        b = function(n, f, e, o, l) {
            var a = i = f.find(n.selector);
            a.select2({
                id: function(n) {
                    return n.Id
                },
                placeholder: function() {
                    var n = o || "Destination";
                    return (pageIdentificationRepository.pageId == u.home || pageIdentificationRepository.pageId == u.search) && sessionStorage && sessionStorage.searchQuery && (n = sessionStorage.searchQuery), n
                }(),
                cacheDataSource: [],
                query: nt,
                formatSelection: function(n) {
                    return n.Name
                },
                formatResult: g,
                formatLoadMore: function() {
                    return ""
                },
                dropdownCssClass: "bigdrop " + e,
                allowClear: !0,
                initSelection: function(n, t) {
                    if (pageIdentificationRepository.pageId == u.home || pageIdentificationRepository.pageId == u.search) {
                        var i = _.find($.sessionStorage.get("searchHistory"), function(n) {
                            return n.RecordType != "property"
                        });
                        app.regionSelectors != undefined ? app.regionSelectors.then(function(n) {
                            n.getSelectedRegion() && t(n.getSelectedRegion())
                        }) : $.sessionStorage.isEmpty("searchHistory") || i == undefined || t(i)
                    }
                },
                safeSelecting: !0
            }).select2("val", []);
            (navigator.userAgent.indexOf("MSIE") !== -1 || navigator.appVersion.indexOf("Trident/") > 0) && document.documentElement.setAttribute("data-ie", !0);
            $(window).resize(function() {
                $(".searchWrapper #searchInput").select2("positionDropdown")
            });
            $(document).on("mouseover", ".select2-results", d);
            $(document).on("mouseout", ".select2-results", y);
            a.on("click", function() {
                $(".select2-highlighted").click()
            });
            a.on("select2-loaded", function() {
                $(".removeFromSearch").closest("li").remove()
            });
            a.on("select2-opening", function() {
                this.safeSelecting = !0;
                var n = $(this).parent().find("span");
                n.addClass("hiddenPlaceholder")
            });
            a.on("select2-open", function() {
                if (this.safeSelecting) {
                    this.safeSelecting = !1;
                    $(document).trigger("click", {
                        target: "body"
                    });
                    try {
                        app.searchbarDateSelector.close()
                    } catch (n) {
                        console.warn(n)
                    }
                    app.searchbar.isActive = !0;
                    mix.focus({
                        Id: "525627",
                        Label: "Textbox Search",
                        "Page Section": "Header",
                        "Action Type": "Search",
                        "Search Sub Category": "Regions"
                    });
                    app.dataLayer.event(l.page + "_" + l.section + "_search", "region_focus")
                }
            });
            a.on("select2-highlight", function(n) {
                pageIdentificationRepository.pageId != 8 && $(".searchWrapper #searchInput").select2("data", n.choice);
                t ? (t = !1, $(".select2-chosen").text("")) : t || n.choice.Id == 1 || r == "" || ($(".select2-chosen").text(n.choice.Name), $("#s2id_searchInput.select2-container-active").addClass("select2-allowclear"))
            });
            a.on("select2-selecting", function(n) {
                if (!this.safeSelecting) {
                    this.safeSelecting = !0;
                    var t = parseInt(n.choice.Index) + 1;
                    if (this.dataset.target == "multiple-bar") n.choice.RecordType === "property" ? (app.dataLayer.event(l.page + "_" + l.section + "_search", "region_select_villa", n.choice.Type + "|" + n.choice.Name + "|" + t + "|" + $("ul .select2-result-selectable").length), s(n.choice, this.dataset.target)) : (app.dataLayer.event(l.page + "_" + l.section + "_search", "region_select", n.choice.Type + "|" + n.choice.Name + "|" + t + "|" + $("ul .select2-result-selectable").length), app.searchbarDateSelector.open(l));
                    else if (pageIdentificationRepository.pageId != 8) s(n.choice, this.dataset.target);
                    else if (n.choice.RecordType === "property") return s(n.choice, this.dataset.target), !1
                }
            });
            a.on("change", function(n) {
                this.safeSelecting && (this.safeSelecting = !1, v = n.val.split(","), ct(n.target, v, n.added), app.regionBanner.update(n.val), y(), n.added.RecordType == "region" && (n.target.dataset.target != "multiple-bar" && app.dataLayer.virtualPage("Search Box", "/virtual/form/open/search?rs=" + encodeURI(n.added.NormalizedPath + window.location.search)), window.trigger_virtual_page_view = !0), $.sessionStorage.remove("vfImpressionCount"))
            });
            a.on("select2-close", function() {
                var n = $(this).parent().find("span");
                n.removeClass("hiddenPlaceholder");
                app.searchbar.isActive = !1
            });
            $(".select2-input").unbind("keyup").on("keyup", function() {
                $(this).val() === "" ? $("#clearSelection").hide() : $("#clearSelection").show()
            });
            $("body:not(" + a.selector + " )").on("click touchmove", function() {
                $(".searchWrapper #searchInput").select2("close")
            });
            messageBus.unbind("browsingHistory", c).on("browsingHistory", c);
            history = h()
        },
        s = function(n, t) {
            var i = "";
            return n.NormalizedPath && (i = n.NormalizedPath), i.substring(0, 1) != "/" && (i = "/" + i), n.RecordType == "property" && t == "multiple-bar" ? app.dataLayer.virtualPage("Home Page Search Box", "/virtual/form/open/search?rs=" + encodeURI(i)) : app.dataLayer.virtualPage("Search Box", "/virtual/form/open/search?rs=" + encodeURI(i)), window.location = "//" + window.location.host + i, !1
        },
        k = function(n) {
            if (typeof n != "undefined") {
                if (n.length == 0) {
                    i.select2("val", "", !1);
                    $(".select2-chosen").text("All Destinations");
                    return
                }
                _.isArray(n) && (n = n.join(","));
                $.each(f, function(t, r) {
                    r.Id === n && i.select2("val", n, !1)
                })
            } else i.select2("val", "", !1)
        },
        d = function() {},
        y = function() {},
        g = function(i, r, u) {
            var o = "",
                s = n.getFullName(i),
                c = u.term.trim(),
                l = i.PropertyCount > 1 ? " Villas" : " Villa",
                h, a, f, e;
            return c != "" && t === !1 ? (h = new RegExp(c, "gi"), i.RecordType != "property" || i.defaultContent ? i.RecordType != "region" && i.RecordType != "multiRegion" || i.defaultContent || (f = s.split(","), e = f.length > 1 ? f.splice(1).toString() : s, o += "<div class='flex searchRegionImage lricon-map-hollow'><\/div><div class='searchRegion'><div class='searchRegionName'>" + i.Name.replace(h, "<strong>$&<\/strong>") + "<\/div><div class='searchSubRegionName'>" + e.replace(h, "<strong>$&<\/strong>") + "<\/div><\/div>") : (f = i.RegionName.split("|"), e = f.length > 1 ? f.slice(1, f.length).reverse().join(", ") : f.toString(), o += "<div class='flex searchVillaImage lricon-villa-hollow'><\/div><div class='searchRegion'><div class='searchRegionName'>" + i.Name.replace(h, "<strong>$&<\/strong>") + "<\/div><div class='searchSubRegionName'>" + e.replace(h, "<strong>$&<\/strong>") + "<\/div><\/div>"), s === "NO RESULTS FOUND" && r.addClass("noResults"), i.PropertyCount && (i.PropertyCount === 0 && r.addClass("hidden").addClass("removeFromSearch"), o += "<div class='propertyCount'>" + i.PropertyCount + l + "<\/div>")) : (a = i.type ? i.type === "continent" : !1, i.RecordType != "property" || i.defaultContent ? (i.RecordType == "region" || i.RecordType == "multiRegion") && (o += "<div class='flex searchRegionImage lricon-map-hollow'><\/div>") : o += "<div class='flex searchVillaImage lricon-villa-hollow'><\/div>", i.PropertyCount ? (f = s.split(","), e = f.length > 1 ? f.splice(1).toString() : s, o += "<div class='searchRegion'><div class='searchRegionName'>" + i.Name + "<\/div><div class='searchSubRegionName'>" + e + "<\/div><\/div><div class='propertyCount'>" + i.PropertyCount + l + "<\/div>") : o == "" ? o = s : (f = i.RegionName.split("|"), e = f.length > 1 ? f.slice(1, f.length).reverse().join(", ") : f.toString(), o += "<div class='searchRegion'><div class='searchRegionName'>" + i.Name + "<\/div><div class='searchSubRegionName'>" + e + "<\/div><\/div>")), o
        },
        p = "",
        nt = function(n) {
            var h = n.callback;
            n.callback = function(t) {
                var i, r;
                t && t.results && t.results.length > 0 && !t.results[0].children && (i = n ? n.term : undefined, i && i.length > p.length && (r = !_.every(t.results, function(n) {
                    return !n.disabled || n.disabled === !1
                }), r && app.dataLayer.event("search", "failed_search", i)));
                p = n ? n.term : "";
                h(t)
            };
            var i = [],
                f, e, u = 5,
                s = this,
                t = r = n.term.trim(),
                o = s.cacheDataSource[t];
            if (t == "") {
                if (f = et(), e = ft(), f) {
                    i.push(f);
                    n.callback({
                        results: i
                    });
                    return
                }
                if (e) {
                    i.push(e);
                    n.callback({
                        results: i
                    });
                    return
                }
            } else {
                if (o) {
                    n.callback({
                        results: o.slice((n.page - 1) * u, n.page * u),
                        more: o.length >= n.page * u
                    });
                    return
                }
                n.element.select2("data", null);
                $.ajax({
                    url: SERVICECONNNECTION + "/SearchEngine.svc/GetAutocompleteData_GET?arg=" + t + "&n=5",
                    type: "GET",
                    dataType: "json",
                    jsonp: "json",
                    contentType: "application/json",
                    success: function(i) {
                        tt(u, t, i.Data, n, function(n) {
                            $.each(n, function(n) {
                                $.extend(this, {
                                    Type: "typed",
                                    Index: n
                                })
                            });
                            s.cacheDataSource[t] = n
                        })
                    }
                })
            }
        },
        tt = function(i, r, u, f, e) {
            var s = [],
                o = [],
                h;
            $.each(u, function(t, i) {
                i.fullName = n.getFullName(i)
            });
            isNaN(r) || (o = _.filter(u, function(n) {
                return n.Id.toString().indexOf(r) >= 0 && n.RecordType === "property"
            }), o = _.sortBy(o, function(n) {
                return n.Id
            }), o = _.sortBy(o, function(n) {
                return n.Id.toString().indexOf(r)
            }));
            (isNaN(r) || o.length == 0) && (o = _.filter(u, function() {
                return !0
            }), h = _.filter(w, function(n) {
                return n.Typo.toUpperCase().indexOf(r.toUpperCase()) >= 0 && n.PropertyCount !== 0
            }), $.each(h, function(n, t) {
                var i = _.find(o, function(n) {
                    return n.Name === t.Name
                });
                i === undefined && (i = _.find(u, function(n) {
                    return n.Name === t.Name ? n.Name : null
                }), i !== undefined && o.push(i))
            }));
            o.length > 0 ? (e(o), f.callback({
                results: o.slice((f.page - 1) * i, f.page * i),
                more: o.length >= f.page * i
            })) : (s.push(ot()), t = !0, f.callback({
                results: s
            }), it())
        },
        it = _.debounce(function() {
            mix.click({
                Id: "447373",
                Label: "Textbox Search",
                "Page Section": "Main",
                "Action Type": "Search",
                "Search Sub Category": "LR Info",
                Result: "Error",
                Value: r
            })
        }, 1e3),
        rt = function(n) {
            if (n !== undefined && !$.isEmptyObject(n)) {
                var t = h();
                $.each(t, function(i, r) {
                    r && r.Id == n.Id && t.splice(i, 1)
                });
                n.NormalizedPath = n.NormalizedPath.toLowerCase();
                t.unshift(n);
                t = t.slice(0, 5);
                sessionStorage.searchHistory = JSON.stringify(t)
            }
        },
        h = function() {
            return sessionStorage.searchHistory || (sessionStorage.searchHistory = JSON.stringify([])), JSON.parse(sessionStorage.searchHistory)
        },
        ut = function(t) {
            var i = sessionStorage.queryParameters ? JSON.parse(sessionStorage.queryParameters) : "",
                r = "";
            t.RecordType == "property" ? (r = t.Id, e = n.getProperty(r)) : (r = t.RegionIds.toString(), e = n.getRegion(r));
            e.then(function(n) {
                n && n.RegionName && (n.RegionName = n.RegionName.replace(/,/g, "|").trim());
                rt(n);
                var r = i && i.CheckIn ? i.CheckIn : null,
                    u = i && i.CheckOut ? i.CheckOut : null;
                t.guests = i && i.guests ? i.guests : "";
                t.CheckIn = t.CheckIn || r;
                t.CheckOut = t.CheckOut || u;
                t.RegionName = n.fullName || n.RegionName || "All Destinations";
                c(t)
            })
        },
        c = function(n) {
            var i, r;
            if (n !== undefined) {
                var u = pageIdentificationRepository.pageId,
                    f = n.RegionIds && n.RegionIds.length > 0 ? n.RegionIds[0] : undefined,
                    t = {
                        CheckIn: n.CheckIn,
                        CheckOut: n.CheckOut,
                        MinPrice: n.lowerPrice,
                        MaxPrice: n.upperPrice,
                        Guests: n.guests
                    };
                t.CheckIn && t.CheckIn instanceof Date != !0 && (i = moment(t.CheckIn, "YYYYMMDD"), t.CheckIn = i.isValid() ? i.toDate() : undefined);
                t.CheckOut && t.CheckOut instanceof Date != !0 && (r = moment(t.CheckOut, "YYYYMMDD"), t.CheckOut = r.isValid() ? r.toDate() : undefined);
                n.collections && $.extend(t, {
                    LargeGroups: n.collections.LargeGroups,
                    Beachfront: n.collections.HasBeach,
                    Ski: n.collections.HasSki,
                    CityLife: n.collections.CityLife,
                    Promotion: n.collections.IsUnderPromotion,
                    Honeymoon: n.collections.Honeymoon,
                    InstantBook: n.collections.InstantBook
                });
                browsingHistoryService.insert(u, f, n.VillaId, t, n.RegionName)
            }
        },
        lt = function(n) {
            if (n === undefined) return !1;
            var t = [];
            return $.each(n, function(n, i) {
                i && t.push(n)
            }), t
        },
        at = function() {
            var n = [],
                t = _.sortBy(_.where(f, {
                    RegionLevel: 1
                }), "PropertyCount").reverse();
            return $.each(t, function(t, i) {
                var f = [],
                    r = {
                        defaultContent: !0
                    },
                    u;
                for ($.each(i, function(n) {
                        n == "subRegions" ? $.each(i[n], function(n, t) {
                            var i = _.clone(t);
                            i.defaultContent = !0;
                            i.type = "subregion";
                            i.hasOwnProperty("subRegions") && delete i.subRegions;
                            f.push(i)
                        }) : r[n] = n == "Name" ? i[n] : i[n]
                    }), r.type = "continent", n.push(r), u = 0; u < f.length; u++) n.push(f[u])
            }), n
        },
        ft = function() {
            var n = {};
            return $.each(o, function(n) {
                $.extend(this, {
                    Type: "top",
                    Index: n
                })
            }), o.length > 0 && (n = {
                Id: "2",
                Name: "TOP DESTINATIONS",
                disabled: !0,
                children: o
            }), n
        },
        et = function() {
            var n = h();
            return $.each(n, function(n) {
                $.extend(this, {
                    Type: "recent",
                    Index: n
                })
            }), n.length > 0 ? {
                Id: "0",
                Name: "RECENT SEARCHES",
                disabled: !0,
                children: n
            } : void 0
        },
        ot = function() {
            return {
                Id: "1",
                Name: "NO RESULTS FOUND",
                disabled: !0
            }
        },
        st = function() {
            i.select2("val", "")
        },
        ht = function(n) {
            a.push(n)
        },
        ct = function(n, t, i) {
            (t[0] === null || t[0] === undefined || t[0] === "") && (t = "");
            $.each(a, function(u, f) {
                f(n, t, i, r)
            })
        };
    return $.when(n.getRegionsList(2)).done(function(n) {
        f = n;
        l.resolve({
            init: b,
            onChange: ht,
            clear: st,
            update: k,
            initBrowsingHistory: ut
        })
    }), l.promise()
}(searchService);
app.searchbarDateSelector = function() {
    var i = [],
        r = new Date,
        n, e = function(i, e, o) {
            var s = n = e.find(i.selector);
            s.DatePicker({
                inline: !1,
                showOn: "click",
                calendars: 2,
                mode: "range",
                appendTo: e,
                position: "right",
                current: r.setMonth(r.getMonth() + 1),
                rangeInputs: e.find(".searchCheckInOut"),
                onChange: function(n, i) {
                    var r = $(".searchCheckInOutWrapper"),
                        f = r.find(".searchCheckInOut"),
                        e = r.find("#searchCheckIn"),
                        u = r.find("#searchCheckOut"),
                        s = r.find("#close");
                    e.html(moment(n[0]).format("MMM DD"));
                    e.addClass("selected");
                    s.removeClass("hidden");
                    moment(n[0]).isSame(n[1], "year") && moment(n[0]).isSame(n[1], "month") && moment(n[0]).isSame(n[1], "day") ? (u.text("Check-out"), u.removeClass("selected"), f.toggleClass("active"), s.addClass("hidden"), app.dataLayer.event(o.page + "_" + o.section + "_search", "arrival_select", moment(n[0]).format("YYYY-MM-DD"))) : (u.html(moment(n[1]).format("MMM DD")), u.addClass("selected"), f.removeClass("active"), r.DatePickerHide(), $.each(r, function(t, r) {
                        r != i && $(r).DatePickerSetDate(n, !0)
                    }), app.searchbarGuest.open(), app.dataLayer.event(o.page + "_" + o.section + "_search", "departure_select", moment(n[1]).format("YYYY-MM-DD")));
                    window.trigger_virtual_page_view = !0;
                    t(moment(n[0]).format("YYYYMMDD"), moment(n[1]).format("YYYYMMDD"))
                },
                onAfterHide: function() {
                    var n = $(this).DatePickerGetDate()[0],
                        t = $(".searchCheckInOutWrapper"),
                        i = t.find(".searchCheckInOut"),
                        r = t.find("#searchCheckIn"),
                        u = t.find("#searchCheckOut");
                    i.removeClass("active");
                    n.length > 0 && moment(n[0]).isSame(n[1], "year") && moment(n[0]).isSame(n[1], "month") && moment(n[0]).isSame(n[1], "day") && (r.text("Check-in"), u.text("Check-out"), i.removeClass("selected"), $(this).DatePickerClear());
                    app.searchbarDateSelector.isActive = !1
                },
                onAfterShow: function() {
                    e.find("#searchInput").select2("close");
                    app.searchbarDateSelector.isActive = !0
                },
                deltaPosition: {
                    top: 48
                }
            });
            s.find("#searchCheckOut").on("click", function() {
                $(this).text() == "Check-out" && s.find("#searchCheckIn").trigger("click", "auto");
                app.dataLayer.event(o.page + "_" + o.section + "_search", "calendar_open", "departure")
            });
            s.find("#searchCheckIn").on("click", function(n, t) {
                t == null && app.dataLayer.event(o.page + "_" + o.section + "_search", "calendar_open", "arrival")
            });
            s.next().find(".datepickerGoPrev").on("click", function() {
                app.dataLayer.event(o.page + "_" + o.section + "_search", "month_backward", moment($(this).next().text()).format("YYYY-MM"))
            });
            s.next().find(".datepickerGoNext").on("click", function() {
                app.dataLayer.event(o.page + "_" + o.section + "_search", "month_forward", moment($(this).prev().text()).format("YYYY-MM"))
            });
            s.find("#close").on("click", function(n) {
                u(n);
                window.trigger_virtual_page_view = !0;
                app.dataLayer.event(o.page + "_" + o.section + "_search", "clear_dates")
            });
            f()
        },
        o = function(t) {
            n.trigger("click");
            app.dataLayer.event(t.page + "_" + t.section + "_search", "calendar_open", "auto")
        },
        s = function() {
            n && n.DatePickerHide()
        },
        u = function(n) {
            var i = $(".searchCheckInOutWrapper"),
                r = i.find(".searchCheckInOut"),
                u = i.find("#searchCheckIn"),
                f = i.find("#searchCheckOut"),
                e = i.find("#close");
            u.text("Check-in");
            f.text("Check-out");
            r.removeClass("selected");
            i.DatePickerSetDate(new Date, !0);
            i.DatePickerClear();
            e.addClass("hidden");
            t(null, null);
            n && n.stopPropagation()
        },
        h = function(n) {
            n.DatePickerClear();
            prefillingService.prefillField(n);
            prefillingService.storageService.isEmpty("prefillingInfo.checkIn") && prefillingService.storageService.isEmpty("prefillingInfo.checkOut") ? t(null, null) : t(moment(prefillingService.storageService.get("prefillingInfo.checkIn")).format("YYYYMMDD"), moment(prefillingService.storageService.get("prefillingInfo.checkOut")).format("YYYYMMDD"))
        },
        c = function(n) {
            i.push(n)
        },
        t = function(n, t) {
            var r = {
                CheckIn: n == null || t == null ? null : parseInt(n),
                CheckOut: n == null || t == null ? null : parseInt(t)
            };
            $.each(i, function(n, t) {
                t(r)
            })
        },
        f = function() {
            prefillingService.prefillField(n);
            prefillingService.storageService.isEmpty("prefillingInfo.checkIn") && prefillingService.storageService.isEmpty("prefillingInfo.checkOut") || (n.find("#searchCheckIn").text(moment(prefillingService.storageService.get("prefillingInfo.checkIn")).format("MMM DD")), n.find("#searchCheckOut").text(moment(prefillingService.storageService.get("prefillingInfo.checkOut")).format("MMM DD")), n.find(".searchCheckInOut").addClass("selected"), n.find("#close").removeClass("hidden"))
        };
    return {
        init: e,
        open: o,
        close: s,
        clear: u,
        setSelected: f,
        update: h,
        onChange: c
    }
}();
app.searchbarGuest = function(n) {
    n.searchbarGuest || (n.searchbarGuest = {});
    var u = 99,
        i = 1,
        s = [],
        t = i;
    n.searchbarGuest.defaultOptions = {
        myDefaultValue: ""
    };
    n.searchbarGuest = function(s, h, c) {
        var v = this;
        v.$el = n(s);
        v.el = s;
        v.tracking = h.tracking;
        v.$el.data("searchbarGuest", v);
        v.init = function() {
            v.myFunctionParam = h;
            v.options = n.extend({}, n.searchbarGuest.defaultOptions, c);
            v.$el.on("click", function(i, u) {
                i.stopPropagation();
                u == null && app.dataLayer.event(v.tracking.page + "_" + v.tracking.section + "_search", "guest_focus");
                l();
                r(t, u, v.tracking);
                f();
                v.myFunctionParam.wrapper.find(n("#searchInput").select2("close"))
            });
            v.$el.on("keyup", "input", function(n) {
                n.which != 13 && (t = this.value, t > u && (t = u), r(t, !1, v.tracking), t <= 0 && (t = 1, r(t, null, v.tracking)), f(), window.trigger_virtual_page_view = !0)
            });
            v.$el.on("click", "#wrapperMinus", function() {
                t != 1 && (app.dataLayer.event(v.tracking.page + "_" + v.tracking.section + "_search", "guest_focus"), t--, r(t, !1, v.tracking), f(), window.trigger_virtual_page_view = !0)
            });
            v.$el.on("click", "#wrapperPlus", function() {
                t != u && (app.dataLayer.event(v.tracking.page + "_" + v.tracking.section + "_search", "guest_focus"), t++, r(t, !1, v.tracking), f(), window.trigger_virtual_page_view = !0)
            });
            n(window).click(function() {
                a()
            });
            v.initPrefill()
        };
        v.open = function() {
            app.dataLayer.event(v.tracking.page + "_" + v.tracking.section + "_search", "guest_focus", "auto");
            n(".js-searchWrapper").trigger("click", "auto")
        };
        v.initPrefill = function() {
            if (n.sessionStorage.isEmpty("queryParameters.guests")) o(), e(i);
            else {
                var t = n.sessionStorage.get("queryParameters.guests");
                t == i && o();
                e(t)
            }
        };
        v.init()
    };
    n.fn.SearchbarGuest = function(t, i) {
        return this.each(function() {
            new n.searchbarGuest(this, t, i)
        })
    };
    var h = function() {
            return n(".js-searchWrapper").find("#labelInput").val() || i
        },
        c = function(t) {
            t == "" ? n(".js-searchWrapper").find("#label").removeClass("selected") : n(".js-searchWrapper").find("#label").addClass("selected")
        },
        f = function() {
            n(".js-searchWrapper").find("#label").removeClass("default")
        },
        o = function() {
            n(".js-searchWrapper").find("#label").addClass("default")
        },
        r = function(r, f, e) {
            var o = r > 1 ? "Guests" : "Guest";
            c(r);
            switch (parseInt(r)) {
                case 1:
                    n(".js-searchWrapper").find("#wrapperMinus").addClass("disabled");
                    n(".js-searchWrapper").find("#wrapperPlus").removeClass("disabled");
                    break;
                case u:
                    n(".js-searchWrapper").find("#wrapperPlus").addClass("disabled");
                    n(".js-searchWrapper").find("#wrapperMinus").removeClass("disabled");
                    break;
                default:
                    r == "" ? (n(".js-searchWrapper").find("#wrapperMinus").addClass("disabled"), n(".js-searchWrapper").find("#wrapperPlus").removeClass("disabled")) : (n(".js-searchWrapper").find("#wrapperMinus").removeClass("disabled"), n(".js-searchWrapper").find("#wrapperPlus").removeClass("disabled"))
            }
            if (r == "") {
                n(".js-searchWrapper").find("#label").text(i + " Guest");
                n(".js-searchWrapper").find("#labelInput").val("");
                t = i;
                v();
                return
            }
            n(".js-searchWrapper").find("#label").text(r + " " + o);
            n(".js-searchWrapper").find("#labelInput").val(r);
            v();
            e != null && app.dataLayer.event(e.page + "_" + e.section + "_search", "guests_select", r)
        },
        e = function(n) {
            c(n);
            r(n, null, null);
            t = n
        },
        l = function() {
            n(".js-searchWrapper").find(".guests").addClass("activated");
            n(".js-searchWrapper").find("#labelInput").removeClass("hidden");
            n(".js-searchWrapper").find("#labelInput").focus();
            app.searchbarGuest.isActive = !0
        },
        a = function() {
            n(".js-searchWrapper").find(".guests").removeClass("activated");
            n(".js-searchWrapper").find("#labelInput").addClass("hidden");
            n(".js-searchWrapper").find("#labelInput").blur();
            app.searchbarGuest.isActive = !1
        },
        y = function(n) {
            s.push(n)
        },
        v = function() {
            n.each(s, function(n, t) {
                t(parseInt(h()))
            })
        },
        p = function(n, t, i) {
            var r = t.find(n.selector);
            r.SearchbarGuest({
                wrapper: t,
                tracking: i
            })
        };
    return {
        init: p,
        getValue: h,
        update: e,
        onChange: y,
        open: l,
        close: a,
        clear: function() {
            o();
            e(i)
        }
    }
}(jQuery);
app.searbarButton = function() {
    var n = 0,
        i = [],
        t, r = function(i, r, u, e) {
            t = r.find(i.selector);
            t.on("click", function() {
                var c, l, h;
                mix.trackAndCallback("Click", "searchResults", {
                    Id: "316270",
                    Label: "All Regions",
                    "Page Section": "Main",
                    "Action Type": "Search",
                    "Search Sub Category": "LR Info"
                });
                var t = r.find($("#searchInput")).select2("data"),
                    n = $("#searchCheckInOut").DatePickerGetDate()[0],
                    o = app.searchbarGuest.getValue(),
                    a = "/vacation-rentals",
                    i = "?",
                    s = "",
                    v = "",
                    y = "";
                if ($.sessionStorage.isEmpty("queryParameters") || (n.length == 0 && ($.sessionStorage.remove("queryParameters.CheckIn"), $.sessionStorage.remove("queryParameters.CheckOut")), o == 0 && $.sessionStorage.remove("queryParameters.guests")), prefillingService.storageService.isEmpty("prefillingInfo") || n.length == 0 && (prefillingService.storageService.remove("prefillingInfo.checkIn"), prefillingService.storageService.remove("prefillingInfo.checkOut")), t != null && (a = t.NormalizedPath, v = t.NormalizedPath, y = t.Type), n.length != 0 && (i += s + "CheckIn=" + encodeURIComponent(moment(n[0]).format("YYYYMMDD")), s = "&"), n.length != 0 && (i += s + "CheckOut=" + encodeURIComponent(moment(n[1]).format("YYYYMMDD")), s = "&"), o != 0 && (i += s + "guests=" + encodeURIComponent(o), s = "&"), c = a + (i == "?" ? "" : i), l = v + (i == "?" ? "" : i), $.sessionStorage.set("searchURL", c), app.dataLayer.event(e.page + "_" + e.section + "_search", "search_submit", y), u) {
                    h = {
                        RegionIds: [],
                        CheckIn: null,
                        CheckOut: null
                    };
                    t != null && (h.RegionIds = t.Id.toString().split(","));
                    n[0] && (h.CheckIn = parseInt(moment(n[0]).format("YYYYMMDD")));
                    n[1] && (h.CheckOut = parseInt(moment(n[1]).format("YYYYMMDD")));
                    o != 0 && (h.guests = parseInt(o));
                    window.trigger_virtual_page_view === !0 && app.dataLayer.virtualPage("Search Bar", "/virtual/form/open/search?rs=" + encodeURI(l));
                    f(h);
                    return
                }
                t == null && o == 0 && n.length == 0 ? (app.dataLayer.virtualPage("Home Page Search Box", "/virtual/form/open/search?rs="), window.location.pathname = "/vacation-rentals") : (app.dataLayer.virtualPage("Home Page Search Box", "/virtual/form/open/search?rs=" + encodeURI(l)), window.location = c);
                $.sessionStorage.remove("vfImpressionCount")
            });
            $(document).keydown(function(i) {
                var u = {
                    ENTER: 13,
                    TAB: 9
                };
                if (r.find("[data-target=multiple-bar]").length && i.which == u.ENTER || i.which == u.TAB) {
                    if (app.searchbar.isActive) {
                        r.find($("#searchInput")).select2("close");
                        app.searchbarGuest.close();
                        app.searchbarDateSelector.open();
                        return
                    }
                    if (app.searchbarDateSelector.isActive) {
                        if (n == 0) {
                            n++;
                            return
                        }
                        app.searchbarDateSelector.close();
                        r.find($("#searchInput")).select2("close");
                        app.searchbarGuest.open();
                        n = 0;
                        i.preventDefault();
                        return
                    }
                    app.searchbarGuest.isActive && i.which == u.ENTER && t.trigger("click")
                }
            })
        },
        u = function(n) {
            i.push(n)
        },
        f = function(n) {
            $.each(i, function(t, i) {
                i(n)
            })
        };
    return {
        init: r,
        onClick: u
    }
}();
! function(n) {
    "function" == typeof define && define.amd ? define(["jquery"], function(t) {
        n(t, window, document)
    }) : n(jQuery, window, document)
}(function(n, t, i, r) {
    "use strict";

    function h(t, i) {
        this.a = t;
        i && $.extend(i, i, {
            a: i.autoFormat,
            h: i.autoHideDialCode,
            d: i.defaultCountry,
            i: i.ipinfoToken,
            n: i.nationalMode,
            t: i.numberType,
            o: i.onlyCountries,
            p: i.preferredCountries,
            v: i.preventInvalidNumbers,
            u: i.utilsScript
        });
        this.b = n.extend({}, c, i);
        this.c = c;
        this.ns = "." + f + a++;
        this.d = Boolean(t.setSelectionRange);
        this.e = Boolean(n(t).attr("placeholder"));
        this.f = f;
        this.init()
    }
    var f = "intlTelInput",
        a = 1,
        c = {
            allowExtensions: !1,
            a: !0,
            autoPlaceholder: !0,
            h: !0,
            d: "",
            i: "",
            n: !0,
            t: "MOBILE",
            o: [],
            p: ["us", "gb"],
            u: ""
        },
        u = {
            b: 38,
            c: 40,
            d: 13,
            e: 27,
            f: 43,
            A: 65,
            Z: 90,
            g: 48,
            h: 57,
            i: 32,
            Bi: 8,
            k: 46,
            l: 17,
            m: 91,
            n: 224
        },
        l = !1,
        e, s, o;
    for (n(t).load(function() {
            l = !0
        }), h.prototype = {
            init: function() {
                var i = this,
                    t;
                "auto" == this.b.d ? (this.b.d = "", t = "//ipinfo.io", this.b.i && (t += "?token=" + this.b.i), n.get(t, function(n) {
                    n && n.country && (i.b.d = n.country.toLowerCase())
                }, "jsonp").always(function() {
                    i._a()
                })) : this._a()
            },
            _a: function() {
                this.b.n && (this.b.h = !1);
                navigator.userAgent.match(/IEMobile/i) && (this.b.a = !1);
                this._b();
                this._f();
                this._h();
                this._i()
            },
            _b: function() {
                this._d();
                this._e()
            },
            _c: function(n, t, i) {
                t in this.m || (this.m[t] = []);
                var r = i || 0;
                this.m[t][r] = n
            },
            _d: function() {
                var t, i, r;
                if (this.b.o.length) {
                    for (t = 0; t < this.b.o.length; t++) this.b.o[t] = this.b.o[t].toLowerCase();
                    for (this.l = [], t = 0; t < e.length; t++) - 1 != n.inArray(e[t].iso2, this.b.o) && this.l.push(e[t])
                } else this.l = e;
                for (this.m = {}, t = 0; t < this.l.length; t++)
                    if (i = this.l[t], this._c(i.iso2, i.dialCode, i.priority), i.areaCodes)
                        for (r = 0; r < i.areaCodes.length; r++) this._c(i.iso2, i.dialCode + i.areaCodes[r])
            },
            _e: function() {
                var n, i, t;
                for (this.n = [], n = 0; n < this.b.p.length; n++) i = this.b.p[n].toLowerCase(), t = this._y(i, !1, !0), t && this.n.push(t)
            },
            _f: function() {
                this.g = n(this.a);
                this.g.attr("autocomplete", "off");
                this.g.wrap(n("<div>", {
                    "class": "intl-tel-input"
                }));
                var i = n("<div>", {
                        "class": "flag-dropdown"
                    }).insertAfter(this.g),
                    r = n("<div>", {
                        "class": "selected-flag"
                    }).appendTo(i);
                this.h = n("<div>", {
                    "class": "iti-flag"
                }).appendTo(r);
                n("<div>", {
                    "class": "arrow"
                }).appendTo(this.h);
                this.i = n("<ul>", {
                    "class": "country-list v-hide"
                }).appendTo(i);
                this.n.length && (this._g(this.n, "preferred"), n("<li>", {
                    "class": "divider"
                }).appendTo(this.i));
                this._g(this.l, "");
                this.j = this.i.outerHeight();
                this.i.removeClass("v-hide").addClass("hide");
                t.innerWidth < 500 && this.i.outerWidth(this.g.outerWidth());
                this.k = this.i.children(".country")
            },
            _g: function(n, t) {
                for (var r, i = "", u = 0; u < n.length; u++) r = n[u], i += "<li class='country " + t + "' data-dial-code='" + r.dialCode + "' data-country-code='" + r.iso2 + "'>", i += "<div class='iti-flag " + r.iso2 + "'><\/div>", i += "<span class='country-name'>" + r.name + "<\/span>", i += "<span class='dial-code'>+" + r.dialCode + "<\/span>", i += "<\/li>";
                this.i.append(i)
            },
            _h: function() {
                var n = this.g.val();
                this._af(n) ? this._v(n) : (this.b.d = this.b.d ? this._y(this.b.d.toLowerCase(), !1, !1) : this.n.length ? this.n[0] : this.l[0], this._z(this.b.d.iso2), n || this._ae(this.b.d.dialCode, !1));
                n && this._u(n, !1)
            },
            _i: function() {
                var i = this,
                    r, u;
                this._j();
                (this.b.h || this.b.a) && this._l();
                r = this.g.closest("label");
                r.length && r.on("click" + this.ns, function(n) {
                    i.i.hasClass("hide") ? i.g.focus() : n.preventDefault()
                });
                u = this.h.parent();
                u.on("click" + this.ns, function() {
                    !i.i.hasClass("hide") || i.g.prop("disabled") || i.g.prop("readonly") || i._n()
                });
                this.b.u && (l ? this.loadUtils() : n(t).load(function() {
                    i.loadUtils()
                }))
            },
            _j: function() {
                var n = this;
                this.b.a && this.g.on("keypress" + this.ns, function(i) {
                    var s;
                    if (i.which >= u.i && !i.metaKey && t.intlTelInputUtils && !n.g.prop("readonly")) {
                        i.preventDefault();
                        var r = i.which >= u.g && i.which <= u.h || i.which == u.f,
                            f = n.g[0],
                            h = n.d && f.selectionStart == f.selectionEnd,
                            e = n.g.attr("maxlength"),
                            o = n.g.val(),
                            c = e ? o.length < e : !0;
                        c && (r || h) && (s = r ? String.fromCharCode(i.which) : null, n._k(s, !0, r), o != n.g.val() && n.g.trigger("input"));
                        r || n._handleInvalidKey()
                    }
                });
                this.g.on("keyup" + this.ns, function(i) {
                    var e, o;
                    if (i.which != u.d && !n.g.prop("readonly"))
                        if (n.b.a && t.intlTelInputUtils) {
                            var f = i.which == u.l || i.which == u.m || i.which == u.n,
                                r = n.g[0],
                                h = n.d && r.selectionStart == r.selectionEnd,
                                s = n.d && r.selectionStart == n.g.val().length;
                            ((i.which == u.k && !s || i.which == u.Bi || f && h) && n._k(null, f && s, f), n.b.n) || (e = n.g.val(), "+" != e.charAt(0) && (o = n.d ? r.selectionStart + 1 : 0, n.g.val("+" + e), n.d && r.setSelectionRange(o, o)))
                        } else n._v(n.g.val())
                })
            },
            _handleInvalidKey: function() {
                var n = this;
                this.g.trigger("invalidkey").addClass("iti-invalid-key");
                setTimeout(function() {
                    n.g.removeClass("iti-invalid-key")
                }, 100)
            },
            _k: function(n, t, i) {
                var o, r = this.g.val(),
                    f = (this._getClean(r), this.g[0]),
                    e = 0,
                    u;
                (this.d ? (e = this._getDigitsOnRight(r, f.selectionEnd), n ? r = r.substr(0, f.selectionStart) + n + r.substring(f.selectionEnd, r.length) : o = r.substr(f.selectionStart - 2, 2)) : n && (r += n), this.setNumber(r, t, !0, i), this.d) && (r = this.g.val(), e ? (u = this._getCursorFromDigitsOnRight(r, e), n || (u = this._getCursorFromLeftChar(r, u, o))) : u = r.length, f.setSelectionRange(u, u))
            },
            _getCursorFromLeftChar: function(t, i, r) {
                for (var f, u = i; u > 0; u--)
                    if (f = t.charAt(u - 1), n.isNumeric(f) || t.substr(u - 2, 2) == r) return u;
                return 0
            },
            _getCursorFromDigitsOnRight: function(t, i) {
                for (var r = t.length - 1; r >= 0; r--)
                    if (n.isNumeric(t.charAt(r)) && 0 == --i) return r;
                return 0
            },
            _getDigitsOnRight: function(t, i) {
                for (var u = 0, r = i; r < t.length; r++) n.isNumeric(t.charAt(r)) && u++;
                return u
            },
            _l: function() {
                var n = this;
                this.b.h && this.g.on("mousedown" + this.ns, function(t) {
                    n.g.is(":focus") || n.g.val() || (t.preventDefault(), n.g.focus())
                });
                this.g.on("focus" + this.ns, function() {
                    var i = n.g.val();
                    n.g.data("focusVal", i);
                    n.b.h && !i && !n.g.prop("readonly") && n.o.dialCode && (n._u("+" + n.o.dialCode, !0), n.g.one("keypress.plus" + n.ns, function(i) {
                        if (i.which == u.f) {
                            var r = n.b.a && t.intlTelInputUtils ? "+" : "";
                            n.g.val(r)
                        }
                    }), setTimeout(function() {
                        var i = n.g[0],
                            t;
                        n.d && (t = n.g.val().length, i.setSelectionRange(t, t))
                    }))
                });
                this.g.on("blur" + this.ns, function() {
                    var i, u, r;
                    n.b.h && (i = n.g.val(), u = "+" == i.charAt(0), u && (r = n._m(i), r && n.o.dialCode != r || n.g.val("")), n.g.off("keypress.plus" + n.ns));
                    n.b.a && t.intlTelInputUtils && n.g.val() != n.g.data("focusVal") && n.g.trigger("change")
                })
            },
            _m: function(n) {
                return n.replace(/\D/g, "")
            },
            _getClean: function(n) {
                var t = "+" == n.charAt(0) ? "+" : "";
                return t + this._m(n)
            },
            _n: function() {
                this._o();
                var n = this.i.children(".active");
                n.length && this._x(n);
                this.i.removeClass("hide");
                n.length && this._ad(n);
                this._p();
                this.h.children(".arrow").addClass("up")
            },
            _o: function() {
                var i = this.g.offset().top,
                    r = n(t).scrollTop(),
                    u = i + this.g.outerHeight() + this.j < r + n(t).height(),
                    f = i - this.j > r,
                    e = !u && f ? "-" + (this.j - 1) + "px" : "";
                this.i.css("top", e)
            },
            _p: function() {
                var t = this,
                    e, r, f;
                this.i.on("mouseover" + this.ns, ".country", function() {
                    t._x(n(this))
                });
                this.i.on("click" + this.ns, ".country", function() {
                    t._ab(n(this))
                });
                e = !0;
                n("html").on("click" + this.ns, function() {
                    e || t._ac();
                    e = !1
                });
                r = "";
                f = null;
                n(i).on("keydown" + this.ns, function(n) {
                    n.preventDefault();
                    n.which == u.b || n.which == u.c ? t._q(n.which) : n.which == u.d ? t._r() : n.which == u.e ? t._ac() : (n.which >= u.A && n.which <= u.Z || n.which == u.i) && (f && clearTimeout(f), r += String.fromCharCode(n.which), t._s(r), f = setTimeout(function() {
                        r = ""
                    }, 1e3))
                })
            },
            _q: function(n) {
                var i = this.i.children(".highlight").first(),
                    t = n == u.b ? i.prev() : i.next();
                t.length && (t.hasClass("divider") && (t = n == u.b ? t.prev() : t.next()), this._x(t), this._ad(t))
            },
            _r: function() {
                var n = this.i.children(".highlight").first();
                n.length && this._ab(n)
            },
            _s: function(n) {
                for (var i, t = 0; t < this.l.length; t++)
                    if (this._t(this.l[t].name, n)) {
                        i = this.i.children("[data-country-code=" + this.l[t].iso2 + "]").not(".preferred");
                        this._x(i);
                        this._ad(i, !0);
                        break
                    }
            },
            _t: function(n, t) {
                return n.substr(0, t.length).toUpperCase() == t
            },
            _u: function(n, i, r, u) {
                var f, e;
                this.b.a && t.intlTelInputUtils ? (f = !r && this.b.n && "+" == n.charAt(0) && intlTelInputUtils.isValidNumber(n, this.o.iso2) ? intlTelInputUtils.formatNumberByType(n, this.o.iso2, intlTelInputUtils.numberFormat.NATIONAL) : intlTelInputUtils.formatNumber(n, this.o.iso2, i, this.b.allowExtensions, u), e = this.g.attr("maxlength"), e && f.length > e && (f = f.substr(0, e))) : f = n;
                this.g.val(f)
            },
            _v: function(t) {
                var f, i, r, e, u;
                if (this.b.n && this.o && "1" == this.o.dialCode && "+" != t.charAt(0) && ("1" != t.charAt(0) && (t = "1" + t), t = "+" + t), f = this._af(t), i = null, f) {
                    if (r = this.m[this._m(f)], e = this.o && -1 != n.inArray(this.o.iso2, r), !e || this._w(t, f))
                        for (u = 0; u < r.length; u++)
                            if (r[u]) {
                                i = r[u];
                                break
                            }
                } else "+" == t.charAt(0) ? this._m(t).length ? i = "" : this.o.iso2 || (i = this.b.d.iso2) : this.o.iso2 || t || (i = this.b.d.iso2);
                null !== i && this._z(i)
            },
            _w: function(n, t) {
                return "+1" == t && this._m(n).length >= 4
            },
            _x: function(n) {
                this.k.removeClass("highlight");
                n.addClass("highlight")
            },
            _y: function(n, t, i) {
                for (var u = t ? e : this.l, r = 0; r < u.length; r++)
                    if (u[r].iso2 == n) return u[r];
                if (i) return null;
                throw new Error("No country data for '" + n + "'");
            },
            _z: function(n) {
                this.o = n ? this._y(n, !1, !1) : {};
                this.h.attr("class", "iti-flag " + n);
                var t = n ? this.o.name + ": +" + this.o.dialCode : "Unknown";
                this.h.parent().attr("title", t);
                this._aa();
                this.k.removeClass("active");
                n && this.k.children(".iti-flag." + n).first().parent().addClass("active")
            },
            _aa: function() {
                if (t.intlTelInputUtils && !this.e && this.b.autoPlaceholder) {
                    var n = this.o.iso2,
                        i = intlTelInputUtils.numberType[this.b.t || "FIXED_LINE"],
                        r = n ? intlTelInputUtils.getExampleNumber(n, this.b.n, i) : "";
                    this.g.attr("placeholder", r)
                }
            },
            _ab: function(n) {
                var t = n.attr("data-country-code");
                this._z(t);
                this._ac();
                this._ae(n.attr("data-dial-code"), !0);
                this.g.trigger("change");
                this.g.focus()
            },
            _ac: function() {
                this.i.addClass("hide");
                this.h.children(".arrow").removeClass("up");
                n(i).off(this.ns);
                n("html").off(this.ns);
                this.i.off(this.ns)
            },
            _ad: function(n, t) {
                var i = this.i,
                    u = i.height(),
                    f = i.offset().top,
                    c = f + u,
                    e = n.outerHeight(),
                    o = n.offset().top,
                    l = o + e,
                    r = o - f + i.scrollTop(),
                    s = u / 2 - e / 2,
                    h;
                f > o ? (t && (r -= s), i.scrollTop(r)) : l > c && (t && (r += s), h = u - e, i.scrollTop(r - h))
            },
            _ae: function(t, i) {
                var u, r = this.g.val(),
                    f, e;
                (t = "+" + t, this.b.n && "+" != r.charAt(0)) ? u = r: r ? (f = this._af(r), f.length > 1 ? u = r.replace(f, t) : (e = "+" != r.charAt(0) ? n.trim(r) : "", u = t + e)) : u = !this.b.h || i ? t : "";
                this._u(u, i)
            },
            _af: function(t) {
                var f = "",
                    r, i, u;
                if ("+" == t.charAt(0))
                    for (r = "", i = 0; i < t.length; i++)
                        if (u = t.charAt(i), n.isNumeric(u) && (r += u, this.m[r] && (f = t.substr(0, i + 1)), 4 == r.length)) break;
                return f
            },
            destroy: function() {
                this._ac();
                this.g.off(this.ns);
                this.h.parent().off(this.ns);
                this.g.closest("label").off(this.ns);
                var n = this.g.parent();
                n.before(this.g).remove()
            },
            getExtension: function() {
                return this.g.val().split(" ext. ")[1] || ""
            },
            getNumber: function(n) {
                return t.intlTelInputUtils ? intlTelInputUtils.formatNumberByType(this.g.val(), this.o.iso2, n) : ""
            },
            getNumberType: function() {
                return t.intlTelInputUtils ? intlTelInputUtils.getNumberType(this.g.val(), this.o.iso2) : -99
            },
            getSelectedCountryData: function() {
                return this.o || {}
            },
            getValidationError: function() {
                return t.intlTelInputUtils ? intlTelInputUtils.getValidationError(this.g.val(), this.o.iso2) : -99
            },
            isValidNumber: function() {
                var i = n.trim(this.g.val()),
                    r = this.b.n ? this.o.iso2 : "";
                return t.intlTelInputUtils ? intlTelInputUtils.isValidNumber(i, r) : !1
            },
            loadUtils: function(t) {
                var i = t || this.b.u;
                !n.fn[f].loadedUtilsScript && i && (n.fn[f].loadedUtilsScript = !0, n.ajax({
                    url: i,
                    success: function() {
                        n(".intl-tel-input input").intlTelInput("utilsLoaded")
                    },
                    dataType: "script",
                    cache: !0
                }))
            },
            selectCountry: function(n) {
                n = n.toLowerCase();
                this.h.hasClass(n) || (this._z(n), this._ae(this.o.dialCode, !1))
            },
            setNumber: function(n, t, i, r) {
                this.b.n || "+" == n.charAt(0) || (n = "+" + n);
                this._v(n);
                this._u(n, t, i, r)
            },
            utilsLoaded: function() {
                this.b.a && this.g.val() && this._u(this.g.val());
                this._aa()
            }
        }, n.fn[f] = function(t) {
            var u = arguments,
                i;
            return t === r || "object" == typeof t ? this.each(function() {
                n.data(this, "plugin_" + f) || n.data(this, "plugin_" + f, new h(this, t))
            }) : "string" == typeof t && "_" !== t[0] && "init" !== t ? (this.each(function() {
                var r = n.data(this, "plugin_" + f);
                r instanceof h && "function" == typeof r[t] && (i = r[t].apply(r, Array.prototype.slice.call(u, 1)));
                "destroy" === t && n.data(this, "plugin_" + f, null)
            }), i !== r ? i : this) : void 0
        }, n.fn[f].getCountryData = function() {
            return e
        }, e = [
            ["Afghanistan (?)", "af", "93"],
            ["Albania (Shqipri)", "al", "355"],
            ["Algeria ()", "dz", "213"],
            ["American Samoa", "as", "1684"],
            ["Andorra", "ad", "376"],
            ["Angola", "ao", "244"],
            ["Anguilla", "ai", "1264"],
            ["Antigua and Barbuda", "ag", "1268"],
            ["Argentina", "ar", "54"],
            ["Armenia ()", "am", "374"],
            ["Aruba", "aw", "297"],
            ["Australia", "au", "61"],
            ["Austria (sterreich)", "at", "43"],
            ["Azerbaijan (Azrbaycan)", "az", "994"],
            ["Bahamas", "bs", "1242"],
            ["Bahrain ()", "bh", "973"],
            ["Bangladesh ()", "bd", "880"],
            ["Barbados", "bb", "1246"],
            ["Belarus (?)", "by", "375"],
            ["Belgium (Belgi)", "be", "32"],
            ["Belize", "bz", "501"],
            ["Benin (Bnin)", "bj", "229"],
            ["Bermuda", "bm", "1441"],
            ["Bhutan ()", "bt", "975"],
            ["Bolivia", "bo", "591"],
            ["Bosnia and Herzegovina (?  )", "ba", "387"],
            ["Botswana", "bw", "267"],
            ["Brazil (Brasil)", "br", "55"],
            ["British Indian Ocean Territory", "io", "246"],
            ["British Virgin Islands", "vg", "1284"],
            ["Brunei", "bn", "673"],
            ["Bulgaria (?)", "bg", "359"],
            ["Burkina Faso", "bf", "226"],
            ["Burundi (Uburundi)", "bi", "257"],
            ["Cambodia ()", "kh", "855"],
            ["Cameroon (Cameroun)", "cm", "237"],
            ["Canada", "ca", "1", 1, ["204", "226", "236", "249", "250", "289", "306", "343", "365", "387", "403", "416", "418", "431", "437", "438", "450", "506", "514", "519", "548", "579", "581", "587", "604", "613", "639", "647", "672", "705", "709", "742", "778", "780", "782", "807", "819", "825", "867", "873", "902", "905"]],
            ["Cape Verde (Kabu Verdi)", "cv", "238"],
            ["Caribbean Netherlands", "bq", "599", 1],
            ["Cayman Islands", "ky", "1345"],
            ["Central African Republic (Rpublique centrafricaine)", "cf", "236"],
            ["Chad (Tchad)", "td", "235"],
            ["Chile", "cl", "56"],
            ["China ()", "cn", "86"],
            ["Colombia", "co", "57"],
            ["Comoros ( )", "km", "269"],
            ["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)", "cd", "243"],
            ["Congo (Republic) (Congo-Brazzaville)", "cg", "242"],
            ["Cook Islands", "ck", "682"],
            ["Costa Rica", "cr", "506"],
            ["Cte dIvoire", "ci", "225"],
            ["Croatia (Hrvatska)", "hr", "385"],
            ["Cuba", "cu", "53"],
            ["Curaao", "cw", "599", 0],
            ["Cyprus (??)", "cy", "357"],
            ["Czech Republic (esk republika)", "cz", "420"],
            ["Denmark (Danmark)", "dk", "45"],
            ["Djibouti", "dj", "253"],
            ["Dominica", "dm", "1767"],
            ["Dominican Republic (Repblica Dominicana)", "do", "1", 2, ["809", "829", "849"]],
            ["Ecuador", "ec", "593"],
            ["Egypt ()", "eg", "20"],
            ["El Salvador", "sv", "503"],
            ["Equatorial Guinea (Guinea Ecuatorial)", "gq", "240"],
            ["Eritrea", "er", "291"],
            ["Estonia (Eesti)", "ee", "372"],
            ["Ethiopia", "et", "251"],
            ["Falkland Islands (Islas Malvinas)", "fk", "500"],
            ["Faroe Islands (Froyar)", "fo", "298"],
            ["Fiji", "fj", "679"],
            ["Finland (Suomi)", "fi", "358"],
            ["France", "fr", "33"],
            ["French Guiana (Guyane franaise)", "gf", "594"],
            ["French Polynesia (Polynsie franaise)", "pf", "689"],
            ["Gabon", "ga", "241"],
            ["Gambia", "gm", "220"],
            ["Georgia (???)", "ge", "995"],
            ["Germany (Deutschland)", "de", "49"],
            ["Ghana (Gaana)", "gh", "233"],
            ["Gibraltar", "gi", "350"],
            ["Greece ()", "gr", "30"],
            ["Greenland (Kalaallit Nunaat)", "gl", "299"],
            ["Grenada", "gd", "1473"],
            ["Guadeloupe", "gp", "590", 0],
            ["Guam", "gu", "1671"],
            ["Guatemala", "gt", "502"],
            ["Guinea (Guine)", "gn", "224"],
            ["Guinea-Bissau (Guin Bissau)", "gw", "245"],
            ["Guyana", "gy", "592"],
            ["Haiti", "ht", "509"],
            ["Honduras", "hn", "504"],
            ["Hong Kong ()", "hk", "852"],
            ["Hungary (Magyarorszg)", "hu", "36"],
            ["Iceland (?sland)", "is", "354"],
            ["India ()", "in", "91"],
            ["Indonesia", "id", "62"],
            ["Iran ()", "ir", "98"],
            ["Iraq ()", "iq", "964"],
            ["Ireland", "ie", "353"],
            ["Israel (?)", "il", "972"],
            ["Italy (Italia)", "it", "39", 0],
            ["Jamaica", "jm", "1876"],
            ["Japan ()", "jp", "81"],
            ["Jordan ()", "jo", "962"],
            ["Kazakhstan (?)", "kz", "7", 1],
            ["Kenya", "ke", "254"],
            ["Kiribati", "ki", "686"],
            ["Kuwait ()", "kw", "965"],
            ["Kyrgyzstan (?)", "kg", "996"],
            ["Laos ()", "la", "856"],
            ["Latvia (Latvija)", "lv", "371"],
            ["Lebanon ()", "lb", "961"],
            ["Lesotho", "ls", "266"],
            ["Liberia", "lr", "231"],
            ["Libya ()", "ly", "218"],
            ["Liechtenstein", "li", "423"],
            ["Lithuania (Lietuva)", "lt", "370"],
            ["Luxembourg", "lu", "352"],
            ["Macau ()", "mo", "853"],
            ["Macedonia (FYROM) ()", "mk", "389"],
            ["Madagascar (Madagasikara)", "mg", "261"],
            ["Malawi", "mw", "265"],
            ["Malaysia", "my", "60"],
            ["Maldives", "mv", "960"],
            ["Mali", "ml", "223"],
            ["Malta", "mt", "356"],
            ["Marshall Islands", "mh", "692"],
            ["Martinique", "mq", "596"],
            ["Mauritania ()", "mr", "222"],
            ["Mauritius (Moris)", "mu", "230"],
            ["Mexico (Mxico)", "mx", "52"],
            ["Micronesia", "fm", "691"],
            ["Moldova (Republica Moldova)", "md", "373"],
            ["Monaco", "mc", "377"],
            ["Mongolia ()", "mn", "976"],
            ["Montenegro (Crna Gora)", "me", "382"],
            ["Montserrat", "ms", "1664"],
            ["Morocco ()", "ma", "212"],
            ["Mozambique (Moambique)", "mz", "258"],
            ["Myanmar (Burma) ()", "mm", "95"],
            ["Namibia (Namibi)", "na", "264"],
            ["Nauru", "nr", "674"],
            ["Nepal ()", "np", "977"],
            ["Netherlands (Nederland)", "nl", "31"],
            ["New Caledonia (Nouvelle-Caldonie)", "nc", "687"],
            ["New Zealand", "nz", "64"],
            ["Nicaragua", "ni", "505"],
            ["Niger (Nijar)", "ne", "227"],
            ["Nigeria", "ng", "234"],
            ["Niue", "nu", "683"],
            ["Norfolk Island", "nf", "672"],
            ["North Korea ( ? ? )", "kp", "850"],
            ["Northern Mariana Islands", "mp", "1670"],
            ["Norway (Norge)", "no", "47"],
            ["Oman (?)", "om", "968"],
            ["Pakistan ()", "pk", "92"],
            ["Palau", "pw", "680"],
            ["Palestine (?)", "ps", "970"],
            ["Panama (Panam)", "pa", "507"],
            ["Papua New Guinea", "pg", "675"],
            ["Paraguay", "py", "595"],
            ["Peru (Per)", "pe", "51"],
            ["Philippines", "ph", "63"],
            ["Poland (Polska)", "pl", "48"],
            ["Portugal", "pt", "351"],
            ["Puerto Rico", "pr", "1", 3, ["787", "939"]],
            ["Qatar ()", "qa", "974"],
            ["Runion (La Runion)", "re", "262"],
            ["Romania (Romnia)", "ro", "40"],
            ["Russia (???)", "ru", "7", 0],
            ["Rwanda", "rw", "250"],
            ["Saint Barthlemy (Saint-Barthlemy)", "bl", "590", 1],
            ["Saint Helena", "sh", "290"],
            ["Saint Kitts and Nevis", "kn", "1869"],
            ["Saint Lucia", "lc", "1758"],
            ["Saint Martin (Saint-Martin (partie franaise))", "mf", "590", 2],
            ["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)", "pm", "508"],
            ["Saint Vincent and the Grenadines", "vc", "1784"],
            ["Samoa", "ws", "685"],
            ["San Marino", "sm", "378"],
            ["So Tom and Prncipe (So Tom e Prncipe)", "st", "239"],
            ["Saudi Arabia (  )", "sa", "966"],
            ["Senegal (Sngal)", "sn", "221"],
            ["Serbia ()", "rs", "381"],
            ["Seychelles", "sc", "248"],
            ["Sierra Leone", "sl", "232"],
            ["Singapore", "sg", "65"],
            ["Sint Maarten", "sx", "1721"],
            ["Slovakia (Slovensko)", "sk", "421"],
            ["Slovenia (Slovenija)", "si", "386"],
            ["Solomon Islands", "sb", "677"],
            ["Somalia (Soomaaliya)", "so", "252"],
            ["South Africa", "za", "27"],
            ["South Korea ()", "kr", "82"],
            ["South Sudan ( )", "ss", "211"],
            ["Spain (Espaa)", "es", "34"],
            ["Sri Lanka (?? ?)", "lk", "94"],
            ["Sudan ()", "sd", "249"],
            ["Suriname", "sr", "597"],
            ["Swaziland", "sz", "268"],
            ["Sweden (Sverige)", "se", "46"],
            ["Switzerland (Schweiz)", "ch", "41"],
            ["Syria ()", "sy", "963"],
            ["Taiwan (??)", "tw", "886"],
            ["Tajikistan", "tj", "992"],
            ["Tanzania", "tz", "255"],
            ["Thailand ()", "th", "66"],
            ["Timor-Leste", "tl", "670"],
            ["Togo", "tg", "228"],
            ["Tokelau", "tk", "690"],
            ["Tonga", "to", "676"],
            ["Trinidad and Tobago", "tt", "1868"],
            ["Tunisia ()", "tn", "216"],
            ["Turkey (Trkiye)", "tr", "90"],
            ["Turkmenistan", "tm", "993"],
            ["Turks and Caicos Islands", "tc", "1649"],
            ["Tuvalu", "tv", "688"],
            ["U.S. Virgin Islands", "vi", "1340"],
            ["Uganda", "ug", "256"],
            ["Ukraine ()", "ua", "380"],
            ["United Arab Emirates (  )", "ae", "971"],
            ["United Kingdom", "gb", "44"],
            ["United States", "us", "1", 0],
            ["Uruguay", "uy", "598"],
            ["Uzbekistan (Ozbekiston)", "uz", "998"],
            ["Vanuatu", "vu", "678"],
            ["Vatican City (Citt del Vaticano)", "va", "39", 1],
            ["Venezuela", "ve", "58"],
            ["Vietnam (Vit Nam)", "vn", "84"],
            ["Wallis and Futuna", "wf", "681"],
            ["Yemen ()", "ye", "967"],
            ["Zambia", "zm", "260"],
            ["Zimbabwe", "zw", "263"]
        ], s = 0; s < e.length; s++) o = e[s], e[s] = {
        name: o[0],
        iso2: o[1],
        dialCode: o[2],
        priority: o[3] || 0,
        areaCodes: o[4] || null
    }
});
app = app || {};
window.optimizely = window.optimizely || [];
app.inquire = function() {
    var n = {
            guest: 1,
            homeowner: 3,
            business: 5
        },
        f = {
            inquireType: "General",
            inquireTypeId: n.guest,
            modal: !0,
            container: {},
            data: {
                firstName: "",
                lastName: "",
                email: "",
                tel: "",
                country: {},
                regionId: "",
                homeownerLocation: "",
                homeownerBedrooms: "",
                homeownerLink: "",
                arrival: "",
                departure: "",
                travelMonth: "",
                questions: "",
                villas: [],
                isVillaPageInquiry: !1,
                isSplitDatePicker: !1,
                hasArrival: !1,
                hasDeparture: !1
            },
            template: "",
            templateVariables: {
                inquireForm: "inquireForm",
                inquireFormId: "formId",
                inquireFormVersion: "formVersion",
                inquireFirstName: "inquireFirstName",
                inquireLastName: "inquireLastName",
                inquireCompanyName: "inquireCompanyName",
                inquireEmail: "inquireEmail",
                inquireTel: "inquireTel",
                inquireCountry: "inquireCountry",
                inquireCheckIn: "inquireContactCheckIn",
                inquireCheckOut: "inquireContactCheckOut",
                inquireDates: "inquireDates",
                inquireQuestions: "inquireQuestions",
                inquireMarketing: "inquireMarketing",
                inquireSubmit: "inquireSubmit",
                inquireLoading: "inquireLoading",
                inquireRegion: "inquireRegion",
                inquireTravelMonth: "inquireTravelMonth",
                inquireOwnerBedrooms: "inquireOwnerBedrooms",
                inquireOwnerLink: "inquireOwnerLink",
                inquireOwnerLocation: "inquireOwnerLocation",
                inquireBusinessSubject: "inquireBusinessSubject",
                inquireError: "inquireError"
            },
            thanksTemplate: ['<div class=\'inquireThanksModal\'><h3>Thank you for submitting an inquiry!<\/h3><p>A Villa Specialist will be in touch within 24 hours. Would you like to speak to a specialist now? Give us a call!<\/p><p>North America: <span id="numberUsaDash">1-877-993-0100<\/span><\/p><p>International: <span id="numberIntDash">+1-514-393-8844<\/span><\/p><\/div>'],
            submittedTemplateVariables: {
                regionToExplore: "RegionName",
                regionUrl: "RegionLink",
                regionImage: "RegionImage"
            },
            handlebarHelpers: {
                code_lowerCase: function() {
                    return this.code.toLowerCase()
                }
            },
            onSuccess: null,
            hideFormShowThanksMsg: !1
        },
        e = "<span data-Id='{{Id}}' class='{{defaultValue}}'>{{Name}}<\/span><ul class='dropdown'>{{#with defaultVal}}<li class='universalDropdownItem' data-Id='{{Id}}'>{{Name}}<\/li>{{/with}}{{#each items}}<li class='universalDropdownItem groupTitle' data-Id='{{Id}}'>{{Name}}<\/li>{{#each subRegions}}<li class='universalDropdownItem itemChild' data-Id='{{Id}}'>{{Name}}<\/li>{{/each}}{{/each}}<\/ul><select class='dropdownSelect'>{{#with defaultVal}}<option value='{{Id}}'>{{Name}}<\/option>{{/with}}{{#each items}}<optgroup label='{{Name}}'><option value='{{Id}}'>{{Name}}<\/option>{{#each subRegions}}<option value='{{Id}}'>{{Name}}<\/option>{{/each}}<\/optgroup>{{/each}}<\/select>",
        o = "<span data-Id='{{Id}}' class='{{defaultValue}}'>{{Name}}<\/span><ul class='dropdown'>{{#with defaultVal}}<li class='universalDropdownItem' data-Id='{{Id}}'>{{Name}}<\/li>{{/with}}{{#each items}}<li class='universalDropdownItem' data-Id='{{Id}}'>{{Name}}<\/li>{{/each}}<\/ul><select class='dropdownSelect'>{{#with defaultVal}}<option value='{{Id}}'>{{Name}}<\/option>{{/with}}{{#each items}}<option value='{{Id}}'>{{Name}}<\/option>{{/each}}<\/select>",
        s = "<span data-Id='{{Id}}' class='{{defaultValue}}'>{{Name}}<\/span><ul class='dropdown'>{{#with defaultVal}}<li class='universalDropdownItem' data-Id='{{Id}}'>{{Name}}<\/li>{{/with}}{{#each items}}<li class='universalDropdownItem' data-Id='{{Id}}'>{{Name}}<\/li>{{/each}}<\/ul><select class='dropdownSelect'>{{#with defaultVal}}<option value='{{Id}}'>{{Name}}<\/option>{{/with}}{{#each items}}<option value='{{Id}}'>{{Name}}<\/option>{{/each}}<\/select>",
        h = [{
            Id: "1",
            Name: "January"
        }, {
            Id: "2",
            Name: "February"
        }, {
            Id: "3",
            Name: "March"
        }, {
            Id: "4",
            Name: "April"
        }, {
            Id: "5",
            Name: "May"
        }, {
            Id: "6",
            Name: "June"
        }, {
            Id: "7",
            Name: "July"
        }, {
            Id: "8",
            Name: "August"
        }, {
            Id: "9",
            Name: "September"
        }, {
            Id: "10",
            Name: "October"
        }, {
            Id: "11",
            Name: "November"
        }, {
            Id: "12",
            Name: "December"
        }],
        c = [{
            Id: "1",
            Name: "1 Bedroom"
        }, {
            Id: "2",
            Name: "2 Bedrooms"
        }, {
            Id: "3",
            Name: "3 Bedrooms"
        }, {
            Id: "4",
            Name: "4 Bedrooms"
        }, {
            Id: "5",
            Name: "5 Bedrooms"
        }, {
            Id: "6",
            Name: "6 Bedrooms"
        }, {
            Id: "7",
            Name: "7 Bedrooms"
        }, {
            Id: "8",
            Name: "8 Bedrooms"
        }, {
            Id: "9",
            Name: "9 Bedrooms"
        }, {
            Id: "10",
            Name: "10+ Bedrooms"
        }],
        t = function(n) {
            for (var r = n + "=", u = document.cookie.split(";"), t, i = 0; i < u.length; i++) {
                for (t = u[i]; t.charAt(0) == " ";) t = t.substring(1);
                if (t.indexOf(r) == 0) return t.substring(r.length, t.length)
            }
            return ""
        },
        i = function() {
            var n = ga.getAll(),
                t = n && n.length > 0 ? n[n.length - 1].get("clientId") : null;
            return t || ""
        },
        r = function(n) {
            this.config = _.extend({}, f, n);
            this.inquireForm = null;
            this.init()
        },
        u;
    return function(r) {
        var a = function(n, t) {
                return !$("#" + t).length && this.config.data[n] ? (delete this.config.data[n], !1) : !0
            },
            u = function(n, t) {
                this.config.defaultTrackingSettings && app.dataLayer.event(this.config.defaultTrackingSettings, n, t)
            },
            v = function(n, t) {
                this.config.defaultTrackingSettings && app.dataLayer.event(this.config.defaultTrackingSettings, n, t)
            },
            y = function(n) {
                app.ipLocation.getInstance().then(function(n) {
                    return n.country.toLowerCase()
                }).always(function(t) {
                    var i = this;
                    n.intlTelInput({
                        autoPlaceholder: !1,
                        nationalMode: !0,
                        autoFormat: !1,
                        defaultCountry: t || "auto",
                        preferredCountries: []
                    });
                    $(this.inquireForm).on("click", n, function(n) {
                        $(n.target).closest(".selected-flag").length == 1 && u.call(i, "phone_country_focus")
                    });
                    $(this.inquireForm).on("change", n, function(t) {
                        $(t.target).attr("type") == "hidden" && u.call(i, "phone_country_select", n.intlTelInput("getSelectedCountryData").iso2)
                    });
                    prefillingService.prefillField(n)
                }.bind(this))
            },
            p = function() {
                var n = this;
                u.call(n, "region_focus")
            },
            w = function(n) {
                var t = this;
                u.call(t, "region_select", n.Name)
            },
            b = function(n) {
                searchService.getRegionsList(2).then(function(t) {
                    n.dropdown({
                        enableTabletNative: !0,
                        val: {
                            Name: "Select a destination",
                            Id: "default",
                            defaultValue: "defaultValue"
                        },
                        defaultVal: {
                            Name: "All destinations",
                            Id: "default",
                            defaultValue: "defaultValue"
                        },
                        list: k(t),
                        disablePageScroll: !1,
                        children: "subRegions",
                        template: e,
                        onOpen: p.bind(this),
                        onChange: w.bind(this)
                    });
                    prefillingService.prefillField(n)
                }.bind(this))
            },
            k = function(n) {
                return _.sortBy(_.where(n, {
                    RegionLevel: 1
                }), "PropertyCount").reverse()
            },
            d = function() {
                u.call(this, {
                    Id: "553181",
                    Label: "Select a Month",
                    Result: "Original"
                })
            },
            g = function(n) {
                u.call(this, {
                    Id: "553181",
                    Label: "Select a Month",
                    Result: "Successful",
                    Value: n.Name
                })
            },
            nt = function(n) {
                n.dropdown({
                    val: {
                        Name: "Select a Month",
                        Id: "default",
                        defaultValue: "defaultValue"
                    },
                    enableTabletNative: !0,
                    defaultVal: {
                        Name: "Travel Dates TBC",
                        Id: "default",
                        defaultValue: "defaultValue"
                    },
                    list: h,
                    disablePageScroll: !1,
                    template: o,
                    onOpen: d.bind(this),
                    onChange: g.bind(this)
                })
            },
            tt = function(n, t) {
                $(".ui-datepicker a").removeAttr("href");
                var r = n.datepicker("getDate"),
                    f = t.datepicker("getDate"),
                    i = r;
                u.call(this, "select_arrival", moment(r).format("YYYY-MM-DD"));
                i.setDate(i.getDate() + 1);
                t.datepicker("option", "minDate", i);
                f <= r && (t.datepicker("setDate", i), t.trigger("select", i, t[0]), setTimeout(function() {
                    t.parent().find("button").click()
                }, 100))
            },
            it = function(n) {
                $(".ui-datepicker a").removeAttr("href");
                var t = n.datepicker("getDate");
                u.call(this, "select_departure", moment(t).format("YYYY-MM-DD"))
            },
            rt = function(n, t) {
                var i = this,
                    f = this,
                    r;
                this.config.data.isSplitDatePicker = !0;
                n.placeholder && n.placeholder();
                t.placeholder && t.placeholder();
                n.datepicker({
                    numberOfMonths: 1,
                    minDate: 0,
                    showOn: "button",
                    dateFormat: "mm-dd-yy",
                    onSelect: function(i, r) {
                        tt.call(f, $(this), t);
                        n.trigger("select", i, r)
                    },
                    beforeShow: function() {
                        $("#Search").length && $("#ui-datepicker-div").appendTo(n.parent());
                        u.call(i, "open_calendar", "arrival")
                    },
                    onClose: function() {
                        u.call(i, "close_calendar")
                    },
                    onChangeMonthYear: function(n, t, f) {
                        if ($(f.dpDiv).is(":visible")) {
                            var e = moment(n + " " + t).format("YYYY-MM");
                            r > e ? u.call(i, "month_backward", e) : u.call(i, "month_forward", e);
                            r = e
                        }
                    }
                });
                t.datepicker({
                    numberOfMonths: 1,
                    minDate: 0,
                    dateFormat: "mm-dd-yy",
                    showOn: "button",
                    onSelect: function(i, r) {
                        it.call(f, $(this), n);
                        t.trigger("select", i, r)
                    },
                    beforeShow: function() {
                        $("#Search").length && $("#ui-datepicker-div").appendTo(t.parent());
                        u.call(i, "open_calendar", "departure")
                    },
                    onClose: function() {
                        u.call(i, "close_calendar")
                    },
                    onChangeMonthYear: function(n, t, f) {
                        if ($(f.dpDiv).is(":visible")) {
                            var e = moment(n + " " + t).format("YYYY-MM");
                            r > e ? u.call(i, "month_backward", e) : u.call(i, "month_forward", e);
                            r = e
                        }
                    }
                })
            },
            ut = function(n) {
                var t = this;
                n.slider({
                    range: !0,
                    min: 100,
                    max: 5e3,
                    step: 100,
                    values: [100, 5e3],
                    stop: function(n, i) {
                        $(i.handle.children).hasClass("Min") ? u.call(t, "budget_set_min", i.value) : u.call(t, "budget_set_max", i.value)
                    },
                    slide: function(t, i) {
                        if (i.values[1] - i.values[0] < 100) return !1;
                        var r = $(i.handle),
                            f = n.slider("option"),
                            e = f.max,
                            u = e === i.value ? i.value + "+/nt" : i.value + "/nt";
                        if (whichSlider = $(this).children(".ui-state-active").index() === 1 ? "Min" : "Max", whichSlider == "Min")
                            if (i.values[0] > 600) r.html("<div class='sliderPrice Min'>$" + u + "<\/div>"), r.next(".Min").remove();
                            else {
                                if (r.next(".Min").hasClass("fixed")) {
                                    r.next(".Min").text("$" + u);
                                    return
                                }
                                r.after("<div class='sliderPrice fixed Min'>$" + u + "<\/div>");
                                r.html("")
                            }
                        if (whichSlider == "Max")
                            if (i.values[1] < 4200) r.html("<div class='sliderPrice Max'>$" + u + "<\/div>"), r.next(".Max").remove();
                            else {
                                if (r.next(".Max").hasClass("fixed")) {
                                    r.next(".Max").text("$" + u);
                                    return
                                }
                                r.after("<div class='sliderPrice fixed Max'>$" + u + "<\/div>");
                                r.html("")
                            }
                        isTriggerByClear = !1
                    }
                });
                n.children(".ui-slider-handle").each(function(t) {
                    var r = n.slider("option"),
                        u = r.max,
                        i = n.slider("values", t),
                        f = u === i ? i + "+/nt" : i + "/nt",
                        e = t === 0 ? "Min" : "Max";
                    $(this).after("<div class='sliderPrice fixed " + e + "'>$" + f + "<\/div>")
                })
            },
            ft = function() {
                u.call(this, {
                    Id: "218845",
                    Label: "Number of Bedrooms",
                    Result: "Original"
                })
            },
            et = function(n) {
                u.call(this, {
                    Id: "218845",
                    Label: "Number of Bedrooms",
                    Result: "Successful",
                    Value: n.Name
                })
            },
            ot = function(n) {
                n.dropdown({
                    val: {
                        Name: "Select bedrooms",
                        Id: "default",
                        defaultValue: "defaultValue"
                    },
                    enableTabletNative: !0,
                    defaultVal: {
                        Name: "Select bedrooms",
                        Id: "default",
                        defaultValue: "defaultValue"
                    },
                    list: c,
                    disablePageScroll: !1,
                    template: s,
                    onOpen: ft.bind(this),
                    onChange: et.bind(this)
                })
            },
            st = function(n) {
                var t = $(n.target);
                switch (t.attr("id")) {
                    case this.config.templateVariables.inquireSubmit:
                        return this.submit(), !1
                }
                return !0
            },
            ht = function(n) {
                var t = $(n.target),
                    i = t.val();
                switch (t.attr("id")) {
                    case this.config.templateVariables.inquireFirstName:
                        u.call(this, "first_name", "input");
                        break;
                    case this.config.templateVariables.inquireLastName:
                        u.call(this, "last_name", "input");
                        break;
                    case this.config.templateVariables.inquireEmail:
                        u.call(this, "email", "input");
                        break;
                    case this.config.templateVariables.inquireTel:
                        u.call(this, "phone", "input");
                        break;
                    case this.config.templateVariables.inquireBusinessSubject:
                        u.call(this, "subject", "input");
                        break;
                    case this.config.templateVariables.inquireQuestions:
                        u.call(this, "message", "input");
                        break;
                    case this.config.templateVariables.inquireMarketing:
                        u.call(this, "marketing", t.is(":checked").toString())
                }
            },
            f = function() {
                u.call(this, "close", "'x' or overlay")
            },
            ct = function() {
                if (!this.config.container) {
                    console.error("Must provide a review container if not using a modal");
                    return
                }
                this.config.container.html(this.inquireForm).removeClass("start")
            },
            lt = function() {
                this.inquireForm.appendTo("body").modal({
                    fadeDuration: 250,
                    fadeDelay: .75,
                    zIndex: 2e3
                });
                var n = this.inquireForm;
                n.on($.modal.OPEN, function() {
                    if (n.height() > $(window).height()) {
                        var t = n.height() - $(window).height();
                        n.find(".close-modal").css({
                            top: t / 2 - 15 + "px"
                        })
                    }
                });
                this.inquireForm.one($.modal.CLOSE, f.bind(this));
                prefillingService.prefillForm(this.inquireForm)
            },
            at = function(n) {
                var r = this.config.thanksTemplate,
                    i = r[0],
                    u, e;
                if (n.Status === 0) {
                    if (n.Data && n.Data.length > 0 && r.length > 1) {
                        var o = r[1],
                            s = o,
                            h = Handlebars.compile(s),
                            t = {};
                        $.each(this.config.submittedTemplateVariables, function(i, r) {
                            t[i] = n.Data[0][r]
                        });
                        t.regionUrl && (u = t.regionUrl.replace("-", "").split("|"), t.regionUrl = "/explore/" + u[u.length - 1]);
                        i = h(t)
                    }
                    if (this.config.modal) {
                        e = $(i).appendTo("body").modal({
                            fadeDuration: 250,
                            fadeDelay: .75
                        });
                        $(e).one($.modal.CLOSE, f.bind(this))
                    } else this.config.hideFormShowThanksMsg ? (this.config.container.addClass("hidden"), this.config.container.after(i)) : this.config.container.html(i)
                }
            },
            vt = function() {
                var t, i = this.config.inquireTypeId,
                    n;
                return t = i == 1 ? SERVICECONNNECTION + "/DeviceServiceEngine.svc/SendInquiry" : SERVICECONNNECTION + "/DeviceServiceEngine.svc/SendContactUsRequest", n = yt.call(this), n.ExperimentId = getOptimizelyExperimentId(), app.dataLayer.email(n.FirstName, n.Email), $.ajax({
                    type: "POST",
                    url: t,
                    contentType: "application/json",
                    data: JSON.stringify(n)
                }).done(function(n) {
                    window.optimizely.push(["trackEvent", this.config.inquireType + " Success"]);
                    n != null && n.Data != null && app.dataLayer.trackCrmClientId(n.Data[0].CRMClientId)
                }.bind(this))
            },
            yt = function() {
                function yi(n) {
                    for (var t in n)
                        if (Object.prototype.hasOwnProperty.call(n, t)) return !0;
                    return !1
                }
                var dt = this.config.data,
                    ut = this.config.inquireTypeId,
                    h = app.foundUs.get(),
                    ki = /ipad|android|android 3.0|xoom|sch-i800|playbook|tablet|kindle|nexus/i.test(navigator.userAgent) && !(/mobile/i.test(navigator.userAgent) && /android/i.test(navigator.userAgent)),
                    gt = this.inquireForm.find("input[name=" + this.config.templateVariables.inquireFormId + "]"),
                    ft = parseInt(gt.val()),
                    ni = this.inquireForm.find("input[name=" + this.config.templateVariables.inquireFormVersion + "]"),
                    et = ni.val(),
                    ti = this.inquireForm.find("#" + this.config.templateVariables.inquireFirstName),
                    ot = ti.val(),
                    ii = this.inquireForm.find("#" + this.config.templateVariables.inquireLastName),
                    st = ii.val(),
                    ri = this.inquireForm.find("#" + this.config.templateVariables.inquireCompanyName),
                    ht = ri.val(),
                    ui = this.inquireForm.find("#" + this.config.templateVariables.inquireEmail),
                    y = ui.val(),
                    fi = this.inquireForm.find("#" + this.config.templateVariables.inquireTel),
                    p = fi.val(),
                    ct = this.inquireForm.find("#" + this.config.templateVariables.inquireCountry),
                    c = ct.intlTelInput && ct.intlTelInput("getSelectedCountryData"),
                    ei = c.dialCode || "",
                    lt = this.inquireForm.find("#" + this.config.templateVariables.inquireRegion),
                    r = lt.dropdownGetValue && lt.dropdownGetValue(),
                    l, d, f, s, a, n, kt;
                r || (r = [], r.Name = $("#regionName").val(), r.Id = $("#regionIds").val(), r.isSplit = !0);
                var at = r && r.Id || "",
                    oi = this.inquireForm.find("#" + this.config.templateVariables.inquireOwnerLocation),
                    w = oi.val(),
                    vt = this.inquireForm.find("#" + this.config.templateVariables.inquireOwnerBedrooms),
                    yt = vt.dropdownGetValue && vt.dropdownGetValue(),
                    b = yt && yt.Id || "",
                    si = this.inquireForm.find("#" + this.config.templateVariables.inquireOwnerLink),
                    k = si.val(),
                    pt = this.inquireForm.find("#" + this.config.templateVariables.inquireTravelMonth),
                    u = pt.dropdownGetValue && pt.dropdownGetValue(),
                    hi = u && u.Id || "",
                    e = this.inquireForm.find("#" + this.config.templateVariables.inquireCheckIn),
                    o;
                this.config.data.isSplitDatePicker && !u ? o = e.datepicker && e.datepicker("getDate") : (l = e.DatePickerGetDate && e.DatePickerGetDate(), o = l && l[0] && l[0][0]);
                d = o && moment(o).format("MM/DD/YYYY");
                f = this.inquireForm.find("#" + this.config.templateVariables.inquireCheckOut);
                this.config.data.isSplitDatePicker && !u ? s = f.datepicker && f.datepicker("getDate") : (a = f.DatePickerGetDate && f.DatePickerGetDate(), s = a && a[0] && a[0][1]);
                var wt = s && moment(s).format("MM/DD/YYYY"),
                    g = this.inquireForm.find("#" + this.config.templateVariables.inquirePriceSlider),
                    nt = g.slider("values")[0] || 0,
                    tt = g.slider("values")[1] || 0,
                    ci = this.inquireForm.find("#" + this.config.templateVariables.inquireQuestions),
                    it = ci.val(),
                    li = this.inquireForm.find("#" + this.config.templateVariables.inquireMarketing),
                    ai = li.is(":checked"),
                    vi = pageName === "searchPage" ? !0 : !1,
                    bt = "";
                typeof sessionStorage.queryParameters != "undefined" && (n = JSON.parse(sessionStorage.queryParameters), g.length || (nt = n.lowerPrice || 0, tt = n.upperPrice || 0), bt = n.RegionIds.toString() || "", !e.length && n && n.CheckIn && (n.CheckIn = moment(n.CheckIn, "YYYYMMDD").format("MM/DD/YYYY"), o && r.isSplit !== undefined || (d = n.CheckIn)), !f.length && n && n.CheckOut && (n.CheckOut = moment(n.CheckOut, "YYYYMMDD").format("MM/DD/YYYY"), s && r.isSplit !== undefined || (wt = n.CheckOut)));
                kt = function() {
                    var t = [];
                    return $.each(n.collections, function(n, i) {
                        i && t.push(n)
                    }), t
                };
                var pi = function() {
                        return vi ? "\r\n\r\nSEARCH CRITERIA: \r\nRegions: " + (n.RegionIds.length ? $("#regionName").val() + ", " + $("#continentName").val() : "") + "\r\nCheckIn: " + (n.CheckIn ? n.CheckIn : "") + " - CheckOut: " + (n.CheckOut ? n.CheckOut : "") + "\r\nNumber of Travelers: " + (n.guests ? n.guests : "") + "\r\nMin Rate: " + (n.lowerPrice ? n.lowerPrice : "0") + " - Max Rate: " + (n.upperPrice ? n.upperPrice : "0") + "\r\nCollections Active: " + (yi(n.collections) ? kt() : "") : ""
                    },
                    v = (this.inquireForm.find("#optimizelyHiddenFlag").size() ? this.inquireForm.find("#optimizelyHiddenFlag").val() : "") + "\r\nGUEST COMMENTS: " + it + "\r\n--------------------------------------------------\r\nMIN RATE: " + nt + " - MAX RATE: " + tt + (r && r.Id !== "default" && !r.isSplit ? "\r\nREGION SELECTED: " + r.Name : "") + (u && u.Id !== "default" ? "\r\nTRAVEL MONTH SELECTED: " + u.Name : "") + pi(),
                    wi = this.config.data.villas.length > 0 ? this.config.data.villas : null,
                    bi = dt.isVillaPageInquiry ? WEBACTIVITY.VILLAINQUIRY : WEBACTIVITY.INQUIRY,
                    rt;
                return ut == 1 ? rt = {
                    InquireType: this.config.inquireType,
                    InquireTypeId: this.config.inquireTypeId,
                    FirstName: ot,
                    LastName: st,
                    Email: y,
                    Telephone: p,
                    CountryCode: ei,
                    RegionId: at === "default" ? bt : at,
                    PriceHigh: tt,
                    PriceLow: nt,
                    IsEmailSubscribed: emailSubscription.getIsEmailSubscribedValue(y, ai, this.config.defaultTrackingSettings),
                    HomeownerLocation: w,
                    HomeownerBedrooms: b,
                    HomeownerLink: k,
                    ArrivalDate: d,
                    DepartureDate: wt,
                    TravelMonth: hi,
                    Comment: v,
                    Properties: wi,
                    AccountId: "",
                    LeadId: "",
                    PlatformId: PLATFORMID,
                    RequestId: "0",
                    SessionId: window.sessionID || "",
                    TrackingId: "-1",
                    WebActivityId: bi,
                    SiteId: $("#trackingSiteId").val(),
                    IpAddress: $("#remoteIp").val(),
                    GACID: i(),
                    GASID: t("sid"),
                    GCLID: t("gclid"),
                    FoundUsKeywords: h.FoundUsKeywords,
                    HowYouFoundUs: h.HowYouFoundUs,
                    CreatorTypeId: 1,
                    Extention: "",
                    guid: "",
                    FormId: ft,
                    FormVersion: et,
                    PageId: pageIdentificationRepository.pageId,
                    PlatformVersion: PLATFORMVERSION,
                    BrowserUserAgent: navigator.userAgent,
                    BrowsingHistory: browsingHistoryService.getAndClearJsonString()
                } : (v = (p ? "\r\nPhone: " + p : "") + (ht ? "\r\nCompany Name: " + ht + (h.HowYouFoundUs ? "\r\nFound Us: " + h.HowYouFoundUs : "") : "") + (c && c.name ? "\r\nCountry: " + c.name : "") + (k ? "\r\nProperty Website: " + k : "") + (w ? "\rProperty Location: " + w : "") + (b ? "\r\nProperty Bedrooms: " + b : "") + (r && r.Id ? "\r\nRegion selected: " + r.Name : "") + (u && u.Id ? "\r\nTRAVEL MONTH: " + u.Name : "") + (it ? "\r\n" + it : ""), rt = {
                    selectedIndex: ut,
                    email: y,
                    firstName: ot,
                    lastName: st,
                    comment: v,
                    body: v,
                    FormId: ft,
                    FormVersion: et,
                    PageId: pageIdentificationRepository.pageId,
                    PlatformVersion: PLATFORMVERSION
                }), rt
            },
            pt = function(n) {
                var i = this.inquireForm.find("#" + this.config.templateVariables.inquireEmail),
                    t = this.inquireForm.find("#" + this.config.templateVariables.inquireTel);
                i.length > 0 && t.length > 0 && (this.config.data.isVillaPageInquiry ? t.val() ? (i.prop("required", !1), t.prop("required", !0)) : (t.prop("required", !1), i.prop("required", !0)) : (i.prop("required", !0), t.prop("required", !0)), n.parsley().destroy())
            },
            wt = function() {
                $("#" + this.config.templateVariables.inquireSubmit).addClass("loading")
            },
            l = function() {
                $("#" + this.config.templateVariables.inquireSubmit).removeClass("loading")
            },
            bt = function(n) {
                var i = n.find(".parsley-error"),
                    t = [];
                $.each(i, function(n, i) {
                    t.push($(i).attr("id"))
                });
                u.call(this, "submit_invalid", t.join("; "))
            },
            kt = function(n) {
                n.length > 0 ? n.show() : alert("Inquiry could not be submitted due to a server error. Please try again later.");
                u.call(this, {
                    Id: "797472",
                    Label: "Submit Button",
                    "Validation Error": !1,
                    "Error Message": "Server request error"
                });
                v.call(this, {
                    Id: "723886",
                    Label: "Form Error"
                })
            },
            dt = function(t) {
                typeof this.config.onSuccess == "function" && this.config.onSuccess();
                this.config.inquireTypeId === n.guest && app.dataLayer.criteoSuccessInquiry(this.config.villas);
                this.config.modal && this.inquireForm.off($.modal.CLOSE);
                at.call(this, t);
                u.call(this, "submit_success")
            },
            gt = function(n, t) {
                if (t.Error) {
                    kt.call(this, n);
                    return
                }
                dt.call(this, t)
            };
        r.init = function() {
            var o, n, t, i, r, u, f, e;
            if (this.config.template === "") {
                console.error("Must provide a review module template to initilize");
                return
            }
            $.each(this.config.handlebarHelpers, function(n, t) {
                Handlebars.registerHelper(n, t)
            });
            o = $.extend({}, this.config.templateVariables, this.config.data);
            this.inquireForm = $(Handlebars.compile(this.config.template)(o));
            $.each(this.config.templateVariables, a.bind(this));
            n = this.inquireForm.find("#" + this.config.templateVariables.inquireCountry);
            n.length && y.call(this, n);
            t = this.inquireForm.find("#" + this.config.templateVariables.inquireRegion);
            t.length && b.call(this, t);
            i = this.inquireForm.find("#" + this.config.templateVariables.inquireTravelMonth);
            i.length && nt.call(this, i);
            r = this.inquireForm.find("#" + this.config.templateVariables.inquireCheckIn);
            u = this.inquireForm.find("#" + this.config.templateVariables.inquireCheckOut);
            r.length && u.length && rt.call(this, r, u);
            f = this.inquireForm.find("#" + this.config.templateVariables.inquirePriceSlider);
            f.length && ut.call(this, f);
            e = this.inquireForm.find("#" + this.config.templateVariables.inquireOwnerBedrooms);
            e.length && ot.call(this, e);
            this.inquireForm.find("input, textarea, checkbox").on("change", ht.bind(this));
            this.inquireForm.on("click", st.bind(this));
            prefillingService.prefillForm(this.inquireForm);
            prefillingService.trackForm(this.inquireForm)
        };
        r.show = function(t) {
            return (t || this.config.inquireTypeId !== n.guest || app.dataLayer.criteoInquiry(this.config.data.villas), this.config.modal) ? lt.call(this) : ct.call(this)
        };
        r.submit = function() {
            wt.call(this);
            var n = this.inquireForm.find("#" + this.config.templateVariables.inquireForm),
                t = this.inquireForm.find("#" + this.config.templateVariables.inquireError);
            if (t.hide(), pt.call(this, n), !n.parsley().validate()) return bt.call(this, n), l.call(this), !1;
            vt.call(this).done(gt.bind(this, t)).done(l.bind(this)).always(function() {
                n.parsley().reset()
            })
        }
    }(r.prototype), u = function(n) {
        return new r(n)
    }, {
        inquireType: n,
        getCookie: t,
        getClientId: i,
        init: u
    }
}();
app.dataLayer.trackCrmClientId(app.inquire.getCookie("lcrmid"));
var app = app || {},
    pageId = pageId || $("body").attr("id"),
    $html = $("html"),
    $body = $body || $("body"),
    $section = $section || $("section"),
    $contactDropDownMenu = $("#contactDropDownMenu"),
    $contactReasonGuest = $contactReasonGuest || $("#contactReasonGuest"),
    $contactReasonBusiness = $contactReasonBusiness || $("#contactReasonBusiness"),
    $contactReasonOwner = $contactReasonOwner || $("#contactReasonOwner"),
    $contactOwnerFormWrapper = $contactOwnerFormWrapper || $("#contactOwnerFormWrapper"),
    $contactGuestFormWrapper = $contactGuestFormWrapper || $("#contactGuestFormWrapper"),
    $contactBusinessFormWrapper = $contactBusinessFormWrapper || $("#contactBusinessFormWrapper"),
    $ideaToggle = $ideaToggle || $("#ideaToggle"),
    $vacationIdeaWrapper = $vacationIdeaWrapper || $("#vacationIdeaWrapper"),
    $groupListToggle = $groupListToggle || $("#groupListToggle"),
    $groupListsToggle = $groupListsToggle || $(".groupListsToggle"),
    $headerSearchWrapper = $headerSearchWrapper || $(".searchWrapper"),
    $favoriteToggle = $favoriteToggle || $(".favoriteToggle"),
    $contactToggle = $contactToggle || $("#contactToggle"),
    $myAccountDropDownWrapper = $myAccountDropDownWrapper || $(".myAccountDropDownWrapper"),
    $groupListsDropDownWrapper = $groupListsDropDownWrapper || $(".groupListsDropDownWrapper"),
    $header = $header || $("header"),
    $headerSearchBar = $headerSearchBar || $("#headerSearchBar"),
    $xContact = $("#xContact"),
    $xIdea = $("#xIdea"),
    $headerWlCount = $("#headerWlCount"),
    $buildWishlist = $("#buildWishlist"),
    $cartCount = $(".cartCount"),
    $favBubbleImg = $("#favBubbleImg"),
    $sideMenuRight = $("#sideMenuRight"),
    $tabletSearchLi = $("#tabletSearchLi"),
    $login = $("#login"),
    $loginSpinner = $("#loginSpinner"),
    $headerOverlay = $("#headerOverlay"),
    isTablet = isTablet || /ipad|android|android 3.0|xoom|sch-i800|playbook|tablet|kindle|nexus/i.test(navigator.userAgent) && !(/mobile/i.test(navigator.userAgent) && /android/i.test(navigator.userAgent));
app.header = function() {
    var n = this,
        h = 0;
    n.config = {};
    var k = {
            dontInitSearch: !1,
            headerTransitionsColor: !1
        },
        t = function(n) {
            f();
            app.searchFilter && (app.searchFilter.closeAllFilters(), app.searchFilter.visible(!1));
            $header.addClass("itemOpen");
            $headerOverlay.removeClass();
            $headerOverlay.addClass("headerOverlay");
            $loginSpinner.addClass("hidden");
            n.addClassTransparent && $headerOverlay.addClass("transparent");
            n.class && $headerOverlay.addClass(n.class)
        },
        i = function() {
            app.searchFilter && app.searchFilter.visible(!0);
            $header.removeClass("itemOpen");
            $headerOverlay.addClass("hidden");
            $headerOverlay.removeClass("transparent");
            $loginSpinner.removeClass("hidden")
        },
        c = function() {
            t({
                addClassTransparent: !0,
                "class": "idea"
            });
            $vacationIdeaWrapper.removeClass("hidden");
            b($vacationIdeaWrapper);
            $ideaToggle.parent().addClass("open");
            $sideMenuRight.hasClass("sideMenuOpen") && app.sideMenu.close();
            (window.location.hash === "#login" || window.location.hash === "#signup") && routingService.navigate(window.location, null, "");
            app.login.closeAllLoginViews()
        },
        r = function() {
            i();
            $vacationIdeaWrapper.addClass("hidden");
            s($vacationIdeaWrapper);
            $ideaToggle.parent().removeClass("open")
        },
        l = function() {
            var n = favoriteService.favorites().length;
            $headerWlCount.text(n);
            $cartCount.text(n);
            n === 0 ? ($favoriteToggle.addClass("noCount"), $cartCount.addClass("hidden"), $buildWishlist.removeClass("hidden")) : ($favoriteToggle.removeClass("noCount"), $cartCount.removeClass("hidden"), $buildWishlist.addClass("hidden"))
        },
        d = function(n) {
            $favBubbleImg.attr("src", n);
            $(".trans").removeClass("favSmall").delay(1e3).queue(function(n) {
                $(this).hide().addClass("favSmall").show();
                n()
            })
        },
        g = function() {
            t({
                addClassTransparent: !0,
                displayOverlay: !0,
                "class": "favorite"
            });
            $myAccountDropDownWrapper.show();
            $favoriteToggle.parent().addClass("open");
            (window.location.hash === "#login" || window.location.hash === "#signup") && routingService.navigate(window.location, null, "");
            app.login.closeAllLoginViews()
        },
        e = function() {
            i();
            $myAccountDropDownWrapper.hide();
            $favoriteToggle.parent().removeClass("open")
        },
        a = function() {
            var n = favoriteService.favorites();
            n.length === 0 ? $myAccountDropDownWrapper.is(":visible") ? e() : g() : (app.dataLayer.virtualPage("Favorite Page Inquiry Form Open", "/virtual/form/open/inquiry/wishlist/" + n.join("-")), app.dataLayer.event("inquiryOpen", "wishlist", n.join("-")), window.location.href = "/favorites")
        },
        v = function(n) {
            if (t({
                    addClassTransparent: !0,
                    "class": "contact"
                }), $contactDropDownMenu.removeClass("hidden"), b($contactDropDownMenu), $contactToggle.parent().addClass("open"), n) switch (n) {
                case HEADER_FORM.GUEST:
                    $contactReasonGuest.attr("checked", !0);
                    app.headerInquireForm.openGuestForm();
                    break;
                case HEADER_FORM.BUSINESS:
                    $contactReasonBusiness.attr("checked", !0);
                    app.headerInquireForm.openBusinessForm();
                    break;
                case HEADER_FORM.OWNER:
                    $contactReasonOwner.attr("checked", !0);
                    app.headerInquireForm.openOwnerForm()
            }
            $sideMenuRight.hasClass("sideMenuOpen") && app.sideMenu.close();
            (window.location.hash === "#login" || window.location.hash === "#signup") && routingService.navigate(window.location, null, "");
            app.login.closeAllLoginViews();
            $contactReasonGuest.is(":checked") && (app.dataLayer.virtualPage("Contact Us Inquiry Form Open", "/virtual/form/open/inquiry/contactUs"), app.dataLayer.event("inquiryOpen", "contactUs", 0));
            $(window).width() < 1100 && ($("main").hide(), $("body").hasClass("mapResults") && $("#mapContainer").css("opacity", 0), window.scrollTo(0, 0));
            $("#GroupList footer").css("position", "relative")
        },
        u = function() {
            i();
            $contactDropDownMenu.addClass("hidden");
            s($contactDropDownMenu);
            $contactToggle.parent().removeClass("open");
            $("main").show();
            $("body").hasClass("mapResults") && $("#mapContainer").css("opacity", 1);
            $("#GroupList footer").css("position", "")
        },
        nt = function() {
            t({
                addClassTransparent: !0,
                displayOverlay: !0,
                avoidNoScroll: !0,
                "class": "group"
            });
            $groupListsDropDownWrapper.show();
            $groupListsToggle.parent().addClass("open");
            $sideMenuRight.hasClass("sideMenuOpen") && app.sideMenu.close();
            (window.location.hash === "#login" || window.location.hash === "#signup") && routingService.navigate(window.location, null, "");
            app.login.closeAllLoginViews()
        },
        o = function() {
            i();
            $groupListsDropDownWrapper.hide();
            $groupListsToggle.parent().removeClass("open")
        },
        y = function() {
            groupListService.getLists().then(function(n) {
                var i, r, t;
                if (!n || n.length < 1) {
                    h = 0;
                    $groupListsToggle.parent("li").addClass("hidden");
                    $groupListsToggle.addClass("hidden");
                    return
                }
                for ($favoriteToggle.parent("li.link").addClass("hidden"), h = n.length, i = $(".groupListsDropDown"), r = 0, i.empty(), t = 0; t < n.length; t++) n[t].favoritesCount > 0 && (i.append("<li><a href='/GroupList?glid=" + n[t].id + "'>" + n[t].listName + " <span class='cartCount'>" + n[t].favoritesCount + "<\/span><\/a><\/li>"), r++);
                r < 1 ? ($groupListsToggle.parent("li").addClass("hidden"), $groupListsToggle.addClass("hidden")) : ($groupListsToggle.parent("li").removeClass("hidden"), $groupListsToggle.removeClass("hidden"))
            }).fail(function() {
                $groupListsToggle.parent("li").addClass("hidden");
                $groupListsToggle.addClass("hidden");
                return
            })
        },
        p = function(n) {
            n < 1100 ? $header.find($headerSearchWrapper).appendTo($tabletSearchLi) : $header.find($headerSearchWrapper).appendTo($headerSearchBar)
        },
        w = function() {
            var i = it(),
                n = tt(),
                t = !1,
                r = $("#noBrowserSupportBg");
            n = n.split(".")[0] + "." + n.split(".")[1];
            i == "MSIE" && n < 9 ? t = !0 : i == "Safari" && n < 4.1 ? t = !0 : i == "Chrome" && n < 25 ? t = !0 : i == "Firefox" && n < 19 && (t = !0);
            t && document.cookie.indexOf("closedNoSupportBanner") < 0 && r.show();
            $("#closeNoBrowserSupport").on("click", function() {
                r.hide();
                document.cookie = "closedNoSupportBanner=true"
            })
        },
        tt = function() {
            var r = navigator.appName,
                t = navigator.userAgent,
                i, n = t.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);
            return n && (i = t.match(/version\/([\.\d]+)/i)) != null && (n[2] = i[1]), n = n ? [n[1], n[2]] : [r, navigator.appVersion, "-?"], n[1]
        },
        it = function() {
            var r = navigator.appName,
                t = navigator.userAgent,
                i, n = t.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);
            return n && (i = t.match(/version\/([\.\d]+)/i)) != null && (n[2] = i[1]), n = n ? [n[1], n[2]] : [r, navigator.appVersion, "-?"], n[0]
        },
        b = function(n) {
            var i = n.outerHeight(),
                r = $(window).height(),
                u = $("#headerMenu").outerHeight(),
                t = r - u;
            i > t && $(window).width() > 1100 ? (n.css("max-height", t + "px").css("overflow-y", "scroll"), $("main").hide()) : $(window).width() > 1100 && s(n)
        },
        s = function(n) {
            n.css("max-height", "").css("overflow-y", "");
            $("main").show()
        },
        f = function() {
            r();
            e();
            u();
            o()
        },
        rt = function(t) {
            var i = $(window).width();
            t && (n.config = _.extend({}, k, t));
            authenticationService.isAuthenticated() && y();
            l();
            w();
            p(i);
            app.login.init();
            app.headerInquireForm.init();
            app.sideMenu.init(n.config.headerTransitionsColor);
            n.config.dontInitSearch || $.when(app.searchbar, app.searchbarDateSelector, app.searchbarGuest, app.searbarButton).done(function(n) {
                var t = $("#headerSearchWrapper"),
                    i = $("#searchInput"),
                    r = $("#searchCheckInOut"),
                    u = $("#searchGuest"),
                    f = $("#searchBtn");
                n.init(i, t, "headerDdStyle", null, {
                    page: "home",
                    section: "header"
                });
                app.transparentHeader.isDefined() || t.removeClass("hidden")
            }).fail(function(n) {
                throw n;
            });
            regionPhoneService.getPhoneNumber().then(function(n) {
                n && $('[id="numberUsaDot"]').html(n.PhoneNumber.split("-").join("."))
            });
            $(document).on("membershipViewOpen", function() {
                f()
            });
            $(window).resize(function() {
                p($(window).width())
            });
            $headerOverlay.on("click", function() {
                f()
            });
            $ideaToggle.on("click", function() {
                $vacationIdeaWrapper.hasClass("hidden") ? c() : r()
            });
            $xIdea.on("click", function() {
                r()
            });
            $favoriteToggle.on("click", function() {
                a()
            });
            $contactToggle.on("click", function() {
                $contactDropDownMenu.hasClass("hidden") ? v() : u()
            });
            $xContact.on("click", function() {
                u()
            });
            $groupListToggle.on("click", function() {
                $groupListsDropDownWrapper.is(":visible") ? o() : nt()
            })
        };
    return {
        init: rt,
        updateHeaderWishlist: l,
        animateFavBubble: d,
        noBrowserSupport: w,
        closeAllMenu: f,
        closeContact: u,
        closeIdea: r,
        openContact: v,
        openIdea: c,
        closeOpenFavorite: a,
        closeFavorite: e,
        handleGroupListsMenuItems: y,
        closeGroupListsMenu: o
    }
}();
app.transparentHeader = function() {
    var n = {
            config: _.extend({}, {
                hiddenSearchBox: !0,
                solidHeader: !0,
                isDefined: !1,
                offsetTopSearchBox: 400,
                offsetTopHeader: 50
            })
        },
        t = function() {
            return n.config.isDefined
        },
        i = function(t) {
            n.config = _.extend({}, n.config, t);
            n.config.isDefined = !0;
            $("section").on("scroll", function() {
                var t = $("section").scrollTop();
                t > n.config.offsetTopSearchBox && n.config.hiddenSearchBox ? ($("#headerSearchWrapper").toggleClass("hidden"), n.config.hiddenSearchBox = !1) : t <= n.config.offsetTopSearchBox && !n.config.hiddenSearchBox && ($("#headerSearchWrapper").toggleClass("hidden"), n.config.hiddenSearchBox = !0);
                t > n.config.offsetTopHeader && n.config.solidHeader ? ($header.addClass("black"), n.config.solidHeader = !1) : t <= n.config.offsetTopHeader && !n.config.solidHeader && ($header.removeClass("black"), n.config.solidHeader = !0)
            })
        };
    return {
        init: i,
        isDefined: t
    }
}();
app.sideMenu = function(n) {
    var i = $("#sideMenuRight"),
        h = $("#sideMenuToggle"),
        c = $(".closeSideMenu"),
        l = $("#sideMenuContact"),
        e = $("#headerSubmenu"),
        a = $("#sideMenuFavorite"),
        r = $("#sideMenuGroupLists"),
        u = !1,
        o = !1,
        t = function() {
            i.hasClass("sideMenuOpen") && (app.searchFilter && app.searchFilter.visible(!0), i.removeClass("sideMenuOpen"), e.removeClass("sideMenuOpen"), u && (o ? $header.addClass("black") : $header.removeClass("black")), $body.find("#drop-mask").remove(), $(document).unbind("scroll", t), $("section").unbind("scroll", t))
        },
        s = function() {
            i.hasClass("sideMenuOpen") || (n.closeAllMenu(), app.searchFilter && (app.searchFilter.closeAllFilters(), app.searchFilter.visible(!1)), $(document).bind("scroll", t), $("section").bind("scroll", t), $header.before('<div id="drop-mask" class="drop-mask"><\/div>'), i.addClass("sideMenuOpen"), e.addClass("sideMenuOpen"), u && (o = $header.hasClass("black"), $header.addClass("black")))
        },
        f = function() {
            r.removeClass("active")
        },
        v = function(e) {
            u = e;
            $(document).on("click", "#drop-mask", function() {
                t();
                n.closeFavorite();
                f()
            });
            h.on("click", function() {
                i.hasClass("sideMenuOpen") ? t() : s()
            });
            c.on("click", function() {
                t();
                n.closeFavorite();
                f()
            });
            $("#sideMenu .track").on("click", function() {
                t();
                n.closeFavorite();
                f()
            });
            l.on("click", function() {
                n.openContact()
            });
            a.on("click", function() {
                n.closeOpenFavorite()
            });
            r.on("click", function() {
                r.toggleClass("active")
            })
        };
    return {
        init: v,
        close: t,
        open: s
    }
}(app.header);
app.login = function() {
    var n, u = $("#headerOverlay"),
        t = $("#loginSpinner"),
        a = $("#sideSignup"),
        v = $("#sideLogin"),
        y = $("#sideLogout"),
        p = function() {
            $login.on("click", function() {
                $("#membershipFormWrapper").is(":visible") ? routingService.navigate(window.location, null, "") : (routingService.navigate(window.location, null, "login"), $login.closest(".link").addClass("open"), mix.click({
                    Id: "744242",
                    Label: "Open Form Button",
                    "Page Section": "Header",
                    "Action Type": "Form",
                    "Form Sub Category": "Account",
                    "Form Type": "Login",
                    Value: "Login"
                }), mix.page({
                    Label: "Login"
                }))
            });
            $body.on("click", "#signUp", function() {
                routingService.navigate(window.location, null, "signup");
                mix.click({
                    Id: "744242",
                    Label: "Open Form Button",
                    "Page Section": "Main",
                    "Action Type": "Form",
                    "Form Sub Category": "Account",
                    "Form Type": "Signup",
                    Value: "Sign up now"
                });
                mix.page({
                    Label: "Signup"
                })
            });
            a.on("click", function() {
                app.sideMenu.close();
                routingService.navigate(window.location, null, "signup");
                mix.click({
                    Id: "744242",
                    Label: "Open Form Button",
                    "Page Section": "Header",
                    "Action Type": "Form",
                    "Form Sub Category": "Account",
                    "Form Type": "Signup",
                    Value: "Sign Up"
                });
                mix.page({
                    Label: "Signup"
                })
            });
            $body.on("click", "#forgotPassword", function() {
                routingService.navigate(window.location, null, "forgotpassword")
            });
            $body.on("click", ".openLoginView", function() {
                routingService.navigate(window.location, null, "login");
                mix.click({
                    Id: "744242",
                    Label: "Open Form Button",
                    "Page Section": "Main",
                    "Action Type": "Form",
                    "Form Sub Category": "Account",
                    "Form Type": "Signup",
                    Value: "Log in"
                });
                mix.page({
                    Label: "Login"
                })
            });
            v.on("click", function() {
                app.sideMenu.close();
                routingService.navigate(window.location, null, "login");
                mix.click({
                    Id: "744242",
                    Label: "Open Form Button",
                    "Page Section": "Main",
                    "Action Type": "Form",
                    "Form Sub Category": "Account",
                    "Form Type": "Signup",
                    Value: "Login"
                });
                mix.page({
                    Label: "Login"
                })
            });
            $body.on("click", "#profile", function() {
                routingService.navigate("/account/upcoming-trips")
            });
            $body.on("click", ".loginClose", function() {
                if (window.location.hash === "#login" || routingService.getPreviousPage() == window.location.href) routingService.navigate(window.location, null, "");
                else if (window.location.hash === "#signup" || window.location.hash === "#forgotpassword" || window.location.hash === "#resetpassword") {
                    window.location.assign(routingService.getPreviousPage());
                    return
                }
                app.login.closeAllLoginViews();
                mix.click({
                    Id: "661587",
                    Label: "Close Form",
                    "Page Section": "Main",
                    "Action Type": "Form",
                    "Form Sub Category": "Account",
                    "Form Type": "Login"
                })
            });
            u.on("click", function() {
                if (window.location.hash === "#login" || routingService.getPreviousPage() == window.location.href) routingService.navigate(window.location, null, "");
                else if (window.location.hash === "#signup" || window.location.hash === "#forgotpassword" || window.location.hash === "#resetpassword") {
                    window.location.assign(routingService.getPreviousPage());
                    return
                }
                app.login.closeAllLoginViews();
                mix.click({
                    Id: "661587",
                    Label: "Close Form",
                    "Page Section": "Main",
                    "Action Type": "Form",
                    "Form Sub Category": "Account",
                    "Form Type": "Login"
                })
            });
            $body.on("click", "#logout", function() {
                o()
            });
            y.on("click", function() {
                app.sideMenu.close();
                o()
            });
            $body.on("click", ".dialog #cancel", function() {
                $.modal.close();
                $(".dialog").hasClass("passwordView") ? mix.click({
                    Id: "661587",
                    Label: "Close Form",
                    "Page Section": "Main",
                    "Action Type": "Form",
                    "Form Sub Category": "Account",
                    "Form Type": "Change Password"
                }) : mix.click({
                    Id: "661587",
                    Label: "Close Form",
                    "Page Section": "Main",
                    "Action Type": "Form",
                    "Form Sub Category": "Account",
                    "Form Type": "Logout"
                })
            });
            $body.on("click", "#close-modal", function() {
                $(".dialog").hasClass("passwordView") ? mix.click({
                    Id: "661587",
                    Label: "Close Form",
                    "Page Section": "Main",
                    "Action Type": "Form",
                    "Form Sub Category": "Account",
                    "Form Type": "Change Password"
                }) : mix.click({
                    Id: "661587",
                    Label: "Close Form",
                    "Page Section": "Main",
                    "Action Type": "Form",
                    "Form Sub Category": "Account",
                    "Form Type": "Logout"
                })
            });
            $body.on("click", ".dialog #confirmLogoutBtn", function() {
                authenticationService.signOutThisDevice().promise(new mix.TrackablePromise).track("click", {
                    Id: "797472",
                    Label: "Submit Button",
                    "Page Section": "Main",
                    "Action Type": "Form",
                    "Form Sub Category": "Account",
                    "Form Type": "Logout",
                    "Validation Error": !1
                }, {
                    "Error Message": "SignOut Failed"
                }).done(function() {
                    $.modal.close();
                    routingService.navigate(window.location.origin, null, null)
                })
            })
        },
        h = function() {
            $.modal.defaults = {
                overlay: "#000",
                opacity: .75,
                zIndex: 12,
                escapeClose: !0,
                clickClose: !0,
                closeText: "",
                closeClass: "",
                modalClass: "modal",
                spinnerHtml: null,
                showSpinner: !0,
                showClose: !0,
                fadeDuration: null,
                fadeDelay: 1
            }
        },
        i = function(n) {
            $(document).trigger("membershipViewOpen");
            n ? u.removeClass("hidden").addClass("transparent") : u.removeClass("hidden");
            $html.addClass("noScroll")
        },
        w = function() {
            t.removeClass("hidden");
            u.addClass("hidden").removeClass("transparent");
            $html.removeClass("noScroll")
        },
        e = function() {
            if ($("#membershipFormWrapper").is(":visible")) {
                w();
                $("#membershipFormWrapper").addClass("hidden");
                $login.closest(".link").removeClass("open");
                $(document).unbind("scroll", e);
                $("section").unbind("scroll", e);
                t.removeClass("hidden");
                var n = window.location.hash;
                $body.attr("id") && $body.attr("id").toLowerCase() === "homepage" && (n === "#login" || n === "#signup") && routingService.navigate(window.location.pathname, null, "");
                $(document).trigger("loginClose")
            }
        },
        b = function() {
            var i = sessionStorage.getItem("loginViewHtml");
            return i !== null ? i : (n.addClass("hidden"), t.removeClass("hidden"), $.ajax({
                type: "POST",
                url: "/GetLoginView/",
                contentType: "application/json; charset=utf-8",
                dataType: "html"
            }).then(function(n) {
                return sessionStorage.setItem("loginViewHtml", n), n
            }).fail(function() {
                t.addClass("hidden");
                n.removeClass("hidden")
            }))
        },
        k = function() {
            i();
            n = $("#membershipFormWrapper");
            $.when(b(), r("/Scripts/Desktop/loginPage.js")).done(function(i) {
                n.length == 0 ? ($header.after(i), n = $("#membershipFormWrapper")) : (n.replaceWith(i), n = $("#membershipFormWrapper"));
                t.addClass("hidden");
                n.removeClass("hidden");
                $("#loginView").parsley();
                var r = $(window);
                r.height() <= 768 && r.width() <= 1366 && $(".loginBoxWrapper").addClass("forLowResolution");
                $(".loginClose", n).on("click", function() {
                    eventService.emit.call(eventService, "Header.loginCanceled")
                })
            }).then(eventService.emit.bind(eventService, "Header.loginReady"))
        },
        o = function() {
            h();
            $("#logoutDialog").modal()
        },
        d = function() {
            return n.addClass("hidden"), t.removeClass("hidden"), $.ajax({
                type: "POST",
                url: "/GroupList/CompleteAccount",
                contentType: "application/json; charset=utf-8",
                dataType: "html"
            }).then(function(n) {
                return n
            }).fail(function() {
                t.addClass("hidden");
                n.removeClass("hidden")
            })
        },
        g = function(r) {
            i();
            n = $("#membershipFormWrapper");
            $.when(d()).done(function(i) {
                n.length == 0 ? ($header.after(i), n = $("#membershipFormWrapper")) : (n.replaceWith(i), n = $("#membershipFormWrapper"));
                t.addClass("hidden");
                $("#membershipFormWrapper").removeClass("hidden");
                var u = $(window);
                u.height() <= 768 && u.width() <= 1366 && $(".loginBoxWrapper").addClass("forLowResolution");
                r && ($("#signupFirstName", n).val(r.firstName), $("#signupLastName", n).val(r.lastName), $("#signupEmail", n).val(r.email));
                $(".loginClose", n).on("click", function() {
                    authenticationService.triggerOnCompleteAccountCanceledEvent()
                });
                c($("#passwordInputWrapper"), $("#signupPassword"))
            }).then(authenticationService.triggerOnCompleteAccountReady.bind(authenticationService))
        },
        c = function(n, t) {
            n.on("click", "#cta", function() {
                s(t)
            });
            n.on("input", t, function() {
                nt(t)
            })
        },
        nt = function(n) {
            var t = $(n),
                i = t.parsley().parent.$element;
            t.val() == "" ? (f(i, !1), l(i, !0), s(t, !0), t.parsley().reset(), i.parsley().validationResult != null && t.parsley().validate()) : (l(i), t.parsley().validate(), t.parsley().isValid() ? f(i, "Good") : f(i, !1));
            i.find("#toolTip").removeClass("show")
        },
        s = function(n, t) {
            var r = $(n),
                i = r.parsley().parent.$element;
            i.find(n).attr("type") == "text" || t == !0 ? (i.find(n).attr("type", "password"), i.find("#cta").text("Show")) : (i.find(n).attr("type", "text"), i.find("#cta").text("Hide"));
            i.find(n).focus()
        },
        l = function(n, t) {
            t == !0 ? n.find("#cta").addClass("hidden") : n.find("#cta").removeClass("hidden")
        },
        f = function(n, t) {
            n.find("#status").text(t == !1 ? "" : t)
        },
        tt = function(n) {
            n == "Poor" && $("#toolTip").addClass("show")
        },
        it = function() {
            var i = sessionStorage.getItem("signUpViewHtml");
            return i !== null ? i : (n.addClass("hidden"), t.removeClass("hidden"), $.ajax({
                type: "POST",
                url: "/GetSignUpView/",
                contentType: "application/json; charset=utf-8",
                dataType: "html"
            }).then(function(n) {
                return sessionStorage.setItem("signUpViewHtml", n), n
            }).fail(function() {
                t.addClass("hidden");
                n.removeClass("hidden")
            }))
        },
        rt = function() {
            i();
            n = $("#membershipFormWrapper");
            $.when(it(), r("/Scripts/Desktop/signupPage.js")).done(function(i) {
                n.length == 0 ? ($header.after(i), n = $("#membershipFormWrapper")) : (n.replaceWith(i), n = $("#membershipFormWrapper"));
                t.addClass("hidden");
                $("#membershipFormWrapper").removeClass("hidden");
                $body.find("#signupView").parsley();
                var r = $(window);
                r.height() <= 768 && r.width() <= 1366 && $(".loginBoxWrapper").addClass("forLowResolution")
            }).then(eventService.emit.bind(eventService, "Header.signupReady"))
        },
        ut = function() {
            var i = sessionStorage.getItem("forgotPasswordViewHtml");
            return i !== null ? i : (n.addClass("hidden"), t.removeClass("hidden"), $.ajax({
                type: "POST",
                url: "/GetForgotPasswordView/",
                contentType: "application/json; charset=utf-8",
                dataType: "html"
            }).then(function(n) {
                return sessionStorage.setItem("forgotPasswordViewHtml", n), n
            }).fail(function() {
                t.addClass("hidden");
                n.removeClass("hidden")
            }))
        },
        ft = function() {
            i();
            n = $("#membershipFormWrapper");
            $.when(ut(), r("/Scripts/Desktop/forgotpasswordPage.js")).done(function(i) {
                n.length == 0 ? ($header.after(i), n = $("#membershipFormWrapper")) : (n.replaceWith(i), n = $("#membershipFormWrapper"));
                t.addClass("hidden");
                $("#membershipFormWrapper").removeClass("hidden");
                $body.find("#forgotpasswordView").parsley();
                var r = $(window);
                r.height() <= 768 && r.width() <= 1366 && $(".loginBoxWrapper").addClass("forLowResolution")
            }).then(eventService.emit.bind(eventService, "Header.forgotpasswordReady"))
        },
        et = function() {
            var i = sessionStorage.getItem("verifyAccountViewHtml");
            return i !== null ? i : (n.addClass("hidden"), t.removeClass("hidden"), $.ajax({
                type: "POST",
                url: "/GetVerifyAccountView/",
                contentType: "application/json; charset=utf-8",
                dataType: "html"
            }).then(function(n) {
                return sessionStorage.setItem("verifyAccountViewHtml", n), n
            }).fail(function() {
                t.addClass("hidden");
                n.removeClass("hidden")
            }))
        },
        ot = function() {
            i({
                addClassTransparent: !0
            });
            n = $("#membershipFormWrapper");
            $.when(et(), r("/Scripts/Desktop/verifyaccountPage.js")).done(function(i) {
                n.length == 0 ? ($header.after(i), n = $("#membershipFormWrapper")) : (n.replaceWith(i), n = $("#membershipFormWrapper"));
                t.addClass("hidden");
                $("#membershipFormWrapper").removeClass("hidden");
                $body.find("#verifyaccountView").parsley();
                var r = $(window);
                r.height() <= 768 && r.width() <= 1366 && $(".loginBoxWrapper").addClass("forLowResolution")
            }).then(eventService.emit.bind(eventService, "Header.verifyaccountReady"))
        },
        st = function() {
            var i = sessionStorage.getItem("resetPasswordViewHtml");
            return i !== null ? i : (n.addClass("hidden"), t.removeClass("hidden"), $.ajax({
                type: "POST",
                url: "/GetResetPasswordView/",
                contentType: "application/json; charset=utf-8",
                dataType: "html"
            }).then(function(n) {
                return sessionStorage.setItem("resetPasswordViewHtml", n), n
            }).fail(function() {
                t.addClass("hidden");
                n.removeClass("hidden")
            }))
        },
        ht = function() {
            i();
            n = $("#membershipFormWrapper");
            $.when(st(), r("/Scripts/Desktop/resetpasswordPage.js")).done(function(i) {
                n.length == 0 ? ($header.after(i), n = $("#membershipFormWrapper")) : (n.replaceWith(i), n = $("#membershipFormWrapper"));
                t.addClass("hidden");
                $("#membershipFormWrapper").removeClass("hidden");
                $body.find("#resetpasswordView").parsley();
                var r = $(window);
                r.height() <= 768 && r.width() <= 1366 && $(".loginBoxWrapper").addClass("forLowResolution")
            }).then(eventService.emit.bind(eventService, "Header.resetpasswordReady"))
        },
        ct = function(n) {
            $("#loginName").text(n)
        },
        lt = function(n) {
            app.header.handleGroupListsMenuItems();
            $(".groupListVillaSingleBox.groupLists").removeClass("hidden");
            $("html").addClass("loggedIn");
            $("#login").addClass("hidden");
            $("#profile").removeClass("hidden");
            $("#loginName").text(n);
            $sideMenuRight.find(".hideOnLogin").addClass("hidden");
            $sideMenuRight.find(".showOnLogin").removeClass("hidden");
            tripService.getTripsCountCache(!1).then(function(n) {
                n.past > 0 && $("#sideMenu #pastTrips").parent().removeClass("hidden");
                n.upcoming > 1 && $("#sideMenu #upcomingTrips").text($("#sideMenu #upcomingTrips").text() + "s");
                n.past > 1 && $("#sideMenu #pastTrips").text($("#sideMenu #pastTrips").text() + "s")
            })
        },
        at = function() {
            $header.removeClass("hidden");
            $groupListsToggle.addClass("hidden");
            $headerSearchWrapper.removeClass("smallWidth");
            $(".groupListVillaSingleBox.groupLists").addClass("hidden");
            $("html").removeClass("loggedIn");
            $("#login").removeClass("hidden");
            $("#profile").addClass("hidden");
            $("#loginName").text("");
            $sideMenuRight.find(".showOnLogin").addClass("hidden");
            $sideMenuRight.find(".hideOnLogin").removeClass("hidden")
        },
        r = function(n) {
            var i = $.Deferred(),
                t;
            return $("head>script[src='" + n + "']").length > 0 ? i.resolve().promise() : (t = document.createElement("script"), t.type = "text/javascript", t.onload = function() {
                t.onload = null;
                i.resolve()
            }, document.getElementsByTagName("head")[0].appendChild(t), t.src = n, i.promise())
        };
    return {
        init: p,
        closeAllLoginViews: e,
        openLoginView: k,
        openLogoutView: o,
        openSignUpView: rt,
        openForgotPasswordView: ft,
        openResetPasswordView: ht,
        openVerifyAccountView: ot,
        onLogin: lt,
        onLogout: at,
        updateHeader: ct,
        openCompleteAccountView: g,
        _loginModalOverlay: h,
        passwordValidationInit: c,
        showPasswordTooltip: tt,
        successfulPasswordMessage: f,
        togglePassword: s
    }
}();
app.headerInquireForm = function() {
        var n = function() {
                $contactGuestFormWrapper.removeClass("hidden");
                $contactOwnerFormWrapper.addClass("hidden");
                $contactBusinessFormWrapper.addClass("hidden")
            },
            t = function() {
                $contactGuestFormWrapper.addClass("hidden");
                $contactOwnerFormWrapper.addClass("hidden");
                $contactBusinessFormWrapper.removeClass("hidden")
            },
            i = function() {
                $contactGuestFormWrapper.addClass("hidden");
                $contactOwnerFormWrapper.removeClass("hidden");
                $contactBusinessFormWrapper.addClass("hidden")
            };
        return init = function() {
            $contactReasonGuest.on("click", function() {
                n()
            });
            $contactReasonBusiness.on("click", function() {
                t()
            });
            $contactReasonOwner.on("click", function() {
                i()
            })
        }, {
            init: init,
            openGuestForm: n,
            openBusinessForm: t,
            openOwnerForm: i
        }
    }(),
    function(n) {
        var t = null;
        n.modal = function(i, r) {
            n.modal.close();
            var f, u;
            if (this.$body = n("body"), this.options = n.extend({}, n.modal.defaults, r), this.options.doFade = !isNaN(parseInt(this.options.fadeDuration, 10)), i.is("a"))
                if (u = i.attr("href"), /^#/.test(u)) {
                    if (this.$elm = n(u), this.$elm.length !== 1) return null;
                    this.open()
                } else this.$elm = n("<div>"), this.$body.append(this.$elm), f = function(n, t) {
                    t.elm.remove()
                }, this.showSpinner(), i.trigger(n.modal.AJAX_SEND), n.get(u).done(function(r) {
                    if (t) {
                        i.trigger(n.modal.AJAX_SUCCESS);
                        t.$elm.empty().append(r).on(n.modal.CLOSE, f);
                        t.hideSpinner();
                        t.open();
                        i.trigger(n.modal.AJAX_COMPLETE)
                    }
                }).fail(function() {
                    i.trigger(n.modal.AJAX_FAIL);
                    t.hideSpinner();
                    i.trigger(n.modal.AJAX_COMPLETE)
                });
            else this.$elm = i, this.$body.append(this.$elm), this.open()
        };
        n.modal.prototype = {
            constructor: n.modal,
            open: function() {
                var t = this;
                if (this.options.doFade ? (this.block(), setTimeout(function() {
                        t.show()
                    }, this.options.fadeDuration * this.options.fadeDelay)) : (this.block(), this.show()), this.options.escapeClose) n(document).on("keydown.modal", function(t) {
                    t.which == 27 && n.modal.close()
                });
                this.options.clickClose && this.blocker.click(n.modal.close)
            },
            close: function() {
                this.unblock();
                this.hide();
                n(document).off("keydown.modal")
            },
            block: function() {
                var t = this.options.doFade ? 0 : this.options.opacity;
                this.$elm.trigger(n.modal.BEFORE_BLOCK, [this._ctx()]);
                this.blocker = n('<div class="jquery-modal blocker"><\/div>').css({
                    top: 0,
                    right: 0,
                    bottom: 0,
                    left: 0,
                    width: "100%",
                    height: "100%",
                    position: "fixed",
                    zIndex: this.options.zIndex,
                    background: this.options.overlay,
                    opacity: t
                });
                this.$body.append(this.blocker);
                this.options.doFade && this.blocker.animate({
                    opacity: this.options.opacity
                }, this.options.fadeDuration);
                this.$elm.trigger(n.modal.BLOCK, [this._ctx()])
            },
            unblock: function() {
                this.options.doFade ? this.blocker.fadeOut(this.options.fadeDuration, function() {
                    n(this).remove()
                }) : this.blocker.remove()
            },
            show: function() {
                this.$elm.trigger(n.modal.BEFORE_OPEN, [this._ctx()]);
                this.options.showClose && (this.closeButton = n('<a href="#close-modal" rel="modal:close" class="close-modal ' + this.options.closeClass + '">' + this.options.closeText + "<\/a>"), this.$elm.append(this.closeButton));
                this.$elm.addClass(this.options.modalClass + " current");
                this.center();
                this.options.doFade ? this.$elm.fadeIn(this.options.fadeDuration) : this.$elm.show();
                this.$elm.trigger(n.modal.OPEN, [this._ctx()]);
                n("html").addClass("noScroll")
            },
            hide: function() {
                this.$elm.trigger(n.modal.BEFORE_CLOSE, [this._ctx()]);
                this.closeButton && this.closeButton.remove();
                this.$elm.removeClass("current");
                n("html").removeClass("noScroll");
                var t = this;
                this.options.doFade ? this.$elm.fadeOut(this.options.fadeDuration, function() {
                    t.$elm.trigger(n.modal.AFTER_CLOSE, [t._ctx()])
                }) : this.$elm.hide(0, function() {
                    t.$elm.trigger(n.modal.AFTER_CLOSE, [t._ctx()])
                });
                this.$elm.trigger(n.modal.CLOSE, [this._ctx()])
            },
            showSpinner: function() {
                this.options.showSpinner && (this.spinner = this.spinner || n('<div class="' + this.options.modalClass + '-spinner"><\/div>').append(this.options.spinnerHtml), this.$body.append(this.spinner), this.spinner.show())
            },
            hideSpinner: function() {
                this.spinner && this.spinner.remove()
            },
            center: function() {
                this.$elm.css({
                    position: "fixed",
                    top: "50%",
                    left: "50%",
                    marginTop: -(this.$elm.outerHeight() / 2),
                    marginLeft: -(this.$elm.outerWidth() / 2),
                    zIndex: this.options.zIndex + 1
                })
            },
            _ctx: function() {
                return {
                    elm: this.$elm,
                    blocker: this.blocker,
                    options: this.options
                }
            }
        };
        n.modal.prototype.resize = n.modal.prototype.center;
        n.modal.close = function(n) {
            if (t) {
                n && n.preventDefault();
                t.close();
                var i = t.$elm;
                return t = null, i
            }
        };
        n.modal.resize = function() {
            t && t.resize()
        };
        n.modal.isActive = function() {
            return t ? !0 : !1
        };
        n.modal.defaults = {
            overlay: "#000",
            opacity: .75,
            zIndex: 1,
            escapeClose: !0,
            clickClose: !0,
            closeText: "Close",
            closeClass: "",
            modalClass: "modal",
            spinnerHtml: null,
            showSpinner: !0,
            showClose: !0,
            fadeDuration: null,
            fadeDelay: 1
        };
        n.modal.BEFORE_BLOCK = "modal:before-block";
        n.modal.BLOCK = "modal:block";
        n.modal.BEFORE_OPEN = "modal:before-open";
        n.modal.OPEN = "modal:open";
        n.modal.BEFORE_CLOSE = "modal:before-close";
        n.modal.CLOSE = "modal:close";
        n.modal.AFTER_CLOSE = "modal:after-close";
        n.modal.AJAX_SEND = "modal:ajax:send";
        n.modal.AJAX_SUCCESS = "modal:ajax:success";
        n.modal.AJAX_FAIL = "modal:ajax:fail";
        n.modal.AJAX_COMPLETE = "modal:ajax:complete";
        n.fn.modal = function(i) {
            return this.length === 1 && (t = new n.modal(this, i)), this
        };
        n(document).on("click.modal", 'a[rel="modal:close"]', n.modal.close);
        n(document).on("click.modal", 'a[rel="modal:open"]', function(t) {
            t.preventDefault();
            n(this).modal()
        })
    }(jQuery);
var app = app || {},
    $footer = $footer || $("footer"),
    $footerSocial = $("#footerSocial"),
    $footerLinks = $("#footerLinks");
app.footer = function() {
    var t = $("#showDestinations"),
        n = $("footer #destinationsMenu"),
        i = $("#hideDestinations"),
        r = function() {
            t.removeClass("open");
            n.addClass("fadeOut").removeClass("fadeIn");
            mix.click({
                Id: "435278",
                Label: "Destination Guide Link",
                "Page Section": "Footer",
                "Action Type": "Search",
                "Search Sub Category": "LR Info",
                Result: "Close"
            })
        },
        u = function() {
            t.addClass("open");
            n.removeClass("fadeOut").addClass("fadeIn").delay(1e3).removeClass("fadeIn");
            i.addClass("hideDestGuide");
            mix.click({
                Id: "435278",
                Label: "Destination Guide Link",
                "Page Section": "Footer",
                "Action Type": "Search",
                "Search Sub Category": "LR Info",
                Result: "Open"
            })
        },
        f = function() {
            t.on("click", function(t) {
                n.hasClass("fadeOut") ? (t.stopPropagation(), u()) : r()
            });
            n.on("click", function(n) {
                n.stopPropagation()
            });
            i.on("click", function() {
                r()
            });
            $footer.on("click", ".topDestinationListBlock a", function() {
                var n = this;
                mix.trackAndCallback("Click", "searchResults", {
                    Id: "767894",
                    Label: "Destination Guide Region",
                    "Page Section": "Footer",
                    "Action Type": "Search",
                    "Search Sub Category": "LR Info",
                    Value: $(n).text()
                })
            });
            $footerSocial.on("click", "a", function() {
                mix.click({
                    Id: "364975",
                    Label: "Social Icons",
                    "Page Section": "Footer",
                    "Action Type": "Search",
                    Value: $(this).data("name")
                })
            });
            $footerLinks.on("click", "a", function() {
                var n = $(this).data("name");
                if (n) switch (n.toLowerCase()) {
                    case "about":
                        mix.click({
                            Id: "564684",
                            Label: "About Us Link",
                            "Page Section": "Footer",
                            "Action Type": "Search",
                            "Search Sub Category": "LR Info"
                        }, !0);
                        break;
                    case "our app":
                        mix.click({
                            Id: "986013",
                            Label: "App store Link",
                            "Page Section": "Footer",
                            "Action Type": "Search"
                        }, !0);
                        break;
                    case "press":
                        mix.click({
                            Id: "219644",
                            Label: "Press",
                            "Page Section": "Footer",
                            "Action Type": "Search"
                        }, !0);
                        break;
                    case "careers":
                        mix.click({
                            Id: "219642",
                            Label: "Careers Link",
                            "Page Section": "Footer",
                            "Action Type": "Search"
                        }, !0);
                        break;
                    case "privacy & terms":
                        mix.click({
                            Id: "219643",
                            Label: "Privacy & Terms Link",
                            "Page Section": "Footer",
                            "Action Type": "Search"
                        }, !0);
                        break;
                    case "franais":
                        mix.click({
                            Id: "219641",
                            Label: "Francais Link",
                            "Page Section": "Footer",
                            "Action Type": "Search"
                        }, !0)
                }
            })
        };
    return {
        init: f
    }
}();
sessionStorage.oTracking || (sessionStorage.oTracking = 1, sessionStorage.siteVersion = $("#hgSiteId").val(), dataLayer.push({
        siteVersion: sessionStorage.siteVersion,
        event: "websiteVersion"
    })),
    function(n) {
        var r = {},
            t, i = function() {
                var h = {
                        years: "datepickerViewYears",
                        moths: "datepickerViewMonths",
                        days: "datepickerViewDays"
                    },
                    i = {
                        wrapper: '<div class="datepicker"><div class="datepickerBorderT" /><div class="datepickerBorderB" /><div class="datepickerBorderL" /><div class="datepickerBorderR" /><div class="datepickerBorderTL" /><div class="datepickerBorderTR" /><div class="datepickerBorderBL" /><div class="datepickerBorderBR" /><div class="datepickerContainer"><table cellspacing="0" cellpadding="0"><tbody><tr><\/tr><\/tbody><\/table><\/div><\/div>',
                        head: ['<td class="datepickerBlock">', '<table cellspacing="0" cellpadding="0">', "<thead>", "<tr>", '<th colspan="7"><a class="datepickerGoPrev"><span class="fa fa-chevron-left"><%=prev%><\/span><\/a>', '<a class="datepickerMonth" ><span><\/span><\/a>', '<a class="datepickerGoNext"><span class="fa fa-chevron-right"><%=next%><\/span><\/a><\/th>', "<\/tr>", '<tr class="datepickerDoW">', "<th><span><%=day1%><\/span><\/th>", "<th><span><%=day2%><\/span><\/th>", "<th><span><%=day3%><\/span><\/th>", "<th><span><%=day4%><\/span><\/th>", "<th><span><%=day5%><\/span><\/th>", "<th><span><%=day6%><\/span><\/th>", "<th><span><%=day7%><\/span><\/th>", "<\/tr>", "<\/thead>", "<\/table><\/td>"],
                        space: '<td class="datepickerSpace"><div><\/div><\/td>',
                        days: ['<tbody class="datepickerDays">', "<tr>", '<td class="<%=weeks[0].days[0].classname%>"><a href="#"><span><%=weeks[0].days[0].text%><\/span><\/a><\/td>', '<td class="<%=weeks[0].days[1].classname%>"><a href="#"><span><%=weeks[0].days[1].text%><\/span><\/a><\/td>', '<td class="<%=weeks[0].days[2].classname%>"><a href="#"><span><%=weeks[0].days[2].text%><\/span><\/a><\/td>', '<td class="<%=weeks[0].days[3].classname%>"><a href="#"><span><%=weeks[0].days[3].text%><\/span><\/a><\/td>', '<td class="<%=weeks[0].days[4].classname%>"><a href="#"><span><%=weeks[0].days[4].text%><\/span><\/a><\/td>', '<td class="<%=weeks[0].days[5].classname%>"><a href="#"><span><%=weeks[0].days[5].text%><\/span><\/a><\/td>', '<td class="<%=weeks[0].days[6].classname%>"><a href="#"><span><%=weeks[0].days[6].text%><\/span><\/a><\/td>', "<\/tr>", "<tr>", '<td class="<%=weeks[1].days[0].classname%>"><a href="#"><span><%=weeks[1].days[0].text%><\/span><\/a><\/td>', '<td class="<%=weeks[1].days[1].classname%>"><a href="#"><span><%=weeks[1].days[1].text%><\/span><\/a><\/td>', '<td class="<%=weeks[1].days[2].classname%>"><a href="#"><span><%=weeks[1].days[2].text%><\/span><\/a><\/td>', '<td class="<%=weeks[1].days[3].classname%>"><a href="#"><span><%=weeks[1].days[3].text%><\/span><\/a><\/td>', '<td class="<%=weeks[1].days[4].classname%>"><a href="#"><span><%=weeks[1].days[4].text%><\/span><\/a><\/td>', '<td class="<%=weeks[1].days[5].classname%>"><a href="#"><span><%=weeks[1].days[5].text%><\/span><\/a><\/td>', '<td class="<%=weeks[1].days[6].classname%>"><a href="#"><span><%=weeks[1].days[6].text%><\/span><\/a><\/td>', "<\/tr>", "<tr>", '<td class="<%=weeks[2].days[0].classname%>"><a href="#"><span><%=weeks[2].days[0].text%><\/span><\/a><\/td>', '<td class="<%=weeks[2].days[1].classname%>"><a href="#"><span><%=weeks[2].days[1].text%><\/span><\/a><\/td>', '<td class="<%=weeks[2].days[2].classname%>"><a href="#"><span><%=weeks[2].days[2].text%><\/span><\/a><\/td>', '<td class="<%=weeks[2].days[3].classname%>"><a href="#"><span><%=weeks[2].days[3].text%><\/span><\/a><\/td>', '<td class="<%=weeks[2].days[4].classname%>"><a href="#"><span><%=weeks[2].days[4].text%><\/span><\/a><\/td>', '<td class="<%=weeks[2].days[5].classname%>"><a href="#"><span><%=weeks[2].days[5].text%><\/span><\/a><\/td>', '<td class="<%=weeks[2].days[6].classname%>"><a href="#"><span><%=weeks[2].days[6].text%><\/span><\/a><\/td>', "<\/tr>", "<tr>", '<td class="<%=weeks[3].days[0].classname%>"><a href="#"><span><%=weeks[3].days[0].text%><\/span><\/a><\/td>', '<td class="<%=weeks[3].days[1].classname%>"><a href="#"><span><%=weeks[3].days[1].text%><\/span><\/a><\/td>', '<td class="<%=weeks[3].days[2].classname%>"><a href="#"><span><%=weeks[3].days[2].text%><\/span><\/a><\/td>', '<td class="<%=weeks[3].days[3].classname%>"><a href="#"><span><%=weeks[3].days[3].text%><\/span><\/a><\/td>', '<td class="<%=weeks[3].days[4].classname%>"><a href="#"><span><%=weeks[3].days[4].text%><\/span><\/a><\/td>', '<td class="<%=weeks[3].days[5].classname%>"><a href="#"><span><%=weeks[3].days[5].text%><\/span><\/a><\/td>', '<td class="<%=weeks[3].days[6].classname%>"><a href="#"><span><%=weeks[3].days[6].text%><\/span><\/a><\/td>', "<\/tr>", "<tr>", '<td class="<%=weeks[4].days[0].classname%>"><a href="#"><span><%=weeks[4].days[0].text%><\/span><\/a><\/td>', '<td class="<%=weeks[4].days[1].classname%>"><a href="#"><span><%=weeks[4].days[1].text%><\/span><\/a><\/td>', '<td class="<%=weeks[4].days[2].classname%>"><a href="#"><span><%=weeks[4].days[2].text%><\/span><\/a><\/td>', '<td class="<%=weeks[4].days[3].classname%>"><a href="#"><span><%=weeks[4].days[3].text%><\/span><\/a><\/td>', '<td class="<%=weeks[4].days[4].classname%>"><a href="#"><span><%=weeks[4].days[4].text%><\/span><\/a><\/td>', '<td class="<%=weeks[4].days[5].classname%>"><a href="#"><span><%=weeks[4].days[5].text%><\/span><\/a><\/td>', '<td class="<%=weeks[4].days[6].classname%>"><a href="#"><span><%=weeks[4].days[6].text%><\/span><\/a><\/td>', "<\/tr>", "<tr>", '<td class="<%=weeks[5].days[0].classname%>"><a href="#"><span><%=weeks[5].days[0].text%><\/span><\/a><\/td>', '<td class="<%=weeks[5].days[1].classname%>"><a href="#"><span><%=weeks[5].days[1].text%><\/span><\/a><\/td>', '<td class="<%=weeks[5].days[2].classname%>"><a href="#"><span><%=weeks[5].days[2].text%><\/span><\/a><\/td>', '<td class="<%=weeks[5].days[3].classname%>"><a href="#"><span><%=weeks[5].days[3].text%><\/span><\/a><\/td>', '<td class="<%=weeks[5].days[4].classname%>"><a href="#"><span><%=weeks[5].days[4].text%><\/span><\/a><\/td>', '<td class="<%=weeks[5].days[5].classname%>"><a href="#"><span><%=weeks[5].days[5].text%><\/span><\/a><\/td>', '<td class="<%=weeks[5].days[6].classname%>"><a href="#"><span><%=weeks[5].days[6].text%><\/span><\/a><\/td>', "<\/tr>", "<\/tbody>"],
                        daysWithPrices: ['<tbody class="datepickerDays">', "<tr>", '<td class="<%=weeks[0].days[0].classname%>" data-price="<%=weeks[0].days[0].price%>" ><a href="#"><span><%=weeks[0].days[0].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[0].days[0].currencySymbol%><\/span><span class="price-label"><%=weeks[0].days[0].price%><\/span><\/div><\/td>', '<td class="<%=weeks[0].days[1].classname%>" data-price="<%=weeks[0].days[1].price%>"><a href="#"><span><%=weeks[0].days[1].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[0].days[1].currencySymbol%><\/span><span class="price-label"><%=weeks[0].days[1].price%><\/span><\/div><\/td>', '<td class="<%=weeks[0].days[2].classname%>" data-price="<%=weeks[0].days[2].price%>"><a href="#"><span><%=weeks[0].days[2].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[0].days[2].currencySymbol%><\/span><span class="price-label"><%=weeks[0].days[2].price%><\/span><\/div><\/td>', '<td class="<%=weeks[0].days[3].classname%>" data-price="<%=weeks[0].days[3].price%>"><a href="#"><span><%=weeks[0].days[3].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[0].days[3].currencySymbol%><\/span><span class="price-label"><%=weeks[0].days[3].price%><\/span><\/div><\/td>', '<td class="<%=weeks[0].days[4].classname%>" data-price="<%=weeks[0].days[4].price%>"><a href="#"><span><%=weeks[0].days[4].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[0].days[4].currencySymbol%><\/span><span class="price-label"><%=weeks[0].days[4].price%><\/span><\/div><\/td>', '<td class="<%=weeks[0].days[5].classname%>" data-price="<%=weeks[0].days[5].price%>"><a href="#"><span><%=weeks[0].days[5].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[0].days[5].currencySymbol%><\/span><span class="price-label"><%=weeks[0].days[5].price%><\/span><\/div><\/td>', '<td class="<%=weeks[0].days[6].classname%>" data-price="<%=weeks[0].days[6].price%>"><a href="#"><span><%=weeks[0].days[6].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[0].days[6].currencySymbol%><\/span><span class="price-label"><%=weeks[0].days[6].price%><\/span><\/div><\/td>', "<\/tr>", "<tr>", '<td class="<%=weeks[1].days[0].classname%>" data-price="<%=weeks[1].days[0].price%>" ><a href="#"><span><%=weeks[1].days[0].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[1].days[0].currencySymbol%><\/span><span class="price-label"><%=weeks[1].days[0].price%><\/span><\/div><\/td>', '<td class="<%=weeks[1].days[1].classname%>" data-price="<%=weeks[1].days[1].price%>"><a href="#"><span><%=weeks[1].days[1].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[1].days[1].currencySymbol%><\/span><span class="price-label"><%=weeks[1].days[1].price%><\/span><\/div><\/td>', '<td class="<%=weeks[1].days[2].classname%>" data-price="<%=weeks[1].days[2].price%>"><a href="#"><span><%=weeks[1].days[2].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[1].days[2].currencySymbol%><\/span><span class="price-label"><%=weeks[1].days[2].price%><\/span><\/div><\/td>', '<td class="<%=weeks[1].days[3].classname%>" data-price="<%=weeks[1].days[3].price%>"><a href="#"><span><%=weeks[1].days[3].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[1].days[3].currencySymbol%><\/span><span class="price-label"><%=weeks[1].days[3].price%><\/span><\/div><\/td>', '<td class="<%=weeks[1].days[4].classname%>" data-price="<%=weeks[1].days[4].price%>"><a href="#"><span><%=weeks[1].days[4].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[1].days[4].currencySymbol%><\/span><span class="price-label"><%=weeks[1].days[4].price%><\/span><\/div><\/td>', '<td class="<%=weeks[1].days[5].classname%>" data-price="<%=weeks[1].days[5].price%>"><a href="#"><span><%=weeks[1].days[5].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[1].days[5].currencySymbol%><\/span><span class="price-label"><%=weeks[1].days[5].price%><\/span><\/div><\/td>', '<td class="<%=weeks[1].days[6].classname%>" data-price="<%=weeks[1].days[6].price%>"><a href="#"><span><%=weeks[1].days[6].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[1].days[6].currencySymbol%><\/span><span class="price-label"><%=weeks[1].days[6].price%><\/span><\/div><\/td>', "<\/tr>", "<tr>", '<td class="<%=weeks[2].days[0].classname%>" data-price="<%=weeks[2].days[0].price%>" ><a href="#"><span><%=weeks[2].days[0].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[2].days[0].currencySymbol%><\/span><span class="price-label"><%=weeks[2].days[0].price%><\/span><\/div><\/td>', '<td class="<%=weeks[2].days[1].classname%>" data-price="<%=weeks[2].days[1].price%>"><a href="#"><span><%=weeks[2].days[1].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[2].days[1].currencySymbol%><\/span><span class="price-label"><%=weeks[2].days[1].price%><\/span><\/div><\/td>', '<td class="<%=weeks[2].days[2].classname%>" data-price="<%=weeks[2].days[2].price%>"><a href="#"><span><%=weeks[2].days[2].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[2].days[2].currencySymbol%><\/span><span class="price-label"><%=weeks[2].days[2].price%><\/span><\/div><\/td>', '<td class="<%=weeks[2].days[3].classname%>" data-price="<%=weeks[2].days[3].price%>"><a href="#"><span><%=weeks[2].days[3].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[2].days[3].currencySymbol%><\/span><span class="price-label"><%=weeks[2].days[3].price%><\/span><\/div><\/td>', '<td class="<%=weeks[2].days[4].classname%>" data-price="<%=weeks[2].days[4].price%>"><a href="#"><span><%=weeks[2].days[4].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[2].days[4].currencySymbol%><\/span><span class="price-label"><%=weeks[2].days[4].price%><\/span><\/div><\/td>', '<td class="<%=weeks[2].days[5].classname%>" data-price="<%=weeks[2].days[5].price%>"><a href="#"><span><%=weeks[2].days[5].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[2].days[5].currencySymbol%><\/span><span class="price-label"><%=weeks[2].days[5].price%><\/span><\/div><\/td>', '<td class="<%=weeks[2].days[6].classname%>" data-price="<%=weeks[2].days[6].price%>"><a href="#"><span><%=weeks[2].days[6].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[2].days[6].currencySymbol%><\/span><span class="price-label"><%=weeks[2].days[6].price%><\/span><\/div><\/td>', "<\/tr>", "<tr>", '<td class="<%=weeks[3].days[0].classname%>" data-price="<%=weeks[3].days[0].price%>" ><a href="#"><span><%=weeks[3].days[0].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[3].days[0].currencySymbol%><\/span><span class="price-label"><%=weeks[3].days[0].price%><\/span><\/div><\/td>', '<td class="<%=weeks[3].days[1].classname%>" data-price="<%=weeks[3].days[1].price%>"><a href="#"><span><%=weeks[3].days[1].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[3].days[1].currencySymbol%><\/span><span class="price-label"><%=weeks[3].days[1].price%><\/span><\/div><\/td>', '<td class="<%=weeks[3].days[2].classname%>" data-price="<%=weeks[3].days[2].price%>"><a href="#"><span><%=weeks[3].days[2].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[3].days[2].currencySymbol%><\/span><span class="price-label"><%=weeks[3].days[2].price%><\/span><\/div><\/td>', '<td class="<%=weeks[3].days[3].classname%>" data-price="<%=weeks[3].days[3].price%>"><a href="#"><span><%=weeks[3].days[3].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[3].days[3].currencySymbol%><\/span><span class="price-label"><%=weeks[3].days[3].price%><\/span><\/div><\/td>', '<td class="<%=weeks[3].days[4].classname%>" data-price="<%=weeks[3].days[4].price%>"><a href="#"><span><%=weeks[3].days[4].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[3].days[4].currencySymbol%><\/span><span class="price-label"><%=weeks[3].days[4].price%><\/span><\/div><\/td>', '<td class="<%=weeks[3].days[5].classname%>" data-price="<%=weeks[3].days[5].price%>"><a href="#"><span><%=weeks[3].days[5].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[3].days[5].currencySymbol%><\/span><span class="price-label"><%=weeks[3].days[5].price%><\/span><\/div><\/td>', '<td class="<%=weeks[3].days[6].classname%>" data-price="<%=weeks[3].days[6].price%>"><a href="#"><span><%=weeks[3].days[6].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[3].days[6].currencySymbol%><\/span><span class="price-label"><%=weeks[3].days[6].price%><\/span><\/div><\/td>', "<\/tr>", "<tr>", '<td class="<%=weeks[4].days[0].classname%>" data-price="<%=weeks[4].days[0].price%>" ><a href="#"><span><%=weeks[4].days[0].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[4].days[0].currencySymbol%><\/span><span class="price-label"><%=weeks[4].days[0].price%><\/span><\/div><\/td>', '<td class="<%=weeks[4].days[1].classname%>" data-price="<%=weeks[4].days[1].price%>"><a href="#"><span><%=weeks[4].days[1].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[4].days[1].currencySymbol%><\/span><span class="price-label"><%=weeks[4].days[1].price%><\/span><\/div><\/td>', '<td class="<%=weeks[4].days[2].classname%>" data-price="<%=weeks[4].days[2].price%>"><a href="#"><span><%=weeks[4].days[2].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[4].days[2].currencySymbol%><\/span><span class="price-label"><%=weeks[4].days[2].price%><\/span><\/div><\/td>', '<td class="<%=weeks[4].days[3].classname%>" data-price="<%=weeks[4].days[3].price%>"><a href="#"><span><%=weeks[4].days[3].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[4].days[3].currencySymbol%><\/span><span class="price-label"><%=weeks[4].days[3].price%><\/span><\/div><\/td>', '<td class="<%=weeks[4].days[4].classname%>" data-price="<%=weeks[4].days[4].price%>"><a href="#"><span><%=weeks[4].days[4].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[4].days[4].currencySymbol%><\/span><span class="price-label"><%=weeks[4].days[4].price%><\/span><\/div><\/td>', '<td class="<%=weeks[4].days[5].classname%>" data-price="<%=weeks[4].days[5].price%>"><a href="#"><span><%=weeks[4].days[5].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[4].days[5].currencySymbol%><\/span><span class="price-label"><%=weeks[4].days[5].price%><\/span><\/div><\/td>', '<td class="<%=weeks[4].days[6].classname%>" data-price="<%=weeks[4].days[6].price%>"><a href="#"><span><%=weeks[4].days[6].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[4].days[6].currencySymbol%><\/span><span class="price-label"><%=weeks[4].days[6].price%><\/span><\/div><\/td>', "<\/tr>", "<tr>", '<td class="<%=weeks[5].days[0].classname%>" data-price="<%=weeks[5].days[0].price%>" ><a href="#"><span><%=weeks[5].days[0].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[5].days[0].currencySymbol%><\/span><span class="price-label"><%=weeks[5].days[0].price%><\/span><\/div><\/td>', '<td class="<%=weeks[5].days[1].classname%>" data-price="<%=weeks[5].days[1].price%>"><a href="#"><span><%=weeks[5].days[1].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[5].days[1].currencySymbol%><\/span><span class="price-label"><%=weeks[5].days[1].price%><\/span><\/div><\/td>', '<td class="<%=weeks[5].days[2].classname%>" data-price="<%=weeks[5].days[2].price%>"><a href="#"><span><%=weeks[5].days[2].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[5].days[2].currencySymbol%><\/span><span class="price-label"><%=weeks[5].days[2].price%><\/span><\/div><\/td>', '<td class="<%=weeks[5].days[3].classname%>" data-price="<%=weeks[5].days[3].price%>"><a href="#"><span><%=weeks[5].days[3].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[5].days[3].currencySymbol%><\/span><span class="price-label"><%=weeks[5].days[3].price%><\/span><\/div><\/td>', '<td class="<%=weeks[5].days[4].classname%>" data-price="<%=weeks[5].days[4].price%>"><a href="#"><span><%=weeks[5].days[4].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[5].days[4].currencySymbol%><\/span><span class="price-label"><%=weeks[5].days[4].price%><\/span><\/div><\/td>', '<td class="<%=weeks[5].days[5].classname%>" data-price="<%=weeks[5].days[5].price%>"><a href="#"><span><%=weeks[5].days[5].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[5].days[5].currencySymbol%><\/span><span class="price-label"><%=weeks[5].days[5].price%><\/span><\/div><\/td>', '<td class="<%=weeks[5].days[6].classname%>" data-price="<%=weeks[5].days[6].price%>"><a href="#"><span><%=weeks[5].days[6].text%><\/span><\/a><div class="modalPrice"><span class="currency-label"><%=weeks[5].days[6].currencySymbol%><\/span><span class="price-label"><%=weeks[5].days[6].price%><\/span><\/div><\/td>', "<\/tr>", "<\/tbody>"],
                        months: ['<tbody class="<%=className%>">', "<tr>", '<td colspan="2"><a href="#"><span><%=data[0]%><\/span><\/a><\/td>', '<td colspan="2"><a href="#"><span><%=data[1]%><\/span><\/a><\/td>', '<td colspan="2"><a href="#"><span><%=data[2]%><\/span><\/a><\/td>', '<td colspan="1"><a href="#"><span><%=data[3]%><\/span><\/a><\/td>', "<\/tr>", "<tr>", '<td colspan="2"><a href="#"><span><%=data[4]%><\/span><\/a><\/td>', '<td colspan="2"><a href="#"><span><%=data[5]%><\/span><\/a><\/td>', '<td colspan="2"><a href="#"><span><%=data[6]%><\/span><\/a><\/td>', '<td colspan="1"><a href="#"><span><%=data[7]%><\/span><\/a><\/td>', "<\/tr>", "<tr>", '<td colspan="2"><a href="#"><span><%=data[8]%><\/span><\/a><\/td>', '<td colspan="2"><a href="#"><span><%=data[9]%><\/span><\/a><\/td>', '<td colspan="2"><a href="#"><span><%=data[10]%><\/span><\/a><\/td>', '<td colspan="1"><a href="#"><span><%=data[11]%><\/span><\/a><\/td>', "<\/tr>", "<\/tbody>"]
                    },
                    c = {
                        mode: "",
                        appendTo: document.body,
                        date: null,
                        current: null,
                        inline: !1,
                        mode: "single",
                        calendars: 1,
                        starts: 0,
                        prev: "",
                        next: "",
                        view: "days",
                        position: "bottom",
                        showOn: "focus",
                        onRenderCell: function() {
                            return {}
                        },
                        onChange: function() {},
                        onRangeChange: function() {},
                        onValueChange: function() {},
                        onBeforeShow: function() {
                            return !0
                        },
                        onAfterShow: function() {},
                        onBeforeHide: function() {
                            return !0
                        },
                        onAfterHide: function() {},
                        onDateHover: function() {},
                        locale: {
                            daysMin: ["S", "M", "T", "W", "T", "F", "S"],
                            months: ["JANUARY", "FEBRUARY", "MARCH", "APRIL", "MAY", "JUNE", "JULY", "AUGUST", "SEPTEMBER", "OCTOBER", "NOVEMBER", "DECEMBER"],
                            monthsShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]
                        },
                        extraHeight: !1,
                        extraWidth: !1,
                        lastSel: !1
                    },
                    r = function(r, u) {
                        var a, d, l, v, h, w, y;
                        u = u || n(r).data("datepicker");
                        var b = n(r),
                            nt = Math.floor(u.calendars / 2),
                            e, f, l, g, k = 0,
                            o, s, p, c;
                        for (b.find("td>table tbody").remove(), a = 0; a < u.calendars; a++) {
                            for (e = new Date(u.current), e.addMonths(-nt + a), c = b.find("table").eq(a + 1), a == 0 && c.addClass("datepickerFirstView"), a == u.calendars - 1 && c.addClass("datepickerLastView"), u.lastSel ? c.removeClass("datepickerNotInSelection") : c.addClass("datepickerNotInSelection"), c.hasClass("datepickerViewDays") ? l = e.getMonthName(!0) + " " + e.getFullYear() : c.hasClass("datepickerViewMonths") ? l = e.getFullYear() : c.hasClass("datepickerViewYears") && (l = e.getFullYear() - 6 + " - " + (e.getFullYear() + 5)), c.find("thead tr:first th a:eq(1) span").text(l), l = e.getFullYear() - 6, f = {
                                    data: [],
                                    className: "datepickerYears"
                                }, d = 0; d < 12; d++) f.data.push(l + d);
                            for (p = t(i.months.join(""), f), e.setDate(1), f = {
                                    weeks: [],
                                    test: 10
                                }, g = e.getMonth(), l = (e.getDay() - u.starts) % 7, e.addDays(-(l + (l < 0 ? 7 : 0))), k = 0; k < 42;) o = parseInt(k / 7, 10), s = k % 7, f.weeks[o] || (f.weeks[o] = {
                                days: []
                            }), f.weeks[o].days[s] = {
                                text: e.getDate(),
                                classname: []
                            }, v = new Date, v.getDate() == e.getDate() && v.getMonth() == e.getMonth() && v.getYear() == e.getYear() && f.weeks[o].days[s].classname.push("datepickerToday"), e < v.setDate(v.getDate() - 1) && f.weeks[o].days[s].classname.push("datepickerDisabled"), e > v && f.weeks[o].days[s].classname.push("datepickerFuture"), g != e.getMonth() && (f.weeks[o].days[s].classname.push("datepickerNotInMonth"), f.weeks[o].days[s].classname.push("datepickerDisabled")), u.datesValues && (h = u.datesValues[e.getFullYear()], h && (h = h[e.getMonth()]), h && (h = h[e.getDate()]), h ? (f.weeks[o].days[s].classname.push("have-rates"), h.price == "N/A" && f.weeks[o].days[s].classname.push("no-bubble-rates"), h.available || f.weeks[o].days[s].classname.push("not-available"), h.price && (f.weeks[o].days[s].price = h.price, f.weeks[o].days[s].date = h.className, f.weeks[o].days[s].currencySymbol = h.currencySymbol, f.weeks[o].days[s].classname.push(h.className))) : f.weeks[o].days[s].classname.push("no-rates")), e.getDay() == 0 && f.weeks[o].days[s].classname.push("datepickerSunday"), e.getDay() == 6 && f.weeks[o].days[s].classname.push("datepickerSaturday"), w = u.onRenderCell(r, e), y = e.valueOf(), u.date && (!n.isArray(u.date) || u.date.length > 0) && (w.selected || u.date == y || n.inArray(y, u.date) > -1 || u.mode == "range" && y >= u.date[0] && y <= u.date[1]) && (f.weeks[o].days[s].classname.push("datepickerSelected"), y == u.date[0] && g == e.getMonth() ? f.weeks[o].days[s].classname.push("datepickerFirstSelected") : y >= u.date[1] - 864e5 && g == e.getMonth() && f.weeks[o].days[s].classname.push("datepickerLastSelected")), w.disabled && f.weeks[o].days[s].classname.push("datepickerDisabled"), w.className && f.weeks[o].days[s].classname.push(w.className), f.weeks[o].days[s].classname = f.weeks[o].days[s].classname.join(" "), k++, e.addDays(1);
                            p = u.showPrices ? t(i.daysWithPrices.join(""), f) + p : t(i.days.join(""), f) + p;
                            f = {
                                data: u.locale.monthsShort,
                                className: "datepickerMonths"
                            };
                            p = t(i.months.join(""), f) + p;
                            c.append(p);
                            b.find(".datepickerToday").length ? b.find(".datepickerFirstView .datepickerGoPrev").hide() : b.find(".datepickerFirstView .datepickerGoPrev").show()
                        }
                    },
                    l = function(n) {
                        Date.prototype.tempDate || (Date.prototype.tempDate = null, Date.prototype.months = n.months, Date.prototype.monthsShort = n.monthsShort, Date.prototype.getMonthName = function(n) {
                            return this[n ? "months" : "monthsShort"][this.getMonth()]
                        }, Date.prototype.addDays = function(n) {
                            this.setDate(this.getDate() + n);
                            this.tempDate = this.getDate()
                        }, Date.prototype.addMonths = function(n) {
                            this.tempDate == null && (this.tempDate = this.getDate());
                            this.setDate(1);
                            this.setMonth(this.getMonth() + n);
                            this.setDate(Math.min(this.tempDate, this.getMaxDays()))
                        }, Date.prototype.addYears = function(n) {
                            this.tempDate == null && (this.tempDate = this.getDate());
                            this.setDate(1);
                            this.setFullYear(this.getFullYear() + n);
                            this.setDate(Math.min(this.tempDate, this.getMaxDays()))
                        }, Date.prototype.getMaxDays = function() {
                            for (var t = new Date(Date.parse(this)), n = 28, i = t.getMonth(), n = 28; t.getMonth() == i;) n++, t.setDate(n);
                            return n - 1
                        })
                    },
                    f = function(t) {
                        var i = n(t).data("datepicker"),
                            u = n("#" + i.id),
                            r;
                        i.extraHeight === !1 && (r = n(t).find("div"), i.extraHeight = r.get(0).offsetHeight + r.get(1).offsetHeight, i.extraWidth = r.get(2).offsetWidth + r.get(3).offsetWidth);
                        var f = u.find("table:first").get(0),
                            e = f.offsetWidth,
                            o = f.offsetHeight;
                        u.css({
                            width: e + i.extraWidth + "px",
                            height: o + i.extraHeight + "px"
                        }).find("div.datepickerContainer").css({
                            width: e + "px",
                            height: o + "px"
                        })
                    },
                    a = function() {
                        setTimeout(function() {
                            var u, e;
                            if (!n(this).hasClass("datepickerDisabled")) {
                                var o = n(this).children(),
                                    f = n(this).closest(".datepicker"),
                                    t = n.extend({}, f.data("datepicker")),
                                    s = [],
                                    h = n.isEmptyObject(t) ? 0 : t.date.length;
                                for (u = 0; u < h; u++) s[u] = t.date[u];
                                if (t.date = s, t.hoverFn && t.hoverFn instanceof Function && t.hoverFn(this), t.lastSel) {
                                    t.current.setDate(1);
                                    var i = new Date(t.current),
                                        c = o.parent(),
                                        l = c.parent().parent().parent(),
                                        a = n("table", f).index(l.get(0)) - 1,
                                        v = Math.floor(t.calendars / 2);
                                    i.addDays(i.getMaxDays() - 1);
                                    i.setHours(23, 59, 59, 0);
                                    i.addMonths(a - v);
                                    i.setDate(parseInt(o.text()));
                                    e = i.setHours(23, 59, 59, 0).valueOf();
                                    t.date[1] = e;
                                    r(f, t)
                                }
                            }
                        }.bind(this), 50)
                    },
                    v = function(t) {
                        var o, s;
                        if (n(t.target).is("span") && (t.target = t.target.parentNode), o = n(t.target), o.is("a")) {
                            if (t.target.blur(), o.hasClass("datepickerDisabled")) return !1;
                            var i = n(this).data("datepicker"),
                                h = o.parent(),
                                e = h.parent().parent().parent(),
                                l = n("table", this).index(e.get(0)) - 1,
                                f = new Date(i.current),
                                a = !1,
                                y = !1,
                                c = !1,
                                v = Math.floor(i.calendars / 2);
                            if (h.is("th")) o.hasClass("datepickerMonth") ? (f.addMonths(l - v), i.mode == "range" ? (i.date[0] = f.setHours(0, 0, 0, 0).valueOf(), f.addDays(f.getMaxDays() - 1), f.setHours(23, 59, 59, 0), i.date[1] = f.valueOf(), c = !0, a = !0, i.lastSel = !1) : i.calendars == 1 && (e.eq(0).hasClass("datepickerViewDays") ? (e.eq(0).toggleClass("datepickerViewDays datepickerViewMonths"), o.find("span").text(f.getFullYear())) : e.eq(0).hasClass("datepickerViewMonths") ? (e.eq(0).toggleClass("datepickerViewMonths datepickerViewYears"), o.find("span").text(f.getFullYear() - 6 + " - " + (f.getFullYear() + 5))) : e.eq(0).hasClass("datepickerViewYears") && (e.eq(0).toggleClass("datepickerViewYears datepickerViewDays"), o.find("span").text(f.getMonthName(!0) + ", " + f.getFullYear())))) : h.parent().parent().is("thead") && (e.eq(0).hasClass("datepickerViewDays") ? i.current.addMonths(o.hasClass("datepickerGoPrev") ? -1 : 1) : e.eq(0).hasClass("datepickerViewMonths") ? i.current.addYears(o.hasClass("datepickerGoPrev") ? -1 : 1) : e.eq(0).hasClass("datepickerViewYears") && i.current.addYears(o.hasClass("datepickerGoPrev") ? -12 : 12), c = !0);
                            else if (h.is("td") && !h.hasClass("datepickerDisabled")) {
                                if (e.eq(0).hasClass("datepickerViewMonths")) i.current.setMonth(e.find("tbody.datepickerMonths td").index(h)), i.current.setFullYear(parseInt(e.find("thead th a.datepickerMonth span").text(), 10)), i.current.addMonths(v - l), e.eq(0).toggleClass("datepickerViewMonths datepickerViewDays");
                                else if (e.eq(0).hasClass("datepickerViewYears")) i.current.setFullYear(parseInt(o.text(), 10)), e.eq(0).toggleClass("datepickerViewYears datepickerViewMonths");
                                else {
                                    s = parseInt(o.text(), 10);
                                    f.addMonths(l - v);
                                    h.hasClass("datepickerNotInMonth") && f.addMonths(s > 15 ? -1 : 1);
                                    f.setDate(s);
                                    switch (i.mode) {
                                        case "multiple":
                                            s = f.setHours(0, 0, 0, 0).valueOf();
                                            n.inArray(s, i.date) > -1 ? n.each(i.date, function(n, t) {
                                                if (t == s) return i.date.splice(n, 1), !1
                                            }) : i.date.push(s);
                                            break;
                                        case "range":
                                            i.lastSel || (i.date[0] = f.setHours(0, 0, 0, 0).valueOf(), i.firstClickedDate = i.date[0], o.closest("table").is(".datepickerLastView") && o.parent().parent().is(":nth-child(6), :nth-child(5), :nth-child(4)") && i.current.addMonths(1));
                                            s = f.setHours(23, 59, 59, 0).valueOf();
                                            s < i.firstClickedDate ? (i.firstClickedDate && (i.date[1] = i.firstClickedDate), i.date[0] = s) : (i.firstClickedDate && (i.date[0] = i.firstClickedDate), i.date[1] = s);
                                            i.lastSel = !i.lastSel;
                                            y = !i.lastSel;
                                            break;
                                        default:
                                            i.date = f.valueOf()
                                    }
                                    a = !0
                                }
                                c = !0
                            }
                            c && r(this);
                            a && (i.onValueChange.apply(this, u(i)), i.onChange.apply(this, u(i)));
                            y && i.onRangeChange.apply(this, u(i))
                        }
                        return !1
                    },
                    u = function(t) {
                        var i = null;
                        return t.mode == "single" ? t.date && (i = new Date(t.date)) : (i = [], n(t.date).each(function(n, t) {
                            i.push(new Date(t))
                        })), [i, t.el]
                    },
                    y = function() {
                        var n = document.compatMode == "CSS1Compat";
                        return {
                            l: window.pageXOffset || (n ? document.documentElement.scrollLeft : document.body.scrollLeft),
                            t: window.pageYOffset || (n ? document.documentElement.scrollTop : document.body.scrollTop),
                            w: window.innerWidth || (n ? document.documentElement.clientWidth : document.body.clientWidth),
                            h: window.innerHeight || (n ? document.documentElement.clientHeight : document.body.clientHeight)
                        }
                    },
                    p = function(n, t, i) {
                        if (n == t) return !0;
                        if (n.contains) return n.contains(t);
                        if (n.compareDocumentPosition) return !!(n.compareDocumentPosition(t) & 16);
                        for (var r = t.parentNode; r && r != i;) {
                            if (r == n) return !0;
                            r = r.parentNode
                        }
                        return !1
                    },
                    o = function(t) {
                        var o = n("#" + n(this).data("datepickerId")),
                            s, v;
                        if (!o.is(":visible")) {
                            var u = o.get(0),
                                i = o.data("datepicker"),
                                p = i.onBeforeShow.apply(this, [u]);
                            if (i.onBeforeShow.apply(this, [u]) == !1) return;
                            s = n(i.rangeInputs);
                            i.mode === "range" && s.length > 0 && (v = n(t.target), v.is(s.last()) ? (i.lastSel = !0, s.last().addClass("active"), s.first().removeClass("active")) : (s.last().removeClass("active"), s.first().addClass("active")));
                            r(u);
                            var l = i.appendTo === document.body ? n(this).offset() : n(this).position(),
                                a = y(),
                                h = l.top + (i.deltaPosition ? i.deltaPosition.top : 0),
                                c = l.left - (i.deltaPosition ? i.deltaPosition.left : 0),
                                w = n.css(u, "display");
                            o.css({
                                visibility: "hidden",
                                display: "block"
                            });
                            f(u);
                            switch (i.position) {
                                case "top":
                                    h -= u.offsetHeight;
                                    break;
                                case "left":
                                    c -= u.offsetWidth;
                                    break;
                                case "right":
                                    c += this.offsetWidth;
                                    break;
                                case "bottom":
                                    h += this.offsetHeight
                            }
                            h + u.offsetHeight > a.t + a.h && (h = l.top - u.offsetHeight);
                            h < a.t && !i.appendTo && (h = l.top + this.offsetHeight + u.offsetHeight);
                            c + u.offsetWidth > a.l + a.w && !i.appendTo && (c = l.left - u.offsetWidth);
                            c < a.l && !i.appendTo && (c = l.left + this.offsetWidth);
                            o.css({
                                visibility: "visible",
                                display: "block",
                                top: h + "px",
                                left: c + "px"
                            });
                            i.onAfterShow.apply(this, [o.get(0)]);
                            n(document).bind("mousedown", {
                                cal: o,
                                trigger: this
                            }, e)
                        }
                        return !1
                    },
                    e = function(t) {
                        t.target == t.data.trigger || p(t.data.cal.get(0), t.target, t.data.cal.get(0)) || t.data.cal.data("datepicker").onBeforeHide.apply(t.data.trigger, [t.data.cal.get(0)]) != !1 && (t.data.cal.hide(), t.data.cal.data("datepicker").onAfterHide.apply(t.data.trigger, [t.data.cal.get(0)]), n(document).unbind("mousedown", e))
                    },
                    s = function(t, i) {
                        if (t == "single" || i || (i = []), i && (!n.isArray(i) || i.length > 0))
                            if (t != "single")
                                if (n.isArray(i)) {
                                    for (var r = 0; r < i.length; r++) i[r] = new Date(i[r]).setHours(0, 0, 0, 0).valueOf();
                                    t == "range" && (i.length == 1 && i.push(new Date(i[0])), i[1] = new Date(i[1]).setHours(23, 59, 59, 0).valueOf())
                                } else i = [new Date(i).setHours(0, 0, 0, 0).valueOf()], t == "range" && i.push(new Date(i[0]).setHours(23, 59, 59, 0).valueOf());
                        else i = new Date(i).setHours(0, 0, 0, 0).valueOf();
                        return i
                    };
                return {
                    init: function(u) {
                        return u = n.extend({}, c, u || {}), l(u.locale), u.calendars = Math.max(1, parseInt(u.calendars, 10) || 1), u.mode = /single|multiple|range/.test(u.mode) ? u.mode : "single", this.each(function() {
                            var p, e, c, l, y;
                            if (!n(this).data("datepicker")) {
                                for (u.el = this, u.date = s(u.mode, u.date), u.current = u.current ? new Date(u.current) : new Date, u.current.setDate(1), u.current.setHours(0, 0, 0, 0), p = "datepicker_" + parseInt(Math.random() * 1e3), u.id = p, n(this).data("datepickerId", u.id), c = n(i.wrapper).attr("id", p).on("mouseup touchend", v).on("mouseover", "td.datepickerFuture", a).data("datepicker", u), u.className && c.addClass(u.className), l = "", y = 0; y < u.calendars; y++) e = u.starts, y > 0 && (l += i.space), l += t(i.head.join(""), {
                                    prev: u.prev,
                                    next: u.next,
                                    day1: u.locale.daysMin[e++ % 7],
                                    day2: u.locale.daysMin[e++ % 7],
                                    day3: u.locale.daysMin[e++ % 7],
                                    day4: u.locale.daysMin[e++ % 7],
                                    day5: u.locale.daysMin[e++ % 7],
                                    day6: u.locale.daysMin[e++ % 7],
                                    day7: u.locale.daysMin[e++ % 7]
                                });
                                if (c.find("tr:first").append(l).find("table").addClass(h[u.view]), r(c.get(0)), u.inline) c.appendTo(this).show().css("position", "relative"), f(c.get(0));
                                else {
                                    c.appendTo(u.appendTo);
                                    n(this).on(u.showOn, o)
                                }
                                n(".datepickerToday").length ? n(".datepickerFirstView .datepickerGoPrev").hide() : n(".datepickerFirstView .datepickerGoPrev").show()
                            }
                        })
                    },
                    showPicker: function() {
                        return this.each(function() {
                            if (n(this).data("datepickerId")) {
                                var t = n("#" + n(this).data("datepickerId")),
                                    i = t.data("datepicker");
                                i.inline || o.apply(this)
                            }
                        })
                    },
                    hidePicker: function() {
                        return this.each(function() {
                            if (n(this).data("datepickerId")) {
                                var t = n("#" + n(this).data("datepickerId")),
                                    i = t.data("datepicker");
                                i.inline || (n("#" + n(this).data("datepickerId")).hide(), n(document).unbind("mousedown", e));
                                i.onAfterHide.apply(n(this), t)
                            }
                        })
                    },
                    setDate: function(t, i) {
                        return this.each(function() {
                            if (n(this).data("datepickerId")) {
                                var e = n("#" + n(this).data("datepickerId")),
                                    f = e.data("datepicker");
                                f.date = s(f.mode, t);
                                i && (f.current = new Date(f.mode != "single" ? f.date[0] : f.date));
                                r(e.get(0));
                                f.onValueChange.apply(this, u(f))
                            }
                        })
                    },
                    getDate: function() {
                        if (this.size() > 0) return u(n("#" + n(this).data("datepickerId")).data("datepicker"))
                    },
                    clear: function() {
                        return this.each(function() {
                            if (n(this).data("datepickerId")) {
                                var i = n("#" + n(this).data("datepickerId")),
                                    t = i.data("datepicker");
                                t.date = t.mode == "single" ? null : [];
                                r(i.get(0));
                                t.lastSel = !1
                            }
                        })
                    },
                    fixLayout: function() {
                        return this.each(function() {
                            if (n(this).data("datepickerId")) {
                                var t = n("#" + n(this).data("datepickerId")),
                                    i = t.data("datepicker");
                                i.inline && f(t.get(0))
                            }
                        })
                    }
                }
            }();
        n.fn.extend({
            DatePicker: i.init,
            DatePickerHide: i.hidePicker,
            DatePickerShow: i.showPicker,
            DatePickerSetDate: i.setDate,
            DatePickerGetDate: i.getDate,
            DatePickerClear: i.clear,
            DatePickerLayout: i.fixLayout
        });
        t = function t(n, i) {
            var u = /\W/.test(n) ? new Function("obj", "var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('" + n.replace(/[\r\t\n]/g, " ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g, "$1\r").replace(/\t=(.*?)%>/g, "',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'") + "');}return p.join('');") : r[n] = r[n] || t(document.getElementById(n).innerHTML);
            return i ? u(i) : u
        }
    }(jQuery);
app.tracking.desktop.global = function() {
    return function() {
        app.tracking.manager.initByEvent({
            eventType: "click",
            data: {
                category: "search_header_search"
            },
            elements: [{
                selector: "#headerSearchBar .showFilters:not(.active)",
                data: {
                    action: "close_filter"
                }
            }, {
                selector: "#headerSearchBar .showFilters.active",
                data: {
                    action: "open_filter"
                }
            }, {
                selector: "#searchSubMenu .moreFilters .item:not(.active)",
                data: {
                    action: "close_filter"
                }
            }, {
                selector: "#searchSubMenu .moreFilters .item.active",
                data: {
                    action: "open_filter"
                }
            }]
        });
        app.tracking.manager.initByEvent({
            eventType: "click",
            data: {
                category: "header_contact"
            },
            elements: [{
                selector: "#contactDropDownMenu #xContact",
                data: {
                    action: "close",
                    label: '"x"'
                }
            }, {
                selector: "#headerOverlay.contact",
                data: {
                    action: "close",
                    label: "overlay"
                }
            }, {
                selector: "#headerMenu .contact:not(.open)",
                data: {
                    action: "close",
                    label: "menu_button"
                }
            }, {
                selector: "#headerMenu .contact.open",
                data: {
                    action: "open"
                }
            }, {
                selector: "#contactDropDownMenu .headerContactBox a",
                data: {
                    action: "general_email_click"
                }
            }, {
                selector: "#contactDropDownMenu .headerContactReason label",
                data: {
                    action: "radio_button",
                    label: function(n) {
                        return $(n.target).text().trim()
                    }
                }
            }]
        });
        app.tracking.manager.initByEvent({
            eventType: "click",
            data: {
                category: "header_favourites_none"
            },
            elements: [{
                selector: ".link:not(.open) #favoriteToggle",
                data: {
                    action: "close",
                    label: "menu_button"
                }
            }, {
                selector: "#headerOverlay.favorite",
                data: {
                    action: "close",
                    label: "overlay"
                }
            }, {
                selector: ".link.open #favoriteToggle",
                data: {
                    action: "open"
                }
            }]
        });
        app.tracking.manager.initByEvent({
            eventType: "click",
            data: {
                category: "header_vacation_ideas"
            },
            elements: [{
                selector: "#vacationIdeaWrapper #xIdea",
                data: {
                    action: "close",
                    label: '"x"'
                }
            }, {
                selector: "#headerOverlay.idea",
                data: {
                    action: "close",
                    label: "overlay"
                }
            }, {
                selector: ".link:not(.open) #ideaToggle",
                data: {
                    action: "close",
                    label: "menu_button"
                }
            }, {
                selector: ".link.open #ideaToggle",
                data: {
                    action: "open"
                }
            }]
        })
    }
}();
app.tracking.desktop.login = function() {
    return function() {
        app.tracking.manager.init({
            data: {
                category: "form_login"
            },
            byEvents: [{
                eventType: "change",
                data: {
                    label: "input"
                },
                elements: [{
                    selector: "#loginEmail",
                    data: {
                        action: "email"
                    }
                }, {
                    selector: "#loginPassword",
                    data: {
                        action: "password",
                        label: "input"
                    }
                }]
            }, {
                eventType: "click",
                elements: [{
                    selector: "#login",
                    data: {
                        action: "open"
                    }
                }, {
                    selector: "#sideLogin",
                    data: {
                        action: "open"
                    }
                }, {
                    selector: "#membershipFormWrapper.loginView .loginClose",
                    data: {
                        action: "close"
                    }
                }]
            }],
            byElements: [{
                selector: "#loginView",
                events: [{
                    eventType: "parsley:form:validated",
                    data: app.tracking.manager.helpers.parsleyValidationData()
                }]
            }]
        });
        app.tracking.manager.init({
            data: {
                category: "form_login_forgot_pass"
            },
            byEvents: [{
                eventType: "change",
                data: {
                    label: "input"
                },
                elements: [{
                    selector: "#forgotPasswordEmail",
                    data: {
                        action: "email"
                    }
                }]
            }, {
                eventType: "click",
                elements: [{
                    selector: "#forgotPassword",
                    data: {
                        action: "open"
                    }
                }, {
                    selector: "#membershipFormWrapper.forgotPasswordView .loginClose",
                    data: {
                        action: "close"
                    }
                }]
            }],
            byElements: [{
                selector: "#forgotPasswordView",
                events: [{
                    eventType: "parsley:form:validated",
                    data: app.tracking.manager.helpers.parsleyValidationData()
                }]
            }]
        });
        app.tracking.manager.init({
            data: {
                category: "form_login_sign_up"
            },
            byEvents: [{
                eventType: "change",
                data: {
                    label: "input"
                },
                elements: [{
                    selector: "#signupFirstName",
                    data: {
                        action: "first_name"
                    }
                }, {
                    selector: "#signupLastName",
                    data: {
                        action: "last_name"
                    }
                }, {
                    selector: "#signupEmail",
                    data: {
                        action: "email"
                    }
                }, {
                    selector: "#signupPassword",
                    data: {
                        action: "password"
                    }
                }, {
                    selector: "#specialOfferOptin",
                    data: {
                        action: "email_signup",
                        label: function(n) {
                            return $(n.target).is(":checked") === !0 ? "check" : "uncheck"
                        }
                    }
                }]
            }, {
                eventType: "click",
                elements: [{
                    selector: "#signUp",
                    data: {
                        action: "open"
                    }
                }, {
                    selector: "#sideSignup",
                    data: {
                        action: "open"
                    }
                }, {
                    selector: "#membershipFormWrapper.signupView .loginClose",
                    data: {
                        action: "close"
                    }
                }, {
                    selector: "#facebookAuthoritySignupBtn",
                    data: {
                        action: "sign_in_facebook"
                    }
                }]
            }, {
                eventType: "mouseenter",
                elements: [{
                    selector: "#signupView .aboutPassword .passwordStrength",
                    data: {
                        action: "about_strength_hover"
                    }
                }]
            }],
            byElements: [{
                selector: "#signupView",
                events: [{
                    eventType: "parsley:form:validated",
                    data: app.tracking.manager.helpers.parsleyValidationData()
                }]
            }]
        });
        app.tracking.manager.init({
            data: {
                category: "login_profile"
            },
            byEvents: [{
                eventType: "click",
                elements: [{
                    selector: "#sideLogout",
                    data: {
                        action: "log_out"
                    }
                }, {
                    selector: "#logout",
                    data: {
                        action: "log_out"
                    }
                }, {
                    selector: "#profileView .title .switchView",
                    data: {
                        action: "edit"
                    }
                }, {
                    selector: "#profileEdit .title .switchView",
                    data: {
                        action: "cancel"
                    }
                }, {
                    selector: "#updateProfileBtn",
                    data: {
                        action: "update_save"
                    }
                }, {
                    selector: "#confirmLogoutBtn",
                    data: {
                        action: "log_out_confirm"
                    }
                }, {
                    selector: "#logoutDialog #cancel",
                    data: {
                        action: "log_out_cancel",
                        label: "text"
                    }
                }, {
                    selector: "#logoutDialog .close-modal",
                    data: {
                        action: "log_out_cancel",
                        label: '"x"'
                    }
                }]
            }]
        })
    }
}();
app.tracking.desktop.home = function() {
    return function() {
        app.tracking.manager.initByEvent({
            eventType: "click",
            data: {
                category: "homepage_collection_carousel",
                label: function() {
                    return parseInt($("#collectionsSlider .swiper-slide-active").attr("data-index")) + 1
                }
            },
            elements: [{
                selector: "#arrow-left",
                data: {
                    action: "backward"
                }
            }, {
                selector: "#arrow-right",
                data: {
                    action: "forward"
                }
            }, {
                selector: ".collectionTextWrapper a",
                data: {
                    action: "click",
                    label: function(n) {
                        var t = app.tracking.manager.helpers.findParentByClass(n.target, "swiper-slide", "#collectionsContainer");
                        return t.attr("id")
                    }
                }
            }]
        });
        app.tracking.manager.initByEvent({
            eventType: "click",
            data: {
                category: "homepage_news_carousel",
                label: function() {
                    return parseInt($("#whoWeAreSlider .swiper-slide-active").attr("data-index")) + 1
                }
            },
            elements: [{
                selector: "#whoWeAreLeft",
                data: {
                    action: "backward"
                }
            }, {
                selector: "#whoWeAreRight",
                data: {
                    action: "forward"
                }
            }, {
                selector: "#whoWeArePagination .swiper-pagination-switch",
                data: {
                    action: "radio_button"
                }
            }, {
                selector: "#whoWeAreSlider .whoTextWrapper a",
                data: {
                    action: "click",
                    label: function(n) {
                        return $(n.target).attr("href")
                    }
                }
            }]
        });
        app.tracking.manager.initByEvent({
            eventType: "click",
            data: {
                category: "homepage_press",
                label: function() {
                    return parseInt($("#quoteSlider .swiper-slide-active").attr("data-index")) + 1
                }
            },
            elements: [{
                selector: "#quoteLeft",
                data: {
                    action: "backward"
                }
            }, {
                selector: "#quoteRight",
                data: {
                    action: "forward"
                }
            }, {
                selector: "#quotePagination .swiper-pagination-switch",
                data: {
                    action: "radio_button"
                }
            }, {
                selector: "#quoteSlider .quoteContent a",
                data: {
                    action: "click",
                    label: function(n) {
                        return $(n.target).attr("href")
                    }
                }
            }]
        });
        app.tracking.manager.init({
            data: {
                category: "form_email_signup_home_bottom"
            },
            byEvents: [{
                eventType: "change",
                data: {
                    label: "input"
                },
                elements: [{
                    selector: "#newsLetterName",
                    data: {
                        action: "email"
                    }
                }, {
                    selector: "#newsLetterEmail",
                    data: {
                        action: "first_name"
                    }
                }]
            }],
            byElements: [{
                selector: "#newsletterForm",
                events: [{
                    eventType: "parsley:form:validated",
                    data: app.tracking.manager.helpers.parsleyValidationData()
                }]
            }]
        })
    }
}();
app.tracking.desktop.villa = function() {
    return function() {
        app.tracking.manager.init({
            data: {
                action: "impression"
            },
            byElements: [{
                selector: "window",
                events: [{
                    eventType: "scroll",
                    validate: function() {
                        var n = $(".charcoalRow"),
                            t = app.tracking.manager.helpers.isInViewport(n);
                        if (!t || n.hasClass("isInViewport") || n.hasClass("alreadyTracked")) t || n.removeClass("isInViewport");
                        else return n.addClass("isInViewport"), n.addClass("alreadyTracked"), !0
                    },
                    data: {
                        category: "villa_rates"
                    }
                }]
            }, {
                selector: "window",
                events: [{
                    eventType: "scroll",
                    validate: function() {
                        var n = $(".amenitiesRow"),
                            t = app.tracking.manager.helpers.isInViewport(n);
                        if (!t || n.hasClass("isInViewport") || n.hasClass("alreadyTracked")) t || n.removeClass("isInViewport");
                        else return n.addClass("isInViewport"), n.addClass("alreadyTracked"), !0
                    },
                    data: {
                        category: "villa_amenities"
                    }
                }]
            }, {
                selector: "window",
                events: [{
                    eventType: "scroll",
                    validate: function() {
                        var n = $("#detailsRow"),
                            t = app.tracking.manager.helpers.isInViewport(n);
                        if (!t || n.hasClass("isInViewport") || n.hasClass("alreadyTracked")) t || n.removeClass("isInViewport");
                        else return n.addClass("isInViewport"), n.addClass("alreadyTracked"), !0
                    },
                    data: {
                        category: "villa_details"
                    }
                }]
            }, {
                selector: "window",
                events: [{
                    eventType: "scroll",
                    validate: function() {
                        var n = $("#map"),
                            t = app.tracking.manager.helpers.isInViewport(n);
                        if (!t || n.hasClass("isInViewport") || n.hasClass("alreadyTracked")) t || n.removeClass("isInViewport");
                        else return n.addClass("isInViewport"), n.addClass("alreadyTracked"), !0
                    },
                    data: {
                        category: "villa_map"
                    }
                }]
            }, {
                selector: "window",
                events: [{
                    eventType: "scroll",
                    validate: function() {
                        var n = $("#reviewsRow"),
                            t;
                        if (!n || n.length === 0) return !1;
                        if (t = app.tracking.manager.helpers.isInViewport(n), !t || n.hasClass("isInViewport") || n.hasClass("alreadyTracked")) t || n.removeClass("isInViewport");
                        else return n.addClass("isInViewport"), n.addClass("alreadyTracked"), !0
                    },
                    data: {
                        category: "villa_reviews"
                    }
                }]
            }, {
                selector: "window",
                events: [{
                    eventType: "scroll",
                    validate: function() {
                        var n = $("#contactUsForm"),
                            t = app.tracking.manager.helpers.isInViewport(n);
                        if (!t || n.hasClass("isInViewport") || n.hasClass("alreadyTracked")) t || n.removeClass("isInViewport");
                        else return n.addClass("isInViewport"), n.addClass("alreadyTracked"), !0
                    },
                    data: {
                        category: "villa_contact_form"
                    }
                }]
            }, {
                selector: "window",
                events: [{
                    eventType: "scroll",
                    validate: function() {
                        var n = $("#contactBranding"),
                            t = app.tracking.manager.helpers.isInViewport(n);
                        if (!t || n.hasClass("isInViewport") || n.hasClass("alreadyTracked")) t || n.removeClass("isInViewport");
                        else return n.addClass("isInViewport"), n.addClass("alreadyTracked"), !0
                    },
                    data: {
                        category: "villa_brand_promise"
                    }
                }]
            }, {
                selector: "window",
                events: [{
                    eventType: "scroll",
                    validate: function() {
                        var n = $("footer"),
                            t = app.tracking.manager.helpers.isInViewport(n);
                        if (!t || n.hasClass("isInViewport") || n.hasClass("alreadyTracked")) t || n.removeClass("isInViewport");
                        else return n.addClass("isInViewport"), n.addClass("alreadyTracked"), !0
                    },
                    data: {
                        category: "villa_footer"
                    }
                }]
            }, {
                selector: "window",
                events: [{
                    eventType: "scroll",
                    validate: function() {
                        var n = $("#newsletterFormWrapper"),
                            t = app.tracking.manager.helpers.isInViewport(n);
                        if (!t || n.hasClass("isInViewport") || n.hasClass("alreadyTracked")) t || n.removeClass("isInViewport");
                        else return n.addClass("isInViewport"), n.addClass("alreadyTracked"), !0
                    },
                    data: {
                        category: "villa_email_signup"
                    }
                }]
            }]
        });
        app.tracking.manager.init({
            data: {
                category: "villa_recommendations_carousel"
            },
            byEvents: [{
                eventType: "click",
                data: {
                    label: function() {
                        try {
                            var n = $("#searchSuggestions .slick-active:first").find(".suggestionBoxCount").html().split("/");
                            return n[0] + ";" + n[1]
                        } catch (e) {}
                    }
                },
                elements: [{
                    selector: "#searchSuggestions .slick-prev",
                    data: {
                        action: "backward"
                    }
                }, {
                    selector: "#searchSuggestions .slick-next",
                    data: {
                        action: "forward"
                    }
                }, {
                    selector: "#searchSuggestions .suggestionBoxItem a.suggestionBoxLink",
                    data: {
                        action: "click",
                        label: function(n) {
                            var i = $(n.target).attr("data-id"),
                                r = app.tracking.manager.helpers.findParentByClass(n.target, "slick-slide", "#searchSuggestions"),
                                t = r.find(".suggestionBoxCount").html().split("/");
                            return t[0] + ":" + t[1] + "|" + i
                        }
                    }
                }]
            }],
            byElements: [{
                selector: "window",
                events: [{
                    eventType: "scroll",
                    validate: function() {
                        var n = $("#searchSuggestions"),
                            t = app.tracking.manager.helpers.isInViewport(n);
                        if (!t || n.hasClass("isInViewport") || n.hasClass("alreadyTracked")) t || n.removeClass("isInViewport");
                        else return n.addClass("isInViewport"), n.addClass("alreadyTracked"), !0
                    },
                    data: {
                        action: "impression"
                    }
                }]
            }]
        });
        app.tracking.manager.initByElement({
            selector: "#reviewsModule .showingFilter .dropdownWrapper",
            data: {
                category: "villa_reviews_filter"
            },
            events: [{
                eventType: "click",
                data: {
                    action: function(n) {
                        return $(n.eventArg.target).hasClass("universalDropdownItem") ? "select" : "focus"
                    },
                    label: function(n) {
                        return $(n.eventArg.target).hasClass("universalDropdownItem") ? $(n.target).find("option:selected").text() : undefined
                    }
                }
            }, {
                eventType: "blur",
                validate: function(n) {
                    return !$(n.target).hasClass("active")
                },
                data: {
                    action: "blur"
                }
            }]
        });
        app.tracking.manager.initByElement({
            selector: "#reviewsModule .sortFilter .dropdownWrapper",
            data: {
                category: "villa_reviews_sort"
            },
            events: [{
                eventType: "click",
                data: {
                    action: function(n) {
                        return $(n.eventArg.target).hasClass("universalDropdownItem") ? "select" : "focus"
                    },
                    label: function(n) {
                        return $(n.eventArg.target).hasClass("universalDropdownItem") ? $(n.target).find("option:selected").text() : undefined
                    }
                }
            }, {
                eventType: "blur",
                validate: function(n) {
                    return !$(n.target).hasClass("active")
                },
                data: {
                    action: "blur"
                }
            }]
        });
        app.tracking.manager.init({
            data: {
                category: "villa_share_email"
            },
            byEvents: [{
                eventType: "change",
                data: {
                    label: "input"
                },
                elements: [{
                    selector: "#emailShareFriendsEmail",
                    data: {
                        action: "to_email"
                    }
                }, {
                    selector: "#emailShareName",
                    data: {
                        action: "from_name"
                    }
                }, {
                    selector: "#emailShareMessage",
                    data: {
                        action: "message"
                    }
                }, {
                    selector: "#emailShareEmail",
                    data: {
                        action: "from_email"
                    }
                }, {
                    selector: "#emailShareCopy",
                    data: {
                        action: "send_yourself",
                        label: function(n) {
                            return $(n.target).is(":checked") ? "activate" : "deactivate"
                        }
                    }
                }]
            }, {
                eventType: "click",
                elements: [{
                    selector: "#socialMediaButtons .share.email",
                    data: {
                        action: "open"
                    }
                }, {
                    selector: ".shareEmailRight .close-modal",
                    data: {
                        action: "close"
                    }
                }]
            }],
            byElements: [{
                selector: "#shareEmailForm",
                events: [{
                    eventType: "parsley:form:validated",
                    data: app.tracking.manager.helpers.parsleyValidationData()
                }]
            }]
        });
        app.emailShare.onClose(function() {
            app.tracking.manager.pushEvent("villa_share_email", "close", '"x" or overlay')
        })
    }
}()